# Comparing `tmp/dara_components-1.9.1-py3-none-any.whl.zip` & `tmp/dara_components-1.9.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,19 +1,19 @@
-Zip file size: 3081753 bytes, number of entries: 86
+Zip file size: 3082822 bytes, number of entries: 86
 -rw-r--r--  2.0 unx      808 b- defN 80-Jan-01 00:00 dara/components/__init__.py
 -rw-r--r--  2.0 unx     3866 b- defN 80-Jan-01 00:00 dara/components/common/__init__.py
 -rw-r--r--  2.0 unx     9487 b- defN 80-Jan-01 00:00 dara/components/common/accordion.py
 -rw-r--r--  2.0 unx     2869 b- defN 80-Jan-01 00:00 dara/components/common/anchor.py
 -rw-r--r--  2.0 unx     4707 b- defN 80-Jan-01 00:00 dara/components/common/base_component.py
 -rw-r--r--  2.0 unx     1433 b- defN 80-Jan-01 00:00 dara/components/common/bullet_list.py
 -rw-r--r--  2.0 unx     4549 b- defN 80-Jan-01 00:00 dara/components/common/button.py
 -rw-r--r--  2.0 unx     3600 b- defN 80-Jan-01 00:00 dara/components/common/button_bar.py
 -rw-r--r--  2.0 unx     1999 b- defN 80-Jan-01 00:00 dara/components/common/card.py
 -rw-r--r--  2.0 unx     5369 b- defN 80-Jan-01 00:00 dara/components/common/carousel.py
--rw-r--r--  2.0 unx     4156 b- defN 80-Jan-01 00:00 dara/components/common/checkbox_group.py
+-rw-r--r--  2.0 unx     4462 b- defN 80-Jan-01 00:00 dara/components/common/checkbox_group.py
 -rw-r--r--  2.0 unx     2266 b- defN 80-Jan-01 00:00 dara/components/common/code.py
 -rw-r--r--  2.0 unx     2750 b- defN 80-Jan-01 00:00 dara/components/common/component_select_list.py
 -rw-r--r--  2.0 unx     3613 b- defN 80-Jan-01 00:00 dara/components/common/datepicker.py
 -rw-r--r--  2.0 unx     3981 b- defN 80-Jan-01 00:00 dara/components/common/dropzone.py
 -rw-r--r--  2.0 unx     3870 b- defN 80-Jan-01 00:00 dara/components/common/form.py
 -rw-r--r--  2.0 unx     1878 b- defN 80-Jan-01 00:00 dara/components/common/form_page.py
 -rw-r--r--  2.0 unx    10029 b- defN 80-Jan-01 00:00 dara/components/common/grid.py
@@ -25,15 +25,15 @@
 -rw-r--r--  2.0 unx     2012 b- defN 80-Jan-01 00:00 dara/components/common/input.py
 -rw-r--r--  2.0 unx     2362 b- defN 80-Jan-01 00:00 dara/components/common/label.py
 -rw-r--r--  2.0 unx     1706 b- defN 80-Jan-01 00:00 dara/components/common/markdown.py
 -rw-r--r--  2.0 unx     1526 b- defN 80-Jan-01 00:00 dara/components/common/modal.py
 -rw-r--r--  2.0 unx     2220 b- defN 80-Jan-01 00:00 dara/components/common/overlay.py
 -rw-r--r--  2.0 unx     2304 b- defN 80-Jan-01 00:00 dara/components/common/paragraph.py
 -rw-r--r--  2.0 unx     1909 b- defN 80-Jan-01 00:00 dara/components/common/progress_bar.py
--rw-r--r--  2.0 unx     3284 b- defN 80-Jan-01 00:00 dara/components/common/radio_group.py
+-rw-r--r--  2.0 unx     3278 b- defN 80-Jan-01 00:00 dara/components/common/radio_group.py
 -rw-r--r--  2.0 unx     6552 b- defN 80-Jan-01 00:00 dara/components/common/select.py
 -rw-r--r--  2.0 unx     4613 b- defN 80-Jan-01 00:00 dara/components/common/slider.py
 -rw-r--r--  2.0 unx     2690 b- defN 80-Jan-01 00:00 dara/components/common/spacer.py
 -rw-r--r--  2.0 unx     5290 b- defN 80-Jan-01 00:00 dara/components/common/stack.py
 -rw-r--r--  2.0 unx     1569 b- defN 80-Jan-01 00:00 dara/components/common/switch.py
 -rw-r--r--  2.0 unx     2326 b- defN 80-Jan-01 00:00 dara/components/common/tabbed_card.py
 -rw-r--r--  2.0 unx    24472 b- defN 80-Jan-01 00:00 dara/components/common/table.py
@@ -41,15 +41,15 @@
 -rw-r--r--  2.0 unx     2081 b- defN 80-Jan-01 00:00 dara/components/common/textarea.py
 -rw-r--r--  2.0 unx     1815 b- defN 80-Jan-01 00:00 dara/components/common/time_utils.py
 -rw-r--r--  2.0 unx     3270 b- defN 80-Jan-01 00:00 dara/components/common/tooltip.py
 -rw-r--r--  2.0 unx     5492 b- defN 80-Jan-01 00:00 dara/components/common/utils.py
 -rw-r--r--  2.0 unx      725 b- defN 80-Jan-01 00:00 dara/components/graphs/__init__.py
 -rw-r--r--  2.0 unx     1007 b- defN 80-Jan-01 00:00 dara/components/graphs/components/__init__.py
 -rw-r--r--  2.0 unx     3968 b- defN 80-Jan-01 00:00 dara/components/graphs/components/base_graph_component.py
--rw-r--r--  2.0 unx    12224 b- defN 80-Jan-01 00:00 dara/components/graphs/components/causal_graph_viewer.py
+-rw-r--r--  2.0 unx    12532 b- defN 80-Jan-01 00:00 dara/components/graphs/components/causal_graph_viewer.py
 -rw-r--r--  2.0 unx     6120 b- defN 80-Jan-01 00:00 dara/components/graphs/components/edge_encoder.py
 -rw-r--r--  2.0 unx     4299 b- defN 80-Jan-01 00:00 dara/components/graphs/components/node_hierarchy_builder.py
 -rw-r--r--  2.0 unx     5209 b- defN 80-Jan-01 00:00 dara/components/graphs/definitions.py
 -rw-r--r--  2.0 unx    12493 b- defN 80-Jan-01 00:00 dara/components/graphs/graph_layout.py
 -rw-r--r--  2.0 unx      805 b- defN 80-Jan-01 00:00 dara/components/plotting/__init__.py
 -rw-r--r--  2.0 unx      889 b- defN 80-Jan-01 00:00 dara/components/plotting/bokeh/__init__.py
 -rw-r--r--  2.0 unx     3140 b- defN 80-Jan-01 00:00 dara/components/plotting/bokeh/bokeh.py
@@ -75,14 +75,14 @@
 -rw-r--r--  2.0 unx     4120 b- defN 80-Jan-01 00:00 dara/components/smart/data_slicer/data_slicer_modal.py
 -rw-r--r--  2.0 unx     1616 b- defN 80-Jan-01 00:00 dara/components/smart/data_slicer/extension/data_slicer_filter.py
 -rw-r--r--  2.0 unx     1345 b- defN 80-Jan-01 00:00 dara/components/smart/data_slicer/extension/filter_status_button.py
 -rw-r--r--  2.0 unx     8656 b- defN 80-Jan-01 00:00 dara/components/smart/data_slicer/utils/core.py
 -rw-r--r--  2.0 unx     1722 b- defN 80-Jan-01 00:00 dara/components/smart/data_slicer/utils/data_preview.py
 -rw-r--r--  2.0 unx     3313 b- defN 80-Jan-01 00:00 dara/components/smart/data_slicer/utils/plotting.py
 -rw-r--r--  2.0 unx     2877 b- defN 80-Jan-01 00:00 dara/components/smart/hierarchy.py
--rw-r--r--  2.0 unx 17002703 b- defN 80-Jan-01 00:00 dara/components/umd/dara.components.umd.js
+-rw-r--r--  2.0 unx 17007379 b- defN 80-Jan-01 00:00 dara/components/umd/dara.components.umd.js
 -rw-r--r--  2.0 unx    23576 b- defN 80-Jan-01 00:00 dara/components/umd/style.css
--rw-r--r--  2.0 unx    10944 b- defN 80-Jan-01 00:00 dara_components-1.9.1.dist-info/LICENSE
--rw-r--r--  2.0 unx     2710 b- defN 80-Jan-01 00:00 dara_components-1.9.1.dist-info/METADATA
--rw-r--r--  2.0 unx       88 b- defN 80-Jan-01 00:00 dara_components-1.9.1.dist-info/WHEEL
-?rw-r--r--  2.0 unx     8152 b- defN 16-Jan-01 00:00 dara_components-1.9.1.dist-info/RECORD
-86 files, 17332365 bytes uncompressed, 3068579 bytes compressed:  82.3%
+-rw-r--r--  2.0 unx    10944 b- defN 80-Jan-01 00:00 dara_components-1.9.2.dist-info/LICENSE
+-rw-r--r--  2.0 unx     2710 b- defN 80-Jan-01 00:00 dara_components-1.9.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       88 b- defN 80-Jan-01 00:00 dara_components-1.9.2.dist-info/WHEEL
+?rw-r--r--  2.0 unx     8152 b- defN 16-Jan-01 00:00 dara_components-1.9.2.dist-info/RECORD
+86 files, 17337649 bytes uncompressed, 3069648 bytes compressed:  82.3%
```

## zipnote {}

```diff
@@ -240,20 +240,20 @@
 
 Filename: dara/components/umd/dara.components.umd.js
 Comment: 
 
 Filename: dara/components/umd/style.css
 Comment: 
 
-Filename: dara_components-1.9.1.dist-info/LICENSE
+Filename: dara_components-1.9.2.dist-info/LICENSE
 Comment: 
 
-Filename: dara_components-1.9.1.dist-info/METADATA
+Filename: dara_components-1.9.2.dist-info/METADATA
 Comment: 
 
-Filename: dara_components-1.9.1.dist-info/WHEEL
+Filename: dara_components-1.9.2.dist-info/WHEEL
 Comment: 
 
-Filename: dara_components-1.9.1.dist-info/RECORD
+Filename: dara_components-1.9.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## dara/components/common/checkbox_group.py

```diff
@@ -42,14 +42,26 @@
 
     CheckboxGroup(
         items=['first', 'second', 'third', 'fourth', 'fifth'],
         value=Variable(['second', 'fifth']),
     )
     ```
 
+    CheckboxGroup with items with custom labels and values:
+
+    ```python
+    from dara.core import Variable
+    from dara.components.common import CheckboxGroup, Item
+
+    CheckboxGroup(
+        items=[Item(label='first',value=1), Item(label='second',value=2)],
+        value=Variable(1),
+    )
+    ```
+
     CheckboxGroup component with at most two values selectable at a time:
 
     ```python
     from dara.core import Variable
     from dara.components.common import CheckboxGroup
 
     var_to_update = Variable()
```

## dara/components/common/radio_group.py

```diff
@@ -44,15 +44,15 @@
         items=['first', 'second'],
         value=Variable('first'),
     )
 
     # or as an `Item` list
     RadioGroup(
         items=[Item(label='first',value=1), Item(label='second',value=2)],
-        value=Variable('first'),
+        value=Variable(1),
     )
     ```
 
     This component can also be displayed horizontally by setting the `direction` param:
 
     ```python
     from dara.components.common import RadioGroup, Item
```

## dara/components/graphs/components/causal_graph_viewer.py

```diff
@@ -224,14 +224,18 @@
         If left blank, no nodes will be treated as latent.
     :param causal_graph: The CausalGraph data to render, or a Skeleton representation of the graph
     :param default_legends: A dict containing the default legends that should appear on the graph depending on the EditorMode selected.
     :param disable_edge_add: Optional flag for disabling edge addition
     :param disable_latent_node_add: Optional flag for disabling latent node addition
     :param disable_node_removal: Optional flag for disabling node removal
     :param editable: Optional flag to enable editing the graph by showing an editor frame around the graph
+    :param editor_mode: Optional editor mode to use. The following options are available:
+        EditorMode.DEFAULT - Default DAG viewer, assumes all edges are directed.
+        EditorMode.PAG - PAG viewer, displays all edge types.
+        EditorMode.RESOLVER - Resolver mode, allows users to accept edges.
     :param graph_layout: Optional layout configuration object
     :param non_removable_nodes: Optional list of node names that cannot be removed
     :param on_click_edge: Event handler for clicking on an edge
     :param on_click_node: Event handler for clicking on a node
     :param on_update: Optional action that will be executed whenever the graph is updated;
         by default will also update the `causal_graph` provided, if it's a plain Variable instance
     :param require_focus_to_zoom: Optional flag to require focus to be on the graph for the zoom to be active. Defaults to True.
```

## dara/components/umd/dara.components.umd.js

### js-beautify {}

```diff
@@ -201,19 +201,19 @@
      * react-jsx-runtime.production.min.js
      *
      * Copyright (c) Facebook, Inc. and its affiliates.
      *
      * This source code is licensed under the MIT license found in the
      * LICENSE file in the root directory of this source tree.
      */
-    var f$3 = React__default.default,
+    var f$2 = React__default.default,
         k$3 = Symbol.for("react.element"),
         l$3 = Symbol.for("react.fragment"),
-        m$3 = Object.prototype.hasOwnProperty,
-        n$3 = f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
+        m$4 = Object.prototype.hasOwnProperty,
+        n$3 = f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
         p$4 = {
             key: true,
             ref: true,
             __self: true,
             __source: true
         };
 
@@ -221,15 +221,15 @@
         var b2, d2 = {},
             e3 = null,
             h2 = null;
         void 0 !== g2 && (e3 = "" + g2);
         void 0 !== a2.key && (e3 = "" + a2.key);
         void 0 !== a2.ref && (h2 = a2.ref);
         for (b2 in a2)
-            m$3.call(a2, b2) && !p$4.hasOwnProperty(b2) && (d2[b2] = a2[b2]);
+            m$4.call(a2, b2) && !p$4.hasOwnProperty(b2) && (d2[b2] = a2[b2]);
         if (c2 && c2.defaultProps)
             for (b2 in a2 = c2.defaultProps, a2)
                 void 0 === d2[b2] && (d2[b2] = a2[b2]);
         return {
             $$typeof: k$3,
             type: c2,
             key: e3,
@@ -1474,15 +1474,15 @@
 
     function onChange(cb) {
         _onChangeCb.push(cb);
         return function() {
             _onChangeCb.splice(_onChangeCb.indexOf(cb), 1);
         };
     }
-    var d$2 = UNITS_IN_GRID;
+    var d$3 = UNITS_IN_GRID;
     var meaninglessTransform = {
         size: 16,
         x: 0,
         y: 0,
         rotate: 0,
         flipX: false,
         flipY: false
@@ -1585,21 +1585,21 @@
             width = _ref2$width === void 0 ? UNITS_IN_GRID : _ref2$width,
             _ref2$height = _ref2.height,
             height = _ref2$height === void 0 ? UNITS_IN_GRID : _ref2$height,
             _ref2$startCentered = _ref2.startCentered,
             startCentered = _ref2$startCentered === void 0 ? false : _ref2$startCentered;
         var val = "";
         if (startCentered && IS_IE) {
-            val += "translate(".concat(transform.x / d$2 - width / 2, "em, ").concat(transform.y / d$2 - height / 2, "em) ");
+            val += "translate(".concat(transform.x / d$3 - width / 2, "em, ").concat(transform.y / d$3 - height / 2, "em) ");
         } else if (startCentered) {
-            val += "translate(calc(-50% + ".concat(transform.x / d$2, "em), calc(-50% + ").concat(transform.y / d$2, "em)) ");
+            val += "translate(calc(-50% + ".concat(transform.x / d$3, "em), calc(-50% + ").concat(transform.y / d$3, "em)) ");
         } else {
-            val += "translate(".concat(transform.x / d$2, "em, ").concat(transform.y / d$2, "em) ");
+            val += "translate(".concat(transform.x / d$3, "em, ").concat(transform.y / d$3, "em) ");
         }
-        val += "scale(".concat(transform.size / d$2 * (transform.flipX ? -1 : 1), ", ").concat(transform.size / d$2 * (transform.flipY ? -1 : 1), ") ");
+        val += "scale(".concat(transform.size / d$3 * (transform.flipX ? -1 : 1), ", ").concat(transform.size / d$3 * (transform.flipY ? -1 : 1), ") ");
         val += "rotate(".concat(transform.rotate, "deg) ");
         return val;
     }
     var baseStyles = ':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';
 
     function css() {
         var dcp = DEFAULT_CSS_PREFIX;
@@ -1639,24 +1639,24 @@
                 },
                 beforeI2svg: function beforeI2svg() {
                     ensureCss();
                 }
             };
         }
     };
-    var w$4 = WINDOW || {};
-    if (!w$4[NAMESPACE_IDENTIFIER])
-        w$4[NAMESPACE_IDENTIFIER] = {};
-    if (!w$4[NAMESPACE_IDENTIFIER].styles)
-        w$4[NAMESPACE_IDENTIFIER].styles = {};
-    if (!w$4[NAMESPACE_IDENTIFIER].hooks)
-        w$4[NAMESPACE_IDENTIFIER].hooks = {};
-    if (!w$4[NAMESPACE_IDENTIFIER].shims)
-        w$4[NAMESPACE_IDENTIFIER].shims = [];
-    var namespace$1 = w$4[NAMESPACE_IDENTIFIER];
+    var w$3 = WINDOW || {};
+    if (!w$3[NAMESPACE_IDENTIFIER])
+        w$3[NAMESPACE_IDENTIFIER] = {};
+    if (!w$3[NAMESPACE_IDENTIFIER].styles)
+        w$3[NAMESPACE_IDENTIFIER].styles = {};
+    if (!w$3[NAMESPACE_IDENTIFIER].hooks)
+        w$3[NAMESPACE_IDENTIFIER].hooks = {};
+    if (!w$3[NAMESPACE_IDENTIFIER].shims)
+        w$3[NAMESPACE_IDENTIFIER].shims = [];
+    var namespace$1 = w$3[NAMESPACE_IDENTIFIER];
     var functions = [];
     var listener = function listener2() {
         DOCUMENT.removeEventListener("DOMContentLoaded", listener2);
         loaded = 1;
         functions.map(function(fn2) {
             return fn2();
         });
@@ -4110,25 +4110,54 @@
             };
         }
     }
 
     function objectWithKey(key, value) {
         return Array.isArray(value) && value.length > 0 || !Array.isArray(value) && value ? _defineProperty$p({}, key, value) : {};
     }
+    var defaultProps$7 = {
+        border: false,
+        className: "",
+        mask: null,
+        maskId: null,
+        fixedWidth: false,
+        inverse: false,
+        flip: false,
+        icon: null,
+        listItem: false,
+        pull: null,
+        pulse: false,
+        rotation: null,
+        size: null,
+        spin: false,
+        spinPulse: false,
+        spinReverse: false,
+        beat: false,
+        fade: false,
+        beatFade: false,
+        bounce: false,
+        shake: false,
+        symbol: false,
+        title: "",
+        titleId: null,
+        transform: null,
+        swapOpacity: false
+    };
     var FontAwesomeIcon = /* @__PURE__ */ React__default.default.forwardRef(function(props, ref2) {
-        var iconArgs = props.icon,
-            maskArgs = props.mask,
-            symbol = props.symbol,
-            className = props.className,
-            title = props.title,
-            titleId = props.titleId,
-            maskId = props.maskId;
+        var allProps = _objectSpread2$1(_objectSpread2$1({}, defaultProps$7), props);
+        var iconArgs = allProps.icon,
+            maskArgs = allProps.mask,
+            symbol = allProps.symbol,
+            className = allProps.className,
+            title = allProps.title,
+            titleId = allProps.titleId,
+            maskId = allProps.maskId;
         var iconLookup = normalizeIconArgs(iconArgs);
-        var classes = objectWithKey("classes", [].concat(_toConsumableArray$3(classList$1(props)), _toConsumableArray$3(className.split(" "))));
-        var transform = objectWithKey("transform", typeof props.transform === "string" ? parse$1$1.transform(props.transform) : props.transform);
+        var classes = objectWithKey("classes", [].concat(_toConsumableArray$3(classList$1(allProps)), _toConsumableArray$3(className.split(" "))));
+        var transform = objectWithKey("transform", typeof allProps.transform === "string" ? parse$1$1.transform(allProps.transform) : allProps.transform);
         var mask = objectWithKey("mask", normalizeIconArgs(maskArgs));
         var renderedIcon = icon(iconLookup, _objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({}, classes), transform), mask), {}, {
             symbol,
             title,
             titleId,
             maskId
         }));
@@ -4136,17 +4165,17 @@
             log("Could not find icon", iconLookup);
             return null;
         }
         var abstract = renderedIcon.abstract;
         var extraProps = {
             ref: ref2
         };
-        Object.keys(props).forEach(function(key) {
-            if (!FontAwesomeIcon.defaultProps.hasOwnProperty(key)) {
-                extraProps[key] = props[key];
+        Object.keys(allProps).forEach(function(key) {
+            if (!defaultProps$7.hasOwnProperty(key)) {
+                extraProps[key] = allProps[key];
             }
         });
         return convertCurry(abstract[0], extraProps);
     });
     FontAwesomeIcon.displayName = "FontAwesomeIcon";
     FontAwesomeIcon.propTypes = {
         beat: propTypes.exports.bool,
@@ -4173,42 +4202,14 @@
         spinReverse: propTypes.exports.bool,
         symbol: propTypes.exports.oneOfType([propTypes.exports.bool, propTypes.exports.string]),
         title: propTypes.exports.string,
         titleId: propTypes.exports.string,
         transform: propTypes.exports.oneOfType([propTypes.exports.string, propTypes.exports.object]),
         swapOpacity: propTypes.exports.bool
     };
-    FontAwesomeIcon.defaultProps = {
-        border: false,
-        className: "",
-        mask: null,
-        maskId: null,
-        fixedWidth: false,
-        inverse: false,
-        flip: false,
-        icon: null,
-        listItem: false,
-        pull: null,
-        pulse: false,
-        rotation: null,
-        size: null,
-        spin: false,
-        spinPulse: false,
-        spinReverse: false,
-        beat: false,
-        fade: false,
-        beatFade: false,
-        bounce: false,
-        shake: false,
-        symbol: false,
-        title: "",
-        titleId: null,
-        transform: null,
-        swapOpacity: false
-    };
     var convertCurry = convert$2.bind(null, React__default.default.createElement);
     var Icon$3 = function(e3) {
         var t2 = {};
 
         function r2(n2) {
             if (t2[n2])
                 return t2[n2].exports;
@@ -4577,14 +4578,19 @@
         }, props));
     };
     const Circle$1 = (props) => {
         return jsxRuntime.exports.jsx(StyledFAIcon, Object.assign({
             icon: faCircle
         }, props));
     };
+    var faImage = {
+        prefix: "far",
+        iconName: "image",
+        icon: [512, 512, [], "f03e", "M448 80c8.8 0 16 7.2 16 16V415.8l-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3V96c0-8.8 7.2-16 16-16H448zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]
+    };
     var faSquare = {
         prefix: "far",
         iconName: "square",
         icon: [448, 512, [9632, 9723, 9724, 61590], "f0c8", "M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]
     };
     var faCircleQuestion = {
         prefix: "far",
@@ -4657,14 +4663,19 @@
         }, props));
     };
     const ChevronUp = (props) => {
         return jsxRuntime.exports.jsx(StyledFAIcon, Object.assign({
             icon: faChevronUp
         }, props));
     };
+    const FarImage = (props) => {
+        return jsxRuntime.exports.jsx(StyledFAIcon, Object.assign({
+            icon: faImage
+        }, props));
+    };
     const List$1 = (props) => {
         return jsxRuntime.exports.jsx(StyledFAIcon, Object.assign({
             icon: faList
         }, props));
     };
     const Moon = (props) => {
         return jsxRuntime.exports.jsx(StyledFAIcon, Object.assign({
@@ -5058,15 +5069,15 @@
         module2.exports.characters = characters2;
         module2.exports.isValid = isValid2;
     })(lib$1);
     (function(module2) {
         module2.exports = lib$1.exports;
     })(shortid$1);
     const shortid = /* @__PURE__ */ getDefaultExportFromCjs(shortid$1.exports);
-    var __awaiter$4 = globalThis && globalThis.__awaiter || function(thisArg, _arguments, P2, generator) {
+    var __awaiter$5 = globalThis && globalThis.__awaiter || function(thisArg, _arguments, P2, generator) {
         function adopt(value) {
             return value instanceof P2 ? value : new P2(function(resolve2) {
                 resolve2(value);
             });
         }
         return new(P2 || (P2 = Promise))(function(resolve2, reject) {
             function fulfilled(value) {
@@ -5100,15 +5111,15 @@
         }
     }
     const isValidResponse = (res) => {
         return res.status >= 100 && res.status < 400;
     };
 
     function validateResponse(res, fallbackMessage, requestParams) {
-        return __awaiter$4(this, void 0, void 0, function*() {
+        return __awaiter$5(this, void 0, void 0, function*() {
             if (!isValidResponse(res)) {
                 let message = fallbackMessage;
                 try {
                     const json2 = yield res.json();
                     message = (json2 === null || json2 === void 0 ? void 0 : json2.message) || (json2 === null || json2 === void 0 ? void 0 : json2.detail) || fallbackMessage;
                 } catch (e3) {
                     if (fallbackMessage) {
@@ -6541,15 +6552,15 @@
             if (!isMounted.current) {
                 isMounted.current = true;
                 return;
             }
             return effect2();
         }, deps);
     };
-    var __awaiter$3 = globalThis && globalThis.__awaiter || function(thisArg, _arguments, P2, generator) {
+    var __awaiter$4 = globalThis && globalThis.__awaiter || function(thisArg, _arguments, P2, generator) {
         function adopt(value) {
             return value instanceof P2 ? value : new P2(function(resolve2) {
                 resolve2(value);
             });
         }
         return new(P2 || (P2 = Promise))(function(resolve2, reject) {
             function fulfilled(value) {
@@ -6594,15 +6605,15 @@
                 return internalData[adjustedIndex];
             },
             useDeepCompare([currentStartIdx, internalData])
         );
         const onItemsRendered = React.useCallback(({
             overscanStartIndex,
             overscanStopIndex
-        }, forceRefresh) => __awaiter$3(this, void 0, void 0, function*() {
+        }, forceRefresh) => __awaiter$4(this, void 0, void 0, function*() {
             try {
                 const isFirstItemLoaded = overscanStartIndex >= currentStartIdx && overscanStartIndex <= currentStopIdx;
                 const isLastItemLoaded = overscanStopIndex >= currentStartIdx && overscanStopIndex <= currentStopIdx;
                 setCurrentRange({
                     overscanStartIndex,
                     overscanStopIndex
                 });
@@ -7862,24 +7873,24 @@
                 if (side === "top" || side === "bottom") {
                     heightSide = side;
                     widthSide = alignment === (await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)) ? "start" : "end") ? "left" : "right";
                 } else {
                     widthSide = side;
                     heightSide = alignment === "end" ? "top" : "bottom";
                 }
-                const overflowAvailableHeight = height - overflow[heightSide];
-                const overflowAvailableWidth = width - overflow[widthSide];
+                const maximumClippingHeight = height - overflow.top - overflow.bottom;
+                const maximumClippingWidth = width - overflow.left - overflow.right;
+                const overflowAvailableHeight = min$3(height - overflow[heightSide], maximumClippingHeight);
+                const overflowAvailableWidth = min$3(width - overflow[widthSide], maximumClippingWidth);
                 const noShift = !state.middlewareData.shift;
                 let availableHeight = overflowAvailableHeight;
                 let availableWidth = overflowAvailableWidth;
                 if (isYAxis) {
-                    const maximumClippingWidth = width - overflow.left - overflow.right;
                     availableWidth = alignment || noShift ? min$3(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;
                 } else {
-                    const maximumClippingHeight = height - overflow.top - overflow.bottom;
                     availableHeight = alignment || noShift ? min$3(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;
                 }
                 if (noShift && !alignment) {
                     const xMin = max$4(overflow.left, 0);
                     const xMax = max$4(overflow.right, 0);
                     const yMin = max$4(overflow.top, 0);
                     const yMax = max$4(overflow.bottom, 0);
@@ -8027,18 +8038,18 @@
             height,
             x: x2,
             y: y2
         });
     }
     const topLayerSelectors = [":popover-open", ":modal"];
 
-    function isTopLayer(floating) {
+    function isTopLayer(element2) {
         return topLayerSelectors.some((selector2) => {
             try {
-                return floating.matches(selector2);
+                return element2.matches(selector2);
             } catch (e3) {
                 return false;
             }
         });
     }
 
     function convertOffsetParentRelativeRectToViewportRelativeRect(_ref2) {
@@ -8206,15 +8217,15 @@
     function getClippingRect$1(_ref2) {
         let {
             element: element2,
             boundary,
             rootBoundary,
             strategy
         } = _ref2;
-        const elementClippingAncestors = boundary === "clippingAncestors" ? getClippingElementAncestors(element2, this._c) : [].concat(boundary);
+        const elementClippingAncestors = boundary === "clippingAncestors" ? isTopLayer(element2) ? [] : getClippingElementAncestors(element2, this._c) : [].concat(boundary);
         const clippingAncestors = [...elementClippingAncestors, rootBoundary];
         const firstClippingAncestor = clippingAncestors[0];
         const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {
             const rect = getClientRectFromClippingAncestor(element2, clippingAncestor, strategy);
             accRect.top = max$4(rect.top, accRect.top);
             accRect.right = min$3(rect.right, accRect.right);
             accRect.bottom = min$3(rect.bottom, accRect.bottom);
@@ -8268,37 +8279,51 @@
             x: x2,
             y: y2,
             width: rect.width,
             height: rect.height
         };
     }
 
+    function isStaticPositioned(element2) {
+        return getComputedStyle$2(element2).position === "static";
+    }
+
     function getTrueOffsetParent$1(element2, polyfill) {
         if (!isHTMLElement$1(element2) || getComputedStyle$2(element2).position === "fixed") {
             return null;
         }
         if (polyfill) {
             return polyfill(element2);
         }
         return element2.offsetParent;
     }
 
     function getOffsetParent$1(element2, polyfill) {
-        const window2 = getWindow$1(element2);
-        if (!isHTMLElement$1(element2) || isTopLayer(element2)) {
-            return window2;
+        const win = getWindow$1(element2);
+        if (isTopLayer(element2)) {
+            return win;
+        }
+        if (!isHTMLElement$1(element2)) {
+            let svgOffsetParent = getParentNode$1(element2);
+            while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {
+                if (isElement$4(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {
+                    return svgOffsetParent;
+                }
+                svgOffsetParent = getParentNode$1(svgOffsetParent);
+            }
+            return win;
         }
         let offsetParent = getTrueOffsetParent$1(element2, polyfill);
-        while (offsetParent && isTableElement$1(offsetParent) && getComputedStyle$2(offsetParent).position === "static") {
+        while (offsetParent && isTableElement$1(offsetParent) && isStaticPositioned(offsetParent)) {
             offsetParent = getTrueOffsetParent$1(offsetParent, polyfill);
         }
-        if (offsetParent && (getNodeName$1(offsetParent) === "html" || getNodeName$1(offsetParent) === "body" && getComputedStyle$2(offsetParent).position === "static" && !isContainingBlock(offsetParent))) {
-            return window2;
+        if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {
+            return win;
         }
-        return offsetParent || getContainingBlock$1(element2) || window2;
+        return offsetParent || getContainingBlock$1(element2) || win;
     }
     const getElementRects = async function(data2) {
         const getOffsetParentFn = this.getOffsetParent || getOffsetParent$1;
         const getDimensionsFn = this.getDimensions;
         const floatingDimensions = await getDimensionsFn(data2.floating);
         return {
             reference: getRectRelativeToOffsetParent(data2.reference, await getOffsetParentFn(data2.floating), data2.strategy),
@@ -8921,15 +8946,14 @@
     function useDismiss(context2, props) {
         if (props === void 0) {
             props = {};
         }
         const {
             open,
             onOpenChange,
-            nodeId,
             elements: {
                 reference: reference2,
                 domReference,
                 floating
             },
             dataRef
         } = context2;
@@ -8954,17 +8978,19 @@
             outsidePress: outsidePressBubbles
         } = normalizeProp(bubbles);
         const {
             escapeKey: escapeKeyCapture,
             outsidePress: outsidePressCapture
         } = normalizeProp(capture);
         const closeOnEscapeKeyDown = useEffectEvent((event2) => {
+            var _dataRef$current$floa;
             if (!open || !enabled || !escapeKey || event2.key !== "Escape") {
                 return;
             }
+            const nodeId = (_dataRef$current$floa = dataRef.current.floatingContext) == null ? void 0 : _dataRef$current$floa.nodeId;
             const children2 = tree ? getChildren$3(tree.nodesRef.current, nodeId) : [];
             if (!escapeKeyBubbles) {
                 event2.stopPropagation();
                 if (children2.length > 0) {
                     let shouldDismiss = true;
                     children2.forEach((child) => {
                         var _child$context;
@@ -8986,14 +9012,15 @@
                 var _getTarget;
                 closeOnEscapeKeyDown(event2);
                 (_getTarget = getTarget(event2)) == null || _getTarget.removeEventListener("keydown", callback);
             };
             (_getTarget2 = getTarget(event2)) == null || _getTarget2.addEventListener("keydown", callback);
         });
         const closeOnPressOutside = useEffectEvent((event2) => {
+            var _dataRef$current$floa2;
             const insideReactTree = insideReactTreeRef.current;
             insideReactTreeRef.current = false;
             const endedOrStartedInside = endedOrStartedInsideRef.current;
             endedOrStartedInsideRef.current = false;
             if (outsidePressEvent === "click" && endedOrStartedInside) {
                 return;
             }
@@ -9027,14 +9054,15 @@
                         xCond = event2.offsetX <= target.offsetWidth - target.clientWidth;
                     }
                 }
                 if (xCond || canScrollX && event2.offsetY > target.clientHeight) {
                     return;
                 }
             }
+            const nodeId = (_dataRef$current$floa2 = dataRef.current.floatingContext) == null ? void 0 : _dataRef$current$floa2.nodeId;
             const targetIsInsideChildren = tree && getChildren$3(tree.nodesRef.current, nodeId).some((node2) => {
                 var _node$context;
                 return isEventTargetWithin(event2, (_node$context = node2.context) == null ? void 0 : _node$context.elements.floating);
             });
             if (isEventTargetWithin(event2, floating) || isEventTargetWithin(event2, domReference) || targetIsInsideChildren) {
                 return;
             }
@@ -9133,58 +9161,91 @@
                         insideReactTreeRef.current = true;
                     }
                 }
             };
         }, [enabled, referencePress, outsidePressEvent, referencePressEvent, onOpenChange, closeOnEscapeKeyDown]);
     }
 
+    function useFloatingRootContext(options) {
+        const {
+            open = false,
+                onOpenChange: onOpenChangeProp,
+                elements: elementsProp
+        } = options;
+        const floatingId = useId();
+        const dataRef = React__namespace.useRef({});
+        const [events2] = React__namespace.useState(() => createPubSub());
+        const nested = useFloatingParentNodeId() != null;
+        const [positionReference, setPositionReference] = React__namespace.useState(elementsProp.reference);
+        const onOpenChange = useEffectEvent((open2, event2, reason) => {
+            dataRef.current.openEvent = open2 ? event2 : void 0;
+            events2.emit("openchange", {
+                open: open2,
+                event: event2,
+                reason,
+                nested
+            });
+            onOpenChangeProp == null || onOpenChangeProp(open2, event2, reason);
+        });
+        const refs = React__namespace.useMemo(() => ({
+            setPositionReference
+        }), []);
+        const elements = React__namespace.useMemo(() => ({
+            reference: positionReference || elementsProp.reference || null,
+            floating: elementsProp.floating || null,
+            domReference: elementsProp.reference
+        }), [positionReference, elementsProp.reference, elementsProp.floating]);
+        return React__namespace.useMemo(() => ({
+            dataRef,
+            open,
+            onOpenChange,
+            elements,
+            events: events2,
+            floatingId,
+            refs
+        }), [open, onOpenChange, elements, events2, floatingId, refs]);
+    }
+
     function useFloating(options) {
-        var _options$elements;
         if (options === void 0) {
             options = {};
         }
         const {
-            open = false,
-                onOpenChange: unstable_onOpenChange,
-                nodeId
+            nodeId
         } = options;
+        const internalRootContext = useFloatingRootContext({
+            ...options,
+            elements: {
+                reference: null,
+                floating: null,
+                ...options.elements
+            }
+        });
+        const rootContext = options.rootContext || internalRootContext;
+        const computedElements = rootContext.elements;
         const [_domReference, setDomReference] = React__namespace.useState(null);
         const [positionReference, _setPositionReference] = React__namespace.useState(null);
-        const optionDomReference = (_options$elements = options.elements) == null ? void 0 : _options$elements.reference;
+        const optionDomReference = computedElements == null ? void 0 : computedElements.reference;
         const domReference = optionDomReference || _domReference;
+        const domReferenceRef = React__namespace.useRef(null);
+        const tree = useFloatingTree();
         index$3(() => {
             if (domReference) {
                 domReferenceRef.current = domReference;
             }
         }, [domReference]);
         const position2 = useFloating$1({
             ...options,
             elements: {
-                ...options.elements,
+                ...computedElements,
                 ...positionReference && {
                     reference: positionReference
                 }
             }
         });
-        const tree = useFloatingTree();
-        const nested = useFloatingParentNodeId() != null;
-        const onOpenChange = useEffectEvent((open2, event2, reason) => {
-            dataRef.current.openEvent = open2 ? event2 : void 0;
-            events2.emit("openchange", {
-                open: open2,
-                event: event2,
-                reason,
-                nested
-            });
-            unstable_onOpenChange == null || unstable_onOpenChange(open2, event2, reason);
-        });
-        const domReferenceRef = React__namespace.useRef(null);
-        const dataRef = React__namespace.useRef({});
-        const events2 = React__namespace.useState(() => createPubSub())[0];
-        const floatingId = useId();
         const setPositionReference = React__namespace.useCallback((node2) => {
             const computedPositionReference = isElement$4(node2) ? {
                 getBoundingClientRect: () => node2.getBoundingClientRect(),
                 contextElement: node2
             } : node2;
             _setPositionReference(computedPositionReference);
             position2.refs.setReference(computedPositionReference);
@@ -9206,24 +9267,21 @@
         }), [position2.refs, setReference, setPositionReference]);
         const elements = React__namespace.useMemo(() => ({
             ...position2.elements,
             domReference
         }), [position2.elements, domReference]);
         const context2 = React__namespace.useMemo(() => ({
             ...position2,
+            ...rootContext,
             refs,
             elements,
-            dataRef,
-            nodeId,
-            floatingId,
-            events: events2,
-            open,
-            onOpenChange
-        }), [position2, nodeId, floatingId, events2, open, onOpenChange, refs, elements]);
+            nodeId
+        }), [position2, refs, elements, nodeId, rootContext]);
         index$3(() => {
+            rootContext.dataRef.current.floatingContext = context2;
             const node2 = tree == null ? void 0 : tree.nodesRef.current.find((node3) => node3.id === nodeId);
             if (node2) {
                 node2.context = context2;
             }
         });
         return React__namespace.useMemo(() => ({
             ...position2,
@@ -38681,143 +38739,143 @@
      * react-is.production.min.js
      *
      * Copyright (c) Facebook, Inc. and its affiliates.
      *
      * This source code is licensed under the MIT license found in the
      * LICENSE file in the root directory of this source tree.
      */
-    var b$3 = 60103,
+    var b$2 = 60103,
         c$4 = 60106,
-        d$1 = 60107,
+        d$2 = 60107,
         e$2 = 60108,
-        f$2 = 60114,
-        g$2 = 60109,
+        f$1 = 60114,
+        g$1 = 60109,
         h$2 = 60110,
         k$2 = 60112,
         l$2 = 60113,
-        m$2 = 60120,
+        m$3 = 60120,
         n$2 = 60115,
         p$2 = 60116,
         q$2 = 60121,
         r$2 = 60122,
-        u$1 = 60117,
-        v$2 = 60129,
-        w$3 = 60131;
+        u$2 = 60117,
+        v$3 = 60129,
+        w$2 = 60131;
     if ("function" === typeof Symbol && Symbol.for) {
-        var x$4 = Symbol.for;
-        b$3 = x$4("react.element");
-        c$4 = x$4("react.portal");
-        d$1 = x$4("react.fragment");
-        e$2 = x$4("react.strict_mode");
-        f$2 = x$4("react.profiler");
-        g$2 = x$4("react.provider");
-        h$2 = x$4("react.context");
-        k$2 = x$4("react.forward_ref");
-        l$2 = x$4("react.suspense");
-        m$2 = x$4("react.suspense_list");
-        n$2 = x$4("react.memo");
-        p$2 = x$4("react.lazy");
-        q$2 = x$4("react.block");
-        r$2 = x$4("react.server.block");
-        u$1 = x$4("react.fundamental");
-        v$2 = x$4("react.debug_trace_mode");
-        w$3 = x$4("react.legacy_hidden");
+        var x$5 = Symbol.for;
+        b$2 = x$5("react.element");
+        c$4 = x$5("react.portal");
+        d$2 = x$5("react.fragment");
+        e$2 = x$5("react.strict_mode");
+        f$1 = x$5("react.profiler");
+        g$1 = x$5("react.provider");
+        h$2 = x$5("react.context");
+        k$2 = x$5("react.forward_ref");
+        l$2 = x$5("react.suspense");
+        m$3 = x$5("react.suspense_list");
+        n$2 = x$5("react.memo");
+        p$2 = x$5("react.lazy");
+        q$2 = x$5("react.block");
+        r$2 = x$5("react.server.block");
+        u$2 = x$5("react.fundamental");
+        v$3 = x$5("react.debug_trace_mode");
+        w$2 = x$5("react.legacy_hidden");
     }
 
     function y$6(a2) {
         if ("object" === typeof a2 && null !== a2) {
             var t2 = a2.$$typeof;
             switch (t2) {
-                case b$3:
+                case b$2:
                     switch (a2 = a2.type, a2) {
-                        case d$1:
-                        case f$2:
+                        case d$2:
+                        case f$1:
                         case e$2:
                         case l$2:
-                        case m$2:
+                        case m$3:
                             return a2;
                         default:
                             switch (a2 = a2 && a2.$$typeof, a2) {
                                 case h$2:
                                 case k$2:
                                 case p$2:
                                 case n$2:
-                                case g$2:
+                                case g$1:
                                     return a2;
                                 default:
                                     return t2;
                             }
                     }
                 case c$4:
                     return t2;
             }
         }
     }
-    var z$2 = g$2,
-        A$2 = b$3,
+    var z$2 = g$1,
+        A$2 = b$2,
         B$1 = k$2,
-        C$3 = d$1,
+        C$3 = d$2,
         D$2 = p$2,
         E$1 = n$2,
         F$3 = c$4,
-        G$1 = f$2,
-        H$3 = e$2,
+        G$1 = f$1,
+        H$2 = e$2,
         I$1 = l$2;
     reactIs_production_min.ContextConsumer = h$2;
     reactIs_production_min.ContextProvider = z$2;
     reactIs_production_min.Element = A$2;
     reactIs_production_min.ForwardRef = B$1;
     reactIs_production_min.Fragment = C$3;
     reactIs_production_min.Lazy = D$2;
     reactIs_production_min.Memo = E$1;
     reactIs_production_min.Portal = F$3;
     reactIs_production_min.Profiler = G$1;
-    reactIs_production_min.StrictMode = H$3;
+    reactIs_production_min.StrictMode = H$2;
     reactIs_production_min.Suspense = I$1;
     reactIs_production_min.isAsyncMode = function() {
         return false;
     };
     reactIs_production_min.isConcurrentMode = function() {
         return false;
     };
     reactIs_production_min.isContextConsumer = function(a2) {
         return y$6(a2) === h$2;
     };
     reactIs_production_min.isContextProvider = function(a2) {
-        return y$6(a2) === g$2;
+        return y$6(a2) === g$1;
     };
     reactIs_production_min.isElement = function(a2) {
-        return "object" === typeof a2 && null !== a2 && a2.$$typeof === b$3;
+        return "object" === typeof a2 && null !== a2 && a2.$$typeof === b$2;
     };
     reactIs_production_min.isForwardRef = function(a2) {
         return y$6(a2) === k$2;
     };
     reactIs_production_min.isFragment = function(a2) {
-        return y$6(a2) === d$1;
+        return y$6(a2) === d$2;
     };
     reactIs_production_min.isLazy = function(a2) {
         return y$6(a2) === p$2;
     };
     reactIs_production_min.isMemo = function(a2) {
         return y$6(a2) === n$2;
     };
     reactIs_production_min.isPortal = function(a2) {
         return y$6(a2) === c$4;
     };
     reactIs_production_min.isProfiler = function(a2) {
-        return y$6(a2) === f$2;
+        return y$6(a2) === f$1;
     };
     reactIs_production_min.isStrictMode = function(a2) {
         return y$6(a2) === e$2;
     };
     reactIs_production_min.isSuspense = function(a2) {
         return y$6(a2) === l$2;
     };
     reactIs_production_min.isValidElementType = function(a2) {
-        return "string" === typeof a2 || "function" === typeof a2 || a2 === d$1 || a2 === f$2 || a2 === v$2 || a2 === e$2 || a2 === l$2 || a2 === m$2 || a2 === w$3 || "object" === typeof a2 && null !== a2 && (a2.$$typeof === p$2 || a2.$$typeof === n$2 || a2.$$typeof === g$2 || a2.$$typeof === h$2 || a2.$$typeof === k$2 || a2.$$typeof === u$1 || a2.$$typeof === q$2 || a2[0] === r$2) ? true : false;
+        return "string" === typeof a2 || "function" === typeof a2 || a2 === d$2 || a2 === f$1 || a2 === v$3 || a2 === e$2 || a2 === l$2 || a2 === m$3 || a2 === w$2 || "object" === typeof a2 && null !== a2 && (a2.$$typeof === p$2 || a2.$$typeof === n$2 || a2.$$typeof === g$1 || a2.$$typeof === h$2 || a2.$$typeof === k$2 || a2.$$typeof === u$2 || a2.$$typeof === q$2 || a2[0] === r$2) ? true : false;
     };
     reactIs_production_min.typeOf = y$6;
     (function(module2) {
         {
             module2.exports = reactIs_production_min;
         }
     })(reactIs);
@@ -38842,15 +38900,15 @@
             return false;
         },
         l$1 = (e3, t2, n2, l2, i2, o2, r2, d2) => o2 < e3 && r2 > t2 || o2 > e3 && r2 < t2 ? 0 : o2 <= e3 && d2 <= n2 || r2 >= t2 && d2 >= n2 ? o2 - e3 - l2 : r2 > t2 && d2 < n2 || o2 < e3 && d2 > n2 ? r2 - t2 + i2 : 0,
         i$4 = (e3) => {
             let t2 = e3.parentElement;
             return null == t2 ? e3.getRootNode().host || null : t2;
         };
-    var o$3 = (t2, o2) => {
+    var o$2 = (t2, o2) => {
         var r2, d2, h2, f2, u2, s2;
         if ("undefined" == typeof document)
             return [];
         let {
             scrollMode: a2,
             block: c2,
             inline: g2,
@@ -38958,15 +39016,15 @@
                         t2[p2] = s2[p2];
             }
             return t2;
         };
         return __assign.apply(this, arguments);
     };
 
-    function __awaiter$2(thisArg, _arguments, P2, generator) {
+    function __awaiter$3(thisArg, _arguments, P2, generator) {
         function adopt(value) {
             return value instanceof P2 ? value : new P2(function(resolve2) {
                 resolve2(value);
             });
         }
         return new(P2 || (P2 = Promise))(function(resolve2, reject) {
             function fulfilled(value) {
@@ -39157,15 +39215,15 @@
 
     function noop$6() {}
 
     function scrollIntoView$1(node2, menuNode) {
         if (!node2) {
             return;
         }
-        var actions = o$3(node2, {
+        var actions = o$2(node2, {
             boundary: menuNode,
             block: "nearest",
             scrollMode: "if-needed"
         });
         actions.forEach(function(_ref2) {
             var el = _ref2.el,
                 top2 = _ref2.top,
@@ -46435,14 +46493,16 @@
                     var events2 = _this.props.eventTypes;
                     if (!events2.forEach) {
                         events2 = [events2];
                     }
                     handlersMap[_this._uid] = function(event2) {
                         if (_this.componentNode === null)
                             return;
+                        if (_this.initTimeStamp > event2.timeStamp)
+                            return;
                         if (_this.props.preventDefault) {
                             event2.preventDefault();
                         }
                         if (_this.props.stopPropagation) {
                             event2.stopPropagation();
                         }
                         if (_this.props.excludeScrollbar && clickedScrollbar(event2))
@@ -46471,14 +46531,15 @@
                         delete handlersMap[_this._uid];
                     }
                 };
                 _this.getRef = function(ref2) {
                     return _this.instanceRef = ref2;
                 };
                 _this._uid = uid$1();
+                _this.initTimeStamp = performance.now();
                 return _this;
             }
             var _proto = onClickOutside.prototype;
             _proto.getInstance = function getInstance() {
                 if (WrappedComponent.prototype && !WrappedComponent.prototype.isReactComponent) {
                     return this;
                 }
@@ -47310,15 +47371,15 @@
             a2 = getMonth(e3),
             s2 = getYear(t2),
             i2 = getMonth(t2),
             p2 = getYear(n2);
         return o2 === s2 && o2 === p2 ? a2 <= r2 && r2 <= i2 : o2 < s2 ? p2 === o2 && a2 <= r2 || p2 === s2 && i2 >= r2 || p2 < s2 && p2 > o2 : void 0;
     }
 
-    function tt$1(e3) {
+    function tt(e3) {
         var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
             r2 = t2.minDate,
             n2 = t2.maxDate,
             o2 = t2.excludeDates,
             a2 = t2.includeDates,
             s2 = t2.filterDate;
         return ot(e3, {
@@ -47440,15 +47501,15 @@
                 return differenceInCalendarDays(e4, t2) >= 0;
             });
             return min$1(n2);
         }
         return r2 ? min$1(r2) : t2;
     }
 
-    function ht$2(e3) {
+    function ht$1(e3) {
         var t2 = e3.maxDate,
             r2 = e3.includeDates;
         if (r2 && t2) {
             var n2 = r2.filter(function(e4) {
                 return differenceInCalendarDays(e4, t2) <= 0;
             });
             return max$2(n2);
@@ -48373,15 +48434,15 @@
                         o3 = n3.day,
                         a3 = n3.startDate,
                         s3 = n3.endDate,
                         i3 = n3.selected,
                         p2 = n3.minDate,
                         c2 = n3.maxDate;
                     return r$1("react-datepicker__quarter-text", "react-datepicker__quarter-".concat(e3), {
-                        "react-datepicker__quarter--disabled": (p2 || c2) && tt$1(setQuarter(o3, e3), t3.props),
+                        "react-datepicker__quarter--disabled": (p2 || c2) && tt(setQuarter(o3, e3), t3.props),
                         "react-datepicker__quarter--selected": t3.isSelectedQuarter(o3, e3, i3),
                         "react-datepicker__quarter--in-range": nt(a3, s3, e3, o3),
                         "react-datepicker__quarter--range-start": t3.isRangeStartQuarter(e3),
                         "react-datepicker__quarter--range-end": t3.isRangeEndQuarter(e3)
                     });
                 }), de$1(ye(t3), "renderMonths", function() {
                     var r2 = t3.props,
@@ -48762,15 +48823,15 @@
                     })(e3.target) && a2.props.onDropdownFocus();
                 }), de$1(ye(a2), "getDateInView", function() {
                     var e3 = a2.props,
                         t4 = e3.preSelection,
                         r2 = e3.selected,
                         n3 = e3.openToDate,
                         o3 = ut$1(a2.props),
-                        s2 = ht$2(a2.props),
+                        s2 = ht$1(a2.props),
                         i2 = _e$1(),
                         p2 = n3 || r2 || t4;
                     return p2 || (o3 && isBefore(i2, o3) ? o3 : s2 && isAfter(i2, s2) ? s2 : i2);
                 }), de$1(ye(a2), "increaseMonth", function() {
                     a2.setState(function(e3) {
                         var t4 = e3.date;
                         return {
@@ -49404,15 +49465,15 @@
             function a2(t3) {
                 var s2;
                 return pe$1(this, a2), de$1(ye(s2 = o2.call(this, t3)), "getPreSelection", function() {
                     return s2.props.openToDate ? s2.props.openToDate : s2.props.selectsEnd && s2.props.startDate ? s2.props.startDate : s2.props.selectsStart && s2.props.endDate ? s2.props.endDate : _e$1();
                 }), de$1(ye(s2), "calcInitialState", function() {
                     var e3, t4 = s2.getPreSelection(),
                         r2 = ut$1(s2.props),
-                        n2 = ht$2(s2.props),
+                        n2 = ht$1(s2.props),
                         o3 = r2 && isBefore(t4, startOfDay(r2)) ? r2 : n2 && isAfter(t4, endOfDay(n2)) ? n2 : t4;
                     return {
                         open: s2.props.startOpen || false,
                         preventFocus: false,
                         preSelection: null !== (e3 = s2.props.selectsRange ? s2.props.startDate : s2.props.selected) && void 0 !== e3 ? e3 : o3,
                         highlightDates: mt$1(s2.props.highlightDates),
                         focused: false,
@@ -50129,15 +50190,15 @@
         } = useInteractions([role]);
         const menuProps = getMenuProps();
         const setMenuRef = menuProps.ref;
         const setFloatingRef = refs.setFloating;
         const {
             dropdownRef
         } = props;
-        const mergedRefs = React__namespace.useCallback((node2) => {
+        const mergedDropdownRef = React__namespace.useCallback((node2) => {
             setFloatingRef(node2);
             setMenuRef(node2);
             dropdownRef === null || dropdownRef === void 0 ? void 0 : dropdownRef(node2);
         }, [setFloatingRef, setMenuRef, dropdownRef]);
         return jsxRuntime.exports.jsx(Tooltip$1, {
             content: props.errorMsg,
             disabled: !props.errorMsg,
@@ -50147,28 +50208,27 @@
                 isDisabled: props.disabled,
                 isErrored: !!props.errorMsg,
                 onClick: props.onClick,
                 style: props.style,
                 children: [jsxRuntime.exports.jsxs(SelectButtonPrimary, Object.assign({
                     disabled: props.disabled
                 }, getToggleButtonProps({
-                    disabled: props.disabled
-                }), {
+                    disabled: props.disabled,
                     ref: refs.setReference
-                }, getReferenceProps(), {
+                }), getReferenceProps(), {
                     type: "button",
                     children: [jsxRuntime.exports.jsx(SelectedItem$1, {
                         size: props.size,
                         children: selectedItem ? selectedItem.label : "Select"
                     }), jsxRuntime.exports.jsx(Chevron$2, {
                         disabled: props.disabled,
                         isOpen
                     })]
                 })), ReactDOM__default.default.createPortal(jsxRuntime.exports.jsx(DropdownList$2, Object.assign({}, menuProps, getFloatingProps(), {
-                    ref: mergedRefs,
+                    ref: mergedDropdownRef,
                     className: `${(_a3 = menuProps === null || menuProps === void 0 ? void 0 : menuProps.className) !== null && _a3 !== void 0 ? _a3 : ""} ${props.itemClass}`,
                     displacement: props.displacement,
                     isOpen,
                     maxItems: 7,
                     style: Object.assign(Object.assign({}, floatingStyles), {
                         width: "16.25rem",
                         zIndex: 9999
@@ -50938,15 +50998,15 @@
     }
     var FILES_TO_IGNORE = [
         ".DS_Store",
         "Thumbs.db"
     ];
 
     function fromEvent(evt) {
-        return __awaiter$2(this, void 0, void 0, function() {
+        return __awaiter$3(this, void 0, void 0, function() {
             return __generator(this, function(_a3) {
                 return [2, isDragEvt(evt) && evt.dataTransfer ? getDataTransferFiles(evt.dataTransfer, evt.type) : getInputFiles(evt)];
             });
         });
     }
 
     function isDragEvt(value) {
@@ -50961,15 +51021,15 @@
     }
 
     function isInput(value) {
         return value !== null;
     }
 
     function getDataTransferFiles(dt2, type2) {
-        return __awaiter$2(this, void 0, void 0, function() {
+        return __awaiter$3(this, void 0, void 0, function() {
             var items, files;
             return __generator(this, function(_a3) {
                 switch (_a3.label) {
                     case 0:
                         if (!dt2.items)
                             return [3, 2];
                         items = fromList(dt2.items).filter(function(item) {
@@ -51029,30 +51089,30 @@
             return Promise.reject(item + " is not a File");
         }
         var fwp = toFileWithPath(file);
         return Promise.resolve(fwp);
     }
 
     function fromEntry(entry) {
-        return __awaiter$2(this, void 0, void 0, function() {
+        return __awaiter$3(this, void 0, void 0, function() {
             return __generator(this, function(_a3) {
                 return [2, entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry)];
             });
         });
     }
 
     function fromDirEntry(entry) {
         var reader = entry.createReader();
         return new Promise(function(resolve2, reject) {
             var entries = [];
 
             function readEntries() {
                 var _this = this;
                 reader.readEntries(function(batch) {
-                    return __awaiter$2(_this, void 0, void 0, function() {
+                    return __awaiter$3(_this, void 0, void 0, function() {
                         var files, err_1, items;
                         return __generator(this, function(_a3) {
                             switch (_a3.label) {
                                 case 0:
                                     if (!!batch.length)
                                         return [3, 5];
                                     _a3.label = 1;
@@ -51084,15 +51144,15 @@
                 });
             }
             readEntries();
         });
     }
 
     function fromFileEntry(entry) {
-        return __awaiter$2(this, void 0, void 0, function() {
+        return __awaiter$3(this, void 0, void 0, function() {
             return __generator(this, function(_a3) {
                 return [2, new Promise(function(resolve2, reject) {
                     entry.file(function(file) {
                         var fwp = toFileWithPath(file, entry.fullPath);
                         resolve2(fwp);
                     }, function(err) {
                         reject(err);
@@ -52740,15 +52800,15 @@
         } = useInteractions([role]);
         const menuProps = getMenuProps();
         const setMenuRef = menuProps.ref;
         const setFloatingRef = refs.setFloating;
         const {
             dropdownRef
         } = props;
-        const mergedRefs = React__namespace.useCallback((node2) => {
+        const mergedDropdownRef = React__namespace.useCallback((node2) => {
             setFloatingRef(node2);
             setMenuRef(node2);
             dropdownRef === null || dropdownRef === void 0 ? void 0 : dropdownRef(node2);
         }, [setFloatingRef, setMenuRef, dropdownRef]);
         return jsxRuntime.exports.jsx(Tooltip$1, {
             content: props.errorMsg,
             disabled: !props.errorMsg,
@@ -52760,28 +52820,27 @@
                 isOpen,
                 onClick: props.onClick,
                 style: props.style,
                 children: [jsxRuntime.exports.jsxs(SelectButton, Object.assign({
                     disabled: props.disabled,
                     isOpen
                 }, getToggleButtonProps({
-                    disabled: props.disabled
-                }), {
+                    disabled: props.disabled,
                     ref: refs.setReference
-                }, getReferenceProps(), {
+                }), getReferenceProps(), {
                     type: "button",
                     children: [jsxRuntime.exports.jsx(SelectedItem, {
                         size: props.size,
                         children: (_b = (_a3 = selectedItem === null ? props.placeholder : selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.label) !== null && _a3 !== void 0 ? _a3 : props.placeholder) !== null && _b !== void 0 ? _b : "Select"
                     }), jsxRuntime.exports.jsx(Chevron$2, {
                         disabled: props.disabled,
                         isOpen
                     })]
                 })), ReactDOM__default.default.createPortal(jsxRuntime.exports.jsx(DropdownList, Object.assign({}, menuProps, getFloatingProps(), {
-                    ref: mergedRefs,
+                    ref: mergedDropdownRef,
                     className: `${(_c = menuProps === null || menuProps === void 0 ? void 0 : menuProps.className) !== null && _c !== void 0 ? _c : ""} ${props.itemClass}`,
                     isOpen,
                     maxItems: props.maxItems,
                     style: Object.assign(Object.assign({}, floatingStyles), {
                         zIndex: 9999
                     }),
                     children: props.items.map((item, index2) => {
@@ -62219,14 +62278,15 @@
   )} 0%, ${curriedTransparentize$1(0.2, props.theme.colors.blue4)} 230%)` : props.theme.colors.blue1};
     border-radius: 1rem;
     box-shadow: ${(props) => props.theme.shadow.medium};
 `);
     const ChildrenWrapper = styled__default.default.div`
     display: flex;
     flex-direction: column;
+    flex-grow: 1;
     gap: 0.75rem;
 
     width: 100%;
     height: 100%;
     margin-top: ${(props) => props.hasTitle || props.hasSubtitle ? "0.75rem" : "0rem"};
 `;
     const Title$1 = styled__default.default.span`
@@ -75174,29 +75234,30 @@
                     selectedItem: selectedItem2,
                     style: style2
                 }
             );
         }
         const itemArray = formattedItems;
         if (props.multiselect) {
-            const explicitValues = lodash$1.exports.isArray(value) ? value.map(toItem) : value;
+            const explicitValues = React.useMemo(() => lodash$1.exports.isArray(value) ? value.map(toItem) : value, [value]);
             const foundItems = getMultiselectItems(value, itemArray);
             const [selectedItems, setSelectedItems] = React.useState(lodash$1.exports.isEmpty(foundItems) ? explicitValues : foundItems);
             const onSelect2 = React.useCallback(
                 (_items) => {
                     const currentSelection = _items.map((item) => item.value);
                     setSelectedItems(getMultiselectItems(currentSelection, itemArray));
                     setValue(currentSelection);
                     onChangeAction(currentSelection);
                     formCtx2.updateForm(currentSelection);
                 },
                 [setValue]
             );
             React.useEffect(() => {
-                setSelectedItems(getMultiselectItems(value, itemArray));
+                const found = getMultiselectItems(value, itemArray);
+                setSelectedItems(lodash$1.exports.isEmpty(found) ? explicitValues != null ? explicitValues : null : found);
             }, [formattedItems, value]);
             return /* @__PURE__ */ React__default.default.createElement(
                 StyledMultiSelect, {
                     $rawCss: css2,
                     className: props.className,
                     items: itemArray,
                     maxRows: props.max_rows,
@@ -318485,15 +318546,15 @@
         };
     }
 
     function jiggle(random2) {
         return (random2() - 0.5) * 1e-6;
     }
 
-    function x$3(d2) {
+    function x$4(d2) {
         return d2.x + d2.vx;
     }
 
     function y$5(d2) {
         return d2.y + d2.vy;
     }
 
@@ -318503,15 +318564,15 @@
         if (typeof radius2 !== "function")
             radius2 = constant$1(radius2 == null ? 1 : +radius2);
 
         function force() {
             var i2, n2 = nodes.length,
                 tree, node2, xi, yi, ri, ri2;
             for (var k2 = 0; k2 < iterations; ++k2) {
-                tree = quadtree(nodes, x$3, y$5).visitAfter(prepare);
+                tree = quadtree(nodes, x$4, y$5).visitAfter(prepare);
                 for (i2 = 0; i2 < n2; ++i2) {
                     node2 = nodes[i2];
                     ri = radii[node2.index], ri2 = ri * ri;
                     xi = node2.x + node2.vx;
                     yi = node2.y + node2.vy;
                     tree.visit(apply);
                 }
@@ -318678,22 +318739,22 @@
         force.distance = function(_2) {
             return arguments.length ? (distance = typeof _2 === "function" ? _2 : constant$1(+_2), initializeDistance(), force) : distance;
         };
         return force;
     }
     const a$1 = 1664525;
     const c$3 = 1013904223;
-    const m$1 = 4294967296;
+    const m$2 = 4294967296;
 
     function lcg() {
         let s2 = 1;
-        return () => (s2 = (a$1 * s2 + c$3) % m$1) / m$1;
+        return () => (s2 = (a$1 * s2 + c$3) % m$2) / m$2;
     }
 
-    function x$2(d2) {
+    function x$3(d2) {
         return d2.x;
     }
 
     function y$4(d2) {
         return d2.y;
     }
     var initialRadius = 10,
@@ -318831,15 +318892,15 @@
         var nodes, node2, random2, alpha, strength = constant$1(-30),
             strengths, distanceMin2 = 1,
             distanceMax2 = Infinity,
             theta2 = 0.81;
 
         function force(_2) {
             var i2, n2 = nodes.length,
-                tree = quadtree(nodes, x$2, y$4).visitAfter(accumulate);
+                tree = quadtree(nodes, x$3, y$4).visitAfter(accumulate);
             for (alpha = _2, i2 = 0; i2 < n2; ++i2)
                 node2 = nodes[i2], tree.visit(apply);
         }
 
         function initialize() {
             if (!nodes)
                 return;
@@ -341131,31 +341192,33 @@
 
     font-size: 1rem;
     line-height: 1.1875rem;
 `;
     const Heading = styled__default.default.h2`
     overflow: hidden;
     display: -webkit-box; /* stylelint-disable-line value-no-vendor-prefix */
-    -webkit-box-orient: vertical;
 
     font-size: 1rem;
     font-weight: 700;
     text-overflow: ellipsis;
 
+    -webkit-box-orient: vertical;
+
     -webkit-line-clamp: 1;
 `;
     const Body = styled__default.default.span`
     overflow: hidden;
     display: -webkit-box; /* stylelint-disable-line value-no-vendor-prefix */
-    -webkit-box-orient: vertical;
 
     font-weight: 400;
     line-height: 1.25rem;
     text-overflow: ellipsis;
 
+    -webkit-box-orient: vertical;
+
     -webkit-line-clamp: ${(props) => props.moreDetailsShown ? 1 : 2};
 `;
     const Icon = styled__default.default.div`
     display: flex;
 
     svg {
         width: 1.5rem;
@@ -341865,14 +341928,46 @@
                 cx: "9.13389",
                 cy: "13.4344",
                 fill: "currentColor",
                 r: "1.16733"
             })]
         });
     }
+
+    function SaveImageButton(props) {
+        const [hovered, setHovered] = React.useState(false);
+        const {
+            disablePointerEvents
+        } = React.useContext(pointerCtx);
+        const theme2 = useClTheme();
+        return jsxRuntime.exports.jsx(Tooltip$1, {
+            content: "Save as Image",
+            placement: "bottom",
+            children: jsxRuntime.exports.jsxs(FloatingButton, {
+                "aria-label": "Save as Image",
+                disableEvents: disablePointerEvents,
+                fixedSize: true,
+                onClick: props.onSave,
+                onMouseEnter: () => setHovered(true),
+                onMouseLeave: () => setHovered(false),
+                style: {
+                    padding: "0 0.75rem"
+                },
+                className: "fa-layers fa-fw",
+                children: [jsxRuntime.exports.jsx(FarImage, {}), jsxRuntime.exports.jsx(Circle$1, {
+                    style: {
+                        color: hovered ? theme2.colors.grey2 : theme2.colors.blue1
+                    },
+                    transform: "shrink-6 down-6 right-6"
+                }), jsxRuntime.exports.jsx(ArrowDown, {
+                    transform: "shrink-6 down-6 right-6"
+                })]
+            })
+        });
+    }
     const constraintItems = [{
         label: jsxRuntime.exports.jsx(Tooltip$1, {
             content: "Hard Directed",
             children: jsxRuntime.exports.jsx("span", {
                 children: jsxRuntime.exports.jsx(ArrowRightLong, {
                     size: "lg"
                 })
@@ -344266,15 +344361,15 @@
                 styling: "ghost",
                 children: jsxRuntime.exports.jsx(DismissButtonText, {
                     children: "Don't show again"
                 })
             })]
         });
     }
-    var __awaiter$1 = globalThis && globalThis.__awaiter || function(thisArg, _arguments, P2, generator) {
+    var __awaiter$2 = globalThis && globalThis.__awaiter || function(thisArg, _arguments, P2, generator) {
         function adopt(value) {
             return value instanceof P2 ? value : new P2(function(resolve2) {
                 resolve2(value);
             });
         }
         return new(P2 || (P2 = Promise))(function(resolve2, reject) {
             function fulfilled(value) {
@@ -344299,28 +344394,31 @@
             step2((generator = generator.apply(thisArg, _arguments || [])).next());
         });
     };
 
     function usePaneVisibility(pane, onVisibilityChange) {
         const isPaneVisible = React__namespace.useRef(false);
         React__namespace.useEffect(() => {
+            if (!pane.current) {
+                return;
+            }
             const observer = new IntersectionObserver((entries) => {
                 for (const entry of entries) {
                     isPaneVisible.current = entry.isIntersecting;
                     onVisibilityChange(isPaneVisible.current);
                 }
             });
             observer.observe(pane.current);
             return () => {
                 observer.disconnect();
             };
         }, [onVisibilityChange, pane]);
 
         function isRectVisible(domRect) {
-            return __awaiter$1(this, void 0, void 0, function*() {
+            return __awaiter$2(this, void 0, void 0, function*() {
                 if (!isPaneVisible.current) {
                     return false;
                 }
                 let resolve2;
                 const recordPromise = new Promise((r2) => {
                     resolve2 = r2;
                 });
@@ -349795,26 +349893,26 @@
         },
         n = function(r2, t2, n2) {
             return void 0 === t2 && (t2 = 0), void 0 === n2 && (n2 = Math.pow(10, t2)), Math.round(n2 * r2) / n2 + 0;
         },
         e = function(r2, t2, n2) {
             return void 0 === t2 && (t2 = 0), void 0 === n2 && (n2 = 1), r2 > n2 ? n2 : r2 > t2 ? r2 : t2;
         },
-        u = function(r2) {
+        u$1 = function(r2) {
             return (r2 = isFinite(r2) ? r2 % 360 : 0) > 0 ? r2 : r2 + 360;
         },
         a = function(r2) {
             return {
                 r: e(r2.r, 0, 255),
                 g: e(r2.g, 0, 255),
                 b: e(r2.b, 0, 255),
                 a: e(r2.a)
             };
         },
-        o$2 = function(r2) {
+        o$1 = function(r2) {
             return {
                 r: n(r2.r),
                 g: n(r2.g),
                 b: n(r2.b),
                 a: n(r2.a, 3)
             };
         },
@@ -349834,15 +349932,15 @@
             return {
                 h: 60 * (i2 < 0 ? i2 + 6 : i2),
                 s: a2 ? o2 / a2 * 100 : 0,
                 v: a2 / 255 * 100,
                 a: u2
             };
         },
-        b$2 = function(r2) {
+        b$1 = function(r2) {
             var t2 = r2.h,
                 n2 = r2.s,
                 e3 = r2.v,
                 u2 = r2.a;
             t2 = t2 / 360 * 6, n2 /= 100, e3 /= 100;
             var a2 = Math.floor(t2),
                 o2 = e3 * (1 - n2),
@@ -349852,32 +349950,32 @@
             return {
                 r: 255 * [e3, i2, o2, o2, s2, e3][h2],
                 g: 255 * [s2, e3, e3, i2, o2, o2][h2],
                 b: 255 * [o2, o2, s2, e3, e3, i2][h2],
                 a: u2
             };
         },
-        g$1 = function(r2) {
+        g = function(r2) {
             return {
-                h: u(r2.h),
+                h: u$1(r2.h),
                 s: e(r2.s, 0, 100),
                 l: e(r2.l, 0, 100),
                 a: e(r2.a)
             };
         },
-        d = function(r2) {
+        d$1 = function(r2) {
             return {
                 h: n(r2.h),
                 s: n(r2.s),
                 l: n(r2.l),
                 a: n(r2.a, 3)
             };
         },
-        f$1 = function(r2) {
-            return b$2((n2 = (t2 = r2).s, {
+        f = function(r2) {
+            return b$1((n2 = (t2 = r2).s, {
                 h: t2.h,
                 s: (n2 *= ((e3 = t2.l) < 50 ? e3 : 100 - e3) / 100) > 0 ? 2 * n2 / (e3 + n2) * 100 : 0,
                 v: e3 + n2,
                 a: t2.a
             }));
             var t2, n2, e3;
         },
@@ -349888,16 +349986,16 @@
                 l: u2 / 2,
                 a: t2.a
             };
             var t2, n2, e3, u2;
         },
         l = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
         p$1 = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
-        v$1 = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
-        m = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
+        v$2 = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
+        m$1 = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
         y$2 = {
             string: [
                 [function(r2) {
                     var t2 = i$2.exec(r2);
                     return t2 ? (r2 = t2[1]).length <= 4 ? {
                         r: parseInt(r2[0] + r2[0], 16),
                         g: parseInt(r2[1] + r2[1], 16),
@@ -349907,33 +350005,33 @@
                         r: parseInt(r2.substr(0, 2), 16),
                         g: parseInt(r2.substr(2, 2), 16),
                         b: parseInt(r2.substr(4, 2), 16),
                         a: 8 === r2.length ? n(parseInt(r2.substr(6, 2), 16) / 255, 2) : 1
                     } : null : null;
                 }, "hex"],
                 [function(r2) {
-                    var t2 = v$1.exec(r2) || m.exec(r2);
+                    var t2 = v$2.exec(r2) || m$1.exec(r2);
                     return t2 ? t2[2] !== t2[4] || t2[4] !== t2[6] ? null : a({
                         r: Number(t2[1]) / (t2[2] ? 100 / 255 : 1),
                         g: Number(t2[3]) / (t2[4] ? 100 / 255 : 1),
                         b: Number(t2[5]) / (t2[6] ? 100 / 255 : 1),
                         a: void 0 === t2[7] ? 1 : Number(t2[7]) / (t2[8] ? 100 : 1)
                     }) : null;
                 }, "rgb"],
                 [function(t2) {
                     var n2 = l.exec(t2) || p$1.exec(t2);
                     if (!n2)
                         return null;
-                    var e3, u2, a2 = g$1({
+                    var e3, u2, a2 = g({
                         h: (e3 = n2[1], u2 = n2[2], void 0 === u2 && (u2 = "deg"), Number(e3) * (r[u2] || 1)),
                         s: Number(n2[3]),
                         l: Number(n2[4]),
                         a: void 0 === n2[5] ? 1 : Number(n2[5]) / (n2[6] ? 100 : 1)
                     });
-                    return f$1(a2);
+                    return f(a2);
                 }, "hsl"]
             ],
             object: [
                 [function(r2) {
                     var n2 = r2.r,
                         e3 = r2.g,
                         u2 = r2.b,
@@ -349950,158 +350048,158 @@
                     var n2 = r2.h,
                         e3 = r2.s,
                         u2 = r2.l,
                         a2 = r2.a,
                         o2 = void 0 === a2 ? 1 : a2;
                     if (!t(n2) || !t(e3) || !t(u2))
                         return null;
-                    var i2 = g$1({
+                    var i2 = g({
                         h: Number(n2),
                         s: Number(e3),
                         l: Number(u2),
                         a: Number(o2)
                     });
-                    return f$1(i2);
+                    return f(i2);
                 }, "hsl"],
                 [function(r2) {
                     var n2 = r2.h,
                         a2 = r2.s,
                         o2 = r2.v,
                         i2 = r2.a,
                         s2 = void 0 === i2 ? 1 : i2;
                     if (!t(n2) || !t(a2) || !t(o2))
                         return null;
                     var h2 = function(r3) {
                         return {
-                            h: u(r3.h),
+                            h: u$1(r3.h),
                             s: e(r3.s, 0, 100),
                             v: e(r3.v, 0, 100),
                             a: e(r3.a)
                         };
                     }({
                         h: Number(n2),
                         s: Number(a2),
                         v: Number(o2),
                         a: Number(s2)
                     });
-                    return b$2(h2);
+                    return b$1(h2);
                 }, "hsv"]
             ]
         },
         N$1 = function(r2, t2) {
             for (var n2 = 0; n2 < t2.length; n2++) {
                 var e3 = t2[n2][0](r2);
                 if (e3)
                     return [e3, t2[n2][1]];
             }
             return [null, void 0];
         },
-        x$1 = function(r2) {
+        x$2 = function(r2) {
             return "string" == typeof r2 ? N$1(r2.trim(), y$2.string) : "object" == typeof r2 && null !== r2 ? N$1(r2, y$2.object) : [null, void 0];
         },
         M$1 = function(r2, t2) {
             var n2 = c$2(r2);
             return {
                 h: n2.h,
                 s: e(n2.s + 100 * t2, 0, 100),
                 l: n2.l,
                 a: n2.a
             };
         },
-        H$2 = function(r2) {
+        H$1 = function(r2) {
             return (299 * r2.r + 587 * r2.g + 114 * r2.b) / 1e3 / 255;
         },
         $$1 = function(r2, t2) {
             var n2 = c$2(r2);
             return {
                 h: n2.h,
                 s: n2.s,
                 l: e(n2.l + 100 * t2, 0, 100),
                 a: n2.a
             };
         },
         j$1 = function() {
             function r2(r3) {
-                this.parsed = x$1(r3)[0], this.rgba = this.parsed || {
+                this.parsed = x$2(r3)[0], this.rgba = this.parsed || {
                     r: 0,
                     g: 0,
                     b: 0,
                     a: 1
                 };
             }
             return r2.prototype.isValid = function() {
                 return null !== this.parsed;
             }, r2.prototype.brightness = function() {
-                return n(H$2(this.rgba), 2);
+                return n(H$1(this.rgba), 2);
             }, r2.prototype.isDark = function() {
-                return H$2(this.rgba) < 0.5;
+                return H$1(this.rgba) < 0.5;
             }, r2.prototype.isLight = function() {
-                return H$2(this.rgba) >= 0.5;
+                return H$1(this.rgba) >= 0.5;
             }, r2.prototype.toHex = function() {
-                return r3 = o$2(this.rgba), t2 = r3.r, e3 = r3.g, u2 = r3.b, i2 = (a2 = r3.a) < 1 ? s(n(255 * a2)) : "", "#" + s(t2) + s(e3) + s(u2) + i2;
+                return r3 = o$1(this.rgba), t2 = r3.r, e3 = r3.g, u2 = r3.b, i2 = (a2 = r3.a) < 1 ? s(n(255 * a2)) : "", "#" + s(t2) + s(e3) + s(u2) + i2;
                 var r3, t2, e3, u2, a2, i2;
             }, r2.prototype.toRgb = function() {
-                return o$2(this.rgba);
+                return o$1(this.rgba);
             }, r2.prototype.toRgbString = function() {
-                return r3 = o$2(this.rgba), t2 = r3.r, n2 = r3.g, e3 = r3.b, (u2 = r3.a) < 1 ? "rgba(" + t2 + ", " + n2 + ", " + e3 + ", " + u2 + ")" : "rgb(" + t2 + ", " + n2 + ", " + e3 + ")";
+                return r3 = o$1(this.rgba), t2 = r3.r, n2 = r3.g, e3 = r3.b, (u2 = r3.a) < 1 ? "rgba(" + t2 + ", " + n2 + ", " + e3 + ", " + u2 + ")" : "rgb(" + t2 + ", " + n2 + ", " + e3 + ")";
                 var r3, t2, n2, e3, u2;
             }, r2.prototype.toHsl = function() {
-                return d(c$2(this.rgba));
+                return d$1(c$2(this.rgba));
             }, r2.prototype.toHslString = function() {
-                return r3 = d(c$2(this.rgba)), t2 = r3.h, n2 = r3.s, e3 = r3.l, (u2 = r3.a) < 1 ? "hsla(" + t2 + ", " + n2 + "%, " + e3 + "%, " + u2 + ")" : "hsl(" + t2 + ", " + n2 + "%, " + e3 + "%)";
+                return r3 = d$1(c$2(this.rgba)), t2 = r3.h, n2 = r3.s, e3 = r3.l, (u2 = r3.a) < 1 ? "hsla(" + t2 + ", " + n2 + "%, " + e3 + "%, " + u2 + ")" : "hsl(" + t2 + ", " + n2 + "%, " + e3 + "%)";
                 var r3, t2, n2, e3, u2;
             }, r2.prototype.toHsv = function() {
                 return r3 = h(this.rgba), {
                     h: n(r3.h),
                     s: n(r3.s),
                     v: n(r3.v),
                     a: n(r3.a, 3)
                 };
                 var r3;
             }, r2.prototype.invert = function() {
-                return w$2({
+                return w$1({
                     r: 255 - (r3 = this.rgba).r,
                     g: 255 - r3.g,
                     b: 255 - r3.b,
                     a: r3.a
                 });
                 var r3;
             }, r2.prototype.saturate = function(r3) {
-                return void 0 === r3 && (r3 = 0.1), w$2(M$1(this.rgba, r3));
+                return void 0 === r3 && (r3 = 0.1), w$1(M$1(this.rgba, r3));
             }, r2.prototype.desaturate = function(r3) {
-                return void 0 === r3 && (r3 = 0.1), w$2(M$1(this.rgba, -r3));
+                return void 0 === r3 && (r3 = 0.1), w$1(M$1(this.rgba, -r3));
             }, r2.prototype.grayscale = function() {
-                return w$2(M$1(this.rgba, -1));
+                return w$1(M$1(this.rgba, -1));
             }, r2.prototype.lighten = function(r3) {
-                return void 0 === r3 && (r3 = 0.1), w$2($$1(this.rgba, r3));
+                return void 0 === r3 && (r3 = 0.1), w$1($$1(this.rgba, r3));
             }, r2.prototype.darken = function(r3) {
-                return void 0 === r3 && (r3 = 0.1), w$2($$1(this.rgba, -r3));
+                return void 0 === r3 && (r3 = 0.1), w$1($$1(this.rgba, -r3));
             }, r2.prototype.rotate = function(r3) {
                 return void 0 === r3 && (r3 = 15), this.hue(this.hue() + r3);
             }, r2.prototype.alpha = function(r3) {
-                return "number" == typeof r3 ? w$2({
+                return "number" == typeof r3 ? w$1({
                     r: (t2 = this.rgba).r,
                     g: t2.g,
                     b: t2.b,
                     a: r3
                 }) : n(this.rgba.a, 3);
                 var t2;
             }, r2.prototype.hue = function(r3) {
                 var t2 = c$2(this.rgba);
-                return "number" == typeof r3 ? w$2({
+                return "number" == typeof r3 ? w$1({
                     h: r3,
                     s: t2.s,
                     l: t2.l,
                     a: t2.a
                 }) : n(t2.h);
             }, r2.prototype.isEqual = function(r3) {
-                return this.toHex() === w$2(r3).toHex();
+                return this.toHex() === w$1(r3).toHex();
             }, r2;
         }(),
-        w$2 = function(r2) {
+        w$1 = function(r2) {
             return r2 instanceof j$1 ? r2 : new j$1(r2);
         },
         S$1 = [],
         k$1 = function(r2) {
             r2.forEach(function(r3) {
                 S$1.indexOf(r3) < 0 && (r3(j$1, y$2), S$1.push(r3));
             });
@@ -350499,15 +350597,15 @@
             } else if (typeof value === "string" || typeof value === "object") {
                 if (typeof value === "string") {
                     const match2 = _Color.HEX_PATTERN.exec(value);
                     if (match2) {
                         value = `#${match2[2]}`;
                     }
                 }
-                const color2 = w$2(value);
+                const color2 = w$1(value);
                 if (color2.isValid()) {
                     ({
                         r: r2,
                         g: g2,
                         b: b2,
                         a: a2
                     } = color2.rgba);
@@ -359694,1815 +359792,14 @@
             },
             set(value) {
                 deprecation("7.1.0", "settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren");
                 Container.defaultSortableChildren = value;
             }
         }
     });
-    var S = Object.defineProperty;
-    var M = (c2, r2, t2) => r2 in c2 ? S(c2, r2, {
-        enumerable: true,
-        configurable: true,
-        writable: true,
-        value: t2
-    }) : c2[r2] = t2;
-    var o$1 = (c2, r2, t2) => (M(c2, typeof r2 != "symbol" ? r2 + "" : r2, t2), t2);
-    class f {
-        constructor(r2) {
-            o$1(this, "parent");
-            o$1(this, "paused");
-            this.parent = r2, this.paused = false;
-        }
-        destroy() {}
-        down(r2) {
-            return false;
-        }
-        move(r2) {
-            return false;
-        }
-        up(r2) {
-            return false;
-        }
-        wheel(r2) {
-            return false;
-        }
-        update(r2) {}
-        resize() {}
-        reset() {}
-        pause() {
-            this.paused = true;
-        }
-        resume() {
-            this.paused = false;
-        }
-    }
-    var C$1 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {},
-        H$1 = {
-            exports: {}
-        };
-    (function(c2, r2) {
-        (function() {
-            var t2, i2;
-            i2 = function(e3) {
-                return c2.exports = e3;
-            }, t2 = {
-                linear: function(e3, n2, s2, h2) {
-                    return s2 * e3 / h2 + n2;
-                },
-                easeInQuad: function(e3, n2, s2, h2) {
-                    return s2 * (e3 /= h2) * e3 + n2;
-                },
-                easeOutQuad: function(e3, n2, s2, h2) {
-                    return -s2 * (e3 /= h2) * (e3 - 2) + n2;
-                },
-                easeInOutQuad: function(e3, n2, s2, h2) {
-                    return (e3 /= h2 / 2) < 1 ? s2 / 2 * e3 * e3 + n2 : -s2 / 2 * (--e3 * (e3 - 2) - 1) + n2;
-                },
-                easeInCubic: function(e3, n2, s2, h2) {
-                    return s2 * (e3 /= h2) * e3 * e3 + n2;
-                },
-                easeOutCubic: function(e3, n2, s2, h2) {
-                    return s2 * ((e3 = e3 / h2 - 1) * e3 * e3 + 1) + n2;
-                },
-                easeInOutCubic: function(e3, n2, s2, h2) {
-                    return (e3 /= h2 / 2) < 1 ? s2 / 2 * e3 * e3 * e3 + n2 : s2 / 2 * ((e3 -= 2) * e3 * e3 + 2) + n2;
-                },
-                easeInQuart: function(e3, n2, s2, h2) {
-                    return s2 * (e3 /= h2) * e3 * e3 * e3 + n2;
-                },
-                easeOutQuart: function(e3, n2, s2, h2) {
-                    return -s2 * ((e3 = e3 / h2 - 1) * e3 * e3 * e3 - 1) + n2;
-                },
-                easeInOutQuart: function(e3, n2, s2, h2) {
-                    return (e3 /= h2 / 2) < 1 ? s2 / 2 * e3 * e3 * e3 * e3 + n2 : -s2 / 2 * ((e3 -= 2) * e3 * e3 * e3 - 2) + n2;
-                },
-                easeInQuint: function(e3, n2, s2, h2) {
-                    return s2 * (e3 /= h2) * e3 * e3 * e3 * e3 + n2;
-                },
-                easeOutQuint: function(e3, n2, s2, h2) {
-                    return s2 * ((e3 = e3 / h2 - 1) * e3 * e3 * e3 * e3 + 1) + n2;
-                },
-                easeInOutQuint: function(e3, n2, s2, h2) {
-                    return (e3 /= h2 / 2) < 1 ? s2 / 2 * e3 * e3 * e3 * e3 * e3 + n2 : s2 / 2 * ((e3 -= 2) * e3 * e3 * e3 * e3 + 2) + n2;
-                },
-                easeInSine: function(e3, n2, s2, h2) {
-                    return -s2 * Math.cos(e3 / h2 * (Math.PI / 2)) + s2 + n2;
-                },
-                easeOutSine: function(e3, n2, s2, h2) {
-                    return s2 * Math.sin(e3 / h2 * (Math.PI / 2)) + n2;
-                },
-                easeInOutSine: function(e3, n2, s2, h2) {
-                    return -s2 / 2 * (Math.cos(Math.PI * e3 / h2) - 1) + n2;
-                },
-                easeInExpo: function(e3, n2, s2, h2) {
-                    return e3 === 0 ? n2 : s2 * Math.pow(2, 10 * (e3 / h2 - 1)) + n2;
-                },
-                easeOutExpo: function(e3, n2, s2, h2) {
-                    return e3 === h2 ? n2 + s2 : s2 * (-Math.pow(2, -10 * e3 / h2) + 1) + n2;
-                },
-                easeInOutExpo: function(e3, n2, s2, h2) {
-                    return (e3 /= h2 / 2) < 1 ? s2 / 2 * Math.pow(2, 10 * (e3 - 1)) + n2 : s2 / 2 * (-Math.pow(2, -10 * --e3) + 2) + n2;
-                },
-                easeInCirc: function(e3, n2, s2, h2) {
-                    return -s2 * (Math.sqrt(1 - (e3 /= h2) * e3) - 1) + n2;
-                },
-                easeOutCirc: function(e3, n2, s2, h2) {
-                    return s2 * Math.sqrt(1 - (e3 = e3 / h2 - 1) * e3) + n2;
-                },
-                easeInOutCirc: function(e3, n2, s2, h2) {
-                    return (e3 /= h2 / 2) < 1 ? -s2 / 2 * (Math.sqrt(1 - e3 * e3) - 1) + n2 : s2 / 2 * (Math.sqrt(1 - (e3 -= 2) * e3) + 1) + n2;
-                },
-                easeInElastic: function(e3, n2, s2, h2) {
-                    var a2, p2, l2;
-                    return l2 = 1.70158, p2 = 0, a2 = s2, e3 === 0 || (e3 /= h2), p2 || (p2 = h2 * 0.3), a2 < Math.abs(s2) ? (a2 = s2, l2 = p2 / 4) : l2 = p2 / (2 * Math.PI) * Math.asin(s2 / a2), -(a2 * Math.pow(2, 10 * (e3 -= 1)) * Math.sin((e3 * h2 - l2) * (2 * Math.PI) / p2)) + n2;
-                },
-                easeOutElastic: function(e3, n2, s2, h2) {
-                    var a2, p2, l2;
-                    return l2 = 1.70158, p2 = 0, a2 = s2, e3 === 0 || (e3 /= h2), p2 || (p2 = h2 * 0.3), a2 < Math.abs(s2) ? (a2 = s2, l2 = p2 / 4) : l2 = p2 / (2 * Math.PI) * Math.asin(s2 / a2), a2 * Math.pow(2, -10 * e3) * Math.sin((e3 * h2 - l2) * (2 * Math.PI) / p2) + s2 + n2;
-                },
-                easeInOutElastic: function(e3, n2, s2, h2) {
-                    var a2, p2, l2;
-                    return l2 = 1.70158, p2 = 0, a2 = s2, e3 === 0 || (e3 /= h2 / 2), p2 || (p2 = h2 * (0.3 * 1.5)), a2 < Math.abs(s2) ? (a2 = s2, l2 = p2 / 4) : l2 = p2 / (2 * Math.PI) * Math.asin(s2 / a2), e3 < 1 ? -0.5 * (a2 * Math.pow(2, 10 * (e3 -= 1)) * Math.sin((e3 * h2 - l2) * (2 * Math.PI) / p2)) + n2 : a2 * Math.pow(2, -10 * (e3 -= 1)) * Math.sin((e3 * h2 - l2) * (2 * Math.PI) / p2) * 0.5 + s2 + n2;
-                },
-                easeInBack: function(e3, n2, s2, h2, a2) {
-                    return a2 === void 0 && (a2 = 1.70158), s2 * (e3 /= h2) * e3 * ((a2 + 1) * e3 - a2) + n2;
-                },
-                easeOutBack: function(e3, n2, s2, h2, a2) {
-                    return a2 === void 0 && (a2 = 1.70158), s2 * ((e3 = e3 / h2 - 1) * e3 * ((a2 + 1) * e3 + a2) + 1) + n2;
-                },
-                easeInOutBack: function(e3, n2, s2, h2, a2) {
-                    return a2 === void 0 && (a2 = 1.70158), (e3 /= h2 / 2) < 1 ? s2 / 2 * (e3 * e3 * (((a2 *= 1.525) + 1) * e3 - a2)) + n2 : s2 / 2 * ((e3 -= 2) * e3 * (((a2 *= 1.525) + 1) * e3 + a2) + 2) + n2;
-                },
-                easeInBounce: function(e3, n2, s2, h2) {
-                    var a2;
-                    return a2 = t2.easeOutBounce(h2 - e3, 0, s2, h2), s2 - a2 + n2;
-                },
-                easeOutBounce: function(e3, n2, s2, h2) {
-                    return (e3 /= h2) < 1 / 2.75 ? s2 * (7.5625 * e3 * e3) + n2 : e3 < 2 / 2.75 ? s2 * (7.5625 * (e3 -= 1.5 / 2.75) * e3 + 0.75) + n2 : e3 < 2.5 / 2.75 ? s2 * (7.5625 * (e3 -= 2.25 / 2.75) * e3 + 0.9375) + n2 : s2 * (7.5625 * (e3 -= 2.625 / 2.75) * e3 + 0.984375) + n2;
-                },
-                easeInOutBounce: function(e3, n2, s2, h2) {
-                    var a2;
-                    return e3 < h2 / 2 ? (a2 = t2.easeInBounce(e3 * 2, 0, s2, h2), a2 * 0.5 + n2) : (a2 = t2.easeOutBounce(e3 * 2 - h2, 0, s2, h2), a2 * 0.5 + s2 * 0.5 + n2);
-                }
-            }, i2(t2);
-        }).call(C$1);
-    })(H$1);
-    const b$1 = H$1.exports;
-
-    function W(c2, r2) {
-        if (c2) {
-            if (typeof c2 == "function")
-                return c2;
-            if (typeof c2 == "string")
-                return b$1[c2];
-        } else
-            return b$1[r2];
-    }
-    const I = {
-        removeOnInterrupt: false,
-        ease: "linear",
-        time: 1e3
-    };
-    class k extends f {
-        constructor(t2, i2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "startX");
-            o$1(this, "startY");
-            o$1(this, "deltaX");
-            o$1(this, "deltaY");
-            o$1(this, "keepCenter");
-            o$1(this, "startWidth", null);
-            o$1(this, "startHeight", null);
-            o$1(this, "deltaWidth", null);
-            o$1(this, "deltaHeight", null);
-            o$1(this, "width", null);
-            o$1(this, "height", null);
-            o$1(this, "time", 0);
-            this.options = Object.assign({}, I, i2), this.options.ease = W(this.options.ease), this.setupPosition(), this.setupZoom(), this.time = 0;
-        }
-        setupPosition() {
-            typeof this.options.position < "u" ? (this.startX = this.parent.center.x, this.startY = this.parent.center.y, this.deltaX = this.options.position.x - this.parent.center.x, this.deltaY = this.options.position.y - this.parent.center.y, this.keepCenter = false) : this.keepCenter = true;
-        }
-        setupZoom() {
-            this.width = null, this.height = null, typeof this.options.scale < "u" ? this.width = this.parent.screenWidth / this.options.scale : typeof this.options.scaleX < "u" || typeof this.options.scaleY < "u" ? (typeof this.options.scaleX < "u" && (this.width = this.parent.screenWidth / this.options.scaleX), typeof this.options.scaleY < "u" && (this.height = this.parent.screenHeight / this.options.scaleY)) : (typeof this.options.width < "u" && (this.width = this.options.width), typeof this.options.height < "u" && (this.height = this.options.height)), this.width !== null && (this.startWidth = this.parent.screenWidthInWorldPixels, this.deltaWidth = this.width - this.startWidth), this.height !== null && (this.startHeight = this.parent.screenHeightInWorldPixels, this.deltaHeight = this.height - this.startHeight);
-        }
-        down() {
-            return this.options.removeOnInterrupt && this.parent.plugins.remove("animate"), false;
-        }
-        complete() {
-            this.parent.plugins.remove("animate"), this.width !== null && this.parent.fitWidth(this.width, this.keepCenter, this.height === null), this.height !== null && this.parent.fitHeight(this.height, this.keepCenter, this.width === null), !this.keepCenter && this.options.position && this.parent.moveCenter(this.options.position), this.parent.emit("animate-end", this.parent), this.options.callbackOnComplete && this.options.callbackOnComplete(this.parent);
-        }
-        update(t2) {
-            if (this.paused)
-                return;
-            this.time += t2;
-            const i2 = new Point$1(this.parent.scale.x, this.parent.scale.y);
-            if (this.time >= this.options.time) {
-                const e3 = this.parent.width,
-                    n2 = this.parent.height;
-                this.complete(), (e3 !== this.parent.width || n2 !== this.parent.height) && this.parent.emit("zoomed", {
-                    viewport: this.parent,
-                    original: i2,
-                    type: "animate"
-                });
-            } else {
-                const e3 = this.options.ease(this.time, 0, 1, this.options.time);
-                if (this.width !== null) {
-                    const n2 = this.startWidth,
-                        s2 = this.deltaWidth;
-                    this.parent.fitWidth(
-                        n2 + s2 * e3,
-                        this.keepCenter,
-                        this.height === null
-                    );
-                }
-                if (this.height !== null) {
-                    const n2 = this.startHeight,
-                        s2 = this.deltaHeight;
-                    this.parent.fitHeight(
-                        n2 + s2 * e3,
-                        this.keepCenter,
-                        this.width === null
-                    );
-                }
-                if (this.width === null ? this.parent.scale.x = this.parent.scale.y : this.height === null && (this.parent.scale.y = this.parent.scale.x), !this.keepCenter) {
-                    const n2 = this.startX,
-                        s2 = this.startY,
-                        h2 = this.deltaX,
-                        a2 = this.deltaY,
-                        p2 = new Point$1(this.parent.x, this.parent.y);
-                    this.parent.moveCenter(n2 + h2 * e3, s2 + a2 * e3), this.parent.emit("moved", {
-                        viewport: this.parent,
-                        original: p2,
-                        type: "animate"
-                    });
-                }
-                (this.width || this.height) && this.parent.emit("zoomed", {
-                    viewport: this.parent,
-                    original: i2,
-                    type: "animate"
-                });
-            }
-        }
-    }
-    const Y$1 = {
-        sides: "all",
-        friction: 0.5,
-        time: 150,
-        ease: "easeInOutSine",
-        underflow: "center",
-        bounceBox: null
-    };
-    class X$1 extends f {
-        constructor(t2, i2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "left");
-            o$1(this, "top");
-            o$1(this, "right");
-            o$1(this, "bottom");
-            o$1(this, "underflowX");
-            o$1(this, "underflowY");
-            o$1(this, "ease");
-            o$1(this, "toX");
-            o$1(this, "toY");
-            this.options = Object.assign({}, Y$1, i2), this.ease = W(this.options.ease, "easeInOutSine"), this.options.sides ? this.options.sides === "all" ? this.top = this.bottom = this.left = this.right = true : this.options.sides === "horizontal" ? (this.right = this.left = true, this.top = this.bottom = false) : this.options.sides === "vertical" ? (this.left = this.right = false, this.top = this.bottom = true) : (this.top = this.options.sides.indexOf("top") !== -1, this.bottom = this.options.sides.indexOf("bottom") !== -1, this.left = this.options.sides.indexOf("left") !== -1, this.right = this.options.sides.indexOf("right") !== -1) : this.left = this.top = this.right = this.bottom = false;
-            const e3 = this.options.underflow.toLowerCase();
-            e3 === "center" ? (this.underflowX = 0, this.underflowY = 0) : (this.underflowX = e3.indexOf("left") !== -1 ? -1 : e3.indexOf("right") !== -1 ? 1 : 0, this.underflowY = e3.indexOf("top") !== -1 ? -1 : e3.indexOf("bottom") !== -1 ? 1 : 0), this.reset();
-        }
-        isActive() {
-            return this.toX !== null || this.toY !== null;
-        }
-        down() {
-            return this.toX = this.toY = null, false;
-        }
-        up() {
-            return this.bounce(), false;
-        }
-        update(t2) {
-            if (!this.paused) {
-                if (this.bounce(), this.toX) {
-                    const i2 = this.toX;
-                    i2.time += t2, this.parent.emit("moved", {
-                        viewport: this.parent,
-                        type: "bounce-x"
-                    }), i2.time >= this.options.time ? (this.parent.x = i2.end, this.toX = null, this.parent.emit("bounce-x-end", this.parent)) : this.parent.x = this.ease(i2.time, i2.start, i2.delta, this.options.time);
-                }
-                if (this.toY) {
-                    const i2 = this.toY;
-                    i2.time += t2, this.parent.emit("moved", {
-                        viewport: this.parent,
-                        type: "bounce-y"
-                    }), i2.time >= this.options.time ? (this.parent.y = i2.end, this.toY = null, this.parent.emit("bounce-y-end", this.parent)) : this.parent.y = this.ease(i2.time, i2.start, i2.delta, this.options.time);
-                }
-            }
-        }
-        calcUnderflowX() {
-            let t2;
-            switch (this.underflowX) {
-                case -1:
-                    t2 = 0;
-                    break;
-                case 1:
-                    t2 = this.parent.screenWidth - this.parent.screenWorldWidth;
-                    break;
-                default:
-                    t2 = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2;
-            }
-            return t2;
-        }
-        calcUnderflowY() {
-            let t2;
-            switch (this.underflowY) {
-                case -1:
-                    t2 = 0;
-                    break;
-                case 1:
-                    t2 = this.parent.screenHeight - this.parent.screenWorldHeight;
-                    break;
-                default:
-                    t2 = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2;
-            }
-            return t2;
-        }
-        oob() {
-            const t2 = this.options.bounceBox;
-            if (t2) {
-                const i2 = typeof t2.x > "u" ? 0 : t2.x,
-                    e3 = typeof t2.y > "u" ? 0 : t2.y,
-                    n2 = typeof t2.width > "u" ? this.parent.worldWidth : t2.width,
-                    s2 = typeof t2.height > "u" ? this.parent.worldHeight : t2.height;
-                return {
-                    left: this.parent.left < i2,
-                    right: this.parent.right > n2,
-                    top: this.parent.top < e3,
-                    bottom: this.parent.bottom > s2,
-                    topLeft: new Point$1(
-                        i2 * this.parent.scale.x,
-                        e3 * this.parent.scale.y
-                    ),
-                    bottomRight: new Point$1(
-                        n2 * this.parent.scale.x - this.parent.screenWidth,
-                        s2 * this.parent.scale.y - this.parent.screenHeight
-                    )
-                };
-            }
-            return {
-                left: this.parent.left < 0,
-                right: this.parent.right > this.parent.worldWidth,
-                top: this.parent.top < 0,
-                bottom: this.parent.bottom > this.parent.worldHeight,
-                topLeft: new Point$1(0, 0),
-                bottomRight: new Point$1(
-                    this.parent.worldWidth * this.parent.scale.x - this.parent.screenWidth,
-                    this.parent.worldHeight * this.parent.scale.y - this.parent.screenHeight
-                )
-            };
-        }
-        bounce() {
-            var s2, h2;
-            if (this.paused)
-                return;
-            let t2, i2 = this.parent.plugins.get("decelerate", true);
-            i2 && (i2.x || i2.y) && (i2.x && i2.percentChangeX === ((s2 = i2.options) == null ? void 0 : s2.friction) || i2.y && i2.percentChangeY === ((h2 = i2.options) == null ? void 0 : h2.friction)) && (t2 = this.oob(), (t2.left && this.left || t2.right && this.right) && (i2.percentChangeX = this.options.friction), (t2.top && this.top || t2.bottom && this.bottom) && (i2.percentChangeY = this.options.friction));
-            const e3 = this.parent.plugins.get("drag", true) || {},
-                n2 = this.parent.plugins.get("pinch", true) || {};
-            if (i2 = i2 || {}, !(e3 != null && e3.active) && !(n2 != null && n2.active) && (!this.toX || !this.toY) && (!i2.x || !i2.y)) {
-                t2 = t2 || this.oob();
-                const a2 = t2.topLeft,
-                    p2 = t2.bottomRight;
-                if (!this.toX && !i2.x) {
-                    let l2 = null;
-                    t2.left && this.left ? l2 = this.parent.screenWorldWidth < this.parent.screenWidth ? this.calcUnderflowX() : -a2.x : t2.right && this.right && (l2 = this.parent.screenWorldWidth < this.parent.screenWidth ? this.calcUnderflowX() : -p2.x), l2 !== null && this.parent.x !== l2 && (this.toX = {
-                        time: 0,
-                        start: this.parent.x,
-                        delta: l2 - this.parent.x,
-                        end: l2
-                    }, this.parent.emit("bounce-x-start", this.parent));
-                }
-                if (!this.toY && !i2.y) {
-                    let l2 = null;
-                    t2.top && this.top ? l2 = this.parent.screenWorldHeight < this.parent.screenHeight ? this.calcUnderflowY() : -a2.y : t2.bottom && this.bottom && (l2 = this.parent.screenWorldHeight < this.parent.screenHeight ? this.calcUnderflowY() : -p2.y), l2 !== null && this.parent.y !== l2 && (this.toY = {
-                        time: 0,
-                        start: this.parent.y,
-                        delta: l2 - this.parent.y,
-                        end: l2
-                    }, this.parent.emit("bounce-y-start", this.parent));
-                }
-            }
-        }
-        reset() {
-            this.toX = this.toY = null, this.bounce();
-        }
-    }
-    const z$1 = {
-        left: false,
-        right: false,
-        top: false,
-        bottom: false,
-        direction: null,
-        underflow: "center"
-    };
-    class A$1 extends f {
-        constructor(t2, i2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "last");
-            o$1(this, "noUnderflow");
-            o$1(this, "underflowX");
-            o$1(this, "underflowY");
-            this.options = Object.assign({}, z$1, i2), this.options.direction && (this.options.left = this.options.direction === "x" || this.options.direction === "all" ? true : null, this.options.right = this.options.direction === "x" || this.options.direction === "all" ? true : null, this.options.top = this.options.direction === "y" || this.options.direction === "all" ? true : null, this.options.bottom = this.options.direction === "y" || this.options.direction === "all" ? true : null), this.parseUnderflow(), this.last = {
-                x: null,
-                y: null,
-                scaleX: null,
-                scaleY: null
-            }, this.update();
-        }
-        parseUnderflow() {
-            const t2 = this.options.underflow.toLowerCase();
-            t2 === "none" ? this.noUnderflow = true : t2 === "center" ? (this.underflowX = this.underflowY = 0, this.noUnderflow = false) : (this.underflowX = t2.indexOf("left") !== -1 ? -1 : t2.indexOf("right") !== -1 ? 1 : 0, this.underflowY = t2.indexOf("top") !== -1 ? -1 : t2.indexOf("bottom") !== -1 ? 1 : 0, this.noUnderflow = false);
-        }
-        move() {
-            return this.update(), false;
-        }
-        update() {
-            if (this.paused || this.parent.x === this.last.x && this.parent.y === this.last.y && this.parent.scale.x === this.last.scaleX && this.parent.scale.y === this.last.scaleY)
-                return;
-            const t2 = new Point$1(this.parent.x, this.parent.y),
-                i2 = this.parent.plugins.decelerate || {};
-            if (this.options.left !== null || this.options.right !== null) {
-                let e3 = false;
-                if (!this.noUnderflow && this.parent.screenWorldWidth < this.parent.screenWidth)
-                    switch (this.underflowX) {
-                        case -1:
-                            this.parent.x !== 0 && (this.parent.x = 0, e3 = true);
-                            break;
-                        case 1:
-                            this.parent.x !== this.parent.screenWidth - this.parent.screenWorldWidth && (this.parent.x = this.parent.screenWidth - this.parent.screenWorldWidth, e3 = true);
-                            break;
-                        default:
-                            this.parent.x !== (this.parent.screenWidth - this.parent.screenWorldWidth) / 2 && (this.parent.x = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2, e3 = true);
-                    }
-                else
-                    this.options.left !== null && this.parent.left < (this.options.left === true ? 0 : this.options.left) && (this.parent.x = -(this.options.left === true ? 0 : this.options.left) * this.parent.scale.x, i2.x = 0, e3 = true), this.options.right !== null && this.parent.right > (this.options.right === true ? this.parent.worldWidth : this.options.right) && (this.parent.x = -(this.options.right === true ? this.parent.worldWidth : this.options.right) * this.parent.scale.x + this.parent.screenWidth, i2.x = 0, e3 = true);
-                e3 && this.parent.emit("moved", {
-                    viewport: this.parent,
-                    original: t2,
-                    type: "clamp-x"
-                });
-            }
-            if (this.options.top !== null || this.options.bottom !== null) {
-                let e3 = false;
-                if (!this.noUnderflow && this.parent.screenWorldHeight < this.parent.screenHeight)
-                    switch (this.underflowY) {
-                        case -1:
-                            this.parent.y !== 0 && (this.parent.y = 0, e3 = true);
-                            break;
-                        case 1:
-                            this.parent.y !== this.parent.screenHeight - this.parent.screenWorldHeight && (this.parent.y = this.parent.screenHeight - this.parent.screenWorldHeight, e3 = true);
-                            break;
-                        default:
-                            this.parent.y !== (this.parent.screenHeight - this.parent.screenWorldHeight) / 2 && (this.parent.y = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2, e3 = true);
-                    }
-                else
-                    this.options.top !== null && this.parent.top < (this.options.top === true ? 0 : this.options.top) && (this.parent.y = -(this.options.top === true ? 0 : this.options.top) * this.parent.scale.y, i2.y = 0, e3 = true), this.options.bottom !== null && this.parent.bottom > (this.options.bottom === true ? this.parent.worldHeight : this.options.bottom) && (this.parent.y = -(this.options.bottom === true ? this.parent.worldHeight : this.options.bottom) * this.parent.scale.y + this.parent.screenHeight, i2.y = 0, e3 = true);
-                e3 && this.parent.emit("moved", {
-                    viewport: this.parent,
-                    original: t2,
-                    type: "clamp-y"
-                });
-            }
-            this.last.x = this.parent.x, this.last.y = this.parent.y, this.last.scaleX = this.parent.scale.x, this.last.scaleY = this.parent.scale.y;
-        }
-        reset() {
-            this.update();
-        }
-    }
-    const _$2 = {
-        minWidth: null,
-        minHeight: null,
-        maxWidth: null,
-        maxHeight: null,
-        minScale: null,
-        maxScale: null
-    };
-    class T$2 extends f {
-        constructor(t2, i2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            this.options = Object.assign({}, _$2, i2), this.clamp();
-        }
-        resize() {
-            this.clamp();
-        }
-        clamp() {
-            if (!this.paused) {
-                if (this.options.minWidth || this.options.minHeight || this.options.maxWidth || this.options.maxHeight) {
-                    let t2 = this.parent.worldScreenWidth,
-                        i2 = this.parent.worldScreenHeight;
-                    if (this.options.minWidth !== null && t2 < this.options.minWidth) {
-                        const e3 = this.parent.scale.x;
-                        this.parent.fitWidth(this.options.minWidth, false, false, true), this.parent.scale.y *= this.parent.scale.x / e3, t2 = this.parent.worldScreenWidth, i2 = this.parent.worldScreenHeight, this.parent.emit("zoomed", {
-                            viewport: this.parent,
-                            type: "clamp-zoom"
-                        });
-                    }
-                    if (this.options.maxWidth !== null && t2 > this.options.maxWidth) {
-                        const e3 = this.parent.scale.x;
-                        this.parent.fitWidth(this.options.maxWidth, false, false, true), this.parent.scale.y *= this.parent.scale.x / e3, t2 = this.parent.worldScreenWidth, i2 = this.parent.worldScreenHeight, this.parent.emit("zoomed", {
-                            viewport: this.parent,
-                            type: "clamp-zoom"
-                        });
-                    }
-                    if (this.options.minHeight !== null && i2 < this.options.minHeight) {
-                        const e3 = this.parent.scale.y;
-                        this.parent.fitHeight(this.options.minHeight, false, false, true), this.parent.scale.x *= this.parent.scale.y / e3, t2 = this.parent.worldScreenWidth, i2 = this.parent.worldScreenHeight, this.parent.emit("zoomed", {
-                            viewport: this.parent,
-                            type: "clamp-zoom"
-                        });
-                    }
-                    if (this.options.maxHeight !== null && i2 > this.options.maxHeight) {
-                        const e3 = this.parent.scale.y;
-                        this.parent.fitHeight(this.options.maxHeight, false, false, true), this.parent.scale.x *= this.parent.scale.y / e3, this.parent.emit("zoomed", {
-                            viewport: this.parent,
-                            type: "clamp-zoom"
-                        });
-                    }
-                } else if (this.options.minScale || this.options.maxScale) {
-                    const t2 = {
-                            x: null,
-                            y: null
-                        },
-                        i2 = {
-                            x: null,
-                            y: null
-                        };
-                    if (typeof this.options.minScale == "number")
-                        t2.x = this.options.minScale, t2.y = this.options.minScale;
-                    else if (this.options.minScale !== null) {
-                        const s2 = this.options.minScale;
-                        t2.x = typeof s2.x > "u" ? null : s2.x, t2.y = typeof s2.y > "u" ? null : s2.y;
-                    }
-                    if (typeof this.options.maxScale == "number")
-                        i2.x = this.options.maxScale, i2.y = this.options.maxScale;
-                    else if (this.options.maxScale !== null) {
-                        const s2 = this.options.maxScale;
-                        i2.x = typeof s2.x > "u" ? null : s2.x, i2.y = typeof s2.y > "u" ? null : s2.y;
-                    }
-                    let e3 = this.parent.scale.x,
-                        n2 = this.parent.scale.y;
-                    t2.x !== null && e3 < t2.x && (e3 = t2.x), i2.x !== null && e3 > i2.x && (e3 = i2.x), t2.y !== null && n2 < t2.y && (n2 = t2.y), i2.y !== null && n2 > i2.y && (n2 = i2.y), (e3 !== this.parent.scale.x || n2 !== this.parent.scale.y) && (this.parent.scale.set(e3, n2), this.parent.emit("zoomed", {
-                        viewport: this.parent,
-                        type: "clamp-zoom"
-                    }));
-                }
-            }
-        }
-        reset() {
-            this.clamp();
-        }
-    }
-    const D$1 = {
-            friction: 0.98,
-            bounce: 0.8,
-            minSpeed: 0.01
-        },
-        g = 16;
-    class E extends f {
-        constructor(t2, i2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "x");
-            o$1(this, "y");
-            o$1(this, "percentChangeX");
-            o$1(this, "percentChangeY");
-            o$1(this, "saved");
-            o$1(this, "timeSinceRelease");
-            this.options = Object.assign({}, D$1, i2), this.saved = [], this.timeSinceRelease = 0, this.reset(), this.parent.on("moved", (e3) => this.handleMoved(e3));
-        }
-        down() {
-            return this.saved = [], this.x = this.y = null, false;
-        }
-        isActive() {
-            return !!(this.x || this.y);
-        }
-        move() {
-            if (this.paused)
-                return false;
-            const t2 = this.parent.input.count();
-            return (t2 === 1 || t2 > 1 && !this.parent.plugins.get("pinch", true)) && (this.saved.push({
-                x: this.parent.x,
-                y: this.parent.y,
-                time: performance.now()
-            }), this.saved.length > 60 && this.saved.splice(0, 30)), false;
-        }
-        handleMoved(t2) {
-            if (this.saved.length) {
-                const i2 = this.saved[this.saved.length - 1];
-                t2.type === "clamp-x" && t2.original ? i2.x === t2.original.x && (i2.x = this.parent.x) : t2.type === "clamp-y" && t2.original && i2.y === t2.original.y && (i2.y = this.parent.y);
-            }
-        }
-        up() {
-            if (this.parent.input.count() === 0 && this.saved.length) {
-                const t2 = performance.now();
-                for (const i2 of this.saved)
-                    if (i2.time >= t2 - 100) {
-                        const e3 = t2 - i2.time;
-                        this.x = (this.parent.x - i2.x) / e3, this.y = (this.parent.y - i2.y) / e3, this.percentChangeX = this.percentChangeY = this.options.friction, this.timeSinceRelease = 0;
-                        break;
-                    }
-            }
-            return false;
-        }
-        activate(t2) {
-            t2 = t2 || {}, typeof t2.x < "u" && (this.x = t2.x, this.percentChangeX = this.options.friction), typeof t2.y < "u" && (this.y = t2.y, this.percentChangeY = this.options.friction);
-        }
-        update(t2) {
-            if (this.paused)
-                return;
-            const i2 = this.x || this.y,
-                e3 = this.timeSinceRelease,
-                n2 = this.timeSinceRelease + t2;
-            if (this.x) {
-                const s2 = this.percentChangeX,
-                    h2 = Math.log(s2);
-                this.parent.x += this.x * g / h2 * (Math.pow(s2, n2 / g) - Math.pow(s2, e3 / g)), this.x *= Math.pow(this.percentChangeX, t2 / g);
-            }
-            if (this.y) {
-                const s2 = this.percentChangeY,
-                    h2 = Math.log(s2);
-                this.parent.y += this.y * g / h2 * (Math.pow(s2, n2 / g) - Math.pow(s2, e3 / g)), this.y *= Math.pow(this.percentChangeY, t2 / g);
-            }
-            this.timeSinceRelease += t2, this.x && this.y ? Math.abs(this.x) < this.options.minSpeed && Math.abs(this.y) < this.options.minSpeed && (this.x = 0, this.y = 0) : (Math.abs(this.x || 0) < this.options.minSpeed && (this.x = 0), Math.abs(this.y || 0) < this.options.minSpeed && (this.y = 0)), i2 && this.parent.emit("moved", {
-                viewport: this.parent,
-                type: "decelerate"
-            });
-        }
-        reset() {
-            this.x = this.y = null;
-        }
-    }
-    const L = {
-        direction: "all",
-        pressDrag: true,
-        wheel: true,
-        wheelScroll: 1,
-        reverse: false,
-        clampWheel: false,
-        underflow: "center",
-        factor: 1,
-        mouseButtons: "all",
-        keyToPress: null,
-        ignoreKeyToPressOnTouch: false,
-        lineHeight: 20,
-        wheelSwapAxes: false
-    };
-    class U extends f {
-        constructor(t2, i2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "moved");
-            o$1(this, "reverse");
-            o$1(this, "xDirection");
-            o$1(this, "yDirection");
-            o$1(this, "keyIsPressed");
-            o$1(this, "mouse");
-            o$1(this, "underflowX");
-            o$1(this, "underflowY");
-            o$1(this, "last");
-            o$1(this, "current");
-            o$1(this, "windowEventHandlers", []);
-            this.options = Object.assign({}, L, i2), this.moved = false, this.reverse = this.options.reverse ? 1 : -1, this.xDirection = !this.options.direction || this.options.direction === "all" || this.options.direction === "x", this.yDirection = !this.options.direction || this.options.direction === "all" || this.options.direction === "y", this.keyIsPressed = false, this.parseUnderflow(), this.mouseButtons(this.options.mouseButtons), this.options.keyToPress && this.handleKeyPresses(this.options.keyToPress);
-        }
-        handleKeyPresses(t2) {
-            const i2 = (n2) => {
-                    t2.includes(n2.code) && (this.keyIsPressed = true);
-                },
-                e3 = (n2) => {
-                    t2.includes(n2.code) && (this.keyIsPressed = false);
-                };
-            this.addWindowEventHandler("keyup", e3), this.addWindowEventHandler("keydown", i2);
-        }
-        addWindowEventHandler(t2, i2) {
-            window.addEventListener(t2, i2), this.windowEventHandlers.push({
-                event: t2,
-                handler: i2
-            });
-        }
-        destroy() {
-            this.windowEventHandlers.forEach(({
-                event: t2,
-                handler: i2
-            }) => {
-                window.removeEventListener(t2, i2);
-            });
-        }
-        mouseButtons(t2) {
-            !t2 || t2 === "all" ? this.mouse = [true, true, true] : this.mouse = [
-                t2.indexOf("left") !== -1,
-                t2.indexOf("middle") !== -1,
-                t2.indexOf("right") !== -1
-            ];
-        }
-        parseUnderflow() {
-            const t2 = this.options.underflow.toLowerCase();
-            t2 === "center" ? (this.underflowX = 0, this.underflowY = 0) : (t2.includes("left") ? this.underflowX = -1 : t2.includes("right") ? this.underflowX = 1 : this.underflowX = 0, t2.includes("top") ? this.underflowY = -1 : t2.includes("bottom") ? this.underflowY = 1 : this.underflowY = 0);
-        }
-        checkButtons(t2) {
-            const i2 = t2.pointerType === "mouse",
-                e3 = this.parent.input.count();
-            return !!((e3 === 1 || e3 > 1 && !this.parent.plugins.get("pinch", true)) && (!i2 || this.mouse[t2.button]));
-        }
-        checkKeyPress(t2) {
-            return !this.options.keyToPress || this.keyIsPressed || this.options.ignoreKeyToPressOnTouch && t2.data.pointerType === "touch";
-        }
-        down(t2) {
-            return this.paused || !this.options.pressDrag ? false : this.checkButtons(t2) && this.checkKeyPress(t2) ? (this.last = {
-                x: t2.global.x,
-                y: t2.global.y
-            }, this.current = t2.pointerId, true) : (this.last = null, false);
-        }
-        get active() {
-            return this.moved;
-        }
-        move(t2) {
-            if (this.paused || !this.options.pressDrag)
-                return false;
-            if (this.last && this.current === t2.data.pointerId) {
-                const i2 = t2.global.x,
-                    e3 = t2.global.y,
-                    n2 = this.parent.input.count();
-                if (n2 === 1 || n2 > 1 && !this.parent.plugins.get("pinch", true)) {
-                    const s2 = i2 - this.last.x,
-                        h2 = e3 - this.last.y;
-                    if (this.moved || this.xDirection && this.parent.input.checkThreshold(s2) || this.yDirection && this.parent.input.checkThreshold(h2)) {
-                        const a2 = {
-                            x: i2,
-                            y: e3
-                        };
-                        return this.xDirection && (this.parent.x += (a2.x - this.last.x) * this.options.factor), this.yDirection && (this.parent.y += (a2.y - this.last.y) * this.options.factor), this.last = a2, this.moved || this.parent.emit("drag-start", {
-                            event: t2,
-                            screen: new Point$1(this.last.x, this.last.y),
-                            world: this.parent.toWorld(new Point$1(this.last.x, this.last.y)),
-                            viewport: this.parent
-                        }), this.moved = true, this.parent.emit("moved", {
-                            viewport: this.parent,
-                            type: "drag"
-                        }), true;
-                    }
-                } else
-                    this.moved = false;
-            }
-            return false;
-        }
-        up(t2) {
-            if (this.paused)
-                return false;
-            const i2 = this.parent.input.touches;
-            if (i2.length === 1) {
-                const e3 = i2[0];
-                return e3.last && (this.last = {
-                    x: e3.last.x,
-                    y: e3.last.y
-                }, this.current = e3.id), this.moved = false, true;
-            } else if (this.last && this.moved) {
-                const e3 = new Point$1(this.last.x, this.last.y);
-                return this.parent.emit("drag-end", {
-                    event: t2,
-                    screen: e3,
-                    world: this.parent.toWorld(e3),
-                    viewport: this.parent
-                }), this.last = null, this.moved = false, true;
-            }
-            return false;
-        }
-        wheel(t2) {
-            if (this.paused)
-                return false;
-            if (this.options.wheel) {
-                const i2 = this.parent.plugins.get("wheel", true);
-                if (!i2 || !i2.options.wheelZoom && !t2.ctrlKey) {
-                    const e3 = t2.deltaMode ? this.options.lineHeight : 1,
-                        n2 = [t2.deltaX, t2.deltaY],
-                        [s2, h2] = this.options.wheelSwapAxes ? n2.reverse() : n2;
-                    return this.xDirection && (this.parent.x += s2 * e3 * this.options.wheelScroll * this.reverse), this.yDirection && (this.parent.y += h2 * e3 * this.options.wheelScroll * this.reverse), this.options.clampWheel && this.clamp(), this.parent.emit("wheel-scroll", this.parent), this.parent.emit("moved", {
-                        viewport: this.parent,
-                        type: "wheel"
-                    }), this.parent.options.passiveWheel || t2.preventDefault(), this.parent.options.stopPropagation && t2.stopPropagation(), true;
-                }
-            }
-            return false;
-        }
-        resume() {
-            this.last = null, this.paused = false;
-        }
-        clamp() {
-            const t2 = this.parent.plugins.get("decelerate", true) || {};
-            if (this.options.clampWheel !== "y")
-                if (this.parent.screenWorldWidth < this.parent.screenWidth)
-                    switch (this.underflowX) {
-                        case -1:
-                            this.parent.x = 0;
-                            break;
-                        case 1:
-                            this.parent.x = this.parent.screenWidth - this.parent.screenWorldWidth;
-                            break;
-                        default:
-                            this.parent.x = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2;
-                    }
-            else
-                this.parent.left < 0 ? (this.parent.x = 0, t2.x = 0) : this.parent.right > this.parent.worldWidth && (this.parent.x = -this.parent.worldWidth * this.parent.scale.x + this.parent.screenWidth, t2.x = 0);
-            if (this.options.clampWheel !== "x")
-                if (this.parent.screenWorldHeight < this.parent.screenHeight)
-                    switch (this.underflowY) {
-                        case -1:
-                            this.parent.y = 0;
-                            break;
-                        case 1:
-                            this.parent.y = this.parent.screenHeight - this.parent.screenWorldHeight;
-                            break;
-                        default:
-                            this.parent.y = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2;
-                    }
-            else
-                this.parent.top < 0 && (this.parent.y = 0, t2.y = 0), this.parent.bottom > this.parent.worldHeight && (this.parent.y = -this.parent.worldHeight * this.parent.scale.y + this.parent.screenHeight, t2.y = 0);
-        }
-    }
-    const V$1 = {
-        speed: 0,
-        acceleration: null,
-        radius: null
-    };
-    class F$2 extends f {
-        constructor(t2, i2, e3 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "target");
-            o$1(this, "velocity");
-            this.target = i2, this.options = Object.assign({}, V$1, e3), this.velocity = {
-                x: 0,
-                y: 0
-            };
-        }
-        update(t2) {
-            if (this.paused)
-                return;
-            const i2 = this.parent.center;
-            let e3 = this.target.x,
-                n2 = this.target.y;
-            if (this.options.radius)
-                if (Math.sqrt(Math.pow(this.target.y - i2.y, 2) + Math.pow(this.target.x - i2.x, 2)) > this.options.radius) {
-                    const p2 = Math.atan2(this.target.y - i2.y, this.target.x - i2.x);
-                    e3 = this.target.x - Math.cos(p2) * this.options.radius, n2 = this.target.y - Math.sin(p2) * this.options.radius;
-                } else
-                    return;
-            const s2 = e3 - i2.x,
-                h2 = n2 - i2.y;
-            if (s2 || h2)
-                if (this.options.speed)
-                    if (this.options.acceleration) {
-                        const a2 = Math.atan2(n2 - i2.y, e3 - i2.x),
-                            p2 = Math.sqrt(Math.pow(s2, 2) + Math.pow(h2, 2));
-                        if (p2) {
-                            const l2 = (Math.pow(this.velocity.x, 2) + Math.pow(this.velocity.y, 2)) / (2 * this.options.acceleration);
-                            p2 > l2 ? this.velocity = {
-                                x: Math.min(this.velocity.x + (this.options.acceleration * t2, this.options.speed)),
-                                y: Math.min(this.velocity.y + (this.options.acceleration * t2, this.options.speed))
-                            } : this.velocity = {
-                                x: Math.max(this.velocity.x - this.options.acceleration * this.options.speed, 0),
-                                y: Math.max(this.velocity.y - this.options.acceleration * this.options.speed, 0)
-                            };
-                            const d2 = Math.cos(a2) * this.velocity.x,
-                                m2 = Math.sin(a2) * this.velocity.y,
-                                y2 = Math.abs(d2) > Math.abs(s2) ? e3 : i2.x + d2,
-                                x2 = Math.abs(m2) > Math.abs(h2) ? n2 : i2.y + m2;
-                            this.parent.moveCenter(y2, x2), this.parent.emit("moved", {
-                                viewport: this.parent,
-                                type: "follow"
-                            });
-                        }
-                    } else {
-                        const a2 = Math.atan2(n2 - i2.y, e3 - i2.x),
-                            p2 = Math.cos(a2) * this.options.speed,
-                            l2 = Math.sin(a2) * this.options.speed,
-                            d2 = Math.abs(p2) > Math.abs(s2) ? e3 : i2.x + p2,
-                            m2 = Math.abs(l2) > Math.abs(h2) ? n2 : i2.y + l2;
-                        this.parent.moveCenter(d2, m2), this.parent.emit("moved", {
-                            viewport: this.parent,
-                            type: "follow"
-                        });
-                    }
-            else
-                this.parent.moveCenter(e3, n2), this.parent.emit("moved", {
-                    viewport: this.parent,
-                    type: "follow"
-                });
-        }
-    }
-    const B = {
-        radius: null,
-        distance: null,
-        top: null,
-        bottom: null,
-        left: null,
-        right: null,
-        speed: 8,
-        reverse: false,
-        noDecelerate: false,
-        linear: false,
-        allowButtons: false
-    };
-    class N extends f {
-        constructor(t2, i2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "reverse");
-            o$1(this, "radiusSquared");
-            o$1(this, "left");
-            o$1(this, "top");
-            o$1(this, "right");
-            o$1(this, "bottom");
-            o$1(this, "horizontal");
-            o$1(this, "vertical");
-            this.options = Object.assign({}, B, i2), this.reverse = this.options.reverse ? 1 : -1, this.radiusSquared = typeof this.options.radius == "number" ? Math.pow(this.options.radius, 2) : null, this.resize();
-        }
-        resize() {
-            const t2 = this.options.distance;
-            t2 !== null ? (this.left = t2, this.top = t2, this.right = this.parent.screenWidth - t2, this.bottom = this.parent.screenHeight - t2) : this.options.radius || (this.left = this.options.left, this.top = this.options.top, this.right = this.options.right === null ? null : this.parent.screenWidth - this.options.right, this.bottom = this.options.bottom === null ? null : this.parent.screenHeight - this.options.bottom);
-        }
-        down() {
-            return this.paused || this.options.allowButtons || (this.horizontal = this.vertical = null), false;
-        }
-        move(t2) {
-            if (this.paused || t2.pointerType !== "mouse" && t2.pointerId !== 1 || !this.options.allowButtons && t2.buttons !== 0)
-                return false;
-            const i2 = t2.global.x,
-                e3 = t2.global.y;
-            if (this.radiusSquared) {
-                const n2 = this.parent.toScreen(this.parent.center);
-                if (Math.pow(n2.x - i2, 2) + Math.pow(n2.y - e3, 2) >= this.radiusSquared) {
-                    const h2 = Math.atan2(n2.y - e3, n2.x - i2);
-                    this.options.linear ? (this.horizontal = Math.round(Math.cos(h2)) * this.options.speed * this.reverse * (60 / 1e3), this.vertical = Math.round(Math.sin(h2)) * this.options.speed * this.reverse * (60 / 1e3)) : (this.horizontal = Math.cos(h2) * this.options.speed * this.reverse * (60 / 1e3), this.vertical = Math.sin(h2) * this.options.speed * this.reverse * (60 / 1e3));
-                } else
-                    this.horizontal && this.decelerateHorizontal(), this.vertical && this.decelerateVertical(), this.horizontal = this.vertical = 0;
-            } else
-                this.left !== null && i2 < this.left ? this.horizontal = Number(this.reverse) * this.options.speed * (60 / 1e3) : this.right !== null && i2 > this.right ? this.horizontal = -1 * this.reverse * this.options.speed * (60 / 1e3) : (this.decelerateHorizontal(), this.horizontal = 0), this.top !== null && e3 < this.top ? this.vertical = Number(this.reverse) * this.options.speed * (60 / 1e3) : this.bottom !== null && e3 > this.bottom ? this.vertical = -1 * this.reverse * this.options.speed * (60 / 1e3) : (this.decelerateVertical(), this.vertical = 0);
-            return false;
-        }
-        decelerateHorizontal() {
-            const t2 = this.parent.plugins.get("decelerate", true);
-            this.horizontal && t2 && !this.options.noDecelerate && t2.activate({
-                x: this.horizontal * this.options.speed * this.reverse / (1e3 / 60)
-            });
-        }
-        decelerateVertical() {
-            const t2 = this.parent.plugins.get("decelerate", true);
-            this.vertical && t2 && !this.options.noDecelerate && t2.activate({
-                y: this.vertical * this.options.speed * this.reverse / (1e3 / 60)
-            });
-        }
-        up() {
-            return this.paused || (this.horizontal && this.decelerateHorizontal(), this.vertical && this.decelerateVertical(), this.horizontal = this.vertical = null), false;
-        }
-        update() {
-            if (!this.paused && (this.horizontal || this.vertical)) {
-                const t2 = this.parent.center;
-                this.horizontal && (t2.x += this.horizontal * this.options.speed), this.vertical && (t2.y += this.vertical * this.options.speed), this.parent.moveCenter(t2), this.parent.emit("moved", {
-                    viewport: this.parent,
-                    type: "mouse-edges"
-                });
-            }
-        }
-    }
-    const Z = {
-        noDrag: false,
-        percent: 1,
-        center: null,
-        factor: 1,
-        axis: "all"
-    };
-    class R$2 extends f {
-        constructor(t2, i2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "active", false);
-            o$1(this, "pinching", false);
-            o$1(this, "moved", false);
-            o$1(this, "lastCenter");
-            this.options = Object.assign({}, Z, i2);
-        }
-        down() {
-            return this.parent.input.count() >= 2 ? (this.active = true, true) : false;
-        }
-        isAxisX() {
-            return ["all", "x"].includes(this.options.axis);
-        }
-        isAxisY() {
-            return ["all", "y"].includes(this.options.axis);
-        }
-        move(t2) {
-            if (this.paused || !this.active)
-                return false;
-            const i2 = t2.global.x,
-                e3 = t2.global.y,
-                n2 = this.parent.input.touches;
-            if (n2.length >= 2) {
-                const s2 = n2[0],
-                    h2 = n2[1],
-                    a2 = s2.last && h2.last ? Math.sqrt(Math.pow(h2.last.x - s2.last.x, 2) + Math.pow(h2.last.y - s2.last.y, 2)) : null;
-                if (s2.id === t2.pointerId ? s2.last = {
-                        x: i2,
-                        y: e3,
-                        data: t2
-                    } : h2.id === t2.pointerId && (h2.last = {
-                        x: i2,
-                        y: e3,
-                        data: t2
-                    }), a2) {
-                    let p2;
-                    const l2 = new Point$1(
-                        s2.last.x + (h2.last.x - s2.last.x) / 2,
-                        s2.last.y + (h2.last.y - s2.last.y) / 2
-                    );
-                    this.options.center || (p2 = this.parent.toLocal(l2));
-                    let d2 = Math.sqrt(Math.pow(
-                        h2.last.x - s2.last.x,
-                        2
-                    ) + Math.pow(h2.last.y - s2.last.y, 2));
-                    d2 = d2 === 0 ? d2 = 1e-10 : d2;
-                    const m2 = (1 - a2 / d2) * this.options.percent * (this.isAxisX() ? this.parent.scale.x : this.parent.scale.y);
-                    this.isAxisX() && (this.parent.scale.x += m2), this.isAxisY() && (this.parent.scale.y += m2), this.parent.emit("zoomed", {
-                        viewport: this.parent,
-                        type: "pinch",
-                        center: l2
-                    });
-                    const y2 = this.parent.plugins.get("clamp-zoom", true);
-                    if (y2 && y2.clamp(), this.options.center)
-                        this.parent.moveCenter(this.options.center);
-                    else {
-                        const x2 = this.parent.toGlobal(p2);
-                        this.parent.x += (l2.x - x2.x) * this.options.factor, this.parent.y += (l2.y - x2.y) * this.options.factor, this.parent.emit("moved", {
-                            viewport: this.parent,
-                            type: "pinch"
-                        });
-                    }!this.options.noDrag && this.lastCenter && (this.parent.x += (l2.x - this.lastCenter.x) * this.options.factor, this.parent.y += (l2.y - this.lastCenter.y) * this.options.factor, this.parent.emit("moved", {
-                        viewport: this.parent,
-                        type: "pinch"
-                    })), this.lastCenter = l2, this.moved = true;
-                } else
-                    this.pinching || (this.parent.emit("pinch-start", this.parent), this.pinching = true);
-                return true;
-            }
-            return false;
-        }
-        up() {
-            return this.pinching && this.parent.input.touches.length <= 1 ? (this.active = false, this.lastCenter = null, this.pinching = false, this.moved = false, this.parent.emit("pinch-end", this.parent), true) : false;
-        }
-    }
-    const j = {
-        topLeft: false,
-        friction: 0.8,
-        time: 1e3,
-        ease: "easeInOutSine",
-        interrupt: true,
-        removeOnComplete: false,
-        removeOnInterrupt: false,
-        forceStart: false
-    };
-    class q$1 extends f {
-        constructor(t2, i2, e3, n2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "ease");
-            o$1(this, "x");
-            o$1(this, "y");
-            o$1(this, "percent");
-            o$1(this, "snapping");
-            o$1(this, "deltaX");
-            o$1(this, "deltaY");
-            o$1(this, "startX");
-            o$1(this, "startY");
-            this.options = Object.assign({}, j, n2), this.ease = W(n2.ease, "easeInOutSine"), this.x = i2, this.y = e3, this.options.forceStart && this.snapStart();
-        }
-        snapStart() {
-            this.percent = 0, this.snapping = {
-                time: 0
-            };
-            const t2 = this.options.topLeft ? this.parent.corner : this.parent.center;
-            this.deltaX = this.x - t2.x, this.deltaY = this.y - t2.y, this.startX = t2.x, this.startY = t2.y, this.parent.emit("snap-start", this.parent);
-        }
-        wheel() {
-            return this.options.removeOnInterrupt && this.parent.plugins.remove("snap"), false;
-        }
-        down() {
-            return this.options.removeOnInterrupt ? this.parent.plugins.remove("snap") : this.options.interrupt && (this.snapping = null), false;
-        }
-        up() {
-            if (this.parent.input.count() === 0) {
-                const t2 = this.parent.plugins.get("decelerate", true);
-                t2 && (t2.x || t2.y) && (t2.percentChangeX = t2.percentChangeY = this.options.friction);
-            }
-            return false;
-        }
-        update(t2) {
-            if (!this.paused && !(this.options.interrupt && this.parent.input.count() !== 0))
-                if (this.snapping) {
-                    const i2 = this.snapping;
-                    i2.time += t2;
-                    let e3, n2, s2;
-                    const h2 = this.startX,
-                        a2 = this.startY,
-                        p2 = this.deltaX,
-                        l2 = this.deltaY;
-                    if (i2.time > this.options.time)
-                        e3 = true, n2 = h2 + p2, s2 = a2 + l2;
-                    else {
-                        const d2 = this.ease(i2.time, 0, 1, this.options.time);
-                        n2 = h2 + p2 * d2, s2 = a2 + l2 * d2;
-                    }
-                    this.options.topLeft ? this.parent.moveCorner(n2, s2) : this.parent.moveCenter(n2, s2), this.parent.emit("moved", {
-                        viewport: this.parent,
-                        type: "snap"
-                    }), e3 && (this.options.removeOnComplete && this.parent.plugins.remove("snap"), this.parent.emit("snap-end", this.parent), this.snapping = null);
-                } else {
-                    const i2 = this.options.topLeft ? this.parent.corner : this.parent.center;
-                    (i2.x !== this.x || i2.y !== this.y) && this.snapStart();
-                }
-        }
-    }
-    const K$2 = {
-        width: 0,
-        height: 0,
-        time: 1e3,
-        ease: "easeInOutSine",
-        center: null,
-        interrupt: true,
-        removeOnComplete: false,
-        removeOnInterrupt: false,
-        forceStart: false,
-        noMove: false
-    };
-    class G extends f {
-        constructor(t2, i2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "ease");
-            o$1(this, "xScale");
-            o$1(this, "yScale");
-            o$1(this, "xIndependent");
-            o$1(this, "yIndependent");
-            o$1(this, "snapping");
-            this.options = Object.assign({}, K$2, i2), this.ease = W(this.options.ease), this.xIndependent = false, this.yIndependent = false, this.xScale = 0, this.yScale = 0, this.options.width > 0 && (this.xScale = t2.screenWidth / this.options.width, this.xIndependent = true), this.options.height > 0 && (this.yScale = t2.screenHeight / this.options.height, this.yIndependent = true), this.xScale = this.xIndependent ? this.xScale : this.yScale, this.yScale = this.yIndependent ? this.yScale : this.xScale, this.options.time === 0 ? (t2.container.scale.x = this.xScale, t2.container.scale.y = this.yScale, this.options.removeOnComplete && this.parent.plugins.remove("snap-zoom")) : i2.forceStart && this.createSnapping();
-        }
-        createSnapping() {
-            const t2 = this.parent.worldScreenWidth,
-                i2 = this.parent.worldScreenHeight,
-                e3 = this.parent.screenWidth / this.xScale,
-                n2 = this.parent.screenHeight / this.yScale;
-            this.snapping = {
-                time: 0,
-                startX: t2,
-                startY: i2,
-                deltaX: e3 - t2,
-                deltaY: n2 - i2
-            }, this.parent.emit("snap-zoom-start", this.parent);
-        }
-        resize() {
-            this.snapping = null, this.options.width > 0 && (this.xScale = this.parent.screenWidth / this.options.width), this.options.height > 0 && (this.yScale = this.parent.screenHeight / this.options.height), this.xScale = this.xIndependent ? this.xScale : this.yScale, this.yScale = this.yIndependent ? this.yScale : this.xScale;
-        }
-        wheel() {
-            return this.options.removeOnInterrupt && this.parent.plugins.remove("snap-zoom"), false;
-        }
-        down() {
-            return this.options.removeOnInterrupt ? this.parent.plugins.remove("snap-zoom") : this.options.interrupt && (this.snapping = null), false;
-        }
-        update(t2) {
-            if (this.paused || this.options.interrupt && this.parent.input.count() !== 0)
-                return;
-            let i2;
-            if (!this.options.center && !this.options.noMove && (i2 = this.parent.center), !this.snapping)
-                (this.parent.scale.x !== this.xScale || this.parent.scale.y !== this.yScale) && this.createSnapping();
-            else if (this.snapping) {
-                const e3 = this.snapping;
-                if (e3.time += t2, e3.time >= this.options.time)
-                    this.parent.scale.set(this.xScale, this.yScale), this.options.removeOnComplete && this.parent.plugins.remove("snap-zoom"), this.parent.emit("snap-zoom-end", this.parent), this.snapping = null;
-                else {
-                    const s2 = this.snapping,
-                        h2 = this.ease(s2.time, s2.startX, s2.deltaX, this.options.time),
-                        a2 = this.ease(s2.time, s2.startY, s2.deltaY, this.options.time);
-                    this.parent.scale.x = this.parent.screenWidth / h2, this.parent.scale.y = this.parent.screenHeight / a2;
-                }
-                const n2 = this.parent.plugins.get("clamp-zoom", true);
-                n2 && n2.clamp(), this.options.noMove || (this.options.center ? this.parent.moveCenter(this.options.center) : this.parent.moveCenter(i2));
-            }
-        }
-        resume() {
-            this.snapping = null, super.resume();
-        }
-    }
-    const Q$1 = {
-        percent: 0.1,
-        smooth: false,
-        interrupt: true,
-        reverse: false,
-        center: null,
-        lineHeight: 20,
-        axis: "all",
-        keyToPress: null,
-        trackpadPinch: false,
-        wheelZoom: true
-    };
-    class J extends f {
-        constructor(t2, i2 = {}) {
-            super(t2);
-            o$1(this, "options");
-            o$1(this, "smoothing");
-            o$1(this, "smoothingCenter");
-            o$1(this, "smoothingCount");
-            o$1(this, "keyIsPressed");
-            this.options = Object.assign({}, Q$1, i2), this.keyIsPressed = false, this.options.keyToPress && this.handleKeyPresses(this.options.keyToPress);
-        }
-        handleKeyPresses(t2) {
-            window.addEventListener("keydown", (i2) => {
-                t2.includes(i2.code) && (this.keyIsPressed = true);
-            }), window.addEventListener("keyup", (i2) => {
-                t2.includes(i2.code) && (this.keyIsPressed = false);
-            });
-        }
-        checkKeyPress() {
-            return !this.options.keyToPress || this.keyIsPressed;
-        }
-        down() {
-            return this.options.interrupt && (this.smoothing = null), false;
-        }
-        isAxisX() {
-            return ["all", "x"].includes(this.options.axis);
-        }
-        isAxisY() {
-            return ["all", "y"].includes(this.options.axis);
-        }
-        update() {
-            if (this.smoothing) {
-                const t2 = this.smoothingCenter,
-                    i2 = this.smoothing;
-                let e3;
-                this.options.center || (e3 = this.parent.toLocal(t2)), this.isAxisX() && (this.parent.scale.x += i2.x), this.isAxisY() && (this.parent.scale.y += i2.y), this.parent.emit("zoomed", {
-                    viewport: this.parent,
-                    type: "wheel"
-                });
-                const n2 = this.parent.plugins.get("clamp-zoom", true);
-                if (n2 && n2.clamp(), this.options.center)
-                    this.parent.moveCenter(this.options.center);
-                else {
-                    const s2 = this.parent.toGlobal(e3);
-                    this.parent.x += t2.x - s2.x, this.parent.y += t2.y - s2.y;
-                }
-                this.parent.emit("moved", {
-                    viewport: this.parent,
-                    type: "wheel"
-                }), this.smoothingCount++, this.smoothingCount >= this.options.smooth && (this.smoothing = null);
-            }
-        }
-        pinch(t2) {
-            if (this.paused)
-                return;
-            const i2 = this.parent.input.getPointerPosition(t2),
-                e3 = -t2.deltaY * (t2.deltaMode ? this.options.lineHeight : 1) / 200,
-                n2 = Math.pow(2, (1 + this.options.percent) * e3);
-            let s2;
-            this.options.center || (s2 = this.parent.toLocal(i2)), this.isAxisX() && (this.parent.scale.x *= n2), this.isAxisY() && (this.parent.scale.y *= n2), this.parent.emit("zoomed", {
-                viewport: this.parent,
-                type: "wheel"
-            });
-            const h2 = this.parent.plugins.get("clamp-zoom", true);
-            if (h2 && h2.clamp(), this.options.center)
-                this.parent.moveCenter(this.options.center);
-            else {
-                const a2 = this.parent.toGlobal(s2);
-                this.parent.x += i2.x - a2.x, this.parent.y += i2.y - a2.y;
-            }
-            this.parent.emit("moved", {
-                viewport: this.parent,
-                type: "wheel"
-            }), this.parent.emit(
-                "wheel-start", {
-                    event: t2,
-                    viewport: this.parent
-                }
-            );
-        }
-        wheel(t2) {
-            if (this.paused || !this.checkKeyPress())
-                return false;
-            if (t2.ctrlKey && this.options.trackpadPinch)
-                this.pinch(t2);
-            else if (this.options.wheelZoom) {
-                const i2 = this.parent.input.getPointerPosition(t2),
-                    n2 = (this.options.reverse ? -1 : 1) * -t2.deltaY * (t2.deltaMode ? this.options.lineHeight : 1) / 500,
-                    s2 = Math.pow(2, (1 + this.options.percent) * n2);
-                if (this.options.smooth) {
-                    const h2 = {
-                        x: this.smoothing ? this.smoothing.x * (this.options.smooth - this.smoothingCount) : 0,
-                        y: this.smoothing ? this.smoothing.y * (this.options.smooth - this.smoothingCount) : 0
-                    };
-                    this.smoothing = {
-                        x: ((this.parent.scale.x + h2.x) * s2 - this.parent.scale.x) / this.options.smooth,
-                        y: ((this.parent.scale.y + h2.y) * s2 - this.parent.scale.y) / this.options.smooth
-                    }, this.smoothingCount = 0, this.smoothingCenter = i2;
-                } else {
-                    let h2;
-                    this.options.center || (h2 = this.parent.toLocal(i2)), this.isAxisX() && (this.parent.scale.x *= s2), this.isAxisY() && (this.parent.scale.y *= s2), this.parent.emit("zoomed", {
-                        viewport: this.parent,
-                        type: "wheel"
-                    });
-                    const a2 = this.parent.plugins.get("clamp-zoom", true);
-                    if (a2 && a2.clamp(), this.options.center)
-                        this.parent.moveCenter(this.options.center);
-                    else {
-                        const p2 = this.parent.toGlobal(h2);
-                        this.parent.x += i2.x - p2.x, this.parent.y += i2.y - p2.y;
-                    }
-                }
-                this.parent.emit("moved", {
-                    viewport: this.parent,
-                    type: "wheel"
-                }), this.parent.emit(
-                    "wheel-start", {
-                        event: t2,
-                        viewport: this.parent
-                    }
-                );
-            }
-            return !this.parent.options.passiveWheel;
-        }
-    }
-    class $ {
-        constructor(r2) {
-            o$1(this, "viewport");
-            o$1(this, "clickedAvailable");
-            o$1(this, "isMouseDown");
-            o$1(this, "last");
-            o$1(this, "wheelFunction");
-            o$1(this, "touches");
-            this.viewport = r2, this.touches = [], this.addListeners();
-        }
-        addListeners() {
-            this.viewport.eventMode = "static", this.viewport.forceHitArea || (this.viewport.hitArea = new Rectangle(0, 0, this.viewport.worldWidth, this.viewport.worldHeight)), this.viewport.on("pointerdown", this.down, this), this.viewport.options.allowPreserveDragOutside ? this.viewport.on("globalpointermove", this.move, this) : this.viewport.on("pointermove", this.move, this), this.viewport.on("pointerup", this.up, this), this.viewport.on("pointerupoutside", this.up, this), this.viewport.on("pointercancel", this.up, this), this.viewport.options.allowPreserveDragOutside || this.viewport.on("pointerleave", this.up, this), this.wheelFunction = (r2) => this.handleWheel(r2), this.viewport.options.events.domElement.addEventListener(
-                "wheel",
-                this.wheelFunction, {
-                    passive: this.viewport.options.passiveWheel
-                }
-            ), this.isMouseDown = false;
-        }
-        destroy() {
-            this.viewport.options.events.domElement.removeEventListener("wheel", this.wheelFunction);
-        }
-        down(r2) {
-            if (this.viewport.pause || !this.viewport.worldVisible)
-                return;
-            if (r2.pointerType === "mouse" ? this.isMouseDown = true : this.get(r2.pointerId) || this.touches.push({
-                    id: r2.pointerId,
-                    last: null
-                }), this.count() === 1) {
-                this.last = r2.global.clone();
-                const i2 = this.viewport.plugins.get("decelerate", true),
-                    e3 = this.viewport.plugins.get("bounce", true);
-                (!i2 || !i2.isActive()) && (!e3 || !e3.isActive()) ? this.clickedAvailable = true: this.clickedAvailable = false;
-            } else
-                this.clickedAvailable = false;
-            this.viewport.plugins.down(r2) && this.viewport.options.stopPropagation && r2.stopPropagation();
-        }
-        clear() {
-            this.isMouseDown = false, this.touches = [], this.last = null;
-        }
-        checkThreshold(r2) {
-            return Math.abs(r2) >= this.viewport.threshold;
-        }
-        move(r2) {
-            if (this.viewport.pause || !this.viewport.worldVisible)
-                return;
-            const t2 = this.viewport.plugins.move(r2);
-            if (this.clickedAvailable && this.last) {
-                const i2 = r2.global.x - this.last.x,
-                    e3 = r2.global.y - this.last.y;
-                (this.checkThreshold(i2) || this.checkThreshold(e3)) && (this.clickedAvailable = false);
-            }
-            t2 && this.viewport.options.stopPropagation && r2.stopPropagation();
-        }
-        up(r2) {
-            if (this.viewport.pause || !this.viewport.worldVisible)
-                return;
-            r2.pointerType === "mouse" && (this.isMouseDown = false), r2.pointerType !== "mouse" && this.remove(r2.pointerId);
-            const t2 = this.viewport.plugins.up(r2);
-            this.clickedAvailable && this.count() === 0 && this.last && (this.viewport.emit("clicked", {
-                event: r2,
-                screen: this.last,
-                world: this.viewport.toWorld(this.last),
-                viewport: this.viewport
-            }), this.clickedAvailable = false), t2 && this.viewport.options.stopPropagation && r2.stopPropagation();
-        }
-        getPointerPosition(r2) {
-            const t2 = new Point$1();
-            return this.viewport.options.events.mapPositionToPoint(t2, r2.clientX, r2.clientY), t2;
-        }
-        handleWheel(r2) {
-            if (this.viewport.pause || !this.viewport.worldVisible)
-                return;
-            const t2 = this.viewport.toLocal(this.getPointerPosition(r2));
-            this.viewport.left <= t2.x && t2.x <= this.viewport.right && this.viewport.top <= t2.y && t2.y <= this.viewport.bottom && this.viewport.plugins.wheel(r2) && !this.viewport.options.passiveWheel && r2.preventDefault();
-        }
-        pause() {
-            this.touches = [], this.isMouseDown = false;
-        }
-        get(r2) {
-            for (const t2 of this.touches)
-                if (t2.id === r2)
-                    return t2;
-            return null;
-        }
-        remove(r2) {
-            for (let t2 = 0; t2 < this.touches.length; t2++)
-                if (this.touches[t2].id === r2) {
-                    this.touches.splice(t2, 1);
-                    return;
-                }
-        }
-        count() {
-            return (this.isMouseDown ? 1 : 0) + this.touches.length;
-        }
-    }
-    const w$1 = [
-        "drag",
-        "pinch",
-        "wheel",
-        "follow",
-        "mouse-edges",
-        "decelerate",
-        "animate",
-        "bounce",
-        "snap-zoom",
-        "clamp-zoom",
-        "snap",
-        "clamp"
-    ];
-    class tt {
-        constructor(r2) {
-            o$1(this, "plugins");
-            o$1(this, "list");
-            o$1(this, "viewport");
-            this.viewport = r2, this.list = [], this.plugins = {};
-        }
-        add(r2, t2, i2 = w$1.length) {
-            const e3 = this.plugins[r2];
-            e3 && e3.destroy(), this.plugins[r2] = t2;
-            const n2 = w$1.indexOf(r2);
-            n2 !== -1 && w$1.splice(n2, 1), w$1.splice(i2, 0, r2), this.sort();
-        }
-        get(r2, t2) {
-            var i2;
-            return t2 && (i2 = this.plugins[r2]) != null && i2.paused ? null : this.plugins[r2];
-        }
-        update(r2) {
-            for (const t2 of this.list)
-                t2.update(r2);
-        }
-        resize() {
-            for (const r2 of this.list)
-                r2.resize();
-        }
-        reset() {
-            for (const r2 of this.list)
-                r2.reset();
-        }
-        removeAll() {
-            this.list.forEach((r2) => {
-                r2.destroy();
-            }), this.plugins = {}, this.sort();
-        }
-        remove(r2) {
-            var t2;
-            this.plugins[r2] && ((t2 = this.plugins[r2]) == null || t2.destroy(), delete this.plugins[r2], this.viewport.emit("plugin-remove", r2), this.sort());
-        }
-        pause(r2) {
-            var t2;
-            (t2 = this.plugins[r2]) == null || t2.pause();
-        }
-        resume(r2) {
-            var t2;
-            (t2 = this.plugins[r2]) == null || t2.resume();
-        }
-        sort() {
-            this.list = [];
-            for (const r2 of w$1)
-                this.plugins[r2] && this.list.push(this.plugins[r2]);
-        }
-        down(r2) {
-            let t2 = false;
-            for (const i2 of this.list)
-                i2.down(r2) && (t2 = true);
-            return t2;
-        }
-        move(r2) {
-            let t2 = false;
-            for (const i2 of this.viewport.plugins.list)
-                i2.move(r2) && (t2 = true);
-            return t2;
-        }
-        up(r2) {
-            let t2 = false;
-            for (const i2 of this.list)
-                i2.up(r2) && (t2 = true);
-            return t2;
-        }
-        wheel(r2) {
-            let t2 = false;
-            for (const i2 of this.list)
-                i2.wheel(r2) && (t2 = true);
-            return t2;
-        }
-    }
-    const et = {
-        screenWidth: window.innerWidth,
-        screenHeight: window.innerHeight,
-        worldWidth: null,
-        worldHeight: null,
-        threshold: 5,
-        passiveWheel: true,
-        stopPropagation: false,
-        forceHitArea: null,
-        noTicker: false,
-        disableOnContextMenu: false,
-        ticker: Ticker.shared,
-        allowPreserveDragOutside: false
-    };
-    class ht$1 extends Container {
-        constructor(t2) {
-            super();
-            o$1(this, "moving");
-            o$1(this, "screenWidth");
-            o$1(this, "screenHeight");
-            o$1(this, "threshold");
-            o$1(this, "input");
-            o$1(this, "plugins");
-            o$1(this, "zooming");
-            o$1(this, "lastViewport");
-            o$1(this, "options");
-            o$1(this, "_dirty");
-            o$1(this, "_forceHitArea");
-            o$1(this, "_hitAreaDefault");
-            o$1(this, "_pause");
-            o$1(this, "tickerFunction");
-            o$1(this, "_worldWidth");
-            o$1(this, "_worldHeight");
-            o$1(this, "_disableOnContextMenu", (t3) => t3.preventDefault());
-            this.options = {
-                ...et,
-                ...t2
-            }, this.screenWidth = this.options.screenWidth, this.screenHeight = this.options.screenHeight, this._worldWidth = this.options.worldWidth, this._worldHeight = this.options.worldHeight, this.forceHitArea = this.options.forceHitArea, this.threshold = this.options.threshold, this.options.disableOnContextMenu && this.options.events.domElement.addEventListener("contextmenu", this._disableOnContextMenu), this.options.noTicker || (this.tickerFunction = () => this.update(this.options.ticker.elapsedMS), this.options.ticker.add(this.tickerFunction)), this.input = new $(this), this.plugins = new tt(this);
-        }
-        destroy(t2) {
-            !this.options.noTicker && this.tickerFunction && this.options.ticker.remove(this.tickerFunction), this.options.disableOnContextMenu && this.options.events.domElement.removeEventListener("contextmenu", this._disableOnContextMenu), this.input.destroy(), super.destroy(t2);
-        }
-        update(t2) {
-            this.pause || (this.plugins.update(t2), this.lastViewport && (this.lastViewport.x !== this.x || this.lastViewport.y !== this.y ? this.moving = true : this.moving && (this.emit("moved-end", this), this.moving = false), this.lastViewport.scaleX !== this.scale.x || this.lastViewport.scaleY !== this.scale.y ? this.zooming = true : this.zooming && (this.emit("zoomed-end", this), this.zooming = false)), this.forceHitArea || (this._hitAreaDefault = new Rectangle(this.left, this.top, this.worldScreenWidth, this.worldScreenHeight), this.hitArea = this._hitAreaDefault), this._dirty = this._dirty || !this.lastViewport || this.lastViewport.x !== this.x || this.lastViewport.y !== this.y || this.lastViewport.scaleX !== this.scale.x || this.lastViewport.scaleY !== this.scale.y, this.lastViewport = {
-                x: this.x,
-                y: this.y,
-                scaleX: this.scale.x,
-                scaleY: this.scale.y
-            }, this.emit("frame-end", this));
-        }
-        resize(t2 = window.innerWidth, i2 = window.innerHeight, e3, n2) {
-            this.screenWidth = t2, this.screenHeight = i2, typeof e3 < "u" && (this._worldWidth = e3), typeof n2 < "u" && (this._worldHeight = n2), this.plugins.resize(), this.dirty = true;
-        }
-        get worldWidth() {
-            return this._worldWidth ? this._worldWidth : this.width / this.scale.x;
-        }
-        set worldWidth(t2) {
-            this._worldWidth = t2, this.plugins.resize();
-        }
-        get worldHeight() {
-            return this._worldHeight ? this._worldHeight : this.height / this.scale.y;
-        }
-        set worldHeight(t2) {
-            this._worldHeight = t2, this.plugins.resize();
-        }
-        getVisibleBounds() {
-            return new Rectangle(this.left, this.top, this.worldScreenWidth, this.worldScreenHeight);
-        }
-        toWorld(t2, i2) {
-            return arguments.length === 2 ? this.toLocal(new Point$1(t2, i2)) : this.toLocal(t2);
-        }
-        toScreen(t2, i2) {
-            return arguments.length === 2 ? this.toGlobal(new Point$1(t2, i2)) : this.toGlobal(t2);
-        }
-        get worldScreenWidth() {
-            return this.screenWidth / this.scale.x;
-        }
-        get worldScreenHeight() {
-            return this.screenHeight / this.scale.y;
-        }
-        get screenWorldWidth() {
-            return this.worldWidth * this.scale.x;
-        }
-        get screenWorldHeight() {
-            return this.worldHeight * this.scale.y;
-        }
-        get center() {
-            return new Point$1(
-                this.worldScreenWidth / 2 - this.x / this.scale.x,
-                this.worldScreenHeight / 2 - this.y / this.scale.y
-            );
-        }
-        set center(t2) {
-            this.moveCenter(t2);
-        }
-        moveCenter(...t2) {
-            let i2, e3;
-            typeof t2[0] == "number" ? (i2 = t2[0], e3 = t2[1]) : (i2 = t2[0].x, e3 = t2[0].y);
-            const n2 = (this.worldScreenWidth / 2 - i2) * this.scale.x,
-                s2 = (this.worldScreenHeight / 2 - e3) * this.scale.y;
-            return (this.x !== n2 || this.y !== s2) && (this.position.set(n2, s2), this.plugins.reset(), this.dirty = true), this;
-        }
-        get corner() {
-            return new Point$1(-this.x / this.scale.x, -this.y / this.scale.y);
-        }
-        set corner(t2) {
-            this.moveCorner(t2);
-        }
-        moveCorner(...t2) {
-            let i2, e3;
-            return t2.length === 1 ? (i2 = -t2[0].x * this.scale.x, e3 = -t2[0].y * this.scale.y) : (i2 = -t2[0] * this.scale.x, e3 = -t2[1] * this.scale.y), (i2 !== this.x || e3 !== this.y) && (this.position.set(i2, e3), this.plugins.reset(), this.dirty = true), this;
-        }
-        get screenWidthInWorldPixels() {
-            return this.screenWidth / this.scale.x;
-        }
-        get screenHeightInWorldPixels() {
-            return this.screenHeight / this.scale.y;
-        }
-        findFitWidth(t2) {
-            return this.screenWidth / t2;
-        }
-        findFitHeight(t2) {
-            return this.screenHeight / t2;
-        }
-        findFit(t2, i2) {
-            const e3 = this.screenWidth / t2,
-                n2 = this.screenHeight / i2;
-            return Math.min(e3, n2);
-        }
-        findCover(t2, i2) {
-            const e3 = this.screenWidth / t2,
-                n2 = this.screenHeight / i2;
-            return Math.max(e3, n2);
-        }
-        fitWidth(t2 = this.worldWidth, i2, e3 = true, n2) {
-            let s2;
-            i2 && (s2 = this.center), this.scale.x = this.screenWidth / t2, e3 && (this.scale.y = this.scale.x);
-            const h2 = this.plugins.get("clamp-zoom", true);
-            return !n2 && h2 && h2.clamp(), i2 && s2 && this.moveCenter(s2), this;
-        }
-        fitHeight(t2 = this.worldHeight, i2, e3 = true, n2) {
-            let s2;
-            i2 && (s2 = this.center), this.scale.y = this.screenHeight / t2, e3 && (this.scale.x = this.scale.y);
-            const h2 = this.plugins.get("clamp-zoom", true);
-            return !n2 && h2 && h2.clamp(), i2 && s2 && this.moveCenter(s2), this;
-        }
-        fitWorld(t2) {
-            let i2;
-            t2 && (i2 = this.center), this.scale.x = this.screenWidth / this.worldWidth, this.scale.y = this.screenHeight / this.worldHeight, this.scale.x < this.scale.y ? this.scale.y = this.scale.x : this.scale.x = this.scale.y;
-            const e3 = this.plugins.get("clamp-zoom", true);
-            return e3 && e3.clamp(), t2 && i2 && this.moveCenter(i2), this;
-        }
-        fit(t2, i2 = this.worldWidth, e3 = this.worldHeight) {
-            let n2;
-            t2 && (n2 = this.center), this.scale.x = this.screenWidth / i2, this.scale.y = this.screenHeight / e3, this.scale.x < this.scale.y ? this.scale.y = this.scale.x : this.scale.x = this.scale.y;
-            const s2 = this.plugins.get("clamp-zoom", true);
-            return s2 && s2.clamp(), t2 && n2 && this.moveCenter(n2), this;
-        }
-        setZoom(t2, i2) {
-            let e3;
-            i2 && (e3 = this.center), this.scale.set(t2);
-            const n2 = this.plugins.get("clamp-zoom", true);
-            return n2 && n2.clamp(), i2 && e3 && this.moveCenter(e3), this;
-        }
-        zoomPercent(t2, i2) {
-            return this.setZoom(this.scale.x + this.scale.x * t2, i2);
-        }
-        zoom(t2, i2) {
-            return this.fitWidth(t2 + this.worldScreenWidth, i2), this;
-        }
-        get scaled() {
-            return this.scale.x;
-        }
-        set scaled(t2) {
-            this.setZoom(t2, true);
-        }
-        snapZoom(t2) {
-            return this.plugins.add("snap-zoom", new G(this, t2)), this;
-        }
-        OOB() {
-            return {
-                left: this.left < 0,
-                right: this.right > this.worldWidth,
-                top: this.top < 0,
-                bottom: this.bottom > this.worldHeight,
-                cornerPoint: new Point$1(
-                    this.worldWidth * this.scale.x - this.screenWidth,
-                    this.worldHeight * this.scale.y - this.screenHeight
-                )
-            };
-        }
-        get right() {
-            return -this.x / this.scale.x + this.worldScreenWidth;
-        }
-        set right(t2) {
-            this.x = -t2 * this.scale.x + this.screenWidth, this.plugins.reset();
-        }
-        get left() {
-            return -this.x / this.scale.x;
-        }
-        set left(t2) {
-            this.x = -t2 * this.scale.x, this.plugins.reset();
-        }
-        get top() {
-            return -this.y / this.scale.y;
-        }
-        set top(t2) {
-            this.y = -t2 * this.scale.y, this.plugins.reset();
-        }
-        get bottom() {
-            return -this.y / this.scale.y + this.worldScreenHeight;
-        }
-        set bottom(t2) {
-            this.y = -t2 * this.scale.y + this.screenHeight, this.plugins.reset();
-        }
-        get dirty() {
-            return !!this._dirty;
-        }
-        set dirty(t2) {
-            this._dirty = t2;
-        }
-        get forceHitArea() {
-            return this._forceHitArea;
-        }
-        set forceHitArea(t2) {
-            t2 ? (this._forceHitArea = t2, this.hitArea = t2) : (this._forceHitArea = null, this.hitArea = new Rectangle(0, 0, this.worldWidth, this.worldHeight));
-        }
-        drag(t2) {
-            return this.plugins.add("drag", new U(this, t2)), this;
-        }
-        clamp(t2) {
-            return this.plugins.add("clamp", new A$1(this, t2)), this;
-        }
-        decelerate(t2) {
-            return this.plugins.add("decelerate", new E(this, t2)), this;
-        }
-        bounce(t2) {
-            return this.plugins.add("bounce", new X$1(this, t2)), this;
-        }
-        pinch(t2) {
-            return this.plugins.add("pinch", new R$2(this, t2)), this;
-        }
-        snap(t2, i2, e3) {
-            return this.plugins.add("snap", new q$1(this, t2, i2, e3)), this;
-        }
-        follow(t2, i2) {
-            return this.plugins.add("follow", new F$2(this, t2, i2)), this;
-        }
-        wheel(t2) {
-            return this.plugins.add("wheel", new J(this, t2)), this;
-        }
-        animate(t2) {
-            return this.plugins.add("animate", new k(this, t2)), this;
-        }
-        clampZoom(t2) {
-            return this.plugins.add("clamp-zoom", new T$2(this, t2)), this;
-        }
-        mouseEdges(t2) {
-            return this.plugins.add("mouse-edges", new N(this, t2)), this;
-        }
-        get pause() {
-            return !!this._pause;
-        }
-        set pause(t2) {
-            this._pause = t2, this.lastViewport = null, this.moving = false, this.zooming = false, t2 && this.input.pause();
-        }
-        ensureVisible(t2, i2, e3, n2, s2) {
-            s2 && (e3 > this.worldScreenWidth || n2 > this.worldScreenHeight) && (this.fit(true, e3, n2), this.emit("zoomed", {
-                viewport: this,
-                type: "ensureVisible"
-            }));
-            let h2 = false;
-            t2 < this.left ? (this.left = t2, h2 = true) : t2 + e3 > this.right && (this.right = t2 + e3, h2 = true), i2 < this.top ? (this.top = i2, h2 = true) : i2 + n2 > this.bottom && (this.bottom = i2 + n2, h2 = true), h2 && this.emit("moved", {
-                viewport: this,
-                type: "ensureVisible"
-            });
-        }
-    }
     const tempPoint$2 = new Point$1();
     const indices = new Uint16Array([0, 1, 2, 0, 2, 3]);
     class Sprite extends Container {
         constructor(texture) {
             super();
             this._anchor = new ObservablePoint(this._onAnchorUpdate, this, texture ? texture.defaultAnchor.x : 0, texture ? texture.defaultAnchor.y : 0);
             this._texture = null;
@@ -372795,14 +371092,1686 @@
         texture: true,
         children: false,
         baseTexture: true
     };
     HTMLText.defaultMaxWidth = 2024;
     HTMLText.defaultMaxHeight = 2024;
     HTMLText.defaultAutoResolution = true;
+    class u {
+        constructor(t2) {
+            this.parent = t2, this.paused = false;
+        }
+        destroy() {}
+        down(t2) {
+            return false;
+        }
+        move(t2) {
+            return false;
+        }
+        up(t2) {
+            return false;
+        }
+        wheel(t2) {
+            return false;
+        }
+        update(t2) {}
+        resize() {}
+        reset() {}
+        pause() {
+            this.paused = true;
+        }
+        resume() {
+            this.paused = false;
+        }
+    }
+    var S = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
+
+    function M(l2) {
+        return l2 && l2.__esModule && Object.prototype.hasOwnProperty.call(l2, "default") ? l2.default : l2;
+    }
+    var W = {
+        exports: {}
+    };
+    (function(l2, t2) {
+        (function() {
+            var e3, n2;
+            n2 = function(i2) {
+                return l2.exports = i2;
+            }, e3 = {
+                linear: function(i2, s2, h2, o2) {
+                    return h2 * i2 / o2 + s2;
+                },
+                easeInQuad: function(i2, s2, h2, o2) {
+                    return h2 * (i2 /= o2) * i2 + s2;
+                },
+                easeOutQuad: function(i2, s2, h2, o2) {
+                    return -h2 * (i2 /= o2) * (i2 - 2) + s2;
+                },
+                easeInOutQuad: function(i2, s2, h2, o2) {
+                    return (i2 /= o2 / 2) < 1 ? h2 / 2 * i2 * i2 + s2 : -h2 / 2 * (--i2 * (i2 - 2) - 1) + s2;
+                },
+                easeInCubic: function(i2, s2, h2, o2) {
+                    return h2 * (i2 /= o2) * i2 * i2 + s2;
+                },
+                easeOutCubic: function(i2, s2, h2, o2) {
+                    return h2 * ((i2 = i2 / o2 - 1) * i2 * i2 + 1) + s2;
+                },
+                easeInOutCubic: function(i2, s2, h2, o2) {
+                    return (i2 /= o2 / 2) < 1 ? h2 / 2 * i2 * i2 * i2 + s2 : h2 / 2 * ((i2 -= 2) * i2 * i2 + 2) + s2;
+                },
+                easeInQuart: function(i2, s2, h2, o2) {
+                    return h2 * (i2 /= o2) * i2 * i2 * i2 + s2;
+                },
+                easeOutQuart: function(i2, s2, h2, o2) {
+                    return -h2 * ((i2 = i2 / o2 - 1) * i2 * i2 * i2 - 1) + s2;
+                },
+                easeInOutQuart: function(i2, s2, h2, o2) {
+                    return (i2 /= o2 / 2) < 1 ? h2 / 2 * i2 * i2 * i2 * i2 + s2 : -h2 / 2 * ((i2 -= 2) * i2 * i2 * i2 - 2) + s2;
+                },
+                easeInQuint: function(i2, s2, h2, o2) {
+                    return h2 * (i2 /= o2) * i2 * i2 * i2 * i2 + s2;
+                },
+                easeOutQuint: function(i2, s2, h2, o2) {
+                    return h2 * ((i2 = i2 / o2 - 1) * i2 * i2 * i2 * i2 + 1) + s2;
+                },
+                easeInOutQuint: function(i2, s2, h2, o2) {
+                    return (i2 /= o2 / 2) < 1 ? h2 / 2 * i2 * i2 * i2 * i2 * i2 + s2 : h2 / 2 * ((i2 -= 2) * i2 * i2 * i2 * i2 + 2) + s2;
+                },
+                easeInSine: function(i2, s2, h2, o2) {
+                    return -h2 * Math.cos(i2 / o2 * (Math.PI / 2)) + h2 + s2;
+                },
+                easeOutSine: function(i2, s2, h2, o2) {
+                    return h2 * Math.sin(i2 / o2 * (Math.PI / 2)) + s2;
+                },
+                easeInOutSine: function(i2, s2, h2, o2) {
+                    return -h2 / 2 * (Math.cos(Math.PI * i2 / o2) - 1) + s2;
+                },
+                easeInExpo: function(i2, s2, h2, o2) {
+                    return i2 === 0 ? s2 : h2 * Math.pow(2, 10 * (i2 / o2 - 1)) + s2;
+                },
+                easeOutExpo: function(i2, s2, h2, o2) {
+                    return i2 === o2 ? s2 + h2 : h2 * (-Math.pow(2, -10 * i2 / o2) + 1) + s2;
+                },
+                easeInOutExpo: function(i2, s2, h2, o2) {
+                    return (i2 /= o2 / 2) < 1 ? h2 / 2 * Math.pow(2, 10 * (i2 - 1)) + s2 : h2 / 2 * (-Math.pow(2, -10 * --i2) + 2) + s2;
+                },
+                easeInCirc: function(i2, s2, h2, o2) {
+                    return -h2 * (Math.sqrt(1 - (i2 /= o2) * i2) - 1) + s2;
+                },
+                easeOutCirc: function(i2, s2, h2, o2) {
+                    return h2 * Math.sqrt(1 - (i2 = i2 / o2 - 1) * i2) + s2;
+                },
+                easeInOutCirc: function(i2, s2, h2, o2) {
+                    return (i2 /= o2 / 2) < 1 ? -h2 / 2 * (Math.sqrt(1 - i2 * i2) - 1) + s2 : h2 / 2 * (Math.sqrt(1 - (i2 -= 2) * i2) + 1) + s2;
+                },
+                easeInElastic: function(i2, s2, h2, o2) {
+                    var r2, a2, p2;
+                    return p2 = 1.70158, a2 = 0, r2 = h2, i2 === 0 || (i2 /= o2), a2 || (a2 = o2 * 0.3), r2 < Math.abs(h2) ? (r2 = h2, p2 = a2 / 4) : p2 = a2 / (2 * Math.PI) * Math.asin(h2 / r2), -(r2 * Math.pow(2, 10 * (i2 -= 1)) * Math.sin((i2 * o2 - p2) * (2 * Math.PI) / a2)) + s2;
+                },
+                easeOutElastic: function(i2, s2, h2, o2) {
+                    var r2, a2, p2;
+                    return p2 = 1.70158, a2 = 0, r2 = h2, i2 === 0 || (i2 /= o2), a2 || (a2 = o2 * 0.3), r2 < Math.abs(h2) ? (r2 = h2, p2 = a2 / 4) : p2 = a2 / (2 * Math.PI) * Math.asin(h2 / r2), r2 * Math.pow(2, -10 * i2) * Math.sin((i2 * o2 - p2) * (2 * Math.PI) / a2) + h2 + s2;
+                },
+                easeInOutElastic: function(i2, s2, h2, o2) {
+                    var r2, a2, p2;
+                    return p2 = 1.70158, a2 = 0, r2 = h2, i2 === 0 || (i2 /= o2 / 2), a2 || (a2 = o2 * (0.3 * 1.5)), r2 < Math.abs(h2) ? (r2 = h2, p2 = a2 / 4) : p2 = a2 / (2 * Math.PI) * Math.asin(h2 / r2), i2 < 1 ? -0.5 * (r2 * Math.pow(2, 10 * (i2 -= 1)) * Math.sin((i2 * o2 - p2) * (2 * Math.PI) / a2)) + s2 : r2 * Math.pow(2, -10 * (i2 -= 1)) * Math.sin((i2 * o2 - p2) * (2 * Math.PI) / a2) * 0.5 + h2 + s2;
+                },
+                easeInBack: function(i2, s2, h2, o2, r2) {
+                    return r2 === void 0 && (r2 = 1.70158), h2 * (i2 /= o2) * i2 * ((r2 + 1) * i2 - r2) + s2;
+                },
+                easeOutBack: function(i2, s2, h2, o2, r2) {
+                    return r2 === void 0 && (r2 = 1.70158), h2 * ((i2 = i2 / o2 - 1) * i2 * ((r2 + 1) * i2 + r2) + 1) + s2;
+                },
+                easeInOutBack: function(i2, s2, h2, o2, r2) {
+                    return r2 === void 0 && (r2 = 1.70158), (i2 /= o2 / 2) < 1 ? h2 / 2 * (i2 * i2 * (((r2 *= 1.525) + 1) * i2 - r2)) + s2 : h2 / 2 * ((i2 -= 2) * i2 * (((r2 *= 1.525) + 1) * i2 + r2) + 2) + s2;
+                },
+                easeInBounce: function(i2, s2, h2, o2) {
+                    var r2;
+                    return r2 = e3.easeOutBounce(o2 - i2, 0, h2, o2), h2 - r2 + s2;
+                },
+                easeOutBounce: function(i2, s2, h2, o2) {
+                    return (i2 /= o2) < 1 / 2.75 ? h2 * (7.5625 * i2 * i2) + s2 : i2 < 2 / 2.75 ? h2 * (7.5625 * (i2 -= 1.5 / 2.75) * i2 + 0.75) + s2 : i2 < 2.5 / 2.75 ? h2 * (7.5625 * (i2 -= 2.25 / 2.75) * i2 + 0.9375) + s2 : h2 * (7.5625 * (i2 -= 2.625 / 2.75) * i2 + 0.984375) + s2;
+                },
+                easeInOutBounce: function(i2, s2, h2, o2) {
+                    var r2;
+                    return i2 < o2 / 2 ? (r2 = e3.easeInBounce(i2 * 2, 0, h2, o2), r2 * 0.5 + s2) : (r2 = e3.easeOutBounce(i2 * 2 - o2, 0, h2, o2), r2 * 0.5 + h2 * 0.5 + s2);
+                }
+            }, n2(e3);
+        }).call(S);
+    })(W);
+    var O$1 = W.exports;
+    const v$1 = /* @__PURE__ */ M(O$1);
+
+    function x$1(l2, t2) {
+        if (l2) {
+            if (typeof l2 == "function")
+                return l2;
+            if (typeof l2 == "string")
+                return v$1[l2];
+        } else
+            return v$1[t2];
+    }
+    const P$2 = {
+        removeOnInterrupt: false,
+        ease: "linear",
+        time: 1e3
+    };
+    class C$1 extends u {
+        constructor(t2, e3 = {}) {
+            super(t2), this.startWidth = null, this.startHeight = null, this.deltaWidth = null, this.deltaHeight = null, this.width = null, this.height = null, this.time = 0, this.options = Object.assign({}, P$2, e3), this.options.ease = x$1(this.options.ease), this.setupPosition(), this.setupZoom(), this.time = 0;
+        }
+        setupPosition() {
+            typeof this.options.position < "u" ? (this.startX = this.parent.center.x, this.startY = this.parent.center.y, this.deltaX = this.options.position.x - this.parent.center.x, this.deltaY = this.options.position.y - this.parent.center.y, this.keepCenter = false) : this.keepCenter = true;
+        }
+        setupZoom() {
+            this.width = null, this.height = null, typeof this.options.scale < "u" ? this.width = this.parent.screenWidth / this.options.scale : typeof this.options.scaleX < "u" || typeof this.options.scaleY < "u" ? (typeof this.options.scaleX < "u" && (this.width = this.parent.screenWidth / this.options.scaleX), typeof this.options.scaleY < "u" && (this.height = this.parent.screenHeight / this.options.scaleY)) : (typeof this.options.width < "u" && (this.width = this.options.width), typeof this.options.height < "u" && (this.height = this.options.height)), this.width !== null && (this.startWidth = this.parent.screenWidthInWorldPixels, this.deltaWidth = this.width - this.startWidth), this.height !== null && (this.startHeight = this.parent.screenHeightInWorldPixels, this.deltaHeight = this.height - this.startHeight);
+        }
+        down() {
+            return this.options.removeOnInterrupt && this.parent.plugins.remove("animate"), false;
+        }
+        complete() {
+            this.parent.plugins.remove("animate"), this.width !== null && this.parent.fitWidth(this.width, this.keepCenter, this.height === null), this.height !== null && this.parent.fitHeight(this.height, this.keepCenter, this.width === null), !this.keepCenter && this.options.position && this.parent.moveCenter(this.options.position), this.parent.emit("animate-end", this.parent), this.options.callbackOnComplete && this.options.callbackOnComplete(this.parent);
+        }
+        update(t2) {
+            if (this.paused)
+                return;
+            this.time += t2;
+            const e3 = new Point$1(this.parent.scale.x, this.parent.scale.y);
+            if (this.time >= this.options.time) {
+                const n2 = this.parent.width,
+                    i2 = this.parent.height;
+                this.complete(), (n2 !== this.parent.width || i2 !== this.parent.height) && this.parent.emit("zoomed", {
+                    viewport: this.parent,
+                    original: e3,
+                    type: "animate"
+                });
+            } else {
+                const n2 = this.options.ease(this.time, 0, 1, this.options.time);
+                if (this.width !== null) {
+                    const i2 = this.startWidth,
+                        s2 = this.deltaWidth;
+                    this.parent.fitWidth(
+                        i2 + s2 * n2,
+                        this.keepCenter,
+                        this.height === null
+                    );
+                }
+                if (this.height !== null) {
+                    const i2 = this.startHeight,
+                        s2 = this.deltaHeight;
+                    this.parent.fitHeight(
+                        i2 + s2 * n2,
+                        this.keepCenter,
+                        this.width === null
+                    );
+                }
+                if (this.width === null ? this.parent.scale.x = this.parent.scale.y : this.height === null && (this.parent.scale.y = this.parent.scale.x), !this.keepCenter) {
+                    const i2 = this.startX,
+                        s2 = this.startY,
+                        h2 = this.deltaX,
+                        o2 = this.deltaY,
+                        r2 = new Point$1(this.parent.x, this.parent.y);
+                    this.parent.moveCenter(i2 + h2 * n2, s2 + o2 * n2), this.parent.emit("moved", {
+                        viewport: this.parent,
+                        original: r2,
+                        type: "animate"
+                    });
+                }
+                (this.width || this.height) && this.parent.emit("zoomed", {
+                    viewport: this.parent,
+                    original: e3,
+                    type: "animate"
+                });
+            }
+        }
+    }
+    const I = {
+        sides: "all",
+        friction: 0.5,
+        time: 150,
+        ease: "easeInOutSine",
+        underflow: "center",
+        bounceBox: null
+    };
+    class k extends u {
+        constructor(t2, e3 = {}) {
+            super(t2), this.options = Object.assign({}, I, e3), this.ease = x$1(this.options.ease, "easeInOutSine"), this.options.sides ? this.options.sides === "all" ? this.top = this.bottom = this.left = this.right = true : this.options.sides === "horizontal" ? (this.right = this.left = true, this.top = this.bottom = false) : this.options.sides === "vertical" ? (this.left = this.right = false, this.top = this.bottom = true) : (this.top = this.options.sides.indexOf("top") !== -1, this.bottom = this.options.sides.indexOf("bottom") !== -1, this.left = this.options.sides.indexOf("left") !== -1, this.right = this.options.sides.indexOf("right") !== -1) : this.left = this.top = this.right = this.bottom = false;
+            const n2 = this.options.underflow.toLowerCase();
+            n2 === "center" ? (this.underflowX = 0, this.underflowY = 0) : (this.underflowX = n2.indexOf("left") !== -1 ? -1 : n2.indexOf("right") !== -1 ? 1 : 0, this.underflowY = n2.indexOf("top") !== -1 ? -1 : n2.indexOf("bottom") !== -1 ? 1 : 0), this.reset();
+        }
+        isActive() {
+            return this.toX !== null || this.toY !== null;
+        }
+        down() {
+            return this.toX = this.toY = null, false;
+        }
+        up() {
+            return this.bounce(), false;
+        }
+        update(t2) {
+            if (!this.paused) {
+                if (this.bounce(), this.toX) {
+                    const e3 = this.toX;
+                    e3.time += t2, this.parent.emit("moved", {
+                        viewport: this.parent,
+                        type: "bounce-x"
+                    }), e3.time >= this.options.time ? (this.parent.x = e3.end, this.toX = null, this.parent.emit("bounce-x-end", this.parent)) : this.parent.x = this.ease(e3.time, e3.start, e3.delta, this.options.time);
+                }
+                if (this.toY) {
+                    const e3 = this.toY;
+                    e3.time += t2, this.parent.emit("moved", {
+                        viewport: this.parent,
+                        type: "bounce-y"
+                    }), e3.time >= this.options.time ? (this.parent.y = e3.end, this.toY = null, this.parent.emit("bounce-y-end", this.parent)) : this.parent.y = this.ease(e3.time, e3.start, e3.delta, this.options.time);
+                }
+            }
+        }
+        calcUnderflowX() {
+            let t2;
+            switch (this.underflowX) {
+                case -1:
+                    t2 = 0;
+                    break;
+                case 1:
+                    t2 = this.parent.screenWidth - this.parent.screenWorldWidth;
+                    break;
+                default:
+                    t2 = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2;
+            }
+            return t2;
+        }
+        calcUnderflowY() {
+            let t2;
+            switch (this.underflowY) {
+                case -1:
+                    t2 = 0;
+                    break;
+                case 1:
+                    t2 = this.parent.screenHeight - this.parent.screenWorldHeight;
+                    break;
+                default:
+                    t2 = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2;
+            }
+            return t2;
+        }
+        oob() {
+            const t2 = this.options.bounceBox;
+            if (t2) {
+                const e3 = typeof t2.x > "u" ? 0 : t2.x,
+                    n2 = typeof t2.y > "u" ? 0 : t2.y,
+                    i2 = typeof t2.width > "u" ? this.parent.worldWidth : t2.width,
+                    s2 = typeof t2.height > "u" ? this.parent.worldHeight : t2.height;
+                return {
+                    left: this.parent.left < e3,
+                    right: this.parent.right > i2,
+                    top: this.parent.top < n2,
+                    bottom: this.parent.bottom > s2,
+                    topLeft: new Point$1(
+                        e3 * this.parent.scale.x,
+                        n2 * this.parent.scale.y
+                    ),
+                    bottomRight: new Point$1(
+                        i2 * this.parent.scale.x - this.parent.screenWidth,
+                        s2 * this.parent.scale.y - this.parent.screenHeight
+                    )
+                };
+            }
+            return {
+                left: this.parent.left < 0,
+                right: this.parent.right > this.parent.worldWidth,
+                top: this.parent.top < 0,
+                bottom: this.parent.bottom > this.parent.worldHeight,
+                topLeft: new Point$1(0, 0),
+                bottomRight: new Point$1(
+                    this.parent.worldWidth * this.parent.scale.x - this.parent.screenWidth,
+                    this.parent.worldHeight * this.parent.scale.y - this.parent.screenHeight
+                )
+            };
+        }
+        bounce() {
+            var s2, h2;
+            if (this.paused)
+                return;
+            let t2, e3 = this.parent.plugins.get("decelerate", true);
+            e3 && (e3.x || e3.y) && (e3.x && e3.percentChangeX === ((s2 = e3.options) == null ? void 0 : s2.friction) || e3.y && e3.percentChangeY === ((h2 = e3.options) == null ? void 0 : h2.friction)) && (t2 = this.oob(), (t2.left && this.left || t2.right && this.right) && (e3.percentChangeX = this.options.friction), (t2.top && this.top || t2.bottom && this.bottom) && (e3.percentChangeY = this.options.friction));
+            const n2 = this.parent.plugins.get("drag", true) || {},
+                i2 = this.parent.plugins.get("pinch", true) || {};
+            if (e3 = e3 || {}, !(n2 != null && n2.active) && !(i2 != null && i2.active) && (!this.toX || !this.toY) && (!e3.x || !e3.y)) {
+                t2 = t2 || this.oob();
+                const o2 = t2.topLeft,
+                    r2 = t2.bottomRight;
+                if (!this.toX && !e3.x) {
+                    let a2 = null;
+                    t2.left && this.left ? a2 = this.parent.screenWorldWidth < this.parent.screenWidth ? this.calcUnderflowX() : -o2.x : t2.right && this.right && (a2 = this.parent.screenWorldWidth < this.parent.screenWidth ? this.calcUnderflowX() : -r2.x), a2 !== null && this.parent.x !== a2 && (this.toX = {
+                        time: 0,
+                        start: this.parent.x,
+                        delta: a2 - this.parent.x,
+                        end: a2
+                    }, this.parent.emit("bounce-x-start", this.parent));
+                }
+                if (!this.toY && !e3.y) {
+                    let a2 = null;
+                    t2.top && this.top ? a2 = this.parent.screenWorldHeight < this.parent.screenHeight ? this.calcUnderflowY() : -o2.y : t2.bottom && this.bottom && (a2 = this.parent.screenWorldHeight < this.parent.screenHeight ? this.calcUnderflowY() : -r2.y), a2 !== null && this.parent.y !== a2 && (this.toY = {
+                        time: 0,
+                        start: this.parent.y,
+                        delta: a2 - this.parent.y,
+                        end: a2
+                    }, this.parent.emit("bounce-y-start", this.parent));
+                }
+            }
+        }
+        reset() {
+            this.toX = this.toY = null, this.bounce();
+        }
+    }
+    const Y$1 = {
+        left: false,
+        right: false,
+        top: false,
+        bottom: false,
+        direction: null,
+        underflow: "center"
+    };
+    class X$1 extends u {
+        constructor(t2, e3 = {}) {
+            super(t2), this.options = Object.assign({}, Y$1, e3), this.options.direction && (this.options.left = this.options.direction === "x" || this.options.direction === "all" ? true : null, this.options.right = this.options.direction === "x" || this.options.direction === "all" ? true : null, this.options.top = this.options.direction === "y" || this.options.direction === "all" ? true : null, this.options.bottom = this.options.direction === "y" || this.options.direction === "all" ? true : null), this.parseUnderflow(), this.last = {
+                x: null,
+                y: null,
+                scaleX: null,
+                scaleY: null
+            }, this.update();
+        }
+        parseUnderflow() {
+            const t2 = this.options.underflow.toLowerCase();
+            t2 === "none" ? this.noUnderflow = true : t2 === "center" ? (this.underflowX = this.underflowY = 0, this.noUnderflow = false) : (this.underflowX = t2.indexOf("left") !== -1 ? -1 : t2.indexOf("right") !== -1 ? 1 : 0, this.underflowY = t2.indexOf("top") !== -1 ? -1 : t2.indexOf("bottom") !== -1 ? 1 : 0, this.noUnderflow = false);
+        }
+        move() {
+            return this.update(), false;
+        }
+        update() {
+            if (this.paused || this.parent.x === this.last.x && this.parent.y === this.last.y && this.parent.scale.x === this.last.scaleX && this.parent.scale.y === this.last.scaleY)
+                return;
+            const t2 = new Point$1(this.parent.x, this.parent.y),
+                e3 = this.parent.plugins.decelerate || {};
+            if (this.options.left !== null || this.options.right !== null) {
+                let n2 = false;
+                if (!this.noUnderflow && this.parent.screenWorldWidth < this.parent.screenWidth)
+                    switch (this.underflowX) {
+                        case -1:
+                            this.parent.x !== 0 && (this.parent.x = 0, n2 = true);
+                            break;
+                        case 1:
+                            this.parent.x !== this.parent.screenWidth - this.parent.screenWorldWidth && (this.parent.x = this.parent.screenWidth - this.parent.screenWorldWidth, n2 = true);
+                            break;
+                        default:
+                            this.parent.x !== (this.parent.screenWidth - this.parent.screenWorldWidth) / 2 && (this.parent.x = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2, n2 = true);
+                    }
+                else
+                    this.options.left !== null && this.parent.left < (this.options.left === true ? 0 : this.options.left) && (this.parent.x = -(this.options.left === true ? 0 : this.options.left) * this.parent.scale.x, e3.x = 0, n2 = true), this.options.right !== null && this.parent.right > (this.options.right === true ? this.parent.worldWidth : this.options.right) && (this.parent.x = -(this.options.right === true ? this.parent.worldWidth : this.options.right) * this.parent.scale.x + this.parent.screenWidth, e3.x = 0, n2 = true);
+                n2 && this.parent.emit("moved", {
+                    viewport: this.parent,
+                    original: t2,
+                    type: "clamp-x"
+                });
+            }
+            if (this.options.top !== null || this.options.bottom !== null) {
+                let n2 = false;
+                if (!this.noUnderflow && this.parent.screenWorldHeight < this.parent.screenHeight)
+                    switch (this.underflowY) {
+                        case -1:
+                            this.parent.y !== 0 && (this.parent.y = 0, n2 = true);
+                            break;
+                        case 1:
+                            this.parent.y !== this.parent.screenHeight - this.parent.screenWorldHeight && (this.parent.y = this.parent.screenHeight - this.parent.screenWorldHeight, n2 = true);
+                            break;
+                        default:
+                            this.parent.y !== (this.parent.screenHeight - this.parent.screenWorldHeight) / 2 && (this.parent.y = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2, n2 = true);
+                    }
+                else
+                    this.options.top !== null && this.parent.top < (this.options.top === true ? 0 : this.options.top) && (this.parent.y = -(this.options.top === true ? 0 : this.options.top) * this.parent.scale.y, e3.y = 0, n2 = true), this.options.bottom !== null && this.parent.bottom > (this.options.bottom === true ? this.parent.worldHeight : this.options.bottom) && (this.parent.y = -(this.options.bottom === true ? this.parent.worldHeight : this.options.bottom) * this.parent.scale.y + this.parent.screenHeight, e3.y = 0, n2 = true);
+                n2 && this.parent.emit("moved", {
+                    viewport: this.parent,
+                    original: t2,
+                    type: "clamp-y"
+                });
+            }
+            this.last.x = this.parent.x, this.last.y = this.parent.y, this.last.scaleX = this.parent.scale.x, this.last.scaleY = this.parent.scale.y;
+        }
+        reset() {
+            this.update();
+        }
+    }
+    const z$1 = {
+        minWidth: null,
+        minHeight: null,
+        maxWidth: null,
+        maxHeight: null,
+        minScale: null,
+        maxScale: null
+    };
+    class A$1 extends u {
+        constructor(t2, e3 = {}) {
+            super(t2), this.options = Object.assign({}, z$1, e3), this.clamp();
+        }
+        resize() {
+            this.clamp();
+        }
+        clamp() {
+            if (!this.paused) {
+                if (this.options.minWidth || this.options.minHeight || this.options.maxWidth || this.options.maxHeight) {
+                    let t2 = this.parent.worldScreenWidth,
+                        e3 = this.parent.worldScreenHeight;
+                    if (this.options.minWidth !== null && t2 < this.options.minWidth) {
+                        const n2 = this.parent.scale.x;
+                        this.parent.fitWidth(this.options.minWidth, false, false, true), this.parent.scale.y *= this.parent.scale.x / n2, t2 = this.parent.worldScreenWidth, e3 = this.parent.worldScreenHeight, this.parent.emit("zoomed", {
+                            viewport: this.parent,
+                            type: "clamp-zoom"
+                        });
+                    }
+                    if (this.options.maxWidth !== null && t2 > this.options.maxWidth) {
+                        const n2 = this.parent.scale.x;
+                        this.parent.fitWidth(this.options.maxWidth, false, false, true), this.parent.scale.y *= this.parent.scale.x / n2, t2 = this.parent.worldScreenWidth, e3 = this.parent.worldScreenHeight, this.parent.emit("zoomed", {
+                            viewport: this.parent,
+                            type: "clamp-zoom"
+                        });
+                    }
+                    if (this.options.minHeight !== null && e3 < this.options.minHeight) {
+                        const n2 = this.parent.scale.y;
+                        this.parent.fitHeight(this.options.minHeight, false, false, true), this.parent.scale.x *= this.parent.scale.y / n2, t2 = this.parent.worldScreenWidth, e3 = this.parent.worldScreenHeight, this.parent.emit("zoomed", {
+                            viewport: this.parent,
+                            type: "clamp-zoom"
+                        });
+                    }
+                    if (this.options.maxHeight !== null && e3 > this.options.maxHeight) {
+                        const n2 = this.parent.scale.y;
+                        this.parent.fitHeight(this.options.maxHeight, false, false, true), this.parent.scale.x *= this.parent.scale.y / n2, this.parent.emit("zoomed", {
+                            viewport: this.parent,
+                            type: "clamp-zoom"
+                        });
+                    }
+                } else if (this.options.minScale || this.options.maxScale) {
+                    const t2 = {
+                            x: null,
+                            y: null
+                        },
+                        e3 = {
+                            x: null,
+                            y: null
+                        };
+                    if (typeof this.options.minScale == "number")
+                        t2.x = this.options.minScale, t2.y = this.options.minScale;
+                    else if (this.options.minScale !== null) {
+                        const s2 = this.options.minScale;
+                        t2.x = typeof s2.x > "u" ? null : s2.x, t2.y = typeof s2.y > "u" ? null : s2.y;
+                    }
+                    if (typeof this.options.maxScale == "number")
+                        e3.x = this.options.maxScale, e3.y = this.options.maxScale;
+                    else if (this.options.maxScale !== null) {
+                        const s2 = this.options.maxScale;
+                        e3.x = typeof s2.x > "u" ? null : s2.x, e3.y = typeof s2.y > "u" ? null : s2.y;
+                    }
+                    let n2 = this.parent.scale.x,
+                        i2 = this.parent.scale.y;
+                    t2.x !== null && n2 < t2.x && (n2 = t2.x), e3.x !== null && n2 > e3.x && (n2 = e3.x), t2.y !== null && i2 < t2.y && (i2 = t2.y), e3.y !== null && i2 > e3.y && (i2 = e3.y), (n2 !== this.parent.scale.x || i2 !== this.parent.scale.y) && (this.parent.scale.set(n2, i2), this.parent.emit("zoomed", {
+                        viewport: this.parent,
+                        type: "clamp-zoom"
+                    }));
+                }
+            }
+        }
+        reset() {
+            this.clamp();
+        }
+    }
+    const _$2 = {
+            friction: 0.98,
+            bounce: 0.8,
+            minSpeed: 0.01
+        },
+        d = 16;
+    class T$2 extends u {
+        constructor(t2, e3 = {}) {
+            super(t2), this.options = Object.assign({}, _$2, e3), this.saved = [], this.timeSinceRelease = 0, this.reset(), this.parent.on("moved", (n2) => this.handleMoved(n2));
+        }
+        down() {
+            return this.saved = [], this.x = this.y = null, false;
+        }
+        isActive() {
+            return !!(this.x || this.y);
+        }
+        move() {
+            if (this.paused)
+                return false;
+            const t2 = this.parent.input.count();
+            return (t2 === 1 || t2 > 1 && !this.parent.plugins.get("pinch", true)) && (this.saved.push({
+                x: this.parent.x,
+                y: this.parent.y,
+                time: performance.now()
+            }), this.saved.length > 60 && this.saved.splice(0, 30)), false;
+        }
+        handleMoved(t2) {
+            if (this.saved.length) {
+                const e3 = this.saved[this.saved.length - 1];
+                t2.type === "clamp-x" && t2.original ? e3.x === t2.original.x && (e3.x = this.parent.x) : t2.type === "clamp-y" && t2.original && e3.y === t2.original.y && (e3.y = this.parent.y);
+            }
+        }
+        up() {
+            if (this.parent.input.count() === 0 && this.saved.length) {
+                const t2 = performance.now();
+                for (const e3 of this.saved)
+                    if (e3.time >= t2 - 100) {
+                        const n2 = t2 - e3.time;
+                        this.x = (this.parent.x - e3.x) / n2, this.y = (this.parent.y - e3.y) / n2, this.percentChangeX = this.percentChangeY = this.options.friction, this.timeSinceRelease = 0;
+                        break;
+                    }
+            }
+            return false;
+        }
+        activate(t2) {
+            t2 = t2 || {}, typeof t2.x < "u" && (this.x = t2.x, this.percentChangeX = this.options.friction), typeof t2.y < "u" && (this.y = t2.y, this.percentChangeY = this.options.friction);
+        }
+        update(t2) {
+            if (this.paused)
+                return;
+            const e3 = this.x || this.y,
+                n2 = this.timeSinceRelease,
+                i2 = this.timeSinceRelease + t2;
+            if (this.x) {
+                const s2 = this.percentChangeX,
+                    h2 = Math.log(s2);
+                this.parent.x += this.x * d / h2 * (Math.pow(s2, i2 / d) - Math.pow(s2, n2 / d)), this.x *= Math.pow(this.percentChangeX, t2 / d);
+            }
+            if (this.y) {
+                const s2 = this.percentChangeY,
+                    h2 = Math.log(s2);
+                this.parent.y += this.y * d / h2 * (Math.pow(s2, i2 / d) - Math.pow(s2, n2 / d)), this.y *= Math.pow(this.percentChangeY, t2 / d);
+            }
+            this.timeSinceRelease += t2, this.x && this.y ? Math.abs(this.x) < this.options.minSpeed && Math.abs(this.y) < this.options.minSpeed && (this.x = 0, this.y = 0) : (Math.abs(this.x || 0) < this.options.minSpeed && (this.x = 0), Math.abs(this.y || 0) < this.options.minSpeed && (this.y = 0)), e3 && this.parent.emit("moved", {
+                viewport: this.parent,
+                type: "decelerate"
+            });
+        }
+        reset() {
+            this.x = this.y = null;
+        }
+    }
+    const E = {
+        direction: "all",
+        pressDrag: true,
+        wheel: true,
+        wheelScroll: 1,
+        reverse: false,
+        clampWheel: false,
+        underflow: "center",
+        factor: 1,
+        mouseButtons: "all",
+        keyToPress: null,
+        ignoreKeyToPressOnTouch: false,
+        lineHeight: 20,
+        wheelSwapAxes: false
+    };
+    class D$1 extends u {
+        constructor(t2, e3 = {}) {
+            super(t2), this.windowEventHandlers = [], this.options = Object.assign({}, E, e3), this.moved = false, this.reverse = this.options.reverse ? 1 : -1, this.xDirection = !this.options.direction || this.options.direction === "all" || this.options.direction === "x", this.yDirection = !this.options.direction || this.options.direction === "all" || this.options.direction === "y", this.keyIsPressed = false, this.parseUnderflow(), this.mouseButtons(this.options.mouseButtons), this.options.keyToPress && this.handleKeyPresses(this.options.keyToPress);
+        }
+        handleKeyPresses(t2) {
+            const e3 = (i2) => {
+                    t2.includes(i2.code) && (this.keyIsPressed = true);
+                },
+                n2 = (i2) => {
+                    t2.includes(i2.code) && (this.keyIsPressed = false);
+                };
+            this.addWindowEventHandler("keyup", n2), this.addWindowEventHandler("keydown", e3);
+        }
+        addWindowEventHandler(t2, e3) {
+            typeof window > "u" || (window.addEventListener(t2, e3), this.windowEventHandlers.push({
+                event: t2,
+                handler: e3
+            }));
+        }
+        destroy() {
+            typeof window > "u" || this.windowEventHandlers.forEach(({
+                event: t2,
+                handler: e3
+            }) => {
+                window.removeEventListener(t2, e3);
+            });
+        }
+        mouseButtons(t2) {
+            !t2 || t2 === "all" ? this.mouse = [true, true, true] : this.mouse = [
+                t2.indexOf("left") !== -1,
+                t2.indexOf("middle") !== -1,
+                t2.indexOf("right") !== -1
+            ];
+        }
+        parseUnderflow() {
+            const t2 = this.options.underflow.toLowerCase();
+            t2 === "center" ? (this.underflowX = 0, this.underflowY = 0) : (t2.includes("left") ? this.underflowX = -1 : t2.includes("right") ? this.underflowX = 1 : this.underflowX = 0, t2.includes("top") ? this.underflowY = -1 : t2.includes("bottom") ? this.underflowY = 1 : this.underflowY = 0);
+        }
+        checkButtons(t2) {
+            const e3 = t2.pointerType === "mouse",
+                n2 = this.parent.input.count();
+            return !!((n2 === 1 || n2 > 1 && !this.parent.plugins.get("pinch", true)) && (!e3 || this.mouse[t2.button]));
+        }
+        checkKeyPress(t2) {
+            return !this.options.keyToPress || this.keyIsPressed || this.options.ignoreKeyToPressOnTouch && t2.data.pointerType === "touch";
+        }
+        down(t2) {
+            return this.paused || !this.options.pressDrag ? false : this.checkButtons(t2) && this.checkKeyPress(t2) ? (this.last = {
+                x: t2.global.x,
+                y: t2.global.y
+            }, this.current = t2.pointerId, true) : (this.last = null, false);
+        }
+        get active() {
+            return this.moved;
+        }
+        move(t2) {
+            if (this.paused || !this.options.pressDrag)
+                return false;
+            if (this.last && this.current === t2.data.pointerId) {
+                const e3 = t2.global.x,
+                    n2 = t2.global.y,
+                    i2 = this.parent.input.count();
+                if (i2 === 1 || i2 > 1 && !this.parent.plugins.get("pinch", true)) {
+                    const s2 = e3 - this.last.x,
+                        h2 = n2 - this.last.y;
+                    if (this.moved || this.xDirection && this.parent.input.checkThreshold(s2) || this.yDirection && this.parent.input.checkThreshold(h2)) {
+                        const o2 = {
+                            x: e3,
+                            y: n2
+                        };
+                        return this.xDirection && (this.parent.x += (o2.x - this.last.x) * this.options.factor), this.yDirection && (this.parent.y += (o2.y - this.last.y) * this.options.factor), this.last = o2, this.moved || this.parent.emit("drag-start", {
+                            event: t2,
+                            screen: new Point$1(this.last.x, this.last.y),
+                            world: this.parent.toWorld(new Point$1(this.last.x, this.last.y)),
+                            viewport: this.parent
+                        }), this.moved = true, this.parent.emit("moved", {
+                            viewport: this.parent,
+                            type: "drag"
+                        }), true;
+                    }
+                } else
+                    this.moved = false;
+            }
+            return false;
+        }
+        up(t2) {
+            if (this.paused)
+                return false;
+            const e3 = this.parent.input.touches;
+            if (e3.length === 1) {
+                const n2 = e3[0];
+                return n2.last && (this.last = {
+                    x: n2.last.x,
+                    y: n2.last.y
+                }, this.current = n2.id), this.moved = false, true;
+            } else if (this.last && this.moved) {
+                const n2 = new Point$1(this.last.x, this.last.y);
+                return this.parent.emit("drag-end", {
+                    event: t2,
+                    screen: n2,
+                    world: this.parent.toWorld(n2),
+                    viewport: this.parent
+                }), this.last = null, this.moved = false, true;
+            }
+            return false;
+        }
+        wheel(t2) {
+            if (this.paused)
+                return false;
+            if (this.options.wheel) {
+                const e3 = this.parent.plugins.get("wheel", true);
+                if (!e3 || !e3.options.wheelZoom && !t2.ctrlKey) {
+                    const n2 = t2.deltaMode ? this.options.lineHeight : 1,
+                        i2 = [t2.deltaX, t2.deltaY],
+                        [s2, h2] = this.options.wheelSwapAxes ? i2.reverse() : i2;
+                    return this.xDirection && (this.parent.x += s2 * n2 * this.options.wheelScroll * this.reverse), this.yDirection && (this.parent.y += h2 * n2 * this.options.wheelScroll * this.reverse), this.options.clampWheel && this.clamp(), this.parent.emit("wheel-scroll", this.parent), this.parent.emit("moved", {
+                        viewport: this.parent,
+                        type: "wheel"
+                    }), this.parent.options.passiveWheel || t2.preventDefault(), this.parent.options.stopPropagation && t2.stopPropagation(), true;
+                }
+            }
+            return false;
+        }
+        resume() {
+            this.last = null, this.paused = false;
+        }
+        clamp() {
+            const t2 = this.parent.plugins.get("decelerate", true) || {};
+            if (this.options.clampWheel !== "y")
+                if (this.parent.screenWorldWidth < this.parent.screenWidth)
+                    switch (this.underflowX) {
+                        case -1:
+                            this.parent.x = 0;
+                            break;
+                        case 1:
+                            this.parent.x = this.parent.screenWidth - this.parent.screenWorldWidth;
+                            break;
+                        default:
+                            this.parent.x = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2;
+                    }
+            else
+                this.parent.left < 0 ? (this.parent.x = 0, t2.x = 0) : this.parent.right > this.parent.worldWidth && (this.parent.x = -this.parent.worldWidth * this.parent.scale.x + this.parent.screenWidth, t2.x = 0);
+            if (this.options.clampWheel !== "x")
+                if (this.parent.screenWorldHeight < this.parent.screenHeight)
+                    switch (this.underflowY) {
+                        case -1:
+                            this.parent.y = 0;
+                            break;
+                        case 1:
+                            this.parent.y = this.parent.screenHeight - this.parent.screenWorldHeight;
+                            break;
+                        default:
+                            this.parent.y = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2;
+                    }
+            else
+                this.parent.top < 0 && (this.parent.y = 0, t2.y = 0), this.parent.bottom > this.parent.worldHeight && (this.parent.y = -this.parent.worldHeight * this.parent.scale.y + this.parent.screenHeight, t2.y = 0);
+        }
+    }
+    const L = {
+        speed: 0,
+        acceleration: null,
+        radius: null
+    };
+    class U extends u {
+        constructor(t2, e3, n2 = {}) {
+            super(t2), this.target = e3, this.options = Object.assign({}, L, n2), this.velocity = {
+                x: 0,
+                y: 0
+            };
+        }
+        update(t2) {
+            if (this.paused)
+                return;
+            const e3 = this.parent.center;
+            let n2 = this.target.x,
+                i2 = this.target.y;
+            if (this.options.radius)
+                if (Math.sqrt(Math.pow(this.target.y - e3.y, 2) + Math.pow(this.target.x - e3.x, 2)) > this.options.radius) {
+                    const r2 = Math.atan2(this.target.y - e3.y, this.target.x - e3.x);
+                    n2 = this.target.x - Math.cos(r2) * this.options.radius, i2 = this.target.y - Math.sin(r2) * this.options.radius;
+                } else
+                    return;
+            const s2 = n2 - e3.x,
+                h2 = i2 - e3.y;
+            if (s2 || h2)
+                if (this.options.speed)
+                    if (this.options.acceleration) {
+                        const o2 = Math.atan2(i2 - e3.y, n2 - e3.x),
+                            r2 = Math.sqrt(Math.pow(s2, 2) + Math.pow(h2, 2));
+                        if (r2) {
+                            const a2 = (Math.pow(this.velocity.x, 2) + Math.pow(this.velocity.y, 2)) / (2 * this.options.acceleration);
+                            r2 > a2 ? this.velocity = {
+                                x: Math.min(this.velocity.x + (this.options.acceleration * t2, this.options.speed)),
+                                y: Math.min(this.velocity.y + (this.options.acceleration * t2, this.options.speed))
+                            } : this.velocity = {
+                                x: Math.max(this.velocity.x - this.options.acceleration * this.options.speed, 0),
+                                y: Math.max(this.velocity.y - this.options.acceleration * this.options.speed, 0)
+                            };
+                            const p2 = Math.cos(o2) * this.velocity.x,
+                                f2 = Math.sin(o2) * this.velocity.y,
+                                g2 = Math.abs(p2) > Math.abs(s2) ? n2 : e3.x + p2,
+                                w2 = Math.abs(f2) > Math.abs(h2) ? i2 : e3.y + f2;
+                            this.parent.moveCenter(g2, w2), this.parent.emit("moved", {
+                                viewport: this.parent,
+                                type: "follow"
+                            });
+                        }
+                    } else {
+                        const o2 = Math.atan2(i2 - e3.y, n2 - e3.x),
+                            r2 = Math.cos(o2) * this.options.speed,
+                            a2 = Math.sin(o2) * this.options.speed,
+                            p2 = Math.abs(r2) > Math.abs(s2) ? n2 : e3.x + r2,
+                            f2 = Math.abs(a2) > Math.abs(h2) ? i2 : e3.y + a2;
+                        this.parent.moveCenter(p2, f2), this.parent.emit("moved", {
+                            viewport: this.parent,
+                            type: "follow"
+                        });
+                    }
+            else
+                this.parent.moveCenter(n2, i2), this.parent.emit("moved", {
+                    viewport: this.parent,
+                    type: "follow"
+                });
+        }
+    }
+    const F$2 = {
+        radius: null,
+        distance: null,
+        top: null,
+        bottom: null,
+        left: null,
+        right: null,
+        speed: 8,
+        reverse: false,
+        noDecelerate: false,
+        linear: false,
+        allowButtons: false
+    };
+    class B extends u {
+        constructor(t2, e3 = {}) {
+            super(t2), this.options = Object.assign({}, F$2, e3), this.reverse = this.options.reverse ? 1 : -1, this.radiusSquared = typeof this.options.radius == "number" ? Math.pow(this.options.radius, 2) : null, this.resize();
+        }
+        resize() {
+            const t2 = this.options.distance;
+            t2 !== null ? (this.left = t2, this.top = t2, this.right = this.parent.screenWidth - t2, this.bottom = this.parent.screenHeight - t2) : this.options.radius || (this.left = this.options.left, this.top = this.options.top, this.right = this.options.right === null ? null : this.parent.screenWidth - this.options.right, this.bottom = this.options.bottom === null ? null : this.parent.screenHeight - this.options.bottom);
+        }
+        down() {
+            return this.paused || this.options.allowButtons || (this.horizontal = this.vertical = null), false;
+        }
+        move(t2) {
+            if (this.paused || t2.pointerType !== "mouse" && t2.pointerId !== 1 || !this.options.allowButtons && t2.buttons !== 0)
+                return false;
+            const e3 = t2.global.x,
+                n2 = t2.global.y;
+            if (this.radiusSquared) {
+                const i2 = this.parent.toScreen(this.parent.center);
+                if (Math.pow(i2.x - e3, 2) + Math.pow(i2.y - n2, 2) >= this.radiusSquared) {
+                    const h2 = Math.atan2(i2.y - n2, i2.x - e3);
+                    this.options.linear ? (this.horizontal = Math.round(Math.cos(h2)) * this.options.speed * this.reverse * (60 / 1e3), this.vertical = Math.round(Math.sin(h2)) * this.options.speed * this.reverse * (60 / 1e3)) : (this.horizontal = Math.cos(h2) * this.options.speed * this.reverse * (60 / 1e3), this.vertical = Math.sin(h2) * this.options.speed * this.reverse * (60 / 1e3));
+                } else
+                    this.horizontal && this.decelerateHorizontal(), this.vertical && this.decelerateVertical(), this.horizontal = this.vertical = 0;
+            } else
+                this.left !== null && e3 < this.left ? this.horizontal = Number(this.reverse) * this.options.speed * (60 / 1e3) : this.right !== null && e3 > this.right ? this.horizontal = -1 * this.reverse * this.options.speed * (60 / 1e3) : (this.decelerateHorizontal(), this.horizontal = 0), this.top !== null && n2 < this.top ? this.vertical = Number(this.reverse) * this.options.speed * (60 / 1e3) : this.bottom !== null && n2 > this.bottom ? this.vertical = -1 * this.reverse * this.options.speed * (60 / 1e3) : (this.decelerateVertical(), this.vertical = 0);
+            return false;
+        }
+        decelerateHorizontal() {
+            const t2 = this.parent.plugins.get("decelerate", true);
+            this.horizontal && t2 && !this.options.noDecelerate && t2.activate({
+                x: this.horizontal * this.options.speed * this.reverse / (1e3 / 60)
+            });
+        }
+        decelerateVertical() {
+            const t2 = this.parent.plugins.get("decelerate", true);
+            this.vertical && t2 && !this.options.noDecelerate && t2.activate({
+                y: this.vertical * this.options.speed * this.reverse / (1e3 / 60)
+            });
+        }
+        up() {
+            return this.paused || (this.horizontal && this.decelerateHorizontal(), this.vertical && this.decelerateVertical(), this.horizontal = this.vertical = null), false;
+        }
+        update() {
+            if (!this.paused && (this.horizontal || this.vertical)) {
+                const t2 = this.parent.center;
+                this.horizontal && (t2.x += this.horizontal * this.options.speed), this.vertical && (t2.y += this.vertical * this.options.speed), this.parent.moveCenter(t2), this.parent.emit("moved", {
+                    viewport: this.parent,
+                    type: "mouse-edges"
+                });
+            }
+        }
+    }
+    const V$1 = {
+        noDrag: false,
+        percent: 1,
+        center: null,
+        factor: 1,
+        axis: "all"
+    };
+    class N extends u {
+        constructor(t2, e3 = {}) {
+            super(t2), this.active = false, this.pinching = false, this.moved = false, this.options = Object.assign({}, V$1, e3);
+        }
+        down() {
+            return this.parent.input.count() >= 2 ? (this.active = true, true) : false;
+        }
+        isAxisX() {
+            return ["all", "x"].includes(this.options.axis);
+        }
+        isAxisY() {
+            return ["all", "y"].includes(this.options.axis);
+        }
+        move(t2) {
+            if (this.paused || !this.active)
+                return false;
+            const e3 = t2.global.x,
+                n2 = t2.global.y,
+                i2 = this.parent.input.touches;
+            if (i2.length >= 2) {
+                const s2 = i2[0],
+                    h2 = i2[1],
+                    o2 = s2.last && h2.last ? Math.sqrt(Math.pow(h2.last.x - s2.last.x, 2) + Math.pow(h2.last.y - s2.last.y, 2)) : null;
+                if (s2.id === t2.pointerId ? s2.last = {
+                        x: e3,
+                        y: n2,
+                        data: t2
+                    } : h2.id === t2.pointerId && (h2.last = {
+                        x: e3,
+                        y: n2,
+                        data: t2
+                    }), o2) {
+                    let r2;
+                    const a2 = new Point$1(
+                        s2.last.x + (h2.last.x - s2.last.x) / 2,
+                        s2.last.y + (h2.last.y - s2.last.y) / 2
+                    );
+                    this.options.center || (r2 = this.parent.toLocal(a2));
+                    let p2 = Math.sqrt(Math.pow(
+                        h2.last.x - s2.last.x,
+                        2
+                    ) + Math.pow(h2.last.y - s2.last.y, 2));
+                    p2 = p2 === 0 ? p2 = 1e-10 : p2;
+                    const f2 = (1 - o2 / p2) * this.options.percent * (this.isAxisX() ? this.parent.scale.x : this.parent.scale.y);
+                    this.isAxisX() && (this.parent.scale.x += f2), this.isAxisY() && (this.parent.scale.y += f2), this.parent.emit("zoomed", {
+                        viewport: this.parent,
+                        type: "pinch",
+                        center: a2
+                    });
+                    const g2 = this.parent.plugins.get("clamp-zoom", true);
+                    if (g2 && g2.clamp(), this.options.center)
+                        this.parent.moveCenter(this.options.center);
+                    else {
+                        const w2 = this.parent.toGlobal(r2);
+                        this.parent.x += (a2.x - w2.x) * this.options.factor, this.parent.y += (a2.y - w2.y) * this.options.factor, this.parent.emit("moved", {
+                            viewport: this.parent,
+                            type: "pinch"
+                        });
+                    }!this.options.noDrag && this.lastCenter && (this.parent.x += (a2.x - this.lastCenter.x) * this.options.factor, this.parent.y += (a2.y - this.lastCenter.y) * this.options.factor, this.parent.emit("moved", {
+                        viewport: this.parent,
+                        type: "pinch"
+                    })), this.lastCenter = a2, this.moved = true;
+                } else
+                    this.pinching || (this.parent.emit("pinch-start", this.parent), this.pinching = true);
+                return true;
+            }
+            return false;
+        }
+        up() {
+            return this.pinching && this.parent.input.touches.length <= 1 ? (this.active = false, this.lastCenter = null, this.pinching = false, this.moved = false, this.parent.emit("pinch-end", this.parent), true) : false;
+        }
+    }
+    const Z = {
+        topLeft: false,
+        friction: 0.8,
+        time: 1e3,
+        ease: "easeInOutSine",
+        interrupt: true,
+        removeOnComplete: false,
+        removeOnInterrupt: false,
+        forceStart: false
+    };
+    class j extends u {
+        constructor(t2, e3, n2, i2 = {}) {
+            super(t2), this.options = Object.assign({}, Z, i2), this.ease = x$1(i2.ease, "easeInOutSine"), this.x = e3, this.y = n2, this.options.forceStart && this.snapStart();
+        }
+        snapStart() {
+            this.percent = 0, this.snapping = {
+                time: 0
+            };
+            const t2 = this.options.topLeft ? this.parent.corner : this.parent.center;
+            this.deltaX = this.x - t2.x, this.deltaY = this.y - t2.y, this.startX = t2.x, this.startY = t2.y, this.parent.emit("snap-start", this.parent);
+        }
+        wheel() {
+            return this.options.removeOnInterrupt && this.parent.plugins.remove("snap"), false;
+        }
+        down() {
+            return this.options.removeOnInterrupt ? this.parent.plugins.remove("snap") : this.options.interrupt && (this.snapping = null), false;
+        }
+        up() {
+            if (this.parent.input.count() === 0) {
+                const t2 = this.parent.plugins.get("decelerate", true);
+                t2 && (t2.x || t2.y) && (t2.percentChangeX = t2.percentChangeY = this.options.friction);
+            }
+            return false;
+        }
+        update(t2) {
+            if (!this.paused && !(this.options.interrupt && this.parent.input.count() !== 0))
+                if (this.snapping) {
+                    const e3 = this.snapping;
+                    e3.time += t2;
+                    let n2, i2, s2;
+                    const h2 = this.startX,
+                        o2 = this.startY,
+                        r2 = this.deltaX,
+                        a2 = this.deltaY;
+                    if (e3.time > this.options.time)
+                        n2 = true, i2 = h2 + r2, s2 = o2 + a2;
+                    else {
+                        const p2 = this.ease(e3.time, 0, 1, this.options.time);
+                        i2 = h2 + r2 * p2, s2 = o2 + a2 * p2;
+                    }
+                    this.options.topLeft ? this.parent.moveCorner(i2, s2) : this.parent.moveCenter(i2, s2), this.parent.emit("moved", {
+                        viewport: this.parent,
+                        type: "snap"
+                    }), n2 && (this.options.removeOnComplete && this.parent.plugins.remove("snap"), this.parent.emit("snap-end", this.parent), this.snapping = null);
+                } else {
+                    const e3 = this.options.topLeft ? this.parent.corner : this.parent.center;
+                    (e3.x !== this.x || e3.y !== this.y) && this.snapStart();
+                }
+        }
+    }
+    const R$2 = {
+        width: 0,
+        height: 0,
+        time: 1e3,
+        ease: "easeInOutSine",
+        center: null,
+        interrupt: true,
+        removeOnComplete: false,
+        removeOnInterrupt: false,
+        forceStart: false,
+        noMove: false
+    };
+    class K$2 extends u {
+        constructor(t2, e3 = {}) {
+            super(t2), this.options = Object.assign({}, R$2, e3), this.ease = x$1(this.options.ease), this.xIndependent = false, this.yIndependent = false, this.xScale = 0, this.yScale = 0, this.options.width > 0 && (this.xScale = t2.screenWidth / this.options.width, this.xIndependent = true), this.options.height > 0 && (this.yScale = t2.screenHeight / this.options.height, this.yIndependent = true), this.xScale = this.xIndependent ? this.xScale : this.yScale, this.yScale = this.yIndependent ? this.yScale : this.xScale, this.options.time === 0 ? (t2.container.scale.x = this.xScale, t2.container.scale.y = this.yScale, this.options.removeOnComplete && this.parent.plugins.remove("snap-zoom")) : e3.forceStart && this.createSnapping();
+        }
+        createSnapping() {
+            const t2 = this.parent.worldScreenWidth,
+                e3 = this.parent.worldScreenHeight,
+                n2 = this.parent.screenWidth / this.xScale,
+                i2 = this.parent.screenHeight / this.yScale;
+            this.snapping = {
+                time: 0,
+                startX: t2,
+                startY: e3,
+                deltaX: n2 - t2,
+                deltaY: i2 - e3
+            }, this.parent.emit("snap-zoom-start", this.parent);
+        }
+        resize() {
+            this.snapping = null, this.options.width > 0 && (this.xScale = this.parent.screenWidth / this.options.width), this.options.height > 0 && (this.yScale = this.parent.screenHeight / this.options.height), this.xScale = this.xIndependent ? this.xScale : this.yScale, this.yScale = this.yIndependent ? this.yScale : this.xScale;
+        }
+        wheel() {
+            return this.options.removeOnInterrupt && this.parent.plugins.remove("snap-zoom"), false;
+        }
+        down() {
+            return this.options.removeOnInterrupt ? this.parent.plugins.remove("snap-zoom") : this.options.interrupt && (this.snapping = null), false;
+        }
+        update(t2) {
+            if (this.paused || this.options.interrupt && this.parent.input.count() !== 0)
+                return;
+            let e3;
+            if (!this.options.center && !this.options.noMove && (e3 = this.parent.center), !this.snapping)
+                (this.parent.scale.x !== this.xScale || this.parent.scale.y !== this.yScale) && this.createSnapping();
+            else if (this.snapping) {
+                const n2 = this.snapping;
+                if (n2.time += t2, n2.time >= this.options.time)
+                    this.parent.scale.set(this.xScale, this.yScale), this.options.removeOnComplete && this.parent.plugins.remove("snap-zoom"), this.parent.emit("snap-zoom-end", this.parent), this.snapping = null;
+                else {
+                    const s2 = this.snapping,
+                        h2 = this.ease(s2.time, s2.startX, s2.deltaX, this.options.time),
+                        o2 = this.ease(s2.time, s2.startY, s2.deltaY, this.options.time);
+                    this.parent.scale.x = this.parent.screenWidth / h2, this.parent.scale.y = this.parent.screenHeight / o2;
+                }
+                const i2 = this.parent.plugins.get("clamp-zoom", true);
+                i2 && i2.clamp(), this.options.noMove || (this.options.center ? this.parent.moveCenter(this.options.center) : this.parent.moveCenter(e3));
+            }
+        }
+        resume() {
+            this.snapping = null, super.resume();
+        }
+    }
+    const q$1 = {
+        percent: 0.1,
+        smooth: false,
+        interrupt: true,
+        reverse: false,
+        center: null,
+        lineHeight: 20,
+        axis: "all",
+        keyToPress: null,
+        trackpadPinch: false,
+        wheelZoom: true
+    };
+    class G extends u {
+        constructor(t2, e3 = {}) {
+            super(t2), this.options = Object.assign({}, q$1, e3), this.keyIsPressed = false, this.options.keyToPress && this.handleKeyPresses(this.options.keyToPress);
+        }
+        handleKeyPresses(t2) {
+            typeof window > "u" || (window.addEventListener("keydown", (e3) => {
+                t2.includes(e3.code) && (this.keyIsPressed = true);
+            }), window.addEventListener("keyup", (e3) => {
+                t2.includes(e3.code) && (this.keyIsPressed = false);
+            }));
+        }
+        checkKeyPress() {
+            return !this.options.keyToPress || this.keyIsPressed;
+        }
+        down() {
+            return this.options.interrupt && (this.smoothing = null), false;
+        }
+        isAxisX() {
+            return ["all", "x"].includes(this.options.axis);
+        }
+        isAxisY() {
+            return ["all", "y"].includes(this.options.axis);
+        }
+        update() {
+            if (this.smoothing) {
+                const t2 = this.smoothingCenter,
+                    e3 = this.smoothing;
+                let n2;
+                this.options.center || (n2 = this.parent.toLocal(t2)), this.isAxisX() && (this.parent.scale.x += e3.x), this.isAxisY() && (this.parent.scale.y += e3.y), this.parent.emit("zoomed", {
+                    viewport: this.parent,
+                    type: "wheel"
+                });
+                const i2 = this.parent.plugins.get("clamp-zoom", true);
+                if (i2 && i2.clamp(), this.options.center)
+                    this.parent.moveCenter(this.options.center);
+                else {
+                    const s2 = this.parent.toGlobal(n2);
+                    this.parent.x += t2.x - s2.x, this.parent.y += t2.y - s2.y;
+                }
+                this.parent.emit("moved", {
+                    viewport: this.parent,
+                    type: "wheel"
+                }), this.smoothingCount++, this.smoothingCount >= this.options.smooth && (this.smoothing = null);
+            }
+        }
+        pinch(t2) {
+            if (this.paused)
+                return;
+            const e3 = this.parent.input.getPointerPosition(t2),
+                n2 = -t2.deltaY * (t2.deltaMode ? this.options.lineHeight : 1) / 200,
+                i2 = Math.pow(2, (1 + this.options.percent) * n2);
+            let s2;
+            this.options.center || (s2 = this.parent.toLocal(e3)), this.isAxisX() && (this.parent.scale.x *= i2), this.isAxisY() && (this.parent.scale.y *= i2), this.parent.emit("zoomed", {
+                viewport: this.parent,
+                type: "wheel"
+            });
+            const h2 = this.parent.plugins.get("clamp-zoom", true);
+            if (h2 && h2.clamp(), this.options.center)
+                this.parent.moveCenter(this.options.center);
+            else {
+                const o2 = this.parent.toGlobal(s2);
+                this.parent.x += e3.x - o2.x, this.parent.y += e3.y - o2.y;
+            }
+            this.parent.emit("moved", {
+                viewport: this.parent,
+                type: "wheel"
+            }), this.parent.emit(
+                "wheel-start", {
+                    event: t2,
+                    viewport: this.parent
+                }
+            );
+        }
+        wheel(t2) {
+            if (this.paused || !this.checkKeyPress())
+                return false;
+            if (t2.ctrlKey && this.options.trackpadPinch)
+                this.pinch(t2);
+            else if (this.options.wheelZoom) {
+                const e3 = this.parent.input.getPointerPosition(t2),
+                    i2 = (this.options.reverse ? -1 : 1) * -t2.deltaY * (t2.deltaMode ? this.options.lineHeight : 1) / 500,
+                    s2 = Math.pow(2, (1 + this.options.percent) * i2);
+                if (this.options.smooth) {
+                    const h2 = {
+                        x: this.smoothing ? this.smoothing.x * (this.options.smooth - this.smoothingCount) : 0,
+                        y: this.smoothing ? this.smoothing.y * (this.options.smooth - this.smoothingCount) : 0
+                    };
+                    this.smoothing = {
+                        x: ((this.parent.scale.x + h2.x) * s2 - this.parent.scale.x) / this.options.smooth,
+                        y: ((this.parent.scale.y + h2.y) * s2 - this.parent.scale.y) / this.options.smooth
+                    }, this.smoothingCount = 0, this.smoothingCenter = e3;
+                } else {
+                    let h2;
+                    this.options.center || (h2 = this.parent.toLocal(e3)), this.isAxisX() && (this.parent.scale.x *= s2), this.isAxisY() && (this.parent.scale.y *= s2), this.parent.emit("zoomed", {
+                        viewport: this.parent,
+                        type: "wheel"
+                    });
+                    const o2 = this.parent.plugins.get("clamp-zoom", true);
+                    if (o2 && o2.clamp(), this.options.center)
+                        this.parent.moveCenter(this.options.center);
+                    else {
+                        const r2 = this.parent.toGlobal(h2);
+                        this.parent.x += e3.x - r2.x, this.parent.y += e3.y - r2.y;
+                    }
+                }
+                this.parent.emit("moved", {
+                    viewport: this.parent,
+                    type: "wheel"
+                }), this.parent.emit(
+                    "wheel-start", {
+                        event: t2,
+                        viewport: this.parent
+                    }
+                );
+            }
+            return !this.parent.options.passiveWheel;
+        }
+    }
+    class Q$1 {
+        constructor(t2) {
+            this.viewport = t2, this.touches = [], this.addListeners();
+        }
+        addListeners() {
+            this.viewport.eventMode = "static", this.viewport.forceHitArea || (this.viewport.hitArea = new Rectangle(0, 0, this.viewport.worldWidth, this.viewport.worldHeight)), this.viewport.on("pointerdown", this.down, this), this.viewport.options.allowPreserveDragOutside ? this.viewport.on("globalpointermove", this.move, this) : this.viewport.on("pointermove", this.move, this), this.viewport.on("pointerup", this.up, this), this.viewport.on("pointerupoutside", this.up, this), this.viewport.on("pointercancel", this.up, this), this.viewport.options.allowPreserveDragOutside || this.viewport.on("pointerleave", this.up, this), this.wheelFunction = (t2) => this.handleWheel(t2), this.viewport.options.events.domElement.addEventListener(
+                "wheel",
+                this.wheelFunction, {
+                    passive: this.viewport.options.passiveWheel
+                }
+            ), this.isMouseDown = false;
+        }
+        destroy() {
+            var t2;
+            (t2 = this.viewport.options.events.domElement) == null || t2.removeEventListener("wheel", this.wheelFunction);
+        }
+        down(t2) {
+            if (this.viewport.pause || !this.viewport.visible)
+                return;
+            if (t2.pointerType === "mouse" ? this.isMouseDown = true : this.get(t2.pointerId) || this.touches.push({
+                    id: t2.pointerId,
+                    last: null
+                }), this.count() === 1) {
+                this.last = t2.global.clone();
+                const n2 = this.viewport.plugins.get("decelerate", true),
+                    i2 = this.viewport.plugins.get("bounce", true);
+                (!n2 || !n2.isActive()) && (!i2 || !i2.isActive()) ? this.clickedAvailable = true: this.clickedAvailable = false;
+            } else
+                this.clickedAvailable = false;
+            this.viewport.plugins.down(t2) && this.viewport.options.stopPropagation && t2.stopPropagation();
+        }
+        clear() {
+            this.isMouseDown = false, this.touches = [], this.last = null;
+        }
+        checkThreshold(t2) {
+            return Math.abs(t2) >= this.viewport.threshold;
+        }
+        move(t2) {
+            if (this.viewport.pause || !this.viewport.visible)
+                return;
+            const e3 = this.viewport.plugins.move(t2);
+            if (this.clickedAvailable && this.last) {
+                const n2 = t2.global.x - this.last.x,
+                    i2 = t2.global.y - this.last.y;
+                (this.checkThreshold(n2) || this.checkThreshold(i2)) && (this.clickedAvailable = false);
+            }
+            e3 && this.viewport.options.stopPropagation && t2.stopPropagation();
+        }
+        up(t2) {
+            if (this.viewport.pause || !this.viewport.visible)
+                return;
+            t2.pointerType === "mouse" && (this.isMouseDown = false), t2.pointerType !== "mouse" && this.remove(t2.pointerId);
+            const e3 = this.viewport.plugins.up(t2);
+            this.clickedAvailable && this.count() === 0 && this.last && (this.viewport.emit("clicked", {
+                event: t2,
+                screen: this.last,
+                world: this.viewport.toWorld(this.last),
+                viewport: this.viewport
+            }), this.clickedAvailable = false), e3 && this.viewport.options.stopPropagation && t2.stopPropagation();
+        }
+        getPointerPosition(t2) {
+            const e3 = new Point$1();
+            return this.viewport.options.events.mapPositionToPoint(e3, t2.clientX, t2.clientY), e3;
+        }
+        handleWheel(t2) {
+            if (this.viewport.pause || !this.viewport.visible)
+                return;
+            const e3 = this.viewport.toLocal(this.getPointerPosition(t2));
+            this.viewport.left <= e3.x && e3.x <= this.viewport.right && this.viewport.top <= e3.y && e3.y <= this.viewport.bottom && this.viewport.plugins.wheel(t2) && !this.viewport.options.passiveWheel && t2.preventDefault();
+        }
+        pause() {
+            this.touches = [], this.isMouseDown = false;
+        }
+        get(t2) {
+            for (const e3 of this.touches)
+                if (e3.id === t2)
+                    return e3;
+            return null;
+        }
+        remove(t2) {
+            for (let e3 = 0; e3 < this.touches.length; e3++)
+                if (this.touches[e3].id === t2) {
+                    this.touches.splice(e3, 1);
+                    return;
+                }
+        }
+        count() {
+            return (this.isMouseDown ? 1 : 0) + this.touches.length;
+        }
+    }
+    const m = [
+        "drag",
+        "pinch",
+        "wheel",
+        "follow",
+        "mouse-edges",
+        "decelerate",
+        "animate",
+        "bounce",
+        "snap-zoom",
+        "clamp-zoom",
+        "snap",
+        "clamp"
+    ];
+    class J {
+        constructor(t2) {
+            this.viewport = t2, this.list = [], this.plugins = {};
+        }
+        add(t2, e3, n2 = m.length) {
+            const i2 = this.plugins[t2];
+            i2 && i2.destroy(), this.plugins[t2] = e3;
+            const s2 = m.indexOf(t2);
+            s2 !== -1 && m.splice(s2, 1), m.splice(n2, 0, t2), this.sort();
+        }
+        get(t2, e3) {
+            var n2;
+            return e3 && (n2 = this.plugins[t2]) != null && n2.paused ? null : this.plugins[t2];
+        }
+        update(t2) {
+            for (const e3 of this.list)
+                e3.update(t2);
+        }
+        resize() {
+            for (const t2 of this.list)
+                t2.resize();
+        }
+        reset() {
+            for (const t2 of this.list)
+                t2.reset();
+        }
+        removeAll() {
+            this.list.forEach((t2) => {
+                t2.destroy();
+            }), this.plugins = {}, this.sort();
+        }
+        remove(t2) {
+            var e3;
+            this.plugins[t2] && ((e3 = this.plugins[t2]) == null || e3.destroy(), delete this.plugins[t2], this.viewport.emit("plugin-remove", t2), this.sort());
+        }
+        pause(t2) {
+            var e3;
+            (e3 = this.plugins[t2]) == null || e3.pause();
+        }
+        resume(t2) {
+            var e3;
+            (e3 = this.plugins[t2]) == null || e3.resume();
+        }
+        sort() {
+            this.list = [];
+            for (const t2 of m)
+                this.plugins[t2] && this.list.push(this.plugins[t2]);
+        }
+        down(t2) {
+            let e3 = false;
+            for (const n2 of this.list)
+                n2.down(t2) && (e3 = true);
+            return e3;
+        }
+        move(t2) {
+            let e3 = false;
+            for (const n2 of this.viewport.plugins.list)
+                n2.move(t2) && (e3 = true);
+            return e3;
+        }
+        up(t2) {
+            let e3 = false;
+            for (const n2 of this.list)
+                n2.up(t2) && (e3 = true);
+            return e3;
+        }
+        wheel(t2) {
+            let e3 = false;
+            for (const n2 of this.list)
+                n2.wheel(t2) && (e3 = true);
+            return e3;
+        }
+    }
+    const $ = {
+        screenWidth: typeof window > "u" ? 0 : window.innerWidth,
+        screenHeight: typeof window > "u" ? 0 : window.innerHeight,
+        worldWidth: null,
+        worldHeight: null,
+        threshold: 5,
+        passiveWheel: true,
+        stopPropagation: false,
+        forceHitArea: null,
+        noTicker: false,
+        disableOnContextMenu: false,
+        ticker: Ticker.shared,
+        allowPreserveDragOutside: false
+    };
+    class et extends Container {
+        constructor(t2) {
+            super(), this._disableOnContextMenu = (e3) => e3.preventDefault(), this.options = {
+                ...$,
+                ...t2
+            }, this.screenWidth = this.options.screenWidth, this.screenHeight = this.options.screenHeight, this._worldWidth = this.options.worldWidth, this._worldHeight = this.options.worldHeight, this.forceHitArea = this.options.forceHitArea, this.threshold = this.options.threshold, this.options.disableOnContextMenu && this.options.events.domElement.addEventListener("contextmenu", this._disableOnContextMenu), this.options.noTicker || (this.tickerFunction = () => this.update(this.options.ticker.elapsedMS), this.options.ticker.add(this.tickerFunction)), this.input = new Q$1(this), this.plugins = new J(this);
+        }
+        destroy(t2) {
+            var e3;
+            !this.options.noTicker && this.tickerFunction && this.options.ticker.remove(this.tickerFunction), this.options.disableOnContextMenu && ((e3 = this.options.events.domElement) == null || e3.removeEventListener("contextmenu", this._disableOnContextMenu)), this.input.destroy(), super.destroy(t2);
+        }
+        update(t2) {
+            this.pause || (this.plugins.update(t2), this.lastViewport && (this.lastViewport.x !== this.x || this.lastViewport.y !== this.y ? this.moving = true : this.moving && (this.emit("moved-end", this), this.moving = false), this.lastViewport.scaleX !== this.scale.x || this.lastViewport.scaleY !== this.scale.y ? this.zooming = true : this.zooming && (this.emit("zoomed-end", this), this.zooming = false)), this.forceHitArea || (this._hitAreaDefault = new Rectangle(this.left, this.top, this.worldScreenWidth, this.worldScreenHeight), this.hitArea = this._hitAreaDefault), this._dirty = this._dirty || !this.lastViewport || this.lastViewport.x !== this.x || this.lastViewport.y !== this.y || this.lastViewport.scaleX !== this.scale.x || this.lastViewport.scaleY !== this.scale.y, this.lastViewport = {
+                x: this.x,
+                y: this.y,
+                scaleX: this.scale.x,
+                scaleY: this.scale.y
+            }, this.emit("frame-end", this));
+        }
+        resize(t2 = typeof window > "u" ? 0 : window.innerWidth, e3 = typeof window > "u" ? 0 : window.innerHeight, n2, i2) {
+            this.screenWidth = t2, this.screenHeight = e3, typeof n2 < "u" && (this._worldWidth = n2), typeof i2 < "u" && (this._worldHeight = i2), this.plugins.resize(), this.dirty = true;
+        }
+        get worldWidth() {
+            return this._worldWidth ? this._worldWidth : this.width / this.scale.x;
+        }
+        set worldWidth(t2) {
+            this._worldWidth = t2, this.plugins.resize();
+        }
+        get worldHeight() {
+            return this._worldHeight ? this._worldHeight : this.height / this.scale.y;
+        }
+        set worldHeight(t2) {
+            this._worldHeight = t2, this.plugins.resize();
+        }
+        getVisibleBounds() {
+            return new Rectangle(this.left, this.top, this.worldScreenWidth, this.worldScreenHeight);
+        }
+        toWorld(t2, e3) {
+            return arguments.length === 2 ? this.toLocal(new Point$1(t2, e3)) : this.toLocal(t2);
+        }
+        toScreen(t2, e3) {
+            return arguments.length === 2 ? this.toGlobal(new Point$1(t2, e3)) : this.toGlobal(t2);
+        }
+        get worldScreenWidth() {
+            return this.screenWidth / this.scale.x;
+        }
+        get worldScreenHeight() {
+            return this.screenHeight / this.scale.y;
+        }
+        get screenWorldWidth() {
+            return this.worldWidth * this.scale.x;
+        }
+        get screenWorldHeight() {
+            return this.worldHeight * this.scale.y;
+        }
+        get center() {
+            return new Point$1(
+                this.worldScreenWidth / 2 - this.x / this.scale.x,
+                this.worldScreenHeight / 2 - this.y / this.scale.y
+            );
+        }
+        set center(t2) {
+            this.moveCenter(t2);
+        }
+        moveCenter(...t2) {
+            let e3, n2;
+            typeof t2[0] == "number" ? (e3 = t2[0], n2 = t2[1]) : (e3 = t2[0].x, n2 = t2[0].y);
+            const i2 = (this.worldScreenWidth / 2 - e3) * this.scale.x,
+                s2 = (this.worldScreenHeight / 2 - n2) * this.scale.y;
+            return (this.x !== i2 || this.y !== s2) && (this.position.set(i2, s2), this.plugins.reset(), this.dirty = true), this;
+        }
+        get corner() {
+            return new Point$1(-this.x / this.scale.x, -this.y / this.scale.y);
+        }
+        set corner(t2) {
+            this.moveCorner(t2);
+        }
+        moveCorner(...t2) {
+            let e3, n2;
+            return t2.length === 1 ? (e3 = -t2[0].x * this.scale.x, n2 = -t2[0].y * this.scale.y) : (e3 = -t2[0] * this.scale.x, n2 = -t2[1] * this.scale.y), (e3 !== this.x || n2 !== this.y) && (this.position.set(e3, n2), this.plugins.reset(), this.dirty = true), this;
+        }
+        get screenWidthInWorldPixels() {
+            return this.screenWidth / this.scale.x;
+        }
+        get screenHeightInWorldPixels() {
+            return this.screenHeight / this.scale.y;
+        }
+        findFitWidth(t2) {
+            return this.screenWidth / t2;
+        }
+        findFitHeight(t2) {
+            return this.screenHeight / t2;
+        }
+        findFit(t2, e3) {
+            const n2 = this.screenWidth / t2,
+                i2 = this.screenHeight / e3;
+            return Math.min(n2, i2);
+        }
+        findCover(t2, e3) {
+            const n2 = this.screenWidth / t2,
+                i2 = this.screenHeight / e3;
+            return Math.max(n2, i2);
+        }
+        fitWidth(t2 = this.worldWidth, e3, n2 = true, i2) {
+            let s2;
+            e3 && (s2 = this.center), this.scale.x = this.screenWidth / t2, n2 && (this.scale.y = this.scale.x);
+            const h2 = this.plugins.get("clamp-zoom", true);
+            return !i2 && h2 && h2.clamp(), e3 && s2 && this.moveCenter(s2), this;
+        }
+        fitHeight(t2 = this.worldHeight, e3, n2 = true, i2) {
+            let s2;
+            e3 && (s2 = this.center), this.scale.y = this.screenHeight / t2, n2 && (this.scale.x = this.scale.y);
+            const h2 = this.plugins.get("clamp-zoom", true);
+            return !i2 && h2 && h2.clamp(), e3 && s2 && this.moveCenter(s2), this;
+        }
+        fitWorld(t2) {
+            let e3;
+            t2 && (e3 = this.center), this.scale.x = this.screenWidth / this.worldWidth, this.scale.y = this.screenHeight / this.worldHeight, this.scale.x < this.scale.y ? this.scale.y = this.scale.x : this.scale.x = this.scale.y;
+            const n2 = this.plugins.get("clamp-zoom", true);
+            return n2 && n2.clamp(), t2 && e3 && this.moveCenter(e3), this;
+        }
+        fit(t2, e3 = this.worldWidth, n2 = this.worldHeight) {
+            let i2;
+            t2 && (i2 = this.center), this.scale.x = this.screenWidth / e3, this.scale.y = this.screenHeight / n2, this.scale.x < this.scale.y ? this.scale.y = this.scale.x : this.scale.x = this.scale.y;
+            const s2 = this.plugins.get("clamp-zoom", true);
+            return s2 && s2.clamp(), t2 && i2 && this.moveCenter(i2), this;
+        }
+        setZoom(t2, e3) {
+            let n2;
+            e3 && (n2 = this.center), this.scale.set(t2);
+            const i2 = this.plugins.get("clamp-zoom", true);
+            return i2 && i2.clamp(), e3 && n2 && this.moveCenter(n2), this;
+        }
+        zoomPercent(t2, e3) {
+            return this.setZoom(this.scale.x + this.scale.x * t2, e3);
+        }
+        zoom(t2, e3) {
+            return this.fitWidth(t2 + this.worldScreenWidth, e3), this;
+        }
+        get scaled() {
+            return this.scale.x;
+        }
+        set scaled(t2) {
+            this.setZoom(t2, true);
+        }
+        snapZoom(t2) {
+            return this.plugins.add("snap-zoom", new K$2(this, t2)), this;
+        }
+        OOB() {
+            return {
+                left: this.left < 0,
+                right: this.right > this.worldWidth,
+                top: this.top < 0,
+                bottom: this.bottom > this.worldHeight,
+                cornerPoint: new Point$1(
+                    this.worldWidth * this.scale.x - this.screenWidth,
+                    this.worldHeight * this.scale.y - this.screenHeight
+                )
+            };
+        }
+        get right() {
+            return -this.x / this.scale.x + this.worldScreenWidth;
+        }
+        set right(t2) {
+            this.x = -t2 * this.scale.x + this.screenWidth, this.plugins.reset();
+        }
+        get left() {
+            return -this.x / this.scale.x;
+        }
+        set left(t2) {
+            this.x = -t2 * this.scale.x, this.plugins.reset();
+        }
+        get top() {
+            return -this.y / this.scale.y;
+        }
+        set top(t2) {
+            this.y = -t2 * this.scale.y, this.plugins.reset();
+        }
+        get bottom() {
+            return -this.y / this.scale.y + this.worldScreenHeight;
+        }
+        set bottom(t2) {
+            this.y = -t2 * this.scale.y + this.screenHeight, this.plugins.reset();
+        }
+        get dirty() {
+            return !!this._dirty;
+        }
+        set dirty(t2) {
+            this._dirty = t2;
+        }
+        get forceHitArea() {
+            return this._forceHitArea;
+        }
+        set forceHitArea(t2) {
+            t2 ? (this._forceHitArea = t2, this.hitArea = t2) : (this._forceHitArea = null, this.hitArea = new Rectangle(0, 0, this.worldWidth, this.worldHeight));
+        }
+        drag(t2) {
+            return this.plugins.add("drag", new D$1(this, t2)), this;
+        }
+        clamp(t2) {
+            return this.plugins.add("clamp", new X$1(this, t2)), this;
+        }
+        decelerate(t2) {
+            return this.plugins.add("decelerate", new T$2(this, t2)), this;
+        }
+        bounce(t2) {
+            return this.plugins.add("bounce", new k(this, t2)), this;
+        }
+        pinch(t2) {
+            return this.plugins.add("pinch", new N(this, t2)), this;
+        }
+        snap(t2, e3, n2) {
+            return this.plugins.add("snap", new j(this, t2, e3, n2)), this;
+        }
+        follow(t2, e3) {
+            return this.plugins.add("follow", new U(this, t2, e3)), this;
+        }
+        wheel(t2) {
+            return this.plugins.add("wheel", new G(this, t2)), this;
+        }
+        animate(t2) {
+            return this.plugins.add("animate", new C$1(this, t2)), this;
+        }
+        clampZoom(t2) {
+            return this.plugins.add("clamp-zoom", new A$1(this, t2)), this;
+        }
+        mouseEdges(t2) {
+            return this.plugins.add("mouse-edges", new B(this, t2)), this;
+        }
+        get pause() {
+            return !!this._pause;
+        }
+        set pause(t2) {
+            this._pause = t2, this.lastViewport = null, this.moving = false, this.zooming = false, t2 && this.input.pause();
+        }
+        ensureVisible(t2, e3, n2, i2, s2) {
+            s2 && (n2 > this.worldScreenWidth || i2 > this.worldScreenHeight) && (this.fit(true, n2, i2), this.emit("zoomed", {
+                viewport: this,
+                type: "ensureVisible"
+            }));
+            let h2 = false;
+            t2 < this.left ? (this.left = t2, h2 = true) : t2 + n2 > this.right && (this.right = t2 + n2, h2 = true), e3 < this.top ? (this.top = e3, h2 = true) : e3 + i2 > this.bottom && (this.bottom = e3 + i2, h2 = true), h2 && this.emit("moved", {
+                viewport: this,
+                type: "ensureVisible"
+            });
+        }
+    }
     class GraphLayoutBuilder {
         constructor() {
             this._nodeSize = 64;
             this._nodeFontSize = 16;
         }
         nodeSize(size2) {
             this._nodeSize = size2;
@@ -383210,14 +383179,19 @@
             this.iterations = builder._iterations;
             this.linLogMode = builder._linLogMode;
             this.outboundAttractionDistribution = builder._outboundAttractionDistribution;
             this.scalingRatio = builder._scalingRatio;
             this.strongGravityMode = builder._strongGravityMode;
         }
         applyLayout(graph) {
+            if (graph.nodes().length === 0) {
+                return Promise.resolve({
+                    layout: {}
+                });
+            }
             const firstNodeAttrs = graph.getNodeAttributes(graph.nodes()[0]);
             const graphClone = graph.copy();
             const size2 = graphClone.getAttribute("size");
             if (!firstNodeAttrs.x) {
                 const randomMapping = random(graph, {
                     center: 1e3,
                     scale: 2e3
@@ -417775,14 +417749,20 @@
             this.tiers = builder.tiers;
         }
         get requiresPosition() {
             return false;
         }
         applyLayout(graph) {
             return new Promise((resolve2) => {
+                if (graph.nodes().length === 0) {
+                    resolve2({
+                        layout: {}
+                    });
+                    return;
+                }
                 const hasPositions = graph.getNodeAttribute(graph.nodes()[0], "x");
                 const size2 = graph.getAttribute("size");
                 const tiersPlacement = this.tiers ? getTieredLayoutProperties(graph, this.tiers, this.orientation, this.tierSeparation) : {
                     alignmentConstraint: void 0,
                     relativePlacementConstraint: void 0
                 };
                 const elements = [
@@ -420731,17 +420711,17 @@
                         this.emit("click");
                     }
                 }
             });
         }
         createGfx(theme2) {
             const gfx = new SmoothGraphics();
+            const distance = DOT_DISTANCE / SCALE;
             const [color2] = colorToPixi(theme2.colors.grey2);
             gfx.beginFill(color2, 1, true);
-            const distance = DOT_DISTANCE / SCALE;
             gfx.drawCircle(0, distance, 1);
             gfx.drawCircle(distance, distance, 1);
             gfx.drawCircle(0, 0, 1);
             gfx.drawCircle(distance, 0, 1);
             gfx.endFill();
             return gfx;
         }
@@ -424427,15 +424407,15 @@
                 this.delete(key);
             });
         }
         destroy() {
             this.clear();
         }
     }
-    var __awaiter = globalThis && globalThis.__awaiter || function(thisArg, _arguments, P2, generator) {
+    var __awaiter$1 = globalThis && globalThis.__awaiter || function(thisArg, _arguments, P2, generator) {
         function adopt(value) {
             return value instanceof P2 ? value : new P2(function(resolve2) {
                 resolve2(value);
             });
         }
         return new(P2 || (P2 = Promise))(function(resolve2, reject) {
             function fulfilled(value) {
@@ -424456,14 +424436,17 @@
 
             function step2(result) {
                 result.done ? resolve2(result.value) : adopt(result.value).then(fulfilled, rejected);
             }
             step2((generator = generator.apply(thisArg, _arguments || [])).next());
         });
     };
+    const MAX_REASONABLE_HEIGHT = 2160;
+    const MAX_REASONABLE_WIDTH = 3840;
+    const MAX_REASONABLE_PIXELS = MAX_REASONABLE_HEIGHT * MAX_REASONABLE_WIDTH;
     const WORLD_PADDING = 100;
     const TEMP_EDGE_SYMBOL = Symbol("TEMP_EDGE");
     const fontObserver = new FontFaceObserver(FONT_FAMILY);
     const ENGINE_EVENTS = [
         "createEdge",
         "backgroundClick",
         "edgeClick",
@@ -424683,15 +424666,15 @@
             this.theme = theme2;
             this.background.updateTexture(theme2, this.textureCache);
             [this.app.renderer.background.color] = colorToPixi(this.theme.colors.blue1);
             this.updateStyles();
             this.requestRender();
         }
         start(container) {
-            return __awaiter(this, void 0, void 0, function*() {
+            return __awaiter$1(this, void 0, void 0, function*() {
                 yield fontObserver.load();
                 this.container = container;
                 const [initialColor] = colorToPixi(this.theme.colors.blue1);
                 this.app = new Application({
                     antialias: true,
                     autoDensity: true,
                     autoStart: false,
@@ -424699,15 +424682,15 @@
                     backgroundColor: initialColor,
                     powerPreference: "high-performance",
                     resizeTo: container,
                     resolution: window.devicePixelRatio
                 });
                 container.appendChild(this.app.view);
                 this.textureCache = new TextureCache(this.app.renderer);
-                this.viewport = new ht$1({
+                this.viewport = new et({
                     events: this.app.renderer.events
                 });
                 this.viewport.drag({
                     wheel: false
                 }).pinch().decelerate().clampZoom({
                     maxScale: 2
                 });
@@ -424781,14 +424764,54 @@
                 this.viewport.plugins.remove("wheel");
                 this.app.view.removeEventListener("wheel", Engine.wheelListener);
             }
         }
         static wheelListener(event2) {
             event2.preventDefault();
         }
+        extractImage() {
+            return __awaiter$1(this, void 0, void 0, function*() {
+                const containerWithBackground = new Container();
+                const bg = new Graphics();
+                bg.beginFill(this.app.renderer.background.color, 1);
+                bg.drawRect(0, 0, this.app.renderer.width, this.app.renderer.height);
+                bg.endFill();
+                containerWithBackground.addChild(bg);
+                containerWithBackground.addChild(this.app.stage);
+                const nodesCoords = this.nodeLayer.children.map((nodeObj) => nodeObj.getGlobalPosition());
+                const nodesX = nodesCoords.map((nodeCoord) => nodeCoord.x);
+                const nodesY = nodesCoords.map((nodeCoord) => nodeCoord.y);
+                const minX = Math.min(...nodesX);
+                const maxX = Math.max(...nodesX);
+                const minY = Math.min(...nodesY);
+                const maxY = Math.max(...nodesY);
+                const region = new Rectangle(minX - WORLD_PADDING, minY - WORLD_PADDING, maxX - minX + WORLD_PADDING * 2, maxY - minY + WORLD_PADDING * 2);
+                let resolution = window.devicePixelRatio;
+                if (this.app.renderer.type === RENDERER_TYPE.WEBGL) {
+                    const {
+                        gl: gl2
+                    } = this.app.renderer;
+                    const maxRenderBufferSize = gl2.getParameter(gl2.MAX_RENDERBUFFER_SIZE);
+                    const maxTextureSize = gl2.getParameter(gl2.MAX_TEXTURE_SIZE);
+                    const maxSafeDimension = Math.min(maxRenderBufferSize, maxTextureSize);
+                    const area2 = region.width * region.height;
+                    const desiredResolution = Math.sqrt(MAX_REASONABLE_PIXELS / area2);
+                    const scaledWidth = Math.min(region.width * desiredResolution, maxSafeDimension);
+                    const scaledHeight = Math.min(region.height * desiredResolution, maxSafeDimension);
+                    resolution = Math.floor(Math.min(scaledWidth / region.width, scaledHeight / region.height));
+                }
+                const renderTexture = this.app.renderer.generateTexture(containerWithBackground, {
+                    scaleMode: SCALE_MODES.LINEAR,
+                    resolution,
+                    multisample: MSAA_QUALITY.HIGH,
+                    region
+                });
+                return this.app.renderer.extract.base64(renderTexture, "image/png");
+            });
+        }
         updateConstraints(constraints) {
             this.constraints = constraints;
             this.graph.forEachEdge((k2) => this.updateEdgeStyleByKey(k2));
             this.requestRender();
         }
         createEdge(id2, attributes2, source, target, sourceAttributes, targetAttributes) {
             const edge = new EdgeObject();
@@ -425157,15 +425180,15 @@
                     edge.updateVisibility(zoomState, edgeAttributes.points !== void 0);
                     this.updateEdgeStyleByKey(edgeKey);
                 }
             });
         }
         updateLayout(retry = false) {
             var _a3;
-            return __awaiter(this, void 0, void 0, function*() {
+            return __awaiter$1(this, void 0, void 0, function*() {
                 (_a3 = this.onCleanup) === null || _a3 === void 0 ? void 0 : _a3.call(this);
                 try {
                     const {
                         layout: layout2,
                         edgePoints: edgePoints2,
                         onStartDrag,
                         onEndDrag,
@@ -425254,24 +425277,27 @@
         const theme2 = useClTheme();
         const engine = React__namespace.useRef(null);
         const listeners = React__namespace.useRef({});
         if (!engine.current) {
             engine.current = new Engine(graph, layout2, editable2, editorMode, theme2, constraints, zoomThresholds, errorHandler, processEdgeStyle, requireFocusToZoom);
         }
         React__namespace.useEffect(() => {
-            engine.current.start(parentRef.current).then(() => {
-                ENGINE_EVENTS.forEach((eventName) => {
-                    engine.current.addListener(eventName, (...args) => {
-                        var _a3;
-                        (_a3 = listeners.current[eventName]) === null || _a3 === void 0 ? void 0 : _a3.apply(null, args);
+            if (parentRef.current) {
+                engine.current.start(parentRef.current).then(() => {
+                    ENGINE_EVENTS.forEach((eventName) => {
+                        engine.current.addListener(eventName, (...args) => {
+                            var _a3;
+                            (_a3 = listeners.current[eventName]) === null || _a3 === void 0 ? void 0 : _a3.apply(null, args);
+                        });
                     });
                 });
-            });
+            }
             return () => {
-                engine.current.destroy();
+                var _a3;
+                (_a3 = engine.current) === null || _a3 === void 0 ? void 0 : _a3.destroy();
             };
         }, []);
         React__namespace.useEffect(() => {
             if (engine.current.initialized) {
                 engine.current.setTheme(theme2);
             }
         }, [theme2]);
@@ -425316,14 +425342,19 @@
                 }
             },
             resetViewport: () => {
                 if (engine.current.initialized) {
                     engine.current.resetViewport();
                 }
             },
+            extractImage: () => {
+                if (engine.current.initialized) {
+                    return engine.current.extractImage();
+                }
+            },
             useEngineEvent
         };
     }
     var __rest$3 = globalThis && globalThis.__rest || function(s2, e3) {
         var t2 = {};
         for (var p2 in s2)
             if (Object.prototype.hasOwnProperty.call(s2, p2) && e3.indexOf(p2) < 0)
@@ -426550,14 +426581,43 @@
             setSelectedNode(nodes[newNodeIndex]);
         };
         return {
             nextNode,
             prevNode
         };
     };
+    var __awaiter = globalThis && globalThis.__awaiter || function(thisArg, _arguments, P2, generator) {
+        function adopt(value) {
+            return value instanceof P2 ? value : new P2(function(resolve2) {
+                resolve2(value);
+            });
+        }
+        return new(P2 || (P2 = Promise))(function(resolve2, reject) {
+            function fulfilled(value) {
+                try {
+                    step2(generator.next(value));
+                } catch (e3) {
+                    reject(e3);
+                }
+            }
+
+            function rejected(value) {
+                try {
+                    step2(generator["throw"](value));
+                } catch (e3) {
+                    reject(e3);
+                }
+            }
+
+            function step2(result) {
+                result.done ? resolve2(result.value) : adopt(result.value).then(fulfilled, rejected);
+            }
+            step2((generator = generator.apply(thisArg, _arguments || [])).next());
+        });
+    };
     var __rest$1 = globalThis && globalThis.__rest || function(s2, e3) {
         var t2 = {};
         for (var p2 in s2)
             if (Object.prototype.hasOwnProperty.call(s2, p2) && e3.indexOf(p2) < 0)
                 t2[p2] = s2[p2];
         if (s2 != null && typeof Object.getOwnPropertySymbols === "function")
             for (var i2 = 0, p2 = Object.getOwnPropertySymbols(s2); i2 < p2.length; i2++) {
@@ -426624,14 +426684,15 @@
             setError(e3);
         };
         const {
             getCenterPosition,
             useEngineEvent,
             resetViewport,
             resetLayout,
+            extractImage,
             onSetDragMode,
             onNodeSelected,
             onEdgeSelected,
             onSearchResults,
             onUpdateConstraints,
             onSetFocus
         } = useRenderEngine({
@@ -426971,24 +427032,33 @@
                 prevEdge();
             }
         }
         const {
             dragMode,
             setDragMode
         } = useDragMode(props.editable, !props.disableEdgeAdd, layout2.supportsDrag, onSetDragMode);
+        const saveImage = React__namespace.useCallback(() => __awaiter(this, void 0, void 0, function*() {
+            const dataUrl = yield extractImage();
+            if (dataUrl) {
+                const link2 = document.createElement("a");
+                link2.href = dataUrl;
+                link2.download = "graph.png";
+                link2.click();
+            }
+        }), [extractImage]);
         let contentSelected = false;
         let panelTitle = "";
         if (selectedEdge) {
             contentSelected = state.graph.hasEdge(selectedEdge[0], selectedEdge[1]);
             panelTitle = "Edge";
         } else if (selectedNode && state.editorMode !== EditorMode.EDGE_ENCODER) {
             contentSelected = state.graph.hasNode(selectedNode);
             panelTitle = "Node";
         }
-        if (Object.keys((_c = props.graphData) === null || _c === void 0 ? void 0 : _c.nodes).length === 0) {
+        if (!props.editable && Object.keys((_c = props.graphData) === null || _c === void 0 ? void 0 : _c.nodes).length === 0) {
             return jsxRuntime.exports.jsx(Wrapper, {
                 style: props.style,
                 children: jsxRuntime.exports.jsx(Center, {
                     style: {
                         height: 300
                     },
                     children: "The CausalGraph structure is empty."
@@ -427051,14 +427121,16 @@
                                 }), jsxRuntime.exports.jsx(CenterGraphButton, {
                                     onResetZoom: resetViewport
                                 }), jsxRuntime.exports.jsx(EditControls, {
                                     onAddNode
                                 }), jsxRuntime.exports.jsx(DragModeButton, {
                                     dragMode,
                                     setDragMode
+                                }), jsxRuntime.exports.jsx(SaveImageButton, {
+                                    onSave: saveImage
                                 })]
                             }),
                             validContentSelected: contentSelected,
                             children: jsxRuntime.exports.jsxs(graphCtx.Provider, {
                                 value: {
                                     api: api2,
                                     constraints,
```

## Comparing `dara_components-1.9.1.dist-info/LICENSE` & `dara_components-1.9.2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `dara_components-1.9.1.dist-info/METADATA` & `dara_components-1.9.2.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,37 +1,37 @@
 Metadata-Version: 2.1
 Name: dara-components
-Version: 1.9.1
+Version: 1.9.2
 Summary: Components for the Dara Framework
 Home-page: https://dara.causalens.com/
 License: Apache-2.0
 Author: Patricia Jacob
 Author-email: patricia@causalens.com
 Requires-Python: >=3.8.0,<3.12.0
 Classifier: License :: OSI Approved :: Apache Software License
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
 Requires-Dist: bokeh (>=3.1.0,<3.2.0)
 Requires-Dist: cai-causal-graph (>=0.3.6)
-Requires-Dist: dara-core (==1.9.1)
+Requires-Dist: dara-core (==1.9.2)
 Requires-Dist: dill (>=0.3.0,<0.4.0)
 Requires-Dist: matplotlib (>=2.0.0)
 Requires-Dist: pandas (>=1.1.0,<3.0.0)
 Requires-Dist: plotly (>=5.14.0,<5.15.0)
 Requires-Dist: scipy
 Requires-Dist: seaborn (>=0.11.0)
 Project-URL: Repository, https://github.com/causalens/dara
 Description-Content-Type: text/markdown
 
 # Dara Components
 
-<img src="https://github.com/causalens/dara/blob/VERSION-1.9.1/img/dara_light.svg?raw=true">
+<img src="https://github.com/causalens/dara/blob/VERSION-1.9.2/img/dara_light.svg?raw=true">
 
 ![Master tests](https://github.com/causalens/dara/actions/workflows/tests.yml/badge.svg?branch=master)
 [![License](https://img.shields.io/badge/License-Apache_2.0-blue.svg)](https://www.apache.org/licenses/LICENSE-2.0)
 [![PyPI](https://img.shields.io/pypi/v/dara-components.svg?color=dark-green)](https://pypi.org/project/dara-components/)
 [![PyPI - Python Version](https://img.shields.io/pypi/pyversions/dara-components.svg?color=dark-green)](https://pypi.org/project/dara-components/)
 [![NPM](https://img.shields.io/npm/v/@darajs/components.svg?color=dark-green)](https://www.npmjs.com/package/@darajs/components)
```

## Comparing `dara_components-1.9.1.dist-info/RECORD` & `dara_components-1.9.2.dist-info/RECORD`

 * *Files 3% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 dara/components/common/anchor.py,sha256=IkumpwbrGdW4UMrFTkGaT0t6KtZQhdBYp1HS5IHPxoM,2869
 dara/components/common/base_component.py,sha256=TQfhpXYDH7ItM9hnhdActjzHM1NzT_yqGUdpLB8ZVqM,4707
 dara/components/common/bullet_list.py,sha256=yk4lFAn6Bzx9UByp27P7ioVidAfsTPl5d4hIkG7MRkQ,1433
 dara/components/common/button.py,sha256=uBzKKChuan3CPidfYsm9Nstqvi0J3zF9l-1EeEy5ots,4549
 dara/components/common/button_bar.py,sha256=8PwjddFnp6dC_DfBCnBSmFSItgo8Sp1LNSl-rO3w0tY,3600
 dara/components/common/card.py,sha256=PiYlkBc0JRpuuQiHHHGZBft5w3dLtLIEqP9Fo-1kyjs,1999
 dara/components/common/carousel.py,sha256=K1scewjOFHLb4bAXvirlVSzujuU3lK4jsi6eHk2JUH0,5369
-dara/components/common/checkbox_group.py,sha256=0CnkBEV6bFHOC7N5k8Zjed2sBwvJ1qbCgk6x2Ow4jVc,4156
+dara/components/common/checkbox_group.py,sha256=WcWOmdWWbvrmNarmg-4yMsXHcUcReK1MmO17ZDSALsE,4462
 dara/components/common/code.py,sha256=GzR9d3FnluagsYNW8OzcMV2L4_qRUj0YLXBbT6s02lw,2266
 dara/components/common/component_select_list.py,sha256=oaWP43FVdgOap4PKJbuniV5vR2tldR52xwtdfaYnx4U,2750
 dara/components/common/datepicker.py,sha256=X8DmIkNjkedSo0tvOw8j4wRIJJRUvb9pFRkg-KOWFfI,3613
 dara/components/common/dropzone.py,sha256=3UqJ8Gb79flPyk4YztGxCRUlMR70_IIW03f2b7FCmUQ,3981
 dara/components/common/form.py,sha256=MKsVU1t4OWB4z-v9gTDXT8iBbdIHCcb2YqxD2TYOnvA,3870
 dara/components/common/form_page.py,sha256=9D_Cf3KV1UanwcIzuzArkBtVfrPpexp3J9hl_OSxlOE,1878
 dara/components/common/grid.py,sha256=4d1idKCqaVetDaRIFVFg7pxRcYJ08rYm-c3Yc8t_VKE,10029
@@ -24,15 +24,15 @@
 dara/components/common/input.py,sha256=OXaKY921TTRyy8kHqbeCbjstNUtlsisiqImrAI-9bvc,2012
 dara/components/common/label.py,sha256=ZlVFxZuj52aKZ9NBj29ntcuTJMld8qbXARuJFzgeJcM,2362
 dara/components/common/markdown.py,sha256=4-M_lyj820gzxRisVTA7cCG-91NzWPW2vZbC7qwRmkQ,1706
 dara/components/common/modal.py,sha256=x47WgB-n2Zq-C_0UhewL4KaAkTnQDT8TW2bSRm6gN2U,1526
 dara/components/common/overlay.py,sha256=vQmnSkli8Oz1DqMzvu8i0zjIvJGbLL_EPfS5TNrBw9I,2220
 dara/components/common/paragraph.py,sha256=VazJ816b0WwYQLags_StsZ_n1MnbYX9AQZbgIl8ZmOc,2304
 dara/components/common/progress_bar.py,sha256=FqX3BPYzz71WkIgB9FxyJUikZdwT3pk-CdcONS_zI0M,1909
-dara/components/common/radio_group.py,sha256=PCmV8GQmjpkyX9XxyyN0lHK1l8SBFvWPUTos4kjXoaI,3284
+dara/components/common/radio_group.py,sha256=o0g97hi1_nIryhEeAVxCb4YiqGqCJ-FBym3DOaXdI3o,3278
 dara/components/common/select.py,sha256=ntK6fy0fxNw0OSazHAZC3malaan2VXIxOoBc9owFDtQ,6552
 dara/components/common/slider.py,sha256=UdHhTFJjn6pgjzcotg1D_HnRBy_Q_wy4T8gubKyn67w,4613
 dara/components/common/spacer.py,sha256=yzoIv7oNwM3hNSRkyH66OlOAwm5H7glGC_--A2ZLdAU,2690
 dara/components/common/stack.py,sha256=vl8SyNwCokw-zQh75Q43vRmaU7BMHcL2AhDSU5xGvks,5290
 dara/components/common/switch.py,sha256=xnv3pWK-7C0Z4pB7I26OKhuF7c647Y_-BygytnaBChg,1569
 dara/components/common/tabbed_card.py,sha256=WMGcoxRUH5_w-AIHemKNprV-aVgYEjuuUFtJ1qM1Jmk,2326
 dara/components/common/table.py,sha256=ZuzEbOd2Wta_UNqWw8QSnBJKflxi0rabse-Q3sZlxtA,24472
@@ -40,15 +40,15 @@
 dara/components/common/textarea.py,sha256=hQL6Z1bfHejoTFgg1XqzW5KvJYEGCdAOysxluTuDGfA,2081
 dara/components/common/time_utils.py,sha256=JvCQLCT91As9gbGjocQbm-d99otpiWVEC-NWdhao7x0,1815
 dara/components/common/tooltip.py,sha256=vd-v8jZM4XuaaHAGzmamb_IBBfwj8Umh7wqDv6ikLKg,3270
 dara/components/common/utils.py,sha256=oe5AQjARX1IAcJENsRSa86Cm5EncYfOnPfPhoheh9qM,5492
 dara/components/graphs/__init__.py,sha256=diE6xO4VKrzuNi_kjAHmpRpq209BJ0ATjgWMPbmesHY,725
 dara/components/graphs/components/__init__.py,sha256=GdWwL5spSsATOU57EmMqOf6t7az1rP5S3Djd0eyL9As,1007
 dara/components/graphs/components/base_graph_component.py,sha256=3ZjkULDX7P81WxKtMCR49ePT6GiGS2yt32fGZsUrJgc,3968
-dara/components/graphs/components/causal_graph_viewer.py,sha256=6S3ePzUZ4vEMUk2zpzYCs92TFnlMHOomy8-bWXyqlfM,12224
+dara/components/graphs/components/causal_graph_viewer.py,sha256=md7IG8iPnb-1Onv_x8nnDVnVXa66zSBQhQnBZ_aVgnI,12532
 dara/components/graphs/components/edge_encoder.py,sha256=XjdC1Dolt6jVA-VUEScIAINDxuF66iDrSnnAfrZa8U0,6120
 dara/components/graphs/components/node_hierarchy_builder.py,sha256=vus3nuF9-vCXVN5ZrD1nYfqpMl3UuJALXYk-_RANwys,4299
 dara/components/graphs/definitions.py,sha256=5LUHzK8ry9FBJrVFHE8TkzTZicmfSHGwXDm-GHrRJ1k,5209
 dara/components/graphs/graph_layout.py,sha256=TanlbYBzfnEZrBV_L7otMxSIXMdPBoVXOby-P6ALz88,12493
 dara/components/plotting/__init__.py,sha256=51gAEi68z5lsboABwuPwQ9EKx2OS4dbQIVeopWS57FA,805
 dara/components/plotting/bokeh/__init__.py,sha256=GpnbgTI-2XWqBDqLbkHQ73eAEth-h_k0nKqP1ixgJ8I,889
 dara/components/plotting/bokeh/bokeh.py,sha256=xo8zKmxprM26tg5OaZ8bAgjzIKW9l_sCfKkJL7L7bYo,3140
@@ -74,13 +74,13 @@
 dara/components/smart/data_slicer/data_slicer_modal.py,sha256=t7NywA5DiFiUiUnuFQbTAAVm6PM7Qjd6LGzd9OWA0QE,4120
 dara/components/smart/data_slicer/extension/data_slicer_filter.py,sha256=2wdWn3gcrewrhUZ4tGNwAh1JURpcLmeDKIP7c5j9_sI,1616
 dara/components/smart/data_slicer/extension/filter_status_button.py,sha256=02CgqHEBgkZg1E9v9HGrnRYvEiMNhYpajyOwGuPNV1M,1345
 dara/components/smart/data_slicer/utils/core.py,sha256=6BrmG-iwQCuwUAKQ-y9zFKLeinnzhXIaUOB58UxCYbc,8656
 dara/components/smart/data_slicer/utils/data_preview.py,sha256=OAphjMrm3F76XmJ09X7sZSeOeKqGJFwN5ooo3qcyrG4,1722
 dara/components/smart/data_slicer/utils/plotting.py,sha256=JYzdQLXdAD0A8k2W-764xUr7zN0Ri5nf3OQ2Nb_iuiY,3313
 dara/components/smart/hierarchy.py,sha256=STkgyZiVB1c6KJtcKnn1r8lnjZAIrWkTCpZ_WCyCI1c,2877
-dara/components/umd/dara.components.umd.js,sha256=7a0IhPt-swT52ZyvJeyVh7khAn6oUZm4ClPLlZs3rDI,17002703
+dara/components/umd/dara.components.umd.js,sha256=f8359TOA6r8poy09eQKSgo681HMYxCzEhM8wqBooBoM,17007379
 dara/components/umd/style.css,sha256=cvNU48TRRp73QxBrE9awB-zm3YURFnFlASafeLTNa_U,23576
-dara_components-1.9.1.dist-info/LICENSE,sha256=r9u1w2RvpLMV6YjuXHIKXRBKzia3fx_roPwboGcLqCc,10944
-dara_components-1.9.1.dist-info/METADATA,sha256=81gzq6CzQLGULcJnoI6zzCluQvwpixtTjw9qZWkYsB0,2710
-dara_components-1.9.1.dist-info/WHEEL,sha256=7Z8_27uaHI_UZAc4Uox4PpBhQ9Y5_modZXWMxtUi4NU,88
-dara_components-1.9.1.dist-info/RECORD,,
+dara_components-1.9.2.dist-info/LICENSE,sha256=r9u1w2RvpLMV6YjuXHIKXRBKzia3fx_roPwboGcLqCc,10944
+dara_components-1.9.2.dist-info/METADATA,sha256=eKDbjHEBmLUS32Kcb_Ak8mwqMH1z8JrNP91L8jxcPUs,2710
+dara_components-1.9.2.dist-info/WHEEL,sha256=7Z8_27uaHI_UZAc4Uox4PpBhQ9Y5_modZXWMxtUi4NU,88
+dara_components-1.9.2.dist-info/RECORD,,
```

