# Comparing `tmp/metpx_sr3-3.0.8-py3-none-any.whl.zip` & `tmp/metpx_sr3-3.0.9-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,13 +1,13 @@
-Zip file size: 321311 bytes, number of entries: 201
--rw-rw-r--  2.0 unx     6517 b- defN 21-Aug-09 12:59 sarracenia/__init__.py
--rw-rw-r--  2.0 unx    77073 b- defN 21-Aug-27 18:12 sarracenia/config.py
+Zip file size: 300527 bytes, number of entries: 202
+-rw-rw-r--  2.0 unx     6517 b- defN 21-Sep-02 21:29 sarracenia/__init__.py
+-rw-rw-r--  2.0 unx    78325 b- defN 21-Sep-09 03:46 sarracenia/config.py
 -rw-rw-r--  2.0 unx     9968 b- defN 21-Aug-05 13:47 sarracenia/credentials.py
 -rw-rw-r--  2.0 unx    11561 b- defN 21-Aug-08 14:12 sarracenia/diskqueue.py
--rw-rw-r--  2.0 unx     5018 b- defN 21-Aug-05 13:47 sarracenia/filemetadata.py
+-rw-rw-r--  2.0 unx     5124 b- defN 21-Sep-08 18:15 sarracenia/filemetadata.py
 -rw-rw-r--  2.0 unx     7640 b- defN 21-Aug-14 14:13 sarracenia/instance.py
 -rw-rw-r--  2.0 unx     4939 b- defN 21-Aug-05 13:47 sarracenia/pyads.py
 -rw-rw-r--  2.0 unx    10078 b- defN 21-Aug-05 13:47 sarracenia/rabbitmq_admin.py
 -rw-rw-r--  2.0 unx    75939 b- defN 21-Aug-17 13:04 sarracenia/sr.py
 -rw-rw-r--  2.0 unx      768 b- defN 21-Aug-05 13:47 sarracenia/sr_flow.py
 -rw-rw-r--  2.0 unx     1326 b- defN 21-Aug-05 13:47 sarracenia/sr_log2save.py
 -rw-rw-r--  2.0 unx     1320 b- defN 21-Aug-08 15:48 sarracenia/sr_post.py
@@ -24,70 +24,71 @@
 -rw-rw-r--  2.0 unx      648 b- defN 21-Aug-05 13:47 sarracenia/examples/sender/ec2collab.conf
 -rw-rw-r--  2.0 unx     1416 b- defN 21-Aug-05 13:47 sarracenia/examples/sender/pitcher_push.conf
 -rw-rw-r--  2.0 unx      757 b- defN 21-Aug-05 13:47 sarracenia/examples/shovel/no_trouble_f00.inc
 -rw-rw-r--  2.0 unx      878 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/WMO_Sketch_2mqtt.conf
 -rw-rw-r--  2.0 unx      657 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/WMO_Sketch_2v3.conf
 -rw-rw-r--  2.0 unx     2153 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/WMO_mesh_CMC.conf
 -rw-rw-r--  2.0 unx      840 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/WMO_mesh_Peer.conf
--rw-rw-r--  2.0 unx      490 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/aws-nexrad.conf
--rw-rw-r--  2.0 unx      360 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_2mqtt.conf
--rw-rw-r--  2.0 unx      559 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_all.conf
--rw-rw-r--  2.0 unx      451 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_amis.conf
--rw-rw-r--  2.0 unx      938 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_aqhi.conf
--rw-rw-r--  2.0 unx      808 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_cacn_bulletins.conf
+-rw-rw-r--  2.0 unx      490 b- defN 21-Sep-03 21:21 sarracenia/examples/subscribe/aws-nexrad.conf
+-rw-rw-r--  2.0 unx      383 b- defN 21-Sep-03 21:22 sarracenia/examples/subscribe/dd_2mqtt.conf
+-rw-rw-r--  2.0 unx      581 b- defN 21-Sep-03 21:19 sarracenia/examples/subscribe/dd_all.conf
+-rw-rw-r--  2.0 unx      474 b- defN 21-Sep-03 21:25 sarracenia/examples/subscribe/dd_amis.conf
+-rw-rw-r--  2.0 unx      962 b- defN 21-Sep-03 21:21 sarracenia/examples/subscribe/dd_aqhi.conf
+-rw-rw-r--  2.0 unx      838 b- defN 21-Sep-03 21:22 sarracenia/examples/subscribe/dd_cacn_bulletins.conf
 -rw-rw-r--  2.0 unx     1018 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_citypage.conf
--rw-rw-r--  2.0 unx     1014 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_cmml.conf
--rw-rw-r--  2.0 unx     1306 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_gdps.conf
--rw-rw-r--  2.0 unx      579 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_ping.conf
--rw-rw-r--  2.0 unx      946 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_radar.conf
--rw-rw-r--  2.0 unx     1183 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_rdps.conf
--rw-rw-r--  2.0 unx      977 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/dd_swob.conf
+-rw-rw-r--  2.0 unx     1038 b- defN 21-Sep-03 21:23 sarracenia/examples/subscribe/dd_cmml.conf
+-rw-rw-r--  2.0 unx     1329 b- defN 21-Sep-03 21:23 sarracenia/examples/subscribe/dd_gdps.conf
+-rw-rw-r--  2.0 unx      602 b- defN 21-Sep-03 21:24 sarracenia/examples/subscribe/dd_ping.conf
+-rw-rw-r--  2.0 unx      971 b- defN 21-Sep-03 21:20 sarracenia/examples/subscribe/dd_radar.conf
+-rw-rw-r--  2.0 unx     1205 b- defN 21-Sep-03 21:24 sarracenia/examples/subscribe/dd_rdps.conf
+-rw-rw-r--  2.0 unx     1000 b- defN 21-Sep-03 21:24 sarracenia/examples/subscribe/dd_swob.conf
 -rw-rw-r--  2.0 unx      970 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/ddc_cap-xml.conf
 -rw-rw-r--  2.0 unx     1281 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/ddc_normal.conf
 -rw-rw-r--  2.0 unx     1278 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/downloademail.conf
 -rw-rw-r--  2.0 unx     3353 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/ec_ninjo-a.conf
--rw-rw-r--  2.0 unx      448 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/hpfx_amis.conf
+-rw-rw-r--  2.0 unx      453 b- defN 21-Sep-03 21:20 sarracenia/examples/subscribe/hpfx_amis.conf
 -rw-rw-r--  2.0 unx      167 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/local_sub.conf
 -rw-rw-r--  2.0 unx      793 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/pitcher_pull.conf
 -rw-rw-r--  2.0 unx      816 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/sci2ec.conf
 -rw-rw-r--  2.0 unx      737 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/subnoaa.conf
 -rw-rw-r--  2.0 unx      748 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/subsoapshc.conf
 -rw-rw-r--  2.0 unx      733 b- defN 21-Aug-05 13:47 sarracenia/examples/subscribe/subusgs.conf
 -rw-rw-r--  2.0 unx     5285 b- defN 21-Aug-05 13:47 sarracenia/examples/watch/master.conf
 -rw-rw-r--  2.0 unx      956 b- defN 21-Aug-05 13:47 sarracenia/examples/watch/pitcher_client.conf
 -rw-rw-r--  2.0 unx     1712 b- defN 21-Aug-05 13:47 sarracenia/examples/watch/pitcher_server.conf
 -rw-rw-r--  2.0 unx      731 b- defN 21-Aug-05 13:47 sarracenia/examples/watch/sci2ec.conf
--rw-rw-r--  2.0 unx    58620 b- defN 21-Aug-27 15:52 sarracenia/flow/__init__.py
--rw-rw-r--  2.0 unx    16017 b- defN 21-Aug-08 17:21 sarracenia/flow/poll.py
+-rw-rw-r--  2.0 unx    58024 b- defN 21-Sep-09 04:06 sarracenia/flow/__init__.py
+-rw-rw-r--  2.0 unx    16433 b- defN 21-Sep-08 04:53 sarracenia/flow/poll.py
 -rw-rw-r--  2.0 unx      796 b- defN 21-Aug-08 16:18 sarracenia/flow/post.py
 -rw-rw-r--  2.0 unx      482 b- defN 21-Aug-08 14:12 sarracenia/flow/report.py
 -rw-rw-r--  2.0 unx      800 b- defN 21-Aug-05 13:47 sarracenia/flow/sarra.py
 -rw-rw-r--  2.0 unx      698 b- defN 21-Aug-05 13:47 sarracenia/flow/sender.py
 -rw-rw-r--  2.0 unx      432 b- defN 21-Aug-08 14:12 sarracenia/flow/shovel.py
 -rw-rw-r--  2.0 unx      821 b- defN 21-Aug-05 13:47 sarracenia/flow/subscribe.py
 -rw-rw-r--  2.0 unx      832 b- defN 21-Aug-08 14:12 sarracenia/flow/watch.py
 -rw-rw-r--  2.0 unx      434 b- defN 21-Aug-08 14:12 sarracenia/flow/winnow.py
--rw-rw-r--  2.0 unx     4964 b- defN 21-Aug-25 02:18 sarracenia/flowcb/__init__.py
+-rw-rw-r--  2.0 unx     5020 b- defN 21-Sep-09 03:08 sarracenia/flowcb/__init__.py
+-rw-rw-r--  2.0 unx     2645 b- defN 21-Sep-08 20:43 sarracenia/flowcb/gts2wis2.py
 -rw-rw-r--  2.0 unx      946 b- defN 21-Aug-05 13:47 sarracenia/flowcb/line_log.py
 -rw-rw-r--  2.0 unx     1603 b- defN 21-Aug-05 13:47 sarracenia/flowcb/line_mode.py
 -rw-rw-r--  2.0 unx     1134 b- defN 21-Aug-05 13:47 sarracenia/flowcb/log.py
 -rw-rw-r--  2.0 unx     3222 b- defN 21-Aug-08 14:12 sarracenia/flowcb/mdelaylatest.py
 -rw-rw-r--  2.0 unx    13095 b- defN 21-Aug-14 01:04 sarracenia/flowcb/nodupe.py
 -rw-rw-r--  2.0 unx     2952 b- defN 21-Aug-05 13:47 sarracenia/flowcb/pclean.py
 -rw-rw-r--  2.0 unx     3035 b- defN 21-Aug-08 14:12 sarracenia/flowcb/retry.py
 -rw-rw-r--  2.0 unx      519 b- defN 21-Aug-05 13:47 sarracenia/flowcb/sample.py
--rw-rw-r--  2.0 unx     2904 b- defN 21-Aug-05 13:47 sarracenia/flowcb/script.py
+-rw-rw-r--  2.0 unx     3555 b- defN 21-Sep-09 03:14 sarracenia/flowcb/script.py
 -rw-rw-r--  2.0 unx     1194 b- defN 21-Aug-08 14:12 sarracenia/flowcb/shiftdir2baseurl.py
--rw-rw-r--  2.0 unx    15007 b- defN 21-Aug-08 14:12 sarracenia/flowcb/v2wrapper.py
+-rw-rw-r--  2.0 unx    15048 b- defN 21-Sep-08 21:58 sarracenia/flowcb/v2wrapper.py
 -rw-rw-r--  2.0 unx       90 b- defN 21-Aug-05 13:47 sarracenia/flowcb/filter/__init__.py
 -rw-rw-r--  2.0 unx      838 b- defN 21-Aug-05 13:47 sarracenia/flowcb/filter/deleteflowfiles.py
 -rw-rw-r--  2.0 unx     3482 b- defN 21-Aug-05 13:47 sarracenia/flowcb/filter/fdelay.py
 -rw-rw-r--  2.0 unx     5359 b- defN 21-Aug-05 13:47 sarracenia/flowcb/filter/pclean_f90.py
 -rw-rw-r--  2.0 unx     2711 b- defN 21-Aug-05 13:47 sarracenia/flowcb/filter/pclean_f92.py
--rw-rw-r--  2.0 unx     4681 b- defN 21-Aug-05 13:47 sarracenia/flowcb/gather/__init__.py
+-rw-rw-r--  2.0 unx     4312 b- defN 21-Sep-08 04:58 sarracenia/flowcb/gather/__init__.py
 -rw-rw-r--  2.0 unx    25587 b- defN 21-Aug-27 19:48 sarracenia/flowcb/gather/file.py
 -rw-rw-r--  2.0 unx     1180 b- defN 21-Aug-05 13:47 sarracenia/flowcb/gather/message.py
 -rw-rw-r--  2.0 unx     1956 b- defN 21-Aug-05 13:47 sarracenia/flowcb/gather/remote.py
 -rw-rw-r--  2.0 unx      440 b- defN 21-Aug-05 13:47 sarracenia/flowcb/post/__init__.py
 -rw-rw-r--  2.0 unx     1355 b- defN 21-Aug-05 13:47 sarracenia/flowcb/post/message.py
 -rw-rw-r--  2.0 unx      440 b- defN 21-Aug-05 13:47 sarracenia/flowcb/work/__init__.py
 -rw-rw-r--  2.0 unx      771 b- defN 21-Aug-05 13:47 sarracenia/flowcb/work/rxpipe.py
@@ -145,15 +146,15 @@
 -rw-rw-r--  2.0 unx     4428 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_download.py
 -rw-rw-r--  2.0 unx     1222 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_download_baseurl.py
 -rw-rw-r--  2.0 unx      545 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_dump.py
 -rw-rw-r--  2.0 unx     2208 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_fdelay.py
 -rw-rw-r--  2.0 unx    15741 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_filter_wmo2msc.py
 -rw-rw-r--  2.0 unx      784 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_from_cluster.py
 -rw-rw-r--  2.0 unx     2896 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_from_file.py
--rw-rw-r--  2.0 unx     1653 b- defN 21-Aug-08 14:12 sarracenia/plugins/msg_gts2wistopic.py
+-rw-rw-r--  2.0 unx     1653 b- defN 21-Sep-03 10:50 sarracenia/plugins/msg_gts2wistopic.py
 -rw-rw-r--  2.0 unx      801 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_hour_tree.py
 -rw-rw-r--  2.0 unx      924 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_http_to_https.py
 -rw-rw-r--  2.0 unx      769 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_overwrite_sum.py
 -rw-rw-r--  2.0 unx     1389 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_print_lag.py
 -rw-rw-r--  2.0 unx     2022 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_rename4jicc.py
 -rw-rw-r--  2.0 unx      659 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_rename_dmf.py
 -rw-rw-r--  2.0 unx     1042 b- defN 21-Aug-05 13:47 sarracenia/plugins/msg_rename_whatfn.py
@@ -187,17 +188,17 @@
 -rw-rw-r--  2.0 unx     2153 b- defN 21-Aug-05 13:47 sarracenia/plugins/pxSender_log.py
 -rw-rw-r--  2.0 unx     4635 b- defN 21-Aug-05 13:47 sarracenia/plugins/root_chown.py
 -rw-rw-r--  2.0 unx     1984 b- defN 21-Aug-05 13:47 sarracenia/plugins/smc_download_cp.py
 -rw-rw-r--  2.0 unx      890 b- defN 21-Aug-05 13:47 sarracenia/plugins/trace_on_stop.py
 -rw-rw-r--  2.0 unx    12987 b- defN 21-Aug-05 13:47 sarracenia/transfer/__init__.py
 -rw-rw-r--  2.0 unx    19747 b- defN 21-Aug-08 14:12 sarracenia/transfer/file.py
 -rw-rw-r--  2.0 unx    15348 b- defN 21-Aug-08 14:12 sarracenia/transfer/ftp.py
--rw-rw-r--  2.0 unx    11677 b- defN 21-Aug-08 14:12 sarracenia/transfer/https.py
+-rw-rw-r--  2.0 unx    11667 b- defN 21-Sep-06 20:38 sarracenia/transfer/https.py
 -rw-rw-r--  2.0 unx    19046 b- defN 21-Aug-24 17:24 sarracenia/transfer/sftp.py
--rw-rw-r--  2.0 unx     1674 b- defN 21-Sep-02 21:29 metpx_sr3-3.0.8.dist-info/AUTHORS.rst
--rw-rw-r--  2.0 unx    18092 b- defN 21-Sep-02 21:29 metpx_sr3-3.0.8.dist-info/LICENSE.txt
--rw-rw-r--  2.0 unx    71704 b- defN 21-Sep-02 21:29 metpx_sr3-3.0.8.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 21-Sep-02 21:29 metpx_sr3-3.0.8.dist-info/WHEEL
--rw-rw-r--  2.0 unx      116 b- defN 21-Sep-02 21:29 metpx_sr3-3.0.8.dist-info/entry_points.txt
--rw-rw-r--  2.0 unx       11 b- defN 21-Sep-02 21:29 metpx_sr3-3.0.8.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx    18273 b- defN 21-Sep-02 21:29 metpx_sr3-3.0.8.dist-info/RECORD
-201 files, 907440 bytes uncompressed, 292149 bytes compressed:  67.8%
+-rw-rw-r--  2.0 unx     1674 b- defN 21-Sep-09 04:41 metpx_sr3-3.0.9.dist-info/AUTHORS.rst
+-rw-rw-r--  2.0 unx    18092 b- defN 21-Sep-09 04:41 metpx_sr3-3.0.9.dist-info/LICENSE.txt
+-rw-rw-r--  2.0 unx    10346 b- defN 21-Sep-09 04:41 metpx_sr3-3.0.9.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 21-Sep-09 04:41 metpx_sr3-3.0.9.dist-info/WHEEL
+-rw-rw-r--  2.0 unx      116 b- defN 21-Sep-09 04:41 metpx_sr3-3.0.9.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx       11 b- defN 21-Sep-09 04:41 metpx_sr3-3.0.9.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx    18360 b- defN 21-Sep-09 04:41 metpx_sr3-3.0.9.dist-info/RECORD
+202 files, 850628 bytes uncompressed, 271231 bytes compressed:  68.1%
```

## zipnote {}

```diff
@@ -198,14 +198,17 @@
 
 Filename: sarracenia/flow/winnow.py
 Comment: 
 
 Filename: sarracenia/flowcb/__init__.py
 Comment: 
 
+Filename: sarracenia/flowcb/gts2wis2.py
+Comment: 
+
 Filename: sarracenia/flowcb/line_log.py
 Comment: 
 
 Filename: sarracenia/flowcb/line_mode.py
 Comment: 
 
 Filename: sarracenia/flowcb/log.py
@@ -576,29 +579,29 @@
 
 Filename: sarracenia/transfer/https.py
 Comment: 
 
 Filename: sarracenia/transfer/sftp.py
 Comment: 
 
-Filename: metpx_sr3-3.0.8.dist-info/AUTHORS.rst
+Filename: metpx_sr3-3.0.9.dist-info/AUTHORS.rst
 Comment: 
 
-Filename: metpx_sr3-3.0.8.dist-info/LICENSE.txt
+Filename: metpx_sr3-3.0.9.dist-info/LICENSE.txt
 Comment: 
 
-Filename: metpx_sr3-3.0.8.dist-info/METADATA
+Filename: metpx_sr3-3.0.9.dist-info/METADATA
 Comment: 
 
-Filename: metpx_sr3-3.0.8.dist-info/WHEEL
+Filename: metpx_sr3-3.0.9.dist-info/WHEEL
 Comment: 
 
-Filename: metpx_sr3-3.0.8.dist-info/entry_points.txt
+Filename: metpx_sr3-3.0.9.dist-info/entry_points.txt
 Comment: 
 
-Filename: metpx_sr3-3.0.8.dist-info/top_level.txt
+Filename: metpx_sr3-3.0.9.dist-info/top_level.txt
 Comment: 
 
-Filename: metpx_sr3-3.0.8.dist-info/RECORD
+Filename: metpx_sr3-3.0.9.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## sarracenia/__init__.py

```diff
@@ -21,15 +21,15 @@
 #  GNU General Public License for more details.
 #
 #  You should have received a copy of the GNU General Public License
 #  along with this program; if not, write to the Free Software
 #  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307  USA
 #
 #
-__version__ = "3.00.08"
+__version__ = "3.00.09"
 
 import logging
 
 logger = logging.getLogger(__name__)
 
 import calendar
 import datetime
```

## sarracenia/config.py

```diff
@@ -877,15 +877,15 @@
     def _parse_sum(self, value):
         if (value in sarracenia.integrity.known_methods) or (
                 value[0:4] == 'cod,'):
             self.integrity_method = value
             return
 
         if (value[0:2] == 'z,'):
-            value = value[3:]
+            value = value[2:]
             self.integrity_method = 'cod,'
         else:
             self.integrity_method = ''
 
         for sc in sarracenia.integrity.Integrity.__subclasses__():
             if hasattr(sc, 'registered_as') and (sc.registered_as() == value):
                 self.integrity_method += sc.__name__.lower()
@@ -984,15 +984,15 @@
                 self.imports.append(v)
             elif k in ['flow_callback', 'flowcb', 'fcb']:
                 self.plugins.append(v)
             elif k in ['flow_callback_prepend', 'flowcb_prepend', 'fcbp']:
                 self.plugins = [ v ] + self.plugins
             elif k in ['set', 'setting', 's']:
                 self._parse_setting(line[1], line[2:])
-            elif k in ['sum']:
+            elif k in ['sum', 'integrity' ]:
                 self._parse_sum(v)
             elif k in Config.v2entry_points:
                 if k in self.plugins:
                     self.plugins.remove(v)
                 self._parse_v2plugin(k, v)
             elif k in ['no-import']:
                 self._parse_v3unplugin(v)
@@ -1340,14 +1340,15 @@
         HEADFN         -- Use first 2 fields of filename
         NONE           -- Use the entire filename
         TIME or TIME:  -- TIME stamp appended
         DESTFN=fname   -- Change the filename to fname
 
         ex: mask[2] = 'NONE:TIME'
         """
+        logger.info('FIXME1347 cfo=%s, filename=%s' % ( currentFileOption, filename ) ) 
 
         if currentFileOption == None: return filename
 
         timeSuffix = ''
         satnet = ''
         parts = filename.split(':')
         firstPart = parts[0]
@@ -1480,17 +1481,21 @@
             return cdir
 
         new_dir = cdir
 
         if '${BD}' in cdir and self.baseDir != None:
             new_dir = new_dir.replace('${BD}', self.baseDir)
 
-        if ( '${BRP}' in cdir ) and ( 'baseUrl' in message ):
+        if ( '${BUP}' in cdir ) and ( 'baseUrl' in message ):
             u = urllib.parse.urlparse( message['baseUrl'] )
-            new_dir = new_dir.replace('${BRP}', u.path )
+            new_dir = new_dir.replace('${BUP}', u.path )
+
+        if ( '${BUPL}' in cdir ) and ( 'baseUrl' in message ):
+            u = urllib.parse.urlparse( message['baseUrl'] )
+            new_dir = new_dir.replace('${BUPL}', os.path.basename(u.path) )
 
         if '${PBD}' in cdir and self.post_baseDir != None:
             new_dir = new_dir.replace('${PBD}', self.post_baseDir)
 
         if '${DR}' in cdir and self.documentRoot != None:
             logger.warning(
                 "DR = documentRoot should be replaced by BD for base_dir")
@@ -1572,34 +1577,55 @@
             YYYYMMDD = time.strftime("%Y%m%d", time.localtime(epoch))
             new_dir = re.sub('\$\{YYYYMMDD-\d+\D\}', YYYYMMDD, new_dir)
 
         new_dir = self._varsub(new_dir)
 
         return new_dir
 
+
+    """
+       2020/05/26 PAS... FIXME: end of sheer terror. 
+
+       the parts below used be part of the sheer terror... but have been
+       tamed a bit.
+    """
+
+
     # ==============================================
     # how will the download file land on this server
     # with all options, this is really tricky
     # ==============================================
 
     def set_newMessageFields(self, msg, urlstr, pattern, maskDir,
                              maskFileOption, mirror, strip, pstrip, flatten):
-
-        msg['_deleteOnPost'] |= set( ['new_dir', 'new_file', 'new_relPath', 'new_baseUrl'] )
+        """
+           Set new message fields according to values when the message is accepted.
+           
+        """
 
         # relative path by default mirror
+        if type(maskDir) is str:
+            # trying to subtract maskDir if present in relPath...
+            # occurs in polls a lot.
+            if maskDir in msg['relPath']:
+                 relPath = '%s' % msg['relPath'].replace(maskDir,'',1)
+
+            # sometimes the same, just the leading / is missing.
+            elif maskDir[1:] in msg['relPath']:
+                 relPath = '%s' % msg['relPath'].replace(maskDir[1:],'',1)
+            else:
+                relPath = '%s' % msg['relPath']
+        else:
+            relPath = '%s' % msg['relPath']
 
-        relPath = '%s' % msg['relPath']
- 
         if self.baseUrl_relPath :
             u = urllib.parse.urlparse( msg['baseUrl'] )
             relPath = u.path[1:] + '/' + relPath
 
-        # case S=0  sr_post -> sr_suscribe... rename in headers
-        # FIXME: 255 char limit on headers, rename will break!
+        # FIXME... why the % ? why not just assign it to copy the value?
         if 'rename' in msg: relPath = '%s' % msg['rename']
 
         token = relPath.split('/')
         filename = token[-1]
 
         # if provided, strip (integer) ... strip N heading directories
         #         or  pstrip (pattern str) strip regexp pattern from relPath
@@ -1633,14 +1659,15 @@
         if flatten != '/':
             filename = flatten.join(token)
             token[-1] = [filename]
 
         if maskFileOption is not None:
             try:
                 filename = self.sundew_getDestInfos(msg, maskFileOption, filename)
+                logger.info('FIXME1666 filename=%s' % ( filename ) )
             except:
                 logger.error("problem with accept file option %s" %
                              maskFileOption)
             token[-1] = [filename]
 
         # MG this was taken from the sr_sender when not derived from sr_subscribe.
         # if a desftn_script is set in a plugin, it is going to be applied on all file
@@ -1660,23 +1687,23 @@
         if not mirror:
             token = [filename]
 
         # uses current dir
 
         #if self.currentDir : new_dir = self.currentDir
         if maskDir:
-            new_dir = maskDir
+            new_dir = self.set_dir_pattern(maskDir,msg)
         else:
             new_dir = ''
 
         if self.baseDir:
             if new_dir :
                 d=new_dir
             elif self.post_baseDir:
-                d=self.post_baseDir
+                d=self.set_dir_pattern(self.post_baseDir,msg)
             else:
                 d=None
 
             if d:
                 for f in [ 'link', 'oldname', 'newname' ]:
                     if f in msg:
                         msg[f] = msg[f].replace( self.baseDir, d )
@@ -1686,71 +1713,80 @@
         if len(token) > 1:
             new_dir = new_dir + '/' + '/'.join(token[:-1])
 
         new_dir = self.set_dir_pattern(new_dir, msg)
         # resolution of sundew's dirPattern
 
         tfname = filename
-        if 'sundew_extension' in msg.keys():
-            tfname = filename.split(':')[0] + ':' + msg['sundew_extension']
-
         # when sr_sender did not derived from sr_subscribe it was always called
         new_dir = self.sundew_dirPattern(pattern, urlstr, tfname, new_dir)
 
-        # reset relPath from new_dir
+        self.set_newMessageUpdatePaths( msg, new_dir, filename )
 
-        # FIXME: 2020/09/05 - PAS ... normpath will put back slashes in on Windows.
-        # normpath thing is probably wrong... not sure why it is here...
-        if 'new_dir' not in msg:
-            #msg['new_dir'] = os.path.normpath(new_dir)
-            msg['new_dir'] = new_dir
 
-        relPath = msg['new_dir'] + '/' + filename
+    def set_newMessageUpdatePaths( self, msg, new_dir, new_file ):
+        """
+        set the new_ fields in the message based on changed file placement.
 
-        if self.post_baseDir:
-            relPath = relPath.replace(self.set_dir_pattern(self.post_baseDir,msg), '')
+        If you change file placement in a flow callback, for example.
+        One would change new_dir and new_file in the message.
+        This routines updates other fields in the message (e.g. relPath, 
+        baseUrl, topic ) to match new_dir/new_file.
 
-        if relPath[0] == '/':
-            relPath = relPath[1:]
+        msg['post_baseUrl'] defaults to msg['baseUrl']
+     
+        """
+
+        msg['_deleteOnPost'] |= set( ['new_dir', 'new_file', 'new_relPath', 'new_baseUrl', 'new_subtopic'] )
+
+        msg['new_dir'] = new_dir
+        msg['new_file'] = new_file
+
+        relPath = new_dir + '/' + new_file
+
+        if self.post_baseUrl:
+            baseUrl_str = self.set_dir_pattern( self.post_baseUrl, msg )
+        else:
+            if 'baseUrl' in msg:
+                baseUrl_str = msg['baseUrl']
+            else:
+                logger.error('missing post_baseUrl setting' )
+                return
+ 
+        if hasattr(self, 'post_baseDir') and ( type(self.post_baseDir) is str ) \
+            and ( len(self.post_baseDir) > 1):
+            pbd_str = self.set_dir_pattern( self.post_baseDir, msg )
+            parsed_baseUrl = urllib.parse.urlparse(baseUrl_str)
+
+            relPath = new_dir.replace( pbd_str, '', 1) + '/' + new_file
 
-        # set the results for the new file (downloading or sending)
+            if (len(parsed_baseUrl.path) > 1):
+                relPath=relPath.replace( parsed_baseUrl.path, '', 1 )
 
-        # final value
-        # NOTE : normpath keeps '/a/b/c' and '//a/b/c' the same
-        #        Everywhere else // or /../ are corrected.
-        #        but if the number of / starting the path > 2  ... it will result into 1 /
+        msg['new_baseUrl'] = baseUrl_str
+
+        if relPath[0] == '/' :
+            relPath = relPath[1:]
 
-        #msg['new_relPath'] = os.path.normpath(relPath)
         msg['new_relPath'] = relPath
+        msg['new_subtopic' ] = relPath.split('/')[0:-1]
 
+        for i in [ 'relPath', 'subtopic', 'baseUrl' ]:
+            if not i in msg:
+               msg[ i ]= msg[ 'new_%s' % i ] 
+        
         if sys.platform == 'win32':
             if 'new_dir' not in msg:
                 msg['new_dir'] = msg['new_dir'].replace('\\', '/')
             msg['new_relPath'] = msg['new_relPath'].replace('\\', '/')
             if re.match('[A-Z]:', str(self.currentDir), flags=re.IGNORECASE):
                 msg['new_dir'] = msg['new_dir'].lstrip('/')
                 msg['new_relPath'] = msg['new_relPath'].lstrip('/')
 
-        msg['new_file'] = filename
-
-        if self.post_broker and self.post_baseUrl:
-            msg['new_baseUrl'] = self.set_dir_pattern( self.post_baseUrl, msg )
-        else:
-            msg['new_baseUrl'] = msg['baseUrl']
-
-        #if 'new_relPath' in msg:
-        #    offset = 1 if msg['new_relPath'][0] == '/' else 0
-        #    msg['subtopic'] = msg['new_relPath'].split('/')[offset:-1]
 
-        #logger.debug( "leaving with: new_dir=%s new_relpath=%s new_baseUrl=%s " % \
-        #   ( msg['new_dir'], msg['new_relPath'], msg['new_baseUrl'] ) )
-
-    """
-       2020/05/26 PAS... FIXME: end of sheer terror. 
-   """
 
     class addBinding(argparse.Action):
         """
         called by argparse to deal with queue bindings.
         """
         def __call__(self, parser, namespace, values, option_string):
```

## sarracenia/filemetadata.py

```diff
@@ -101,20 +101,22 @@
             self.ads = ADS(path)
             s = list(self.ads)
             if STREAM_NAME in s:
                 self.x = json.loads(
                     self.ads.get_stream_content(STREAM_NAME).decode('utf-8'))
 
         if supports_extended_attributes:
-            d = xattr.xattr(path)
+            d = xattr.listxattr(path)
             for i in d:
+                if isinstance(i, bytes):
+                    i = i.decode('utf-8')
                 if not i.startswith('user.sr_'):
                     continue
                 k = i.replace('user.sr_', '')
-                v = d[i].decode('utf-8')
+                v = xattr.getxattr(path, i).decode('utf-8')
                 self.x[k] = v
 
     def __del__(self):
         self.persist()
 
     """
      return a dictionary of extended attributes.
```

## sarracenia/examples/subscribe/dd_2mqtt.conf

```diff
@@ -10,13 +10,14 @@
 no_download
 
 exp_2mqtt_post_broker mqtt://tsource@localhost
 post_exchange xpublic
 
 plugin exp_2mqtt
 
+directory /tmp/dd_2mqt
 subtopic bulletins.#
 accept .*
 
 report_back False
```

## sarracenia/examples/subscribe/dd_all.conf

```diff
@@ -12,8 +12,9 @@
 instances 5
 
 #expire, in operations should be longer than longest expected interruption.
 expire 10m
 
 subtopic #
 
+directory /tmp/dd_all
 accept .*
```

## sarracenia/examples/subscribe/dd_amis.conf

```diff
@@ -9,8 +9,9 @@
 instances 5
 
 # expire, in operational use, should be longer than longest expected interruption
 expire 10m
 
 subtopic bulletins.alphanumeric.#
 
+directory /tmp/dd_amis
 accept .*
```

## sarracenia/examples/subscribe/dd_aqhi.conf

```diff
@@ -15,8 +15,10 @@
 
 #expire in operations, should be longer than longest interruption.
 #  si on arrête un téléchargeur plus que *expire*, le file de produits est enlevé sur le serveur.
 #  valeur basse bonne pour essais initial, valeur haute (1d == 1 jour) pour les opérations.
 expire 10m
 
 subtopic air_quality.aqhi.#
+directory /tmp/dd_aqhi
+
 accept .*
```

## sarracenia/examples/subscribe/dd_cacn_bulletins.conf

```diff
@@ -16,8 +16,9 @@
 # expire, in operations should be longer than longest expected interruption
 #    durée de vie du file d´attente sur le serveur. Si on arrete le subscribe pendant plus que *expire*
 #    le file est enlevé.
 
 expire 10m
 
 subtopic bulletins.alphanumeric.*.CA.*.#
+directory /tmp/cacn_bulletins
 accept .*CACN45.*
```

## sarracenia/examples/subscribe/dd_cmml.conf

```diff
@@ -18,9 +18,11 @@
 
 # expire, in operations, should be longer than longest expected interruption
 #    durée de vie du file d´attente sur le serveur. Si on arrete le subscribe pendant plus que *expire*
 #    le file est enlevé.
 expire 10m
 
 subtopic meteocode.*.cmml.# 
+
+directory /tmp/dd_cmml
 accept    .*
```

## sarracenia/examples/subscribe/dd_gdps.conf

```diff
@@ -22,8 +22,9 @@
 # for larger files, a binary downloader will be faster.
 
 #expire, en usage opérationnel, c´est mieux 1d (1 jour) pour celui-ci. Il faut que ça soit plus long que l´interruption le plus long qu´on veut toléré sans perte.
 expire 10m
 #expire, in operational use, use 1d (1 day) as it needs to be longer than the longest interruption in downloads we want to tolerate without dropping downloads.
 
 subtopic model_gem_global.25km.grib2.#
+directory /tmp/dd_gdps
 accept .*
```

## sarracenia/examples/subscribe/dd_ping.conf

```diff
@@ -22,8 +22,9 @@
 msg_total_count 10
 on_message msg_total
 
 #expire, in operations should be longer than longest expected interruption.
 expire 10m
 
 subtopic #
+directory /tmp/dd_ping
 accept .*
```

## sarracenia/examples/subscribe/dd_radar.conf

```diff
@@ -17,10 +17,12 @@
 
 
 #expire, in operations needs to be longer than the longest interruption in downloads.
 expire 10m
 #expire, en usage opérationnel, c´est mieux 1d (1 jour) pour celui-ci.  Il faut que 
 #    ça soit plus long que l´interruption le plus long qu´on veut toléré sans perte.
 
+directory /tmp/dd_radar
+
 
 subtopic radar.CAPPI.GIF.XAM.#
 accept .*
```

## sarracenia/examples/subscribe/dd_rdps.conf

```diff
@@ -23,8 +23,9 @@
 #        faut que cela soit plus long que l´interruption la plus longue tolérée sans perte.
 expire 10m
 # expire, in operations, needs to be longer than the longest expected interruption in service.
 #       suggest 1d (1 day.)
 
 
 subtopic model_gem_regional.10km.grib2.#
+director /tmp/dd_rdps
 accept .*
```

## sarracenia/examples/subscribe/dd_swob.conf

```diff
@@ -19,11 +19,12 @@
 #     tolérer sans perte.
 expire 10m
 #expire, in operations, needs to be longer than the longest expected interruption
 
 # All stations
 subtopic observations.swob-ml.#
 
+directory /tmp/dd_swob
 # Only station CYQL
 # subtopic observations.swob-ml.*.CYQL.#
 accept .*
```

## sarracenia/examples/subscribe/hpfx_amis.conf

```diff
@@ -8,10 +8,10 @@
 instances 5
 
 # expire, in operational use, should be longer than longest expected interruption
 expire 10m
 
 subtopic *.WXO-DD.bulletins.alphanumeric.#
 mirror true
-directory /tmp/amis/
+directory /tmp/hpfx_amis/
 accept .*
```

## sarracenia/flow/__init__.py

```diff
@@ -316,27 +316,19 @@
                 self.do()
 
                 # need to acknowledge here, because posting will delete message-id
                 self.ack(self.worklist.ok)
 
                 # adjust message after action is done, but before 'after_work' so adjustment is possible.
                 for m in self.worklist.ok:
-
                     if ('new_baseUrl' in m) and (m['baseUrl'] != m['new_baseUrl'] ):
                         m['baseUrl'] = m['new_baseUrl']
-
                     if ('new_relPath' in m ) and ( m['relPath'] != m['new_relPath'] ) :
                         m['relPath'] = m['new_relPath']
-                        if m['new_relPath'][0] == os.sep :
-                            m['subtopic'] = m['new_relPath'].split(os.sep)[1:-1]
-                        else:
-                            m['subtopic'] = m['new_relPath'].split(os.sep)[:-1]
-
-                    if self.o.post_baseDir:
-                        m['relPath'] = m['relPath'].replace(self.o.post_baseDir, '', 1)
+                        m['subtopic'] = m['new_subtopic']
 
                 self.ack(self.worklist.rejected)
                 self.worklist.rejected = []
                 self.ack(self.worklist.failed)
                 self._runCallbacksWorklist('after_work')
 
                 self.post()
@@ -413,29 +405,28 @@
              default_accept_directory=self.o.directory
         elif hasattr(self.o, 'post_baseDir'):
              default_accept_directory=self.o.post_baseDir
         elif hasattr(self.o, 'baseDir'):
              default_accept_directory=self.o.baseDir
 
         for m in self.worklist.incoming:
-            #logger.warning('message: %s ' % m)
 
             if 'oldname' in m:
                 url = self.o.set_dir_pattern(m['baseUrl'],m) + os.sep + m['oldname']
                 if 'sundew_extension' in m  and url.count(":") < 1 : 
                     urlToMatch= url + ':' + m['sundew_extension']
                 else:
                     urlToMatch=url
                 oldname_matched = False
                 for mask in self.o.masks:
                     pattern, maskDir, maskFileOption, mask_regexp, accepting, mirror, strip, pstrip, flatten = mask
                     if mask_regexp.match(urlToMatch):
                         oldname_matched = accepting
                         break
-
+            
             url = self.o.set_dir_pattern(m['baseUrl'],m) + os.sep + m['relPath']
             if 'sundew_extension' in m and url.count(":") < 1: 
                 urlToMatch= url + ':' + m['sundew_extension']
             else:
                 urlToMatch=url
 
             # apply masks for accept/reject options.
@@ -452,15 +443,15 @@
                             if not 'renameUnlink' in m:
                                 m['renameUnlink'] = True
                                 m['_deleteOnPost'] |= set(['renameUnlink'])
                             logger.debug("rename deletion 1 %s" %
                                          (m['oldname']))
                         elif self.o.log_reject:
                             logger.info("reject: mask=%s strip=%s url=%s" %
-                                        (str(mask), strip, url))
+                                        (str(mask), strip, urlToMatch))
                         self.worklist.rejected.append(m)
                         break
 
                     # FIXME... missing dir mapping with mirror, strip, etc...
                     self.o.set_newMessageFields(m, url, pattern, maskDir,
                                                 maskFileOption, mirror, strip,
                                                 pstrip, flatten)
@@ -515,25 +506,20 @@
         # mark all remaining messages as done.
         self.worklist.ok = self.worklist.incoming
         self.worklist.incoming = []
         logger.debug('processing %d messages worked!' % len(self.worklist.ok))
 
     def post(self):
 
-        #logger.info('on_post starting for %d messages' % len(self.worklist.ok))
-        #logger.info('post_baseDir=%s' % self.o.post_baseDir)
-
-        #self._runCallbacksWorklist('on_posts')
         for p in self.plugins["post"]:
             p(self.worklist)
 
     def report(self):
         # post reports
         # apply on_report plugins
-        #logger.info('unimplemented')
         pass
 
     def write_inline_file(self, msg):
         """
            write local file based on a message with inlined content.
 
         """
@@ -556,15 +542,17 @@
             return False
 
         if msg['content']['encoding'] == 'base64':
             data = b64decode(msg['content']['value'])
         else:
             data = msg['content']['value'].encode('utf-8')
 
-        if msg['integrity']['method'] == 'cod':
+        if 'cod,' in self.o.integrity_method :
+            algo_method = self.o.integrity_method[4:]
+        elif msg['integrity']['method'] == 'cod':
             algo_method = msg['integrity']['value']
         else:
             algo_method = msg['integrity']['method']
 
         onfly_algo = sarracenia.integrity.Integrity.factory(algo_method)
         data_algo = sarracenia.integrity.Integrity.factory(algo_method)
         onfly_algo.set_path(path)
@@ -966,15 +954,16 @@
                     ok = self.download(msg, self.o)
                     if ok:
                         logger.info("downloaded ok: %s" % new_path)
                         msg_set_report(msg, 201, "Download successful")
                         self.worklist.ok.append(msg)
                         break
                     else:
-                        logger.info("warning downloaded attempt %d failed: %s" % ( i, new_path) )
+                        logger.info("attempt %d failed to download %s/%s to %s" \
+                            % ( i, msg['baseUrl'], msg['relPath'], new_path) )
                     i = i + 1
 
                 if not ok:
                     logger.error("gave up downloading for now")
                     self.worklist.failed.append(msg)
                 # FIXME: file reassembly missing?
                 #if self.inplace : file_reassemble(self)
@@ -984,15 +973,15 @@
     # v2 sr_util.py ... generic sr_transport imported here...
 
     # generalized download...
     def download(self, msg, options):
 
         self.o = options
 
-        logger.debug("%s_transport download" % self.scheme)
+        logger.debug("%s_transport download relPath=%s" % (self.scheme, msg['relPath']) )
 
         token = msg['relPath'].split('/')
         cdir = '/' + '/'.join(token[:-1])
         remote_file = token[-1]
         urlstr = msg['baseUrl'] + '/' + msg['relPath']
         new_inflight_path = ''
 
@@ -1020,15 +1009,14 @@
 
             if (not (self.scheme in self.proto)) or \
                (self.proto[self.scheme] is None) or not self.proto[self.scheme].check_is_connected():
 
                 logger.debug("%s_transport download connects" % self.scheme)
                 self.proto[self.scheme] = sarracenia.transfer.Transfer.factory(
                     self.scheme, self.o)
-                logger.debug("HOHO proto %s " % type(self.proto))
                 ok = self.proto[self.scheme].connect()
                 if not ok:
                     self.proto[self.scheme] = None
                     return False
                 logger.debug('connected')
 
             #=================================
@@ -1039,15 +1027,14 @@
             #   logger.error("%s, inplace part file not supported" % self.scheme)
             #   return False
 
             cwd = None
             if hasattr(self.proto[self.scheme], 'getcwd'):
                 cwd = self.proto[self.scheme].getcwd()
 
-            logger.debug(" proto %s " % type(self.proto[self.scheme]))
             if cwd != cdir:
                 logger.debug("%s_transport download cd to %s" %
                              (self.scheme, cdir))
                 self.proto[self.scheme].cd(cdir)
 
             remote_offset = 0
             if ('blocks' in msg) and (msg['blocks']['method'] == 'inplace'):
@@ -1067,15 +1054,19 @@
             logger.debug('Beginning fetch of %s %s into %s %d-%d' %
                          (urlstr, str_range, new_file, msg['local_offset'],
                           msg['local_offset'] + block_length - 1))
 
             # FIXME  locking for i parts in temporary file ... should stay lock
             # and file_reassemble... take into account the locking
 
-            self.proto[self.scheme].set_sumalgo(msg['integrity']['method'])
+            if 'cod,' in self.o.integrity_method:
+                 download_algo = self.o.integrity_method[4:]
+            else:
+                 download_algo = msg['integrity']['method']
+            self.proto[self.scheme].set_sumalgo(download_algo)
 
             if options.inflight == None or (
                 ('blocks' in msg) and (msg['blocks']['method'] == 'inplace')):
                 new_inflight_path = new_file
             elif type(options.inflight) == str:
                 if options.inflight == '.':
                     new_inflight_path = '.' + new_file
@@ -1099,14 +1090,15 @@
             accelerated = hasattr( self.proto[self.scheme], 'getAccelerated') and \
                 (self.o.accel_threshold > 0 ) and (block_length > self.o.accel_threshold) and \
                 (remote_offset == 0) and ( msg['local_offset'] == 0)
 
             if accelerated:
                 len_written = self.proto[self.scheme].getAccelerated(
                     msg, remote_file, new_inflight_path, block_length)
+                #FIXME: no onfly_checksum calculation during download.
             else:
                 self.proto[self.scheme].set_path(new_inflight_path)
                 len_written = self.proto[self.scheme].get(
                     msg, remote_file, new_inflight_path, remote_offset,
                     msg['local_offset'], block_length)
 
             if (len_written == block_length):
@@ -1124,14 +1116,17 @@
                     'incomplete download only %d of expected %d bytes for %s' %
                     (len_written, block_length, new_inflight_path))
                 msg['size'] = len_written
 
             msg['onfly_checksum'] = self.proto[self.scheme].get_sumstr()
             msg['data_checksum'] = self.proto[self.scheme].data_checksum
 
+            if 'cod,' in self.o.integrity_method and not accelerated:
+                msg['integrity'] = msg['onfly_checksum'] 
+
             msg['_deleteOnPost'] |= set(['onfly_checksum'])
 
             msg['_deleteOnPost'] |= set(['data_checksum'])
 
             # fix message if no partflg (means file size unknown until now)
             #if not 'blocks' in msg:
             #    #msg['size'] = self.proto[self.scheme].fpos ... fpos not set when accelerated.
@@ -1172,15 +1167,15 @@
         self.o = options
         logger.debug("%s_transport destination: %s " %
                      (self.scheme, self.o.destination))
         logger.debug("%s_transport send %s %s" %
                      (self.scheme, msg['new_dir'], msg['new_file']))
 
         if self.o.baseDir:
-            local_path = self.o.baseDir + '/' + msg['relPath']
+            local_path = self.o.set_dir_pattern(self.o.baseDir,msg) + '/' + msg['relPath']
         else:
             local_path = '/' + msg['relPath']
 
         local_dir = os.path.dirname(local_path).replace('\\', '/')
         local_file = os.path.basename(local_path).replace('\\', '/')
         new_dir = msg['new_dir'].replace('\\', '/')
         new_file = msg['new_file'].replace('\\', '/')
@@ -1191,15 +1186,15 @@
         except:
             curdir = None
 
         if curdir != local_dir:
             try: 
                 os.chdir(local_dir)
             except Exception as ex:
-                logger.error("could chdir to %s to write: %s" % (local_dir, ex))
+                logger.error("could not chdir to %s to write: %s" % (local_dir, ex))
                 return False
 
         try:
 
             if (not (self.scheme in self.proto)) or \
                (self.proto[self.scheme] is None) or not self.proto[self.scheme].check_is_connected():
                 logger.debug("%s_transport send connects" % self.scheme)
@@ -1488,26 +1483,14 @@
             self.worklist.ok = self.worklist.incoming
             self.worklist.incoming = []
             return
 
         for msg in self.worklist.incoming:
 
             #=================================
-            # check message for local file
-            #=================================
-
-            if msg['baseUrl'] != 'file:/':
-                if hasattr(self.o,'baseDir'):
-                    msg['baseUrl'] = 'file:/' + self.o.baseDir 
-                else:
-                    logger.error("protocol should be 'file:' message ignored")
-                    self.worklist.rejected.append(msg)
-                    continue
-
-            #=================================
             # proceed to send :  has to work
             #=================================
 
             # N attempts to send
 
             i = 1
             while i <= self.o.attempts:
```

## sarracenia/flow/poll.py

```diff
@@ -131,17 +131,22 @@
                 return abs((file_date - current_date).seconds) < time_limit
             except Exception as e:
                 try:
                     file_date = datetime.datetime.strptime(date, '%b %d %Y')
                     logger.debug("File date is: " + str(file_date) + " > File is " + str(abs((file_date - current_date).seconds)) + " seconds old")
                     return abs((file_date - current_date).seconds) < time_limit
                 except Exception as e:
-                    warning_msg = str(e)
-                    print("%s" % warning_msg)
-                    return False
+                    try:
+                        file_date = datetime.datetime.strptime(date, '%d %b %Y')
+                        logger.debug("File date is: " + str(file_date) + " > File is " + str(abs((file_date - current_date).seconds)) + " seconds old")
+                        return abs((file_date - current_date).seconds) < time_limit
+                    except Exception as e:
+                        warning_msg = str(e)
+                        logger.error("%s, assuming ok" % warning_msg)
+                        return True
 
 
     # find differences between current ls and last ls
     # only the newer or modified files will be kept and the ones withing a specific time limit, default 60d
 
 
     def differ_ls_file(self, ls, lspath):
```

## sarracenia/flowcb/__init__.py

```diff
@@ -44,19 +44,20 @@
     worklist.failed   --> messages for which processing failed.
                           failed messages will be retried.
 
 
 Initially all messages are placed in incoming.
 if a plugin decides:
 
-- a message is not relevant, it is moved to rejected. 
-- all processing has been done, it moves it to ok. 
-- an operation failed and it should be retried later, move to retry 
+- a message is not relevant, it is moved to the rejected worklist. 
+- all processing has been done, it moves it to the ok worklist
+- an operation failed and it should be retried later, append it to the failed
+  worklist
 
-Do not remove from all lists, only move messages between them.
+Do not remove any message from all lists, only move messages between them.
    it is necessary to put rejected messages in the appropriate worklist
    so they can be acknowledged as received. Messages can only removed after ack.
 
 """
 
 logger = logging.getLogger(__name__)
```

## sarracenia/flowcb/script.py

```diff
@@ -50,34 +50,50 @@
         self.o.add_option( 'script_post', 'str' )
         self.o.add_option( 'script_start', 'str' )
         self.o.add_option( 'script_stop', 'str' )
         self.o.add_option( 'script_housekeeping', 'str' )
 
     def run_script( self, script ):
         try: 
-            subprocess.run( self.o.script_gather, check=True )
+            subprocess.run( script, check=True )
         except Exception as err:
             logging.error("subprocess.run failed err={}".format(err))
             logging.debug("Exception details:", exc_info=True)
 
 
     def gather(self ):
+        """
+           FIXME: this does not make sense. need to figure out how to get the 
+           messages back from the script, perhaps using a json file reader?
+        """
         if hasattr( self.o, 'script_gather') and self.o.script_gather is not None :
             self.run_script( self.o.script_gather )
         return []
 
     def after_accept(self, worklist):
+        """
+           FIXME: this does not make sense. need to figure out how to feed the
+           files to the script... command line argument? 
+        """
         if hasattr( self.o, 'script_filter') and self.o.script_filter is not None :
             self.run_script( self.o.script_filter )
 
     def after_work(self, worklist):
+        """
+           FIXME: this does not make sense. need to figure out how to feed the
+           files to the script... command line argument? 
+        """
         if hasattr( self.o, 'script_work') and self.o.script_work is not None :
             self.run_script( self.o.script_work )
 
     def post(self, worklist):
+        """
+           FIXME: this does not make sense. need to figure out how to feed the
+           messages to the script... command line argument? 
+        """
         if hasattr( self.o, 'script_post') and self.o.script_post is not None :
             self.run_script( self.o.script_post )
 
     def on_start(self):
         if hasattr( self.o, 'script_start') and self.o.script_start is not None :
             self.run_script( self.o.script_start )
```

## sarracenia/flowcb/v2wrapper.py

```diff
@@ -129,14 +129,15 @@
         msg['_deleteOnPost'] = set()
     msg['_deleteOnPost'] |= set(['subtopic'])
 
     pubTime, baseUrl, relPath = body.split(' ')[0:3]
     msg['pubTime'] = timev2tov3str(pubTime)
     msg['baseUrl'] = baseUrl.replace('%20', ' ').replace('%23', '#')
     msg['relPath'] = relPath
+    msg['subtopic'] = relPath.split('/')
     for t in ['atime', 'mtime']:
         if t in msg:
             msg[t] = timev2tov3str(msg[t])
 
     if 'sum' in msg:
         sum_algo_map = {
             "a": "arbitrary",
```

## sarracenia/flowcb/gather/__init__.py

```diff
@@ -87,55 +87,38 @@
         The lstat record is used to build 'atime', 'mtime' and 'mode' fields if 
         preserve_time and preserve_mode options are set.
 
         if no lstat record is supplied, then those fields will not be set.
     """
 
     msg = {}
-    msg['new_dir'] = os.path.dirname(path)
-    msg['new_file'] = os.path.basename(path)
 
-    # relpath
-
-    if o.post_baseDir:
-        post_relPath = path.replace(o.post_baseDir, '')
-    else:
-        post_relPath = path
-
-    # exchange
+    #FIXME no variable substitution... o.set_dir_pattern ?
     msg['exchange'] = o.post_exchange
 
-    # topic
-    words = post_relPath.strip('/').split('/')
-    if len(words) > 1:
-        subtopic = words[:-1]
-    else:
-        subtopic = []
-    msg['subtopic'] = subtopic
     msg['local_offset'] = 0
-
-    msg['_deleteOnPost'] = set ( [ 'exchange', 'local_offset', 'new_dir', 'new_file', 'post_relpath', 'subtopic' ] )
+    msg['_deleteOnPost'] = set ( [ 'exchange', 'local_offset' ] )
 
     # notice
     msg['pubTime'] = v3timeflt2str(time.time())
-    msg['relPath'] = post_relPath
-    msg['baseUrl'] = o.post_baseUrl
+
+    # set new_dir, new_file, new_subtopic, etc...
+    o.set_newMessageUpdatePaths( msg, os.path.dirname(path), os.path.basename(path) )
 
     # rename
+    post_relPath = msg['new_relPath']
     newname = post_relPath
 
     # rename path given with no filename
 
     if o.rename:
         newname = o.rename
         if o.rename[-1] == '/':
             newname += os.path.basename(path)
 
-    # following is a transcription of v2: path_rename
-
     # strip 'N' heading directories
 
     if o.strip > 0:
         strip = o.strip
         if path[0] == '/': strip = strip + 1
         # if we strip too much... keep the filename
         token = path.split('/')
@@ -143,16 +126,14 @@
             token = token[strip:]
         except:
             token = [os.path.basename(path)]
         newname = '/' + '/'.join(token)
 
     if newname != post_relPath: msg['rename'] = newname
 
-    # headers
-
     if hasattr(o, 'to_clusters') and (o.to_clusters is not None):
         msg['to_clusters'] = o.to_clusters
     if hasattr(o, 'cluster') and (o.cluster is not None):
         msg['from_cluster'] = o.cluster
 
     if hasattr(o, 'source') and (o.source is not None):
         msg['source'] = o.source
```

## sarracenia/transfer/https.py

```diff
@@ -87,15 +87,15 @@
                 self.tlsctx.load_default_certs()
                 # TODO Find a way to reintroduce certificate revocation (CRL) in the future
                 #  self.tlsctx.verify_flags = ssl.VERIFY_CRL_CHECK_CHAIN
                 #  https://github.com/MetPX/sarracenia/issues/330
             elif self.o.tls_rigour == 'normal':
                 pass
             else:
-                self.logger.warning(
+                logger.warning(
                     "option tls_rigour must be one of:  lax, normal, strict")
 
         self.init()
 
     def registered_as():
         return ['http', 'https']
 
@@ -278,15 +278,15 @@
 
         alarm_set(self.o.timeout)
 
         try:
             # when credentials are needed.
             headers = {'user-agent': 'Sarracenia ' + sarracenia.__version__}
             if self.bearer_token:
-                self.logger.debug('bearer_token: %s' % self.bearer_token)
+                logger.debug('bearer_token: %s' % self.bearer_token)
                 headers['Authorization'] = 'Bearer ' + self.bearer_token
 
             if self.user != None:
                 password_mgr = urllib.request.HTTPPasswordMgrWithDefaultRealm()
                 # takeaway credentials info from urlstr
                 cred = self.user + '@'
                 self.urlstr = self.urlstr.replace(cred, '')
```

## Comparing `metpx_sr3-3.0.8.dist-info/AUTHORS.rst` & `metpx_sr3-3.0.9.dist-info/AUTHORS.rst`

 * *Files identical despite different names*

## Comparing `metpx_sr3-3.0.8.dist-info/LICENSE.txt` & `metpx_sr3-3.0.9.dist-info/LICENSE.txt`

 * *Files identical despite different names*

## Comparing `metpx_sr3-3.0.8.dist-info/RECORD` & `metpx_sr3-3.0.9.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,12 +1,12 @@
-sarracenia/__init__.py,sha256=05fqI2MctBPdeTLjYehBVh4OEekY1HGBOyEPjC4UXm8,6517
-sarracenia/config.py,sha256=2KpsGm5CieSUFezhTufwSZD5ytJsVKQGbrenj3aCI2U,77073
+sarracenia/__init__.py,sha256=uXvWRvzJ4_HTz7isuhZVjDZwZYwSnniG9_W_lXTq36o,6517
+sarracenia/config.py,sha256=wjTCH-WS3NbGENGsIFqvC5_sqhXkYHHUwmXClW9GnPY,78325
 sarracenia/credentials.py,sha256=lkHltNJ7cxkuRzkpAcxxPp5RM86DgzjARkrxrO3J2MU,9968
 sarracenia/diskqueue.py,sha256=YsaGJZB5xkagz5O5UO6TV9JvjIPRhhuKo6AIP-MmEgw,11561
-sarracenia/filemetadata.py,sha256=E5b2lyfXfhitF5V5plitGVRX3zO-7QW2-CdG0dOXXTA,5018
+sarracenia/filemetadata.py,sha256=q-5pHjLHLOOi30n9g706SW-z-ugtPB3vcglLcx_1e9A,5124
 sarracenia/instance.py,sha256=3rUJM-48VYyWtRMwTH_MrFkfcWbJtPBYT5criXd3YvY,7640
 sarracenia/pyads.py,sha256=iSn5mo_FfGbINxrlBNBM_iLWpMIKNnZdGm9o7NdwQnk,4939
 sarracenia/rabbitmq_admin.py,sha256=8PBVTj8ZXkaCdRxuPs3xgxuyOI3SxsVDhvdDTU2l4Zs,10078
 sarracenia/sr.py,sha256=QEq7YKBAsDP1KEZPstzkEDD23FuiIztAetir4iTiBzA,75939
 sarracenia/sr_flow.py,sha256=U18LT4iRtbghBfH5FD4Is3CN8IbjXn_PjcsHWVe9ybE,768
 sarracenia/sr_log2save.py,sha256=0KRIlD05qeaxK_IPZKuyrSk721vdko2q2hTdRfddsBE,1326
 sarracenia/sr_post.py,sha256=fBXaYN0zdlaB24f3DPEkFSaDW08Qn2jPANL4ET-5gik,1320
@@ -24,69 +24,70 @@
 sarracenia/examples/sender/pitcher_push.conf,sha256=9cdXaEt7x1vjnk69Y7S1oKgTINGNBwpeSI_752X15ys,1416
 sarracenia/examples/shovel/no_trouble_f00.inc,sha256=THgT_dMmxQXtbu9vId2jF0G8gYkk5PEk4S7C7iXmjeg,757
 sarracenia/examples/subscribe/WMO_Sketch_2mqtt.conf,sha256=uT8LykqEHVQLQVZQmMspqnnJpY48Nfnh2TZAo_qB8Ug,878
 sarracenia/examples/subscribe/WMO_Sketch_2v3.conf,sha256=hYGiV2D3IKspu3WahV5NPe6DLIQwvuGL8b_sai5SqAI,657
 sarracenia/examples/subscribe/WMO_mesh_CMC.conf,sha256=WStuAc0sbSC3-S7jj2CcoH6WC8jKSfIVSTqfvB2E9UU,2153
 sarracenia/examples/subscribe/WMO_mesh_Peer.conf,sha256=ScvC_oluW15Hr2KXm5jLfib91UTmO4QHmfsqj2fsNbU,840
 sarracenia/examples/subscribe/aws-nexrad.conf,sha256=Sj37AKgQYjQ_RybXGw-8GjbnW8VNWvuhRKuw-gTptX4,490
-sarracenia/examples/subscribe/dd_2mqtt.conf,sha256=JhiC0cqhsEfZsapQ7iy24ALa1es94OR17ebFLTFbohk,360
-sarracenia/examples/subscribe/dd_all.conf,sha256=bvtG0I85H5AJ82lVub6HTsT7Kk2-0ZOLW41eG4463m4,559
-sarracenia/examples/subscribe/dd_amis.conf,sha256=o2r87ZSsRQ_agJBu9B9Afn1jz7_BjHG2Gd50wNFCfmI,451
-sarracenia/examples/subscribe/dd_aqhi.conf,sha256=oexztj841p16YhSxPJ91lgZ1JrynYlr0myfWDFh_IxU,938
-sarracenia/examples/subscribe/dd_cacn_bulletins.conf,sha256=m4HEkAa7ogVC0mtdZNkSuZaKD8A8dgeI5X32NSbV6Jg,808
+sarracenia/examples/subscribe/dd_2mqtt.conf,sha256=rMLkCskE0KIzbsHcdY6ipNkIpcH6Z3PLdJO0ahStRJw,383
+sarracenia/examples/subscribe/dd_all.conf,sha256=M9YL29thodiWQDjuheysuDnwZ3uxm3tp9A6jmwa89hk,581
+sarracenia/examples/subscribe/dd_amis.conf,sha256=G0gsj_bt8Fui0yPbdt7DlIvtZHKpBVrGiktgaCHCpwQ,474
+sarracenia/examples/subscribe/dd_aqhi.conf,sha256=l5p8XI4E0PZleLwgfs5Db2zzDId9LY2jEfeUexV3KJE,962
+sarracenia/examples/subscribe/dd_cacn_bulletins.conf,sha256=N9doO17uYzdFVLQ-skuaS0X07vVc5oQgqExWz3zWP9Y,838
 sarracenia/examples/subscribe/dd_citypage.conf,sha256=gGlKLeSV7rlvEQcZHTOSPC0xPDrhCpKhtP65_gjNod8,1018
-sarracenia/examples/subscribe/dd_cmml.conf,sha256=gFvx5Qz2TgTeOVgZkbqS5tPHk7P-FTf_C3SKHvEm-TQ,1014
-sarracenia/examples/subscribe/dd_gdps.conf,sha256=4QzF5jMgf_kL-rk2af8NjxsvwztMoxVxcaCG8mhUk7w,1306
-sarracenia/examples/subscribe/dd_ping.conf,sha256=Bg8Q0QDrA_5a7B7G24fd7kybhBjuTXADWzNxhsQp87w,579
-sarracenia/examples/subscribe/dd_radar.conf,sha256=72WOWr5rgHrB2UjGvsY3xxMGEFeGFTegcJWkKuduIvM,946
-sarracenia/examples/subscribe/dd_rdps.conf,sha256=k3n-OADiR8c3Dpm7BK_vb7QelNg-n5A8EHx_6e84Wyw,1183
-sarracenia/examples/subscribe/dd_swob.conf,sha256=3el0MJXFI3wYf7Mr6IEi97P86MZOcq1ZLI8obBItRqY,977
+sarracenia/examples/subscribe/dd_cmml.conf,sha256=voCgWaIS1KPQQK6AKRv7ec-QZoXYCXsQBGewJ9NmbTU,1038
+sarracenia/examples/subscribe/dd_gdps.conf,sha256=144viJ_d8F6xDXhjQK4YjqPE_FPIlkMbrXagEtu7HB4,1329
+sarracenia/examples/subscribe/dd_ping.conf,sha256=GyiI5rjrfLMEH0kM3UzRqNNmtmnuwutQXt_JbsQvPog,602
+sarracenia/examples/subscribe/dd_radar.conf,sha256=aBnKGwqBXeDpsy6HBtItvU0NJ7_Vyiso9nOhKUTcW-4,971
+sarracenia/examples/subscribe/dd_rdps.conf,sha256=dVI7WaDAORo1-zaWSWbpjUFiRLSYaaLMn-cQi-SgvME,1205
+sarracenia/examples/subscribe/dd_swob.conf,sha256=u95Lg5IasNmPQAmSMgJ9SVmp4jBwr4Zzu_EBOT5wPYo,1000
 sarracenia/examples/subscribe/ddc_cap-xml.conf,sha256=jICOyu0V4mrxh-Lhw7XsrD_BYHOWtZzjmlBsaarxqkI,970
 sarracenia/examples/subscribe/ddc_normal.conf,sha256=MgJ-qcNTtQC0sU5Wvds8gli73pbhIIxE0E0Rg6mZxHU,1281
 sarracenia/examples/subscribe/downloademail.conf,sha256=KfiubSm-63UZ9HmNXQu4FhVdMoD4xjcJZfpXssmaqkE,1278
 sarracenia/examples/subscribe/ec_ninjo-a.conf,sha256=gy387RoFA4pm0zevErDuKmIg_UnwB8jUgBA2uLs_X4Q,3353
-sarracenia/examples/subscribe/hpfx_amis.conf,sha256=33JLOAIRvWeqUOrgONGGwcC11FrPLDPpcY4BNw7UGSg,448
+sarracenia/examples/subscribe/hpfx_amis.conf,sha256=zm_lokVPviq48dscPr1Y6EVNDyLE05lj9yRHbbcUfXI,453
 sarracenia/examples/subscribe/local_sub.conf,sha256=aIfuaZ6r9tiJPr7b83qBOQkRMQbStCRY67L30faHoGg,167
 sarracenia/examples/subscribe/pitcher_pull.conf,sha256=oUwHU4LmLeYBL_sGgqlk4QKYWKfHQhUPaa-u3-ZqmDA,793
 sarracenia/examples/subscribe/sci2ec.conf,sha256=OCvA--JLl0yq5S6jdvWmw7aW4jLSY21GxdOB4S6r7YE,816
 sarracenia/examples/subscribe/subnoaa.conf,sha256=yxd7MrqtWBxQIJw4In-sPRagi6GPhB0yGP6P04PkZTI,737
 sarracenia/examples/subscribe/subsoapshc.conf,sha256=oLvr8J_mz26SqD4TVbJ-nJ2v6ney2vC27D6DlTNMy3k,748
 sarracenia/examples/subscribe/subusgs.conf,sha256=mOhTZGbdnLIbDWiG__QZsczl7_QjaGtt0sViJGL4WZQ,733
 sarracenia/examples/watch/master.conf,sha256=n_6SRWZZ8Q5nGrQLHrZiPTpio8H0eVBTVbG_l8VIVj8,5285
 sarracenia/examples/watch/pitcher_client.conf,sha256=w0xpt0g9L55clZGd7QG2aSp89WFG6Bd8azssRW2YCrE,956
 sarracenia/examples/watch/pitcher_server.conf,sha256=bQGqj1DSGdQdJh6gTxUdxlJBp1qSxq47TLv1omU6SmU,1712
 sarracenia/examples/watch/sci2ec.conf,sha256=-X-U12P6RrBfns0oVCYdEeHTl5Tw_Onta-wvTs_6FjI,731
-sarracenia/flow/__init__.py,sha256=lSNa9HGMvTrw7I09lCnyY9ZnHuu9m9idOusrAdyr0_I,58620
-sarracenia/flow/poll.py,sha256=csHk5Vp_IiSnfldBIt6D3ex9sbNbpCXZLjEGOPUeSUY,16017
+sarracenia/flow/__init__.py,sha256=io_0WY41dD74Glm4Tti2H9Q0eObdaILPxczgV64Pke0,58024
+sarracenia/flow/poll.py,sha256=M0VXilyspkNVuk6LbRtdsxRK36UpdTTP7MsPw0GZhws,16433
 sarracenia/flow/post.py,sha256=-OEnjpTKJm3DfYWd0SXtvqkXSWYMSQPC_xoz-UE-i5U,796
 sarracenia/flow/report.py,sha256=p554uXQPfPrYt6U2rAuNR7wKnU_z55uoThPXRzqxSBk,482
 sarracenia/flow/sarra.py,sha256=mZmwFTSj8cY2PYh8lxCxAEOWkASbDh7jfzsD3i3PHrA,800
 sarracenia/flow/sender.py,sha256=fzvpVmX_r-GNVDSriJfVNT_ex65sX5lMEKB0rBWEuMA,698
 sarracenia/flow/shovel.py,sha256=es_AoXUIAxTu50pIWPMV-629yF2WkshxrrJ4vKO6-lo,432
 sarracenia/flow/subscribe.py,sha256=ra7yQ4cgpZhyIwm-_H91JpPNq8TUkLlIS8ZBvBVEW3s,821
 sarracenia/flow/watch.py,sha256=dAt8qBAXB2Mcq1FJ-z4p8GLO_wfAAytIDzTR9kdkVyg,832
 sarracenia/flow/winnow.py,sha256=pXFojg7sGdfAxj6aG48Ft9lu1iTsVsLHY23pA93XaBs,434
-sarracenia/flowcb/__init__.py,sha256=CvVJm5ppIt3F7m-bfgOihiro2K3FIsJogvXHrA_88V0,4964
+sarracenia/flowcb/__init__.py,sha256=o40JMC7xpz-uqEiJrefCgNa7Uv5RAAVp3fviM7roJOI,5020
+sarracenia/flowcb/gts2wis2.py,sha256=Idmrk5PAUXyKLGFkZF9rgiC9Pxp5cV3U8sGls7GuU_A,2645
 sarracenia/flowcb/line_log.py,sha256=hJ6_jg7xnLraDF3tYL1ksnJVudbc0Xzj-dpkJBNrmTc,946
 sarracenia/flowcb/line_mode.py,sha256=A_oEBc65iWE2FAEvZZ27-o2bwgKK7wv6U56ZouFoNKA,1603
 sarracenia/flowcb/log.py,sha256=aDIHtm1pNYklcZoqonvhSgbgHDHkJmZwFAVkNnJ2-4w,1134
 sarracenia/flowcb/mdelaylatest.py,sha256=Y0zRT3ASR0DN2q8VfkjEvM1R2Zka9czmXH4rak4wgwM,3222
 sarracenia/flowcb/nodupe.py,sha256=mAr1htgYiyZ8rbfKNDEbX1ec90xe1fyAk0sIQbDIPLk,13095
 sarracenia/flowcb/pclean.py,sha256=hrBokjQT_GDo9lQQBGWhIQ3s9nsDPfDS1RliDeS7y9Q,2952
 sarracenia/flowcb/retry.py,sha256=fRoAZlJnYoGYzaRt1YopPaNls3CZD675RPUcjVrI-8U,3035
 sarracenia/flowcb/sample.py,sha256=XTEfK-hxf8nO95rSR7_f2SSeZIlFDNrfGO404J51Buo,519
-sarracenia/flowcb/script.py,sha256=vlTE7hgjsdYDCGsKLmYdq661LG2G6msfuAr8mvO-keo,2904
+sarracenia/flowcb/script.py,sha256=S-1-AWlj8rNCTTs2qXD4xu-lTe4Hg4n3mrW5lYOrsM8,3555
 sarracenia/flowcb/shiftdir2baseurl.py,sha256=HbDYsgp-d9EfsU203MZZy-HxoqFYluRIUtgV1v1hKek,1194
-sarracenia/flowcb/v2wrapper.py,sha256=PJ-iOa337FzFQ4wddss7-t5jhfb7sRu3b1qPuUau2WE,15007
+sarracenia/flowcb/v2wrapper.py,sha256=jeQLiwr3-898A5g8rg6V4gsoTZ49B394zexDnzZMViM,15048
 sarracenia/flowcb/filter/__init__.py,sha256=BllU-ucCgOehBKYIPJsaYVsK61zRR6DUCBcZFITCgow,90
 sarracenia/flowcb/filter/deleteflowfiles.py,sha256=n8UuRcA3uUjWektlEDwK-P1dV8XypCznirBZkzmtMsA,838
 sarracenia/flowcb/filter/fdelay.py,sha256=FHrww59QYj6w9SAZDojTBUYxIuYF4sITcEQ6UjCuXrM,3482
 sarracenia/flowcb/filter/pclean_f90.py,sha256=mJutBuhNn3cmmPzz7TWyruBDgiLcdEDXqRNiR53YUjw,5359
 sarracenia/flowcb/filter/pclean_f92.py,sha256=s1er1frESMLzsse6TtbzomSCWUhvKO3TRGY5dP_HXGk,2711
-sarracenia/flowcb/gather/__init__.py,sha256=6gJJd3T0zH8DIZasgObQK41jdWsHmXwRDBJsh3hN2Ik,4681
+sarracenia/flowcb/gather/__init__.py,sha256=Dr8TZOQwg9kl0lWTpeH2GIKUwq3L4VuycZ8RsPXG6yk,4312
 sarracenia/flowcb/gather/file.py,sha256=_V7cxidHt5b7H8FC6pTweIhvQ5rXGls7mzbj_hD3l9o,25587
 sarracenia/flowcb/gather/message.py,sha256=Vnc02WgbCPoyS7rtdIh-IM7mkxNw40oproCho5KIiPM,1180
 sarracenia/flowcb/gather/remote.py,sha256=jCp165BiydbFlkHwJqu_GOYN8Fj2vi8vLYmCA599MQc,1956
 sarracenia/flowcb/post/__init__.py,sha256=GzSfnJ6AwHgTORkCflcJv1byyTcmEyVXPdQlNgTU3Mw,440
 sarracenia/flowcb/post/message.py,sha256=T3I2kTYPgX73TAxPS4s6R6_3PZODOfW2dW3W6l7esIc,1355
 sarracenia/flowcb/work/__init__.py,sha256=GzSfnJ6AwHgTORkCflcJv1byyTcmEyVXPdQlNgTU3Mw,440
 sarracenia/flowcb/work/rxpipe.py,sha256=tLErqu8ZNwYzeamOmqPwY9kSaX0TrhSC6bA2Enz-JsE,771
@@ -186,16 +187,16 @@
 sarracenia/plugins/pxSender_log.py,sha256=ke59jh_BLP_4tE8jchBpr5y8RWvyMQZ13lUs_oz1J3o,2153
 sarracenia/plugins/root_chown.py,sha256=eKji13aTd3agZm-9eDDjpVImTjK4GtXu9eu9oCp_9Kg,4635
 sarracenia/plugins/smc_download_cp.py,sha256=Y7aGUlNntFj-zMRngiAAcI4CS76_0oCDuhfRKwagjLM,1984
 sarracenia/plugins/trace_on_stop.py,sha256=rircF9EFvVeg4tln-ggQoy3WKS3P7pxAozJOwgMHVWg,890
 sarracenia/transfer/__init__.py,sha256=37xJ0OmL7gI0IYnQorpNv97bNtxFDvYaB-ZNRdrUTAc,12987
 sarracenia/transfer/file.py,sha256=BDasAiIZ7ny20qHpqZLLUnzvYk7AExSnLiSEmhXJgIk,19747
 sarracenia/transfer/ftp.py,sha256=aa5iz5qXDnIZQuGmOS-Yl9hAcR3Qj8JbVo8SUhE3Yio,15348
-sarracenia/transfer/https.py,sha256=M8Liiwj5nf3oW0IbEh56bXssPBW9ZZ-qiXIU9DRERKg,11677
+sarracenia/transfer/https.py,sha256=S2WVGTXbbFr3Wn8Q_KUadKWACWStjxs1M90522yIb6A,11667
 sarracenia/transfer/sftp.py,sha256=9DGBx7ihUNINR83hPN2vo5Dd870tcZWLpx9Q6SwsJB0,19046
-metpx_sr3-3.0.8.dist-info/AUTHORS.rst,sha256=WX7-C6uuJAOPAtN-XxsGpnjFB8v2G0M8ULuI0_xMY7s,1674
-metpx_sr3-3.0.8.dist-info/LICENSE.txt,sha256=gXf5dRMhNSbfLPYYTY_5hsZ1r7UU1OaKQEAQUhuIBkM,18092
-metpx_sr3-3.0.8.dist-info/METADATA,sha256=PkgP1BPaO3Vm3ESdXYABNGwQPI6oiF6Co14t-t3iKRo,71704
-metpx_sr3-3.0.8.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
-metpx_sr3-3.0.8.dist-info/entry_points.txt,sha256=asgIDGWa4o1JjnJfXwzOvprvw15_NVyZFI0eSV_jgcc,116
-metpx_sr3-3.0.8.dist-info/top_level.txt,sha256=QCjLYpJfseo015KKXn0EQJMxOtFPVVapF3ofcyKcm4M,11
-metpx_sr3-3.0.8.dist-info/RECORD,,
+metpx_sr3-3.0.9.dist-info/AUTHORS.rst,sha256=WX7-C6uuJAOPAtN-XxsGpnjFB8v2G0M8ULuI0_xMY7s,1674
+metpx_sr3-3.0.9.dist-info/LICENSE.txt,sha256=gXf5dRMhNSbfLPYYTY_5hsZ1r7UU1OaKQEAQUhuIBkM,18092
+metpx_sr3-3.0.9.dist-info/METADATA,sha256=c9fiFxvnLemNbJGs4n5muyGp_2-5r5RALVcKG9zkFVU,10346
+metpx_sr3-3.0.9.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
+metpx_sr3-3.0.9.dist-info/entry_points.txt,sha256=asgIDGWa4o1JjnJfXwzOvprvw15_NVyZFI0eSV_jgcc,116
+metpx_sr3-3.0.9.dist-info/top_level.txt,sha256=QCjLYpJfseo015KKXn0EQJMxOtFPVVapF3ofcyKcm4M,11
+metpx_sr3-3.0.9.dist-info/RECORD,,
```

