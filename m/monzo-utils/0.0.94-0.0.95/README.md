# Comparing `tmp/monzo_utils-0.0.94-py3-none-any.whl.zip` & `tmp/monzo_utils-0.0.95-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,42 +1,42 @@
-Zip file size: 38116 bytes, number of entries: 40
+Zip file size: 37884 bytes, number of entries: 40
 -rw-r--r--  2.0 unx        0 b- defN 23-Nov-10 22:36 monzo_utils/lib/__init__.py
 -rw-r--r--  2.0 unx     1419 b- defN 24-Jan-25 21:32 monzo_utils/lib/config.py
 -rw-r--r--  2.0 unx     7941 b- defN 24-Jan-25 21:32 monzo_utils/lib/db.py
 -rw-r--r--  2.0 unx     1870 b- defN 23-Nov-12 13:34 monzo_utils/lib/log.py
 -rw-r--r--  2.0 unx     9373 b- defN 24-Apr-25 17:47 monzo_utils/lib/monzo_api.py
--rw-r--r--  2.0 unx    29025 b- defN 24-May-09 18:44 monzo_utils/lib/monzo_payments.py
+-rw-r--r--  2.0 unx    29029 b- defN 24-May-16 17:10 monzo_utils/lib/monzo_payments.py
 -rw-r--r--  2.0 unx    19466 b- defN 24-Apr-25 17:47 monzo_utils/lib/monzo_sync.py
 -rw-r--r--  2.0 unx      238 b- defN 23-Nov-10 20:55 monzo_utils/lib/singleton.py
 -rw-r--r--  2.0 unx      108 b- defN 24-Jan-25 21:32 monzo_utils/lib/transactions_seen.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Nov-12 20:00 monzo_utils/lib/db_driver/__init__.py
 -rw-r--r--  2.0 unx     1579 b- defN 23-Nov-12 20:51 monzo_utils/lib/db_driver/mysql.py
 -rw-r--r--  2.0 unx     1259 b- defN 23-Nov-12 20:39 monzo_utils/lib/db_driver/sqlite.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Nov-10 22:36 monzo_utils/model/__init__.py
 -rw-r--r--  2.0 unx     2252 b- defN 24-Feb-01 22:37 monzo_utils/model/account.py
 -rw-r--r--  2.0 unx      465 b- defN 23-Nov-11 18:09 monzo_utils/model/amazon_payments.py
 -rw-r--r--  2.0 unx     5029 b- defN 24-Feb-01 22:37 monzo_utils/model/base.py
 -rw-r--r--  2.0 unx       85 b- defN 23-Nov-11 18:09 monzo_utils/model/card_payment.py
 -rw-r--r--  2.0 unx       87 b- defN 23-Nov-10 22:43 monzo_utils/model/counterparty.py
 -rw-r--r--  2.0 unx       85 b- defN 23-Nov-11 18:09 monzo_utils/model/direct_debit.py
 -rw-r--r--  2.0 unx     2780 b- defN 24-Feb-01 22:37 monzo_utils/model/finance.py
--rw-r--r--  2.0 unx     6011 b- defN 24-Jan-31 23:46 monzo_utils/model/flex.py
--rw-r--r--  2.0 unx     3020 b- defN 24-Feb-09 19:23 monzo_utils/model/flex_summary.py
+-rw-r--r--  2.0 unx     4176 b- defN 24-May-16 17:10 monzo_utils/model/flex.py
+-rw-r--r--  2.0 unx     2503 b- defN 24-May-16 17:10 monzo_utils/model/flex_summary.py
 -rw-r--r--  2.0 unx       83 b- defN 23-Nov-10 22:43 monzo_utils/model/merchant.py
 -rw-r--r--  2.0 unx       90 b- defN 23-Nov-10 22:43 monzo_utils/model/merchant_address.py
 -rw-r--r--  2.0 unx    16723 b- defN 24-May-10 17:02 monzo_utils/model/payment.py
 -rw-r--r--  2.0 unx       77 b- defN 23-Nov-10 22:43 monzo_utils/model/pot.py
 -rw-r--r--  2.0 unx      629 b- defN 23-Nov-10 22:43 monzo_utils/model/provider.py
 -rw-r--r--  2.0 unx      564 b- defN 24-Jan-25 21:32 monzo_utils/model/refund.py
 -rw-r--r--  2.0 unx       87 b- defN 23-Nov-11 18:09 monzo_utils/model/standing_order.py
 -rw-r--r--  2.0 unx      393 b- defN 23-Nov-12 20:42 monzo_utils/model/transaction.py
 -rw-r--r--  2.0 unx       94 b- defN 23-Nov-10 22:43 monzo_utils/model/transaction_metadata.py
--rwxr-xr-x  2.0 unx      897 b- defN 24-May-10 17:02 monzo_utils-0.0.94.data/scripts/monzo-payments
--rwxr-xr-x  2.0 unx    12970 b- defN 24-May-10 17:02 monzo_utils-0.0.94.data/scripts/monzo-search
--rwxr-xr-x  2.0 unx     3241 b- defN 24-May-10 17:02 monzo_utils-0.0.94.data/scripts/monzo-status
--rwxr-xr-x  2.0 unx      522 b- defN 24-May-10 17:02 monzo_utils-0.0.94.data/scripts/monzo-sync
--rw-r--r--  2.0 unx     1078 b- defN 24-May-10 17:02 monzo_utils-0.0.94.dist-info/LICENSE
--rw-r--r--  2.0 unx      431 b- defN 24-May-10 17:02 monzo_utils-0.0.94.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-May-10 17:02 monzo_utils-0.0.94.dist-info/WHEEL
--rw-r--r--  2.0 unx       61 b- defN 24-May-10 17:02 monzo_utils-0.0.94.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3492 b- defN 24-May-10 17:02 monzo_utils-0.0.94.dist-info/RECORD
-40 files, 133616 bytes uncompressed, 32454 bytes compressed:  75.7%
+-rwxr-xr-x  2.0 unx      897 b- defN 24-May-16 17:10 monzo_utils-0.0.95.data/scripts/monzo-payments
+-rwxr-xr-x  2.0 unx    12970 b- defN 24-May-16 17:10 monzo_utils-0.0.95.data/scripts/monzo-search
+-rwxr-xr-x  2.0 unx     3241 b- defN 24-May-16 17:10 monzo_utils-0.0.95.data/scripts/monzo-status
+-rwxr-xr-x  2.0 unx      522 b- defN 24-May-16 17:10 monzo_utils-0.0.95.data/scripts/monzo-sync
+-rw-r--r--  2.0 unx     1078 b- defN 24-May-16 17:10 monzo_utils-0.0.95.dist-info/LICENSE
+-rw-r--r--  2.0 unx      431 b- defN 24-May-16 17:10 monzo_utils-0.0.95.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-16 17:10 monzo_utils-0.0.95.dist-info/WHEEL
+-rw-r--r--  2.0 unx       61 b- defN 24-May-16 17:10 monzo_utils-0.0.95.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3492 b- defN 24-May-16 17:10 monzo_utils-0.0.95.dist-info/RECORD
+40 files, 131268 bytes uncompressed, 32222 bytes compressed:  75.5%
```

## zipnote {}

```diff
@@ -87,35 +87,35 @@
 
 Filename: monzo_utils/model/transaction.py
 Comment: 
 
 Filename: monzo_utils/model/transaction_metadata.py
 Comment: 
 
-Filename: monzo_utils-0.0.94.data/scripts/monzo-payments
+Filename: monzo_utils-0.0.95.data/scripts/monzo-payments
 Comment: 
 
-Filename: monzo_utils-0.0.94.data/scripts/monzo-search
+Filename: monzo_utils-0.0.95.data/scripts/monzo-search
 Comment: 
 
-Filename: monzo_utils-0.0.94.data/scripts/monzo-status
+Filename: monzo_utils-0.0.95.data/scripts/monzo-status
 Comment: 
 
-Filename: monzo_utils-0.0.94.data/scripts/monzo-sync
+Filename: monzo_utils-0.0.95.data/scripts/monzo-sync
 Comment: 
 
-Filename: monzo_utils-0.0.94.dist-info/LICENSE
+Filename: monzo_utils-0.0.95.dist-info/LICENSE
 Comment: 
 
-Filename: monzo_utils-0.0.94.dist-info/METADATA
+Filename: monzo_utils-0.0.95.dist-info/METADATA
 Comment: 
 
-Filename: monzo_utils-0.0.94.dist-info/WHEEL
+Filename: monzo_utils-0.0.95.dist-info/WHEEL
 Comment: 
 
-Filename: monzo_utils-0.0.94.dist-info/top_level.txt
+Filename: monzo_utils-0.0.95.dist-info/top_level.txt
 Comment: 
 
-Filename: monzo_utils-0.0.94.dist-info/RECORD
+Filename: monzo_utils-0.0.95.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## monzo_utils/lib/monzo_payments.py

```diff
@@ -333,15 +333,15 @@
             if self.json:
                 self.output.append(summary.data(self.abbreviate))
             else:
                 output.append(summary.display_output())
 
         for payment in payments:
             if summary:
-                payment.last_flex_payment = summary.last_payment
+                payment.cache['last_payment'] = summary.last_payment
 
             if payment.status in ['DUE','PAID']:
                 total_due_this_month += payment.display_amount * 100
 
             if payment.status == 'DUE':
                 due += payment.display_amount * 100
```

## monzo_utils/model/flex.py

```diff
@@ -2,112 +2,58 @@
 import math
 from monzo_utils.model.payment import Payment
 from monzo_utils.model.account import Account
 from monzo_utils.model.transaction import Transaction
 
 class Flex(Payment):
 
-    last_flex_payment = None
+    def __init__(self, config, account, payment_list_config, payment_config, last_salary_date, next_salary_date, following_salary_date):
+        payment_config['desc'] = 'Flex'
 
-    @property
-    def name(self):
-        return '- ' + self.payment_config['name']
+        super().__init__(config, account, payment_list_config, payment_config, last_salary_date, next_salary_date, following_salary_date)
 
 
     @property
-    def last_date(self):
-        if self.last_flex_payment:
-            if 'start_date' not in self.payment_config or self.last_flex_payment.date >= self.payment_config['start_date']:
-                return self.last_flex_payment.date
-
-        last_date = self.today + datetime.timedelta(days=1)
-
-        if 'start_date' in self.payment_config:
-            last_date = self.payment_config['start_date']
-        else:
-            last_date = datetime.date(last_date.year, last_date.month, last_date.day)
-
-        previous_last_date = None
-
-        for i in range(0, self.payment_config['months']):
-            while last_date.day != self.config['flex_payment_date']:
-                last_date += datetime.timedelta(days=1)
-
-            if last_date > datetime.date(self.today.year, self.today.month, self.today.day):
-                return previous_last_date
-
-            previous_last_date = last_date
-            last_date += datetime.timedelta(days=1)
-
-        return None
+    def name(self):
+        return '- ' + self.payment_config['name']
 
 
     @property
     def due_date(self):
         date_due = self.today + datetime.timedelta(days=1)
 
         if 'start_date' in self.payment_config:
             date_due = self.payment_config['start_date']
 
         for i in range(0, self.payment_config['months']):
             while date_due.day != self.config['flex_payment_date']:
                 date_due += datetime.timedelta(days=1)
 
             if datetime.date(date_due.year, date_due.month, date_due.day) > datetime.date(self.today.year, self.today.month, self.today.day):
-
-                if self.last_flex_payment and self.last_flex_payment.date.day != self.config['flex_payment_date'] and self.last_flex_payment.date >= self.payment_config['start_date']:
-                    date_due += datetime.timedelta(days=1)
-
-                    while date_due.day != self.config['flex_payment_date']:
-                        date_due += datetime.timedelta(days=1)
-
                 return datetime.date(date_due.year, date_due.month, date_due.day)
 
             date_due += datetime.timedelta(days=1)
 
         return None
 
 
     @property
-    def status(self):
-        if self.payment_config['start_date'] >= self.next_salary_date:
-            return 'SKIPPED'
-
-        if self.due_date >= self.next_salary_date:
-            return 'PAID'
-
-        return 'DUE'
-
-
-    @property
     def num_paid(self):
         date = self.payment_config['start_date']
         num_paid = 0
 
         for i in range(0, self.payment_config['months']):
             while date.day != self.config['flex_payment_date']:
                 date += datetime.timedelta(days=1)
 
             if date <= datetime.date(self.today.year, self.today.month, self.today.day):
                 num_paid += 1
 
             date += datetime.timedelta(days=1)
 
-        if self.last_flex_payment and self.last_flex_payment.date.day != self.config['flex_payment_date'] and self.last_flex_payment.date >= self.payment_config['start_date']:
-            date = self.last_salary_date
-
-            while date.day != self.config['flex_payment_date']:
-                date += datetime.timedelta(days=1)
-
-            today = datetime.datetime.now()
-            today = datetime.date(today.year, today.month, today.day)
-
-            if today < date:
-                num_paid += 1
-
         return num_paid
 
 
     @property
     def display_amount(self):
         date = self.payment_config['start_date']
```

## monzo_utils/model/flex_summary.py

```diff
@@ -5,60 +5,39 @@
 from monzo_utils.model.transaction import Transaction
 
 class FlexSummary(Payment):
 
     def __init__(self, config, account, total, total_next_month, remaining, last_salary_date, next_salary_date, following_salary_date):
         self.config = config
         self.account = account
-        self.payment_config = {}
+        self.payment_config = {
+            'name': 'Flex Summary',
+            'desc': 'Flex'
+        }
         self.flex_total = total
         self.flex_total_next_month = total_next_month
         self.flex_remaining = remaining
         self.last_salary_date = last_salary_date
         self.next_salary_date = next_salary_date
         self.following_salary_date = following_salary_date
 
         self.cache = {}
 
 
     @property
-    def status(self):
-        if self.last_payment and self.last_payment.date >= self.last_salary_date:
-            return 'PAID'
-
-        if self.display_amount == 0:
-            return 'SKIPPED'
-
-        return 'DUE'
-
-
-    @property
     def name(self):
         return 'Flex Payment'
 
 
     @property
     def display_amount(self):
         return self.flex_total
 
 
     @property
-    def last_date(self):
-        if self.last_payment:
-            return self.last_payment.date
-
-        last_date = datetime.datetime.now()
-
-        while last_date.day != self.config['flex_payment_date']:
-            last_date -= datetime.timedelta(days=1)
-
-        return datetime.date(last_date.year, last_date.month, last_date.day)
-
-
-    @property
     def due_date(self):
         if 'due_date' in self.cache:
             return self.cache['due_date']
 
         if self.last_payment:
             due_date = self.last_payment.date
```

## Comparing `monzo_utils-0.0.94.data/scripts/monzo-payments` & `monzo_utils-0.0.95.data/scripts/monzo-payments`

 * *Files identical despite different names*

## Comparing `monzo_utils-0.0.94.data/scripts/monzo-search` & `monzo_utils-0.0.95.data/scripts/monzo-search`

 * *Files identical despite different names*

## Comparing `monzo_utils-0.0.94.data/scripts/monzo-status` & `monzo_utils-0.0.95.data/scripts/monzo-status`

 * *Files identical despite different names*

## Comparing `monzo_utils-0.0.94.data/scripts/monzo-sync` & `monzo_utils-0.0.95.data/scripts/monzo-sync`

 * *Files identical despite different names*

## Comparing `monzo_utils-0.0.94.dist-info/LICENSE` & `monzo_utils-0.0.95.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `monzo_utils-0.0.94.dist-info/RECORD` & `monzo_utils-0.0.95.dist-info/RECORD`

 * *Files 9% similar despite different names*

```diff
@@ -1,40 +1,40 @@
 monzo_utils/lib/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 monzo_utils/lib/config.py,sha256=Z3dvghLfP770d4BXAqJLRsG4CoOSaTMXvnxspWxI--w,1419
 monzo_utils/lib/db.py,sha256=ukcMHbJNiD-wt9wgTEjL6eHJ4IjnPe5PMFJXEQioJB0,7941
 monzo_utils/lib/log.py,sha256=B_OuzpXbkjEoDniL-bR_pOBko0mzbp0s0Lr-Cz7-wv4,1870
 monzo_utils/lib/monzo_api.py,sha256=cpHH10b_OyKFl-6jRsn23lvDlPykunTJFUK9DWkM_5E,9373
-monzo_utils/lib/monzo_payments.py,sha256=kKzSZWjKFkqvvPFsOxiekrWQ2yacZTOLHWNOCM2A3QI,29025
+monzo_utils/lib/monzo_payments.py,sha256=pa0Vo5KFzs2CO2ddTct9eZPnpOtSarwRMFiXYVA1Atc,29029
 monzo_utils/lib/monzo_sync.py,sha256=2mlsj7KcoM33GoAdRiPY4xEp7BdLppbYZJGFwai01RM,19466
 monzo_utils/lib/singleton.py,sha256=d5M-H37o2cqgSBDg-RulXS3pvbVZ4I8SPIAXHPXWAog,238
 monzo_utils/lib/transactions_seen.py,sha256=4encbslk2jQ6fTML5ZGG1gjsZcLa2axrOAk7DWmabOo,108
 monzo_utils/lib/db_driver/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 monzo_utils/lib/db_driver/mysql.py,sha256=MAt-70pZ1bUNlOHIDmdp9M_jtRwr2UPIYGyunaFgK-4,1579
 monzo_utils/lib/db_driver/sqlite.py,sha256=nLkUzfWdsB50xGtgUn8nFGOFc3NRvt5IJ-g6HIvHYl0,1259
 monzo_utils/model/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 monzo_utils/model/account.py,sha256=T4XFrM09mqBNtYx_byxee9tmrEjWj2mCqFbK4v5KjZU,2252
 monzo_utils/model/amazon_payments.py,sha256=8A9ldkUNo1rgJ3wc1sKH-HIiqFo1dm7HYoJX9f_nsL0,465
 monzo_utils/model/base.py,sha256=J7nYqe8iOTCY3Os6-IOoP2n8flsbRbFhCqe3d7FMUNo,5029
 monzo_utils/model/card_payment.py,sha256=5d6NtgzAYsYEcbxf57JSV8mrsMgLi9cTLs-7gTjn31o,85
 monzo_utils/model/counterparty.py,sha256=wkPS0zdrLFQJidRS_Lb-kHsRHxEj3dTQVQkLKcogj94,87
 monzo_utils/model/direct_debit.py,sha256=HxIANG7vevsnElfWjI_jNVipq7FHGUAuN-AvABa5KZ0,85
 monzo_utils/model/finance.py,sha256=w00uANNthqqv7WSnQRmswkASC6ovpkBDZGKXXGY0ezk,2780
-monzo_utils/model/flex.py,sha256=Fq-Xx_jK-4FxLHzdaurmDg2w7ft90EYfheaA81Bw2hU,6011
-monzo_utils/model/flex_summary.py,sha256=1mop02ORc0qOXZj60-DXtJMxUpyue3jiJ4aw5RqRh1g,3020
+monzo_utils/model/flex.py,sha256=ynXRcmkL07Lv1-EOZxEo0MIO5MbD2HQeFPtqIDpYMCI,4176
+monzo_utils/model/flex_summary.py,sha256=jAJ5JFRa2RS-Zwea7MuSSZHqio2OcwpWRW94YEmApmo,2503
 monzo_utils/model/merchant.py,sha256=5dy7crGeDoAZwjkpH0-S_PgoTMuaNguhZSxzxVUBrPU,83
 monzo_utils/model/merchant_address.py,sha256=eHXxaGlySHSNYJbCXDIXtFjR80_71sXL70yi9ajkDkc,90
 monzo_utils/model/payment.py,sha256=VgPO2h38fe5tsx25Wc3E8wqJ8EvlPHe5nOb6wj5kiwY,16723
 monzo_utils/model/pot.py,sha256=WhEcFLU5qgUM2s1HHwmyhxCF2bRcHmYVrPBPLv1OZh0,77
 monzo_utils/model/provider.py,sha256=gkAIDnTUzt5ALHUDFlsujsjoXD97Yv2OuKei0trXft8,629
 monzo_utils/model/refund.py,sha256=UDKA53xNZAnBHN2Ai7m_bbz9MeURH2oTNvNo287CmXc,564
 monzo_utils/model/standing_order.py,sha256=2zi-BPPSHJc4zDTIcg_QmijlA32VXAmqz6RlJBFn00A,87
 monzo_utils/model/transaction.py,sha256=5KCNab4drcvqaT1O1Ib0c04iWyfJyU-cIC5134BLi1c,393
 monzo_utils/model/transaction_metadata.py,sha256=hKrkAcqXU3sVtFyHKobccXBZZeC4SzfyS2M-GO1gpng,94
-monzo_utils-0.0.94.data/scripts/monzo-payments,sha256=ZSZC8toG8r2ubsMVv8S6SSoVnD6jb-vagbIg8S7BWr8,897
-monzo_utils-0.0.94.data/scripts/monzo-search,sha256=UqPq8dGidlaiD3OVcCb4DfKz_VdxEmMyyHObcbLFh0g,12970
-monzo_utils-0.0.94.data/scripts/monzo-status,sha256=pFcZ9hO3XEt0wF3t5QRvYUIwWGNgjLQwsCMXn9su6po,3241
-monzo_utils-0.0.94.data/scripts/monzo-sync,sha256=Yw0jvMOy14Ise1a0mCtoRoxNTXaQXQuUMmfPWp71EXA,522
-monzo_utils-0.0.94.dist-info/LICENSE,sha256=A9Q6E-hg-RC_H80yiY1f7ct2EgHiUWT0sxTMLsLgLw0,1078
-monzo_utils-0.0.94.dist-info/METADATA,sha256=81q0zn896Yhgff19DN3SQJKYSNRbrixpIKxVgKijU1o,431
-monzo_utils-0.0.94.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-monzo_utils-0.0.94.dist-info/top_level.txt,sha256=lga6TdLpY3iEYbaxzzO1YSMDaEeYf6I6YiIrEmicgyQ,61
-monzo_utils-0.0.94.dist-info/RECORD,,
+monzo_utils-0.0.95.data/scripts/monzo-payments,sha256=ZSZC8toG8r2ubsMVv8S6SSoVnD6jb-vagbIg8S7BWr8,897
+monzo_utils-0.0.95.data/scripts/monzo-search,sha256=UqPq8dGidlaiD3OVcCb4DfKz_VdxEmMyyHObcbLFh0g,12970
+monzo_utils-0.0.95.data/scripts/monzo-status,sha256=pFcZ9hO3XEt0wF3t5QRvYUIwWGNgjLQwsCMXn9su6po,3241
+monzo_utils-0.0.95.data/scripts/monzo-sync,sha256=Yw0jvMOy14Ise1a0mCtoRoxNTXaQXQuUMmfPWp71EXA,522
+monzo_utils-0.0.95.dist-info/LICENSE,sha256=A9Q6E-hg-RC_H80yiY1f7ct2EgHiUWT0sxTMLsLgLw0,1078
+monzo_utils-0.0.95.dist-info/METADATA,sha256=HrWrXlzulLJ7W1z9GdaJL7P01nBcjLRUiyBo8gHsVT8,431
+monzo_utils-0.0.95.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+monzo_utils-0.0.95.dist-info/top_level.txt,sha256=lga6TdLpY3iEYbaxzzO1YSMDaEeYf6I6YiIrEmicgyQ,61
+monzo_utils-0.0.95.dist-info/RECORD,,
```

