# Comparing `tmp/rhythmidia-0.0.1.tar.gz` & `tmp/rhythmidia-0.0.2.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "rhythmidia-0.0.1.tar", last modified: Fri May 10 20:22:27 2024, max compression
+gzip compressed data, was "rhythmidia-0.0.2.tar", last modified: Thu May 16 21:43:59 2024, max compression
```

## Comparing `rhythmidia-0.0.1.tar` & `rhythmidia-0.0.2.tar`

### file list

```diff
@@ -1,31 +1,31 @@
-drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-10 20:22:27.369933 rhythmidia-0.0.1/
--rw-r--r--   0 akeeley    (504) staff       (20)     3552 2023-11-17 22:38:38.000000 rhythmidia-0.0.1/CODE_OF_CONDUCT.md
--rw-r--r--   0 akeeley    (504) staff       (20)     1069 2023-11-17 22:38:38.000000 rhythmidia-0.0.1/LICENSE
--rw-r--r--   0 akeeley    (504) staff       (20)       70 2023-11-17 22:38:38.000000 rhythmidia-0.0.1/MANIFEST.in
--rw-r--r--   0 akeeley    (504) staff       (20)     9309 2024-05-10 20:22:27.369844 rhythmidia-0.0.1/PKG-INFO
--rw-r--r--   0 akeeley    (504) staff       (20)     8577 2024-05-10 20:19:43.000000 rhythmidia-0.0.1/README.md
-drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-10 20:22:27.357638 rhythmidia-0.0.1/images/
-drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-10 20:22:27.366250 rhythmidia-0.0.1/images/icons/
--rw-r--r--   0 akeeley    (504) staff       (20)   297429 2024-05-10 20:19:43.000000 rhythmidia-0.0.1/images/icons/pelhamLogoSquare.jpg
--rw-r--r--   0 akeeley    (504) staff       (20)   106534 2024-05-10 20:19:43.000000 rhythmidia-0.0.1/images/icons/rhythmidiaLogoBannerText.jpg
--rw-r--r--   0 akeeley    (504) staff       (20)   885265 2024-05-10 20:19:43.000000 rhythmidia-0.0.1/images/icons/rhythmidiaLogoSquare.jpg
--rw-r--r--   0 akeeley    (504) staff       (20)     3488 2024-05-10 20:19:44.000000 rhythmidia-0.0.1/pyproject.toml
-drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-10 20:22:27.360251 rhythmidia-0.0.1/rhythmidia/
--rw-r--r--   0 akeeley    (504) staff       (20)      151 2024-05-10 20:19:44.000000 rhythmidia-0.0.1/rhythmidia/__init__.py
--rw-r--r--   0 akeeley    (504) staff       (20)       22 2024-05-10 20:22:27.000000 rhythmidia-0.0.1/rhythmidia/_version.py
--rw-r--r--   0 akeeley    (504) staff       (20)        0 2024-05-10 20:19:44.000000 rhythmidia-0.0.1/rhythmidia/parameters.txt
--rw-r--r--   0 akeeley    (504) staff       (20)       61 2023-11-17 22:38:38.000000 rhythmidia-0.0.1/rhythmidia/py.typed
--rw-r--r--   0 akeeley    (504) staff       (20)      152 2024-05-10 20:19:44.000000 rhythmidia-0.0.1/rhythmidia/rhythmidia.py
--rw-r--r--   0 akeeley    (504) staff       (20)   147925 2024-05-10 20:19:44.000000 rhythmidia-0.0.1/rhythmidia/rhythmidia_gui.py
-drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-10 20:22:27.369038 rhythmidia-0.0.1/rhythmidia/tests/
--rw-r--r--   0 akeeley    (504) staff       (20)      113 2023-11-17 22:38:38.000000 rhythmidia-0.0.1/rhythmidia/tests/__init__.py
--rw-r--r--   0 akeeley    (504) staff       (20)     6373 2024-05-10 20:19:44.000000 rhythmidia-0.0.1/rhythmidia/tests/test_rhythmidia.py
-drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-10 20:22:27.369339 rhythmidia-0.0.1/rhythmidia.egg-info/
--rw-r--r--   0 akeeley    (504) staff       (20)     9309 2024-05-10 20:22:27.000000 rhythmidia-0.0.1/rhythmidia.egg-info/PKG-INFO
--rw-r--r--   0 akeeley    (504) staff       (20)      679 2024-05-10 20:22:27.000000 rhythmidia-0.0.1/rhythmidia.egg-info/SOURCES.txt
--rw-r--r--   0 akeeley    (504) staff       (20)        1 2024-05-10 20:22:27.000000 rhythmidia-0.0.1/rhythmidia.egg-info/dependency_links.txt
--rw-r--r--   0 akeeley    (504) staff       (20)       57 2024-05-10 20:22:27.000000 rhythmidia-0.0.1/rhythmidia.egg-info/entry_points.txt
--rw-r--r--   0 akeeley    (504) staff       (20)        1 2023-11-17 23:02:20.000000 rhythmidia-0.0.1/rhythmidia.egg-info/not-zip-safe
--rw-r--r--   0 akeeley    (504) staff       (20)      157 2024-05-10 20:22:27.000000 rhythmidia-0.0.1/rhythmidia.egg-info/requires.txt
--rw-r--r--   0 akeeley    (504) staff       (20)       11 2024-05-10 20:22:27.000000 rhythmidia-0.0.1/rhythmidia.egg-info/top_level.txt
--rw-r--r--   0 akeeley    (504) staff       (20)      215 2024-05-10 20:22:27.370348 rhythmidia-0.0.1/setup.cfg
+drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-16 21:43:59.615331 rhythmidia-0.0.2/
+-rw-r--r--   0 akeeley    (504) staff       (20)     3552 2023-11-17 22:38:38.000000 rhythmidia-0.0.2/CODE_OF_CONDUCT.md
+-rw-r--r--   0 akeeley    (504) staff       (20)     1068 2024-05-13 17:38:39.000000 rhythmidia-0.0.2/LICENSE
+-rw-r--r--   0 akeeley    (504) staff       (20)       70 2023-11-17 22:38:38.000000 rhythmidia-0.0.2/MANIFEST.in
+-rw-r--r--   0 akeeley    (504) staff       (20)     8950 2024-05-16 21:43:59.615218 rhythmidia-0.0.2/PKG-INFO
+-rw-r--r--   0 akeeley    (504) staff       (20)     8218 2024-05-14 18:05:26.000000 rhythmidia-0.0.2/README.md
+drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-16 21:43:59.603116 rhythmidia-0.0.2/images/
+drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-16 21:43:59.610394 rhythmidia-0.0.2/images/icons/
+-rw-r--r--   0 akeeley    (504) staff       (20)   297429 2024-05-10 20:19:43.000000 rhythmidia-0.0.2/images/icons/pelhamLogoSquare.jpg
+-rw-r--r--   0 akeeley    (504) staff       (20)   106534 2024-05-10 20:19:43.000000 rhythmidia-0.0.2/images/icons/rhythmidiaLogoBannerText.jpg
+-rw-r--r--   0 akeeley    (504) staff       (20)   885265 2024-05-10 20:19:43.000000 rhythmidia-0.0.2/images/icons/rhythmidiaLogoSquare.jpg
+-rw-r--r--   0 akeeley    (504) staff       (20)     3488 2024-05-16 21:30:53.000000 rhythmidia-0.0.2/pyproject.toml
+drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-16 21:43:59.605763 rhythmidia-0.0.2/rhythmidia/
+-rw-r--r--   0 akeeley    (504) staff       (20)      151 2024-05-10 20:19:44.000000 rhythmidia-0.0.2/rhythmidia/__init__.py
+-rw-r--r--   0 akeeley    (504) staff       (20)       22 2024-05-16 21:43:59.000000 rhythmidia-0.0.2/rhythmidia/_version.py
+-rw-r--r--   0 akeeley    (504) staff       (20)        0 2024-05-10 20:19:44.000000 rhythmidia-0.0.2/rhythmidia/parameters.txt
+-rw-r--r--   0 akeeley    (504) staff       (20)       61 2023-11-17 22:38:38.000000 rhythmidia-0.0.2/rhythmidia/py.typed
+-rw-r--r--   0 akeeley    (504) staff       (20)      152 2024-05-10 20:19:44.000000 rhythmidia-0.0.2/rhythmidia/rhythmidia.py
+-rw-r--r--   0 akeeley    (504) staff       (20)   147917 2024-05-16 21:23:04.000000 rhythmidia-0.0.2/rhythmidia/rhythmidia_gui.py
+drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-16 21:43:59.612963 rhythmidia-0.0.2/rhythmidia/tests/
+-rw-r--r--   0 akeeley    (504) staff       (20)      113 2023-11-17 22:38:38.000000 rhythmidia-0.0.2/rhythmidia/tests/__init__.py
+-rw-r--r--   0 akeeley    (504) staff       (20)     6373 2024-05-10 20:19:44.000000 rhythmidia-0.0.2/rhythmidia/tests/test_rhythmidia.py
+drwxr-xr-x   0 akeeley    (504) staff       (20)        0 2024-05-16 21:43:59.614735 rhythmidia-0.0.2/rhythmidia.egg-info/
+-rw-r--r--   0 akeeley    (504) staff       (20)     8950 2024-05-16 21:43:59.000000 rhythmidia-0.0.2/rhythmidia.egg-info/PKG-INFO
+-rw-r--r--   0 akeeley    (504) staff       (20)      679 2024-05-16 21:43:59.000000 rhythmidia-0.0.2/rhythmidia.egg-info/SOURCES.txt
+-rw-r--r--   0 akeeley    (504) staff       (20)        1 2024-05-16 21:43:59.000000 rhythmidia-0.0.2/rhythmidia.egg-info/dependency_links.txt
+-rw-r--r--   0 akeeley    (504) staff       (20)       57 2024-05-16 21:43:59.000000 rhythmidia-0.0.2/rhythmidia.egg-info/entry_points.txt
+-rw-r--r--   0 akeeley    (504) staff       (20)        1 2023-11-17 23:02:20.000000 rhythmidia-0.0.2/rhythmidia.egg-info/not-zip-safe
+-rw-r--r--   0 akeeley    (504) staff       (20)      157 2024-05-16 21:43:59.000000 rhythmidia-0.0.2/rhythmidia.egg-info/requires.txt
+-rw-r--r--   0 akeeley    (504) staff       (20)       11 2024-05-16 21:43:59.000000 rhythmidia-0.0.2/rhythmidia.egg-info/top_level.txt
+-rw-r--r--   0 akeeley    (504) staff       (20)      215 2024-05-16 21:43:59.615639 rhythmidia-0.0.2/setup.cfg
```

### Comparing `rhythmidia-0.0.1/CODE_OF_CONDUCT.md` & `rhythmidia-0.0.2/CODE_OF_CONDUCT.md`

 * *Files identical despite different names*

### Comparing `rhythmidia-0.0.1/PKG-INFO` & `rhythmidia-0.0.2/PKG-INFO`

 * *Files 7% similar despite different names*

```diff
@@ -1,16 +1,16 @@
 Metadata-Version: 2.1
 Name: rhythmidia
-Version: 0.0.1
+Version: 0.0.2
 Summary: Race tube image analysis and period elucidation in Python.
 Author-email: Alex Keeley <alex.k@wustl.edu>
 License: MIT
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Programming Language :: Python :: 3
-Requires-Python: >=3.10
+Requires-Python: >=3.11
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: importlib-resources; python_version >= "3.11"
 Requires-Dist: numpy
 Requires-Dist: matplotlib
 Requires-Dist: scipy
 Requires-Dist: pyautogui
@@ -22,31 +22,20 @@
 Requires-Dist: pytest>=6.1.2; extra == "test"
 Requires-Dist: pytest-runner; extra == "test"
 
 <img src="images/icons/rhythmidiaLogoBanner.jpg" width=50% margin-left=25%></img>
 
 Rhythmidia
 ---
-<!--[//]: # (Badges)
-[![GitHub Actions Build Status](https://github.com/REPLACE_WITH_OWNER_ACCOUNT/rhythmidia/workflows/CI/badge.svg)](https://github.com/REPLACE_WITH_OWNER_ACCOUNT/rhythmidia/actions?query=workflow%3ACI)
-[![codecov](https://codecov.io/gh/REPLACE_WITH_OWNER_ACCOUNT/Rhythmidia/branch/main/graph/badge.svg)](https://codecov.io/gh/REPLACE_WITH_OWNER_ACCOUNT/Rhythmidia/branch/main)-->
-
 ### Race tube image analysis for circadian period elucidation in Python.
 ---
 ## Installation and Program Launch
-<!--1. Download the rhythmidia-main.zip file and move it to your Documents folder (or location of choice)
-2. Unzip rhythmidia-main.zip
-    <br />a. This will create the folder rhythmidia-main
-3. Open the Terminal application on Mac
-4. Navigate to the rhythmidia-main folder in Terminal
-5. Run the command pip install .
-6. To run Rhythmidia, run the command -->
-1. In a conda environment running Python >=3.11, run the command 
+1. Rhythmidia must be installed in a Python environment running Python 3.11 or higher using pip. Rhythmidia runs on Unix-like operating systems including macOS and Linux. In order to install Rhythmidia, simply run the command: 
 ```console
-pip install git+https://github.com/Pelham-Lab/rhythmidia.git
+pip install rhythmidia
 ```
 2. To run Rhythmidia run the command 
 ```console
 rhythmidia
 ```
 <br />  NOTE: The terminal window used to launch Rhythmidia must remain open while the program is in use.
 
@@ -76,30 +65,32 @@
     a. Your image will appear in the center of the screen<br />
     ![Image Analysis](images/screenshots/ImageAnal1.png)
     b. Uploading an image enables the options to rotate and to lock & analyze your image<br />
     ![Image Adjustment Buttons](images/screenshots/ImageChangeButtons.png)
 3. Rotate your image so that the growth direction of the tubes is from left to right across your screen<br />
     a. To rotate your image 90 degrees clockwise, click the button labeled “Rotate”<br />
 4. When you are satisfied with your image’s orientation, click the button labeled “Lock & Analyze Image”
-5. Rhythmidia will try to identify horizontal lines corresponding to the horizontal boundaries of the tubes in your image, including the lower and upper bounds below and above the final and first tubes.
-    a. One line between each two tubes.
+5. Rhythmidia will try to identify horizontal lines corresponding to the horizontal boundaries of the tubes in your image, including the lower and upper bounds below and above the final and first tubes
+    a. One line between each two tubes
 ![Horizontal Line Identification](images/screenshots/ImageAnal2.png)
 6. You will be directed to verify these lines:<br />
     a. To remove an incorrect line, simply click on the line<br />
     b. To add a missing line, simply click in an unoccupied position on the image<br />
 7. When you are satisfied with the positions of all tube demarcation lines, click the button labeled “Proceed”
 8. Repeat steps 6-8 for time marks (red) and for bands (orange)<br />
 ![Time Mark Identification](images/screenshots/ImageAnal3.png)
-![Banding Identification](images/screenshots/ImageAnal5.png)
+![Banding Identification](images/screenshots/ImageAnal4.png)
+![Time Marks and Banding Identification](images/screenshots/ImageAnal5.png)
     NOTE: At any time before saving tubes to the file, you may click the button labeled “Cancel image analysis”, which will reset the image analysis process and remove your uploaded image, while leaving open any open experiment file<br />
-    NOTE: Be certain to record any differences in marking times in the mark sheet (left) before proceeding further. If tubes were marked at the same time every day, leave as the default setting (0 for all).<br />
-    NOTE: The time marks will temporarily disappear while marking conidial peaks. 
-10. After you are satisfied with the positions of the bands and click “Proceed”, you will be able to see a preliminary calculation of the period of each tube below
+    NOTE: Be certain to record any differences in marking times in the mark sheet (left) before proceeding further. If tubes were marked at the same time every day, leave as the default setting (0 for all)<br />
+    NOTE: The time marks will temporarily disappear while marking conidial peaks.
+9. After you are satisfied with the positions of the bands and click “Proceed”, you will be able to see a preliminary calculation of the period of each tube below<br />
+    NOTE: if there is an issue at this stage (i.e. a missed or duplicated identifier) cancel image analysis and reload the image
 ![Preliminary Data](images/screenshots/ImageAnal6.png)
-11. You will now have the option to click the button labeled “Save Tubes to File”<br />
+10. You will now have the option to click the button labeled “Save Tubes to File”<br />
     a.  This will bring up a popup asking for a name for the pack of tubes in the current image before it saves them to file<br />
     ![Pack Name Prompt](images/screenshots/PackName.png)
     <br />b. If you are working within an existing experiment file, this will simply add this pack to the file and update it<br />
     c. Otherwise, you will be prompted to Save As a new experiment file for these tubes<br />
 
 ## The Experiment Tab
 1. Whether opening an existing experiment file or working from a new pack image, granular experiment data, plots, and statistical analysis data are located on the Experiment tab
@@ -120,28 +111,29 @@
 ![Lomb-Scargle Periodogram](images/screenshots/LombScarglePlot.png)
 ![CWT Heatmap](images/screenshots/WaveletPlot.png)
     a. Select pack, tube, and type of periodogram in the 3 lists<br />
     b. Click the button labeled “Plot” to generate a densitometry plot and periodogram of the selected data<br />
     c. Click the button labeled “Save Plot” to save an image of the dual plot in file format of choice<br />
     d. Click the button labeled “Save Densitometry” to save a .csv of the densitometry data<br />
     e. Click the button labeled “Save Periodogrammetry” to save a .csv of the periodogrammetry data<br />
-5. At the bottom left is a button labeled "Display Pack Image". This button will display a popup window containing the greyscale version of the image corresponding to whichever pack is selected in the bottom left list that was the exact image used for analysis.
+5. At the bottom left is a button labeled "Display Pack Image"
+    a. This button will display a popup window containing the greyscale version of the image corresponding to whichever pack is selected in the bottom left list that was the exact image used for analysis<br />
 ![Image Popup](images/screenshots/PackImagePopup.png)
 
 ## Functions Overview
 Open Experiment File      (⌘O)<br />
 Close Experiment File     (⌘C)<br />
 Save File                 (⌘S)<br />
 Save as…                 (↑⌘S)<br />
 Set working directory     (⌘D)<br />
 Open graphics preferences (⌘P)<br />
 
 ---
 ## Changelog
-V0.01: 
+V0.0.1: First public, stable release concurrent with upload to PyPI.
 
 
 ---
 
 ### Copyright
 
 Copyright (c) 2024, Pelham Lab - Washington University School of Medicine
```

### Comparing `rhythmidia-0.0.1/README.md` & `rhythmidia-0.0.2/rhythmidia.egg-info/PKG-INFO`

 * *Files 8% similar despite different names*

```diff
@@ -1,28 +1,41 @@
+Metadata-Version: 2.1
+Name: rhythmidia
+Version: 0.0.2
+Summary: Race tube image analysis and period elucidation in Python.
+Author-email: Alex Keeley <alex.k@wustl.edu>
+License: MIT
+Classifier: License :: OSI Approved :: MIT License
+Classifier: Programming Language :: Python :: 3
+Requires-Python: >=3.11
+Description-Content-Type: text/markdown
+License-File: LICENSE
+Requires-Dist: importlib-resources; python_version >= "3.11"
+Requires-Dist: numpy
+Requires-Dist: matplotlib
+Requires-Dist: scipy
+Requires-Dist: pyautogui
+Requires-Dist: scikit-image
+Requires-Dist: guizero
+Requires-Dist: pytest
+Requires-Dist: PyWavelets
+Provides-Extra: test
+Requires-Dist: pytest>=6.1.2; extra == "test"
+Requires-Dist: pytest-runner; extra == "test"
+
 <img src="images/icons/rhythmidiaLogoBanner.jpg" width=50% margin-left=25%></img>
 
 Rhythmidia
 ---
-<!--[//]: # (Badges)
-[![GitHub Actions Build Status](https://github.com/REPLACE_WITH_OWNER_ACCOUNT/rhythmidia/workflows/CI/badge.svg)](https://github.com/REPLACE_WITH_OWNER_ACCOUNT/rhythmidia/actions?query=workflow%3ACI)
-[![codecov](https://codecov.io/gh/REPLACE_WITH_OWNER_ACCOUNT/Rhythmidia/branch/main/graph/badge.svg)](https://codecov.io/gh/REPLACE_WITH_OWNER_ACCOUNT/Rhythmidia/branch/main)-->
-
 ### Race tube image analysis for circadian period elucidation in Python.
 ---
 ## Installation and Program Launch
-<!--1. Download the rhythmidia-main.zip file and move it to your Documents folder (or location of choice)
-2. Unzip rhythmidia-main.zip
-    <br />a. This will create the folder rhythmidia-main
-3. Open the Terminal application on Mac
-4. Navigate to the rhythmidia-main folder in Terminal
-5. Run the command pip install .
-6. To run Rhythmidia, run the command -->
-1. In a conda environment running Python >=3.11, run the command 
+1. Rhythmidia must be installed in a Python environment running Python 3.11 or higher using pip. Rhythmidia runs on Unix-like operating systems including macOS and Linux. In order to install Rhythmidia, simply run the command: 
 ```console
-pip install git+https://github.com/Pelham-Lab/rhythmidia.git
+pip install rhythmidia
 ```
 2. To run Rhythmidia run the command 
 ```console
 rhythmidia
 ```
 <br />  NOTE: The terminal window used to launch Rhythmidia must remain open while the program is in use.
 
@@ -52,30 +65,32 @@
     a. Your image will appear in the center of the screen<br />
     ![Image Analysis](images/screenshots/ImageAnal1.png)
     b. Uploading an image enables the options to rotate and to lock & analyze your image<br />
     ![Image Adjustment Buttons](images/screenshots/ImageChangeButtons.png)
 3. Rotate your image so that the growth direction of the tubes is from left to right across your screen<br />
     a. To rotate your image 90 degrees clockwise, click the button labeled “Rotate”<br />
 4. When you are satisfied with your image’s orientation, click the button labeled “Lock & Analyze Image”
-5. Rhythmidia will try to identify horizontal lines corresponding to the horizontal boundaries of the tubes in your image, including the lower and upper bounds below and above the final and first tubes.
-    a. One line between each two tubes.
+5. Rhythmidia will try to identify horizontal lines corresponding to the horizontal boundaries of the tubes in your image, including the lower and upper bounds below and above the final and first tubes
+    a. One line between each two tubes
 ![Horizontal Line Identification](images/screenshots/ImageAnal2.png)
 6. You will be directed to verify these lines:<br />
     a. To remove an incorrect line, simply click on the line<br />
     b. To add a missing line, simply click in an unoccupied position on the image<br />
 7. When you are satisfied with the positions of all tube demarcation lines, click the button labeled “Proceed”
 8. Repeat steps 6-8 for time marks (red) and for bands (orange)<br />
 ![Time Mark Identification](images/screenshots/ImageAnal3.png)
-![Banding Identification](images/screenshots/ImageAnal5.png)
+![Banding Identification](images/screenshots/ImageAnal4.png)
+![Time Marks and Banding Identification](images/screenshots/ImageAnal5.png)
     NOTE: At any time before saving tubes to the file, you may click the button labeled “Cancel image analysis”, which will reset the image analysis process and remove your uploaded image, while leaving open any open experiment file<br />
-    NOTE: Be certain to record any differences in marking times in the mark sheet (left) before proceeding further. If tubes were marked at the same time every day, leave as the default setting (0 for all).<br />
-    NOTE: The time marks will temporarily disappear while marking conidial peaks. 
-10. After you are satisfied with the positions of the bands and click “Proceed”, you will be able to see a preliminary calculation of the period of each tube below
+    NOTE: Be certain to record any differences in marking times in the mark sheet (left) before proceeding further. If tubes were marked at the same time every day, leave as the default setting (0 for all)<br />
+    NOTE: The time marks will temporarily disappear while marking conidial peaks.
+9. After you are satisfied with the positions of the bands and click “Proceed”, you will be able to see a preliminary calculation of the period of each tube below<br />
+    NOTE: if there is an issue at this stage (i.e. a missed or duplicated identifier) cancel image analysis and reload the image
 ![Preliminary Data](images/screenshots/ImageAnal6.png)
-11. You will now have the option to click the button labeled “Save Tubes to File”<br />
+10. You will now have the option to click the button labeled “Save Tubes to File”<br />
     a.  This will bring up a popup asking for a name for the pack of tubes in the current image before it saves them to file<br />
     ![Pack Name Prompt](images/screenshots/PackName.png)
     <br />b. If you are working within an existing experiment file, this will simply add this pack to the file and update it<br />
     c. Otherwise, you will be prompted to Save As a new experiment file for these tubes<br />
 
 ## The Experiment Tab
 1. Whether opening an existing experiment file or working from a new pack image, granular experiment data, plots, and statistical analysis data are located on the Experiment tab
@@ -96,28 +111,29 @@
 ![Lomb-Scargle Periodogram](images/screenshots/LombScarglePlot.png)
 ![CWT Heatmap](images/screenshots/WaveletPlot.png)
     a. Select pack, tube, and type of periodogram in the 3 lists<br />
     b. Click the button labeled “Plot” to generate a densitometry plot and periodogram of the selected data<br />
     c. Click the button labeled “Save Plot” to save an image of the dual plot in file format of choice<br />
     d. Click the button labeled “Save Densitometry” to save a .csv of the densitometry data<br />
     e. Click the button labeled “Save Periodogrammetry” to save a .csv of the periodogrammetry data<br />
-5. At the bottom left is a button labeled "Display Pack Image". This button will display a popup window containing the greyscale version of the image corresponding to whichever pack is selected in the bottom left list that was the exact image used for analysis.
+5. At the bottom left is a button labeled "Display Pack Image"
+    a. This button will display a popup window containing the greyscale version of the image corresponding to whichever pack is selected in the bottom left list that was the exact image used for analysis<br />
 ![Image Popup](images/screenshots/PackImagePopup.png)
 
 ## Functions Overview
 Open Experiment File      (⌘O)<br />
 Close Experiment File     (⌘C)<br />
 Save File                 (⌘S)<br />
 Save as…                 (↑⌘S)<br />
 Set working directory     (⌘D)<br />
 Open graphics preferences (⌘P)<br />
 
 ---
 ## Changelog
-V0.01: 
+V0.0.1: First public, stable release concurrent with upload to PyPI.
 
 
 ---
 
 ### Copyright
 
 Copyright (c) 2024, Pelham Lab - Washington University School of Medicine
```

### Comparing `rhythmidia-0.0.1/images/icons/pelhamLogoSquare.jpg` & `rhythmidia-0.0.2/images/icons/pelhamLogoSquare.jpg`

 * *Files identical despite different names*

### Comparing `rhythmidia-0.0.1/images/icons/rhythmidiaLogoBannerText.jpg` & `rhythmidia-0.0.2/images/icons/rhythmidiaLogoBannerText.jpg`

 * *Files identical despite different names*

### Comparing `rhythmidia-0.0.1/images/icons/rhythmidiaLogoSquare.jpg` & `rhythmidia-0.0.2/images/icons/rhythmidiaLogoSquare.jpg`

 * *Files identical despite different names*

### Comparing `rhythmidia-0.0.1/pyproject.toml` & `rhythmidia-0.0.2/pyproject.toml`

 * *Files 2% similar despite different names*

```diff
@@ -14,15 +14,15 @@
 ]
 license = { text = "MIT" }
 # See https://pypi.org/classifiers/
 classifiers = [
     "License :: OSI Approved :: MIT License",
     "Programming Language :: Python :: 3",
 ]
-requires-python = ">=3.10"
+requires-python = ">=3.11"
 # Declare any run-time dependencies that should be installed with the package.
 dependencies = [
     "importlib-resources;python_version>='3.11'",
     "numpy",
     "matplotlib",
     "scipy",
     "pyautogui",
@@ -30,15 +30,15 @@
     "guizero",
     "pytest",
     "PyWavelets"
 ]
 
 # Update the urls once the hosting is set up.
 #[project.urls]
-#"Source" = "https://github.com/<username>/rhythmidia/"
+#"Source" = "https://github.com/Pelham-Lab/rhythmidia/"
 #"Documentation" = "https://rhythmidia.readthedocs.io/"
 
 [project.optional-dependencies]
 test = [
   "pytest>=6.1.2",
   "pytest-runner"
 ]
```

### Comparing `rhythmidia-0.0.1/rhythmidia/rhythmidia_gui.py` & `rhythmidia-0.0.2/rhythmidia/rhythmidia_gui.py`

 * *Files 0% similar despite different names*

```diff
@@ -232,9015 +232,9014 @@
 00000e70: 6e65 3d22 222c 206d 6f64 653d 2277 2229  ne="", mode="w")
 00000e80: 2061 7320 7061 7261 6d65 7465 7273 4669   as parametersFi
 00000e90: 6c65 3a20 2023 204f 7065 6e20 7061 7261  le:  # Open para
 00000ea0: 6d65 7465 7273 2e74 7874 2066 696c 650a  meters.txt file.
 00000eb0: 2020 2020 2020 2020 7772 6974 6572 203d          writer =
 00000ec0: 2063 7376 2e77 7269 7465 7228 7061 7261   csv.writer(para
 00000ed0: 6d65 7465 7273 4669 6c65 2c20 6465 6c69  metersFile, deli
-00000ee0: 6d69 7465 723d 223d 222c 2065 6e63 6f64  miter="=", encod
-00000ef0: 696e 673d 2775 7466 2d31 3627 2920 2023  ing='utf-16')  #
-00000f00: 2044 6566 696e 6520 6373 7620 7772 6974   Define csv writ
-00000f10: 6572 0a20 2020 2020 2020 2066 6f72 206b  er.        for k
-00000f20: 6579 2069 6e20 6170 7050 6172 616d 6574  ey in appParamet
-00000f30: 6572 733a 2020 2320 466f 7220 6561 6368  ers:  # For each
-00000f40: 206b 6579 2069 6e20 7061 7261 6d65 7465   key in paramete
-00000f50: 7273 2064 6963 7469 6f6e 6172 790a 2020  rs dictionary.  
-00000f60: 2020 2020 2020 2020 2020 7772 6974 6572            writer
-00000f70: 2e77 7269 7465 726f 7728 5b6b 6579 2c20  .writerow([key, 
-00000f80: 6170 7050 6172 616d 6574 6572 735b 6b65  appParameters[ke
-00000f90: 795d 5d29 2020 2320 5772 6974 6520 6173  y]])  # Write as
-00000fa0: 2061 206c 696e 6520 6f66 2070 6172 616d   a line of param
-00000fb0: 6574 6572 732e 7478 740a 0a0a 6465 6620  eters.txt...def 
-00000fc0: 6f70 656e 4578 7065 7269 6d65 6e74 4669  openExperimentFi
-00000fd0: 6c65 2873 7065 6369 6679 4669 6c65 3d4e  le(specifyFile=N
-00000fe0: 6f6e 652c 2072 656f 7065 6e3d 4661 6c73  one, reopen=Fals
-00000ff0: 6529 3a0a 2020 2020 2222 224f 7065 6e20  e):.    """Open 
-00001000: 616e 2065 7869 7374 696e 6720 6578 7065  an existing expe
-00001010: 7269 6d65 6e74 2066 696c 6520 636f 6e74  riment file cont
-00001020: 6169 6e69 6e67 2064 6174 6120 6672 6f6d  aining data from
-00001030: 2070 6173 7420 696d 6167 6573 2f74 7562   past images/tub
-00001040: 6573 2e20 506f 7075 6c61 7465 2061 7070  es. Populate app
-00001050: 726f 7072 6961 7465 2076 6172 6961 626c  ropriate variabl
-00001060: 6573 2c20 696e 636c 7564 696e 6720 7475  es, including tu
-00001070: 6265 734d 6173 7465 722c 2077 6974 6820  besMaster, with 
-00001080: 7265 6c65 7661 6e74 2069 6e66 6f72 6d61  relevant informa
-00001090: 7469 6f6e 2e22 2222 0a20 2020 2067 6c6f  tion.""".    glo
-000010a0: 6261 6c20 6f70 656e 4669 6c65 0a20 2020  bal openFile.   
-000010b0: 2067 6c6f 6261 6c20 776f 726b 696e 6744   global workingD
-000010c0: 6972 0a20 2020 2067 6c6f 6261 6c20 7475  ir.    global tu
-000010d0: 6265 734d 6173 7465 720a 0a20 2020 2063  besMaster..    c
-000010e0: 616e 6365 6c49 6d61 6765 416e 616c 7973  ancelImageAnalys
-000010f0: 6973 2829 2020 2320 5a65 726f 206f 7574  is()  # Zero out
-00001100: 2061 6e79 2065 7869 7374 696e 6720 696e   any existing in
-00001110: 666f 726d 6174 696f 6e20 6672 6f6d 2061  formation from a
-00001120: 2064 6966 6665 7265 6e74 206f 7065 6e20   different open 
-00001130: 6669 6c65 206f 7220 6120 6e65 776c 7920  file or a newly 
-00001140: 616e 616c 797a 6564 2072 6163 6520 7475  analyzed race tu
-00001150: 6265 2069 6d61 6765 0a20 2020 2074 7562  be image.    tub
-00001160: 6573 4d61 7374 6572 203d 205b 5d20 2023  esMaster = []  #
-00001170: 2042 6c61 6e6b 206f 7574 2067 6c6f 6261   Blank out globa
-00001180: 6c20 6d61 7374 6572 2074 7562 6520 6c69  l master tube li
-00001190: 7374 2069 6e20 7072 6570 6172 6174 696f  st in preparatio
-000011a0: 6e20 666f 7220 706f 7075 6c61 7469 6f6e  n for population
-000011b0: 2066 726f 6d20 6f70 656e 6564 2066 696c   from opened fil
-000011c0: 650a 2020 2020 2345 6e73 7572 6520 7468  e.    #Ensure th
-000011d0: 6572 6520 6973 2061 2066 696c 6520 746f  ere is a file to
-000011e0: 206f 7065 6e0a 2020 2020 6669 6c65 546f   open.    fileTo
-000011f0: 4f70 656e 203d 2022 220a 2020 2020 6966  Open = "".    if
-00001200: 2073 7065 6369 6679 4669 6c65 2069 7320   specifyFile is 
-00001210: 4e6f 6e65 3a0a 2020 2020 2020 2020 6669  None:.        fi
-00001220: 6c65 546f 4f70 656e 203d 206f 7065 6e46  leToOpen = openF
-00001230: 696c 650a 2020 2020 656c 7365 3a0a 2020  ile.    else:.  
-00001240: 2020 2020 2020 6669 6c65 546f 4f70 656e        fileToOpen
-00001250: 203d 2073 7065 6369 6679 4669 6c65 0a20   = specifyFile. 
-00001260: 2020 2069 6620 6669 6c65 546f 4f70 656e     if fileToOpen
-00001270: 203d 3d20 2222 206f 7220 7265 6f70 656e   == "" or reopen
-00001280: 2069 7320 4661 6c73 653a 2020 2320 4966   is False:  # If
-00001290: 206e 6f20 6669 6c65 2069 7320 6375 7272   no file is curr
-000012a0: 656e 746c 7920 6f70 656e 206f 7220 6966  ently open or if
-000012b0: 2066 696c 6520 6e61 6d65 2069 7320 7370   file name is sp
-000012c0: 6563 6966 6965 6420 6265 6361 7573 6520  ecified because 
-000012d0: 6974 2069 7320 6265 696e 6720 7265 6f70  it is being reop
-000012e0: 656e 6564 2061 6674 6572 2073 6176 696e  ened after savin
-000012f0: 670a 2020 2020 2020 2020 6669 6c65 546f  g.        fileTo
-00001300: 4f70 656e 203d 2061 7070 2e73 656c 6563  Open = app.selec
-00001310: 745f 6669 6c65 280a 2020 2020 2020 2020  t_file(.        
-00001320: 2020 2020 7469 746c 653d 2253 656c 6563      title="Selec
-00001330: 7420 6578 7065 7269 6d65 6e74 2066 696c  t experiment fil
-00001340: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-00001350: 666f 6c64 6572 3d77 6f72 6b69 6e67 4469  folder=workingDi
-00001360: 722c 0a20 2020 2020 2020 2020 2020 2066  r,.            f
-00001370: 696c 6574 7970 6573 3d5b 5b22 5268 7974  iletypes=[["Rhyt
-00001380: 686d 6964 6961 2045 7870 6572 696d 656e  hmidia Experimen
-00001390: 7422 2c20 222a 2e72 6d65 7822 5d5d 2c0a  t", "*.rmex"]],.
-000013a0: 2020 2020 2020 2020 2020 2020 7361 7665              save
-000013b0: 3d46 616c 7365 2c0a 2020 2020 2020 2020  =False,.        
-000013c0: 2020 2020 6669 6c65 6e61 6d65 3d22 222c      filename="",
-000013d0: 0a20 2020 2020 2020 2029 2020 2320 5072  .        )  # Pr
-000013e0: 6f6d 7074 2075 7365 7220 6279 2070 6f70  ompt user by pop
-000013f0: 7570 2074 6f20 7365 6c65 6374 2065 7870  up to select exp
-00001400: 6572 696d 656e 7420 6669 6c65 2066 726f  eriment file fro
-00001410: 6d20 776f 726b 696e 6720 6469 7265 6374  m working direct
-00001420: 6f72 7920 616e 6420 7361 7665 206e 616d  ory and save nam
-00001430: 6520 6173 206f 7065 6e46 696c 650a 2020  e as openFile.  
-00001440: 2020 6966 2066 696c 6554 6f4f 7065 6e20    if fileToOpen 
-00001450: 3d3d 2022 223a 2020 2320 4966 206f 7065  == "":  # If ope
-00001460: 6e46 696c 6520 7265 6d61 696e 7320 626c  nFile remains bl
-00001470: 616e 6b20 6166 7465 7220 7468 6973 2028  ank after this (
-00001480: 6265 6361 7573 6520 7573 6572 2063 616e  because user can
-00001490: 6365 6c65 6420 706f 7075 7029 0a20 2020  celed popup).   
-000014a0: 2020 2020 2072 6574 7572 6e20 2023 2041       return  # A
-000014b0: 626f 7274 2066 756e 6374 696f 6e0a 2020  bort function.  
-000014c0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000014d0: 6f70 656e 4669 6c65 203d 2066 696c 6554  openFile = fileT
-000014e0: 6f4f 7065 6e0a 2020 2020 0a20 2020 2077  oOpen.    .    w
-000014f0: 6974 6820 6f70 656e 286f 7065 6e46 696c  ith open(openFil
-00001500: 652c 206e 6577 6c69 6e65 3d22 2229 2061  e, newline="") a
-00001510: 7320 6578 7065 7269 6d65 6e74 4669 6c65  s experimentFile
-00001520: 3a20 2023 204f 7065 6e20 7573 6572 2d73  :  # Open user-s
-00001530: 7065 6369 6669 6564 2074 7874 2065 7870  pecified txt exp
-00001540: 6572 696d 656e 7420 6669 6c65 0a20 2020  eriment file.   
-00001550: 2020 2020 2074 7562 6573 496e 4669 6c65       tubesInFile
-00001560: 203d 2063 7376 2e72 6561 6465 7228 6578   = csv.reader(ex
-00001570: 7065 7269 6d65 6e74 4669 6c65 2c20 6465  perimentFile, de
-00001580: 6c69 6d69 7465 723d 2225 2229 2020 2320  limiter="%")  # 
-00001590: 4465 6669 6e65 2063 7376 2072 6561 6465  Define csv reade
-000015a0: 7220 7769 7468 2064 656c 696d 6974 6572  r with delimiter
-000015b0: 2025 3b20 6765 6e65 7261 7465 7320 6974   %; generates it
-000015c0: 6572 6162 6c65 206f 6620 616c 6c20 7261  erable of all ra
-000015d0: 6365 2074 7562 6520 6461 7461 7365 7473  ce tube datasets
-000015e0: 2069 6e20 7370 6563 6966 6965 6420 6578   in specified ex
-000015f0: 7065 7269 6d65 6e74 2066 696c 650a 2020  periment file.  
-00001600: 2020 2020 2020 666f 7220 7475 6265 2069        for tube i
-00001610: 6e20 7475 6265 7349 6e46 696c 653a 2020  n tubesInFile:  
-00001620: 2320 466f 7220 6561 6368 206c 696e 6520  # For each line 
-00001630: 6f66 2065 7870 6572 696d 656e 7420 6669  of experiment fi
-00001640: 6c65 2028 6561 6368 2063 6f6e 7461 696e  le (each contain
-00001650: 696e 6720 6f6e 6520 7261 6365 2074 7562  ing one race tub
-00001660: 6527 7320 6461 7461 290a 2020 2020 2020  e's data).      
-00001670: 2020 2020 2020 7061 7273 6564 5475 6265        parsedTube
-00001680: 203d 2070 6172 7365 5475 6265 4672 6f6d   = parseTubeFrom
-00001690: 4669 6c65 2874 7562 6529 0a20 2020 2020  File(tube).     
-000016a0: 2020 2020 2020 2074 7562 6573 4d61 7374         tubesMast
-000016b0: 6572 2e61 7070 656e 6428 7061 7273 6564  er.append(parsed
-000016c0: 5475 6265 2920 2023 2041 6464 2070 6172  Tube)  # Add par
-000016d0: 7365 6420 7261 6365 2074 7562 6520 6461  sed race tube da
-000016e0: 7461 2064 6963 7469 6f6e 6172 7920 746f  ta dictionary to
-000016f0: 2067 6c6f 6261 6c20 6d61 7374 6572 206c   global master l
-00001700: 6973 7420 6f66 2074 7562 6573 0a20 2020  ist of tubes.   
-00001710: 2070 6f70 756c 6174 6545 7870 6572 696d   populateExperim
-00001720: 656e 7444 6174 6154 6162 6c65 2829 2020  entDataTable()  
-00001730: 2320 506f 7075 6c61 7465 2065 7870 6572  # Populate exper
-00001740: 696d 656e 7420 6461 7461 2074 6162 6c65  iment data table
-00001750: 0a20 2020 2070 6f70 756c 6174 6553 7461  .    populateSta
-00001760: 7469 7374 6963 616c 416e 616c 7973 6973  tisticalAnalysis
-00001770: 4c69 7374 7328 2920 2023 2050 6f70 756c  Lists()  # Popul
-00001780: 6174 6520 7374 6174 6973 7469 6361 6c20  ate statistical 
-00001790: 616e 616c 7973 6973 2066 7261 6d65 206c  analysis frame l
-000017a0: 6973 7473 0a20 2020 2070 6f70 756c 6174  ists.    populat
-000017b0: 6550 6c6f 7454 7562 6553 656c 6563 7469  ePlotTubeSelecti
-000017c0: 6f6e 4c69 7374 7328 2920 2023 2050 6f70  onLists()  # Pop
-000017d0: 756c 6174 6520 706c 6f74 2064 6174 6120  ulate plot data 
-000017e0: 6672 616d 6520 6c69 7374 730a 0a20 2020  frame lists..   
-000017f0: 2072 6574 7572 6e20 7475 6265 734d 6173   return tubesMas
-00001800: 7465 720a 0a0a 6465 6620 7061 7273 6554  ter...def parseT
-00001810: 7562 6546 726f 6d46 696c 6528 7475 6265  ubeFromFile(tube
-00001820: 293a 0a20 2020 200a 2020 2020 7061 7273  ):.    .    pars
-00001830: 6564 5475 6265 203d 207b 2273 6574 4e61  edTube = {"setNa
-00001840: 6d65 223a 4e6f 6e65 2c20 2269 6d61 6765  me":None, "image
-00001850: 4e61 6d65 223a 4e6f 6e65 2c20 2269 6d61  Name":None, "ima
-00001860: 6765 4461 7461 223a 4e6f 6e65 2c20 2274  geData":None, "t
-00001870: 7562 654e 756d 6265 7222 3a4e 6f6e 652c  ubeNumber":None,
-00001880: 2022 6d61 726b 486f 7572 7322 3a4e 6f6e   "markHours":Non
-00001890: 652c 2022 6465 6e73 6974 7950 726f 6669  e, "densityProfi
-000018a0: 6c65 223a 4e6f 6e65 2c20 2267 726f 7774  le":None, "growt
-000018b0: 6852 6174 6522 3a4e 6f6e 652c 2022 7475  hRate":None, "tu
-000018c0: 6265 5261 6e67 6522 3a4e 6f6e 652c 2022  beRange":None, "
-000018d0: 7469 6d65 4d61 726b 7322 3a4e 6f6e 652c  timeMarks":None,
-000018e0: 2022 6261 6e64 4d61 726b 7322 3a4e 6f6e   "bandMarks":Non
-000018f0: 657d 2020 2320 426c 616e 6b20 6469 6374  e}  # Blank dict
-00001900: 696f 6e61 7279 2066 6f72 2070 6172 7365  ionary for parse
-00001910: 6420 7475 6265 2063 6f6e 7461 696e 696e  d tube containin
-00001920: 6720 616c 6c20 7265 7175 6973 6974 6520  g all requisite 
-00001930: 6b65 7973 0a20 2020 2070 6172 7365 6454  keys.    parsedT
-00001940: 7562 655b 2273 6574 4e61 6d65 225d 203d  ube["setName"] =
-00001950: 2073 7472 2874 7562 655b 305d 2920 2320   str(tube[0]) # 
-00001960: 5365 7420 6e61 6d65 2028 6f72 2070 6163  Set name (or pac
-00001970: 6b20 6e61 6d65 2920 7374 7269 6e67 2069  k name) string i
-00001980: 7320 6669 7273 7420 656c 656d 656e 7420  s first element 
-00001990: 6f66 206c 696e 650a 2020 2020 7061 7273  of line.    pars
-000019a0: 6564 5475 6265 5b22 696d 6167 654e 616d  edTube["imageNam
-000019b0: 6522 5d20 3d20 7374 7228 7475 6265 5b31  e"] = str(tube[1
-000019c0: 5d29 2023 2049 6d61 6765 206e 616d 6520  ]) # Image name 
-000019d0: 7374 7269 6e67 2069 7320 7365 636f 6e64  string is second
-000019e0: 2065 6c65 6d65 6e74 206f 6620 6c69 6e65   element of line
-000019f0: 0a20 2020 2069 6d61 6765 4461 7461 203d  .    imageData =
-00001a00: 205b 5d20 2023 2042 6c61 6e6b 2069 6d61   []  # Blank ima
-00001a10: 6765 2064 6174 6120 6c69 7374 3b20 6561  ge data list; ea
-00001a20: 6368 2065 6c65 6d65 6e74 2069 7320 6120  ch element is a 
-00001a30: 726f 770a 2020 2020 696d 6167 6544 6174  row.    imageDat
-00001a40: 6152 6177 203d 2074 7562 655b 325d 5b31  aRaw = tube[2][1
-00001a50: 3a2d 315d 2e72 6570 6c61 6365 2822 2022  :-1].replace(" "
-00001a60: 2c20 2222 292e 7370 6c69 7428 225d 2c5b  , "").split("],[
-00001a70: 2229 2020 2320 496d 6167 6520 6461 7461  ")  # Image data
-00001a80: 2066 726f 6d20 6669 6c65 2061 7320 6c69   from file as li
-00001a90: 7374 206f 6620 6c69 7374 7320 2865 6163  st of lists (eac
-00001aa0: 6820 7375 626c 6973 7420 6973 2061 2072  h sublist is a r
-00001ab0: 6f77 290a 2020 2020 666f 7220 726f 7720  ow).    for row 
-00001ac0: 696e 2069 6d61 6765 4461 7461 5261 773a  in imageDataRaw:
-00001ad0: 2020 2320 466f 7220 6561 6368 2072 6f77    # For each row
-00001ae0: 206f 6620 696d 6167 6520 6461 7461 0a20   of image data. 
-00001af0: 2020 2020 2020 2064 6174 6152 6f77 203d         dataRow =
-00001b00: 205b 5d20 2023 2042 6c61 6e6b 206c 6973   []  # Blank lis
-00001b10: 7420 666f 7220 726f 7720 7661 6c75 6573  t for row values
-00001b20: 0a20 2020 2020 2020 2066 6f72 2070 6978  .        for pix
-00001b30: 656c 2069 6e20 726f 772e 7265 706c 6163  el in row.replac
-00001b40: 6528 2220 222c 2022 2229 2e72 6570 6c61  e(" ", "").repla
-00001b50: 6365 2822 5b22 2c20 2222 292e 7265 706c  ce("[", "").repl
-00001b60: 6163 6528 225d 222c 2022 2229 2e73 706c  ace("]", "").spl
-00001b70: 6974 2822 2c22 293a 2020 2320 466f 7220  it(","):  # For 
-00001b80: 6561 6368 2076 616c 7565 2069 6e20 726f  each value in ro
-00001b90: 772c 2065 7863 6c75 6469 6e67 2070 756e  w, excluding pun
-00001ba0: 6374 7561 7469 6f6e 2061 6e64 2064 656c  ctuation and del
-00001bb0: 696d 6974 6564 2062 7920 222c 220a 2020  imited by ",".  
-00001bc0: 2020 2020 2020 2020 2020 6966 2070 6978            if pix
-00001bd0: 656c 2021 3d20 2222 3a20 2023 2049 6620  el != "":  # If 
-00001be0: 7661 6c75 6520 6973 206e 6f74 2062 6c61  value is not bla
-00001bf0: 6e6b 0a20 2020 2020 2020 2020 2020 2020  nk.             
-00001c00: 2020 2064 6174 6152 6f77 2e61 7070 656e     dataRow.appen
-00001c10: 6428 696e 7428 7069 7865 6c29 2920 2023  d(int(pixel))  #
-00001c20: 2043 6f6e 7665 7274 2076 616c 7565 2074   Convert value t
-00001c30: 6f20 696e 7465 6765 7220 616e 6420 6164  o integer and ad
-00001c40: 6420 746f 2072 6f77 2064 6174 6120 6c69  d to row data li
-00001c50: 7374 0a20 2020 2020 2020 2069 6d61 6765  st.        image
-00001c60: 4461 7461 2e61 7070 656e 6428 6461 7461  Data.append(data
-00001c70: 526f 7729 2020 2320 4164 6420 726f 7720  Row)  # Add row 
-00001c80: 6461 7461 2074 6f20 696d 6167 6520 6461  data to image da
-00001c90: 7461 206c 6973 740a 2020 2020 7061 7273  ta list.    pars
-00001ca0: 6564 5475 6265 5b22 696d 6167 6544 6174  edTube["imageDat
-00001cb0: 6122 5d20 3d20 696d 6167 6544 6174 6120  a"] = imageData 
-00001cc0: 2320 5365 7420 696d 6167 6520 6461 7461  # Set image data
-00001cd0: 206f 6620 7061 7273 6564 2074 7562 6520   of parsed tube 
-00001ce0: 746f 2069 6d61 6765 2064 6174 6120 6c69  to image data li
-00001cf0: 7374 200a 2020 2020 7061 7273 6564 5475  st .    parsedTu
-00001d00: 6265 5b22 7475 6265 4e75 6d62 6572 225d  be["tubeNumber"]
-00001d10: 203d 2069 6e74 2874 7562 655b 335d 2920   = int(tube[3]) 
-00001d20: 2320 5365 7420 7475 6265 206e 756d 6265  # Set tube numbe
-00001d30: 7220 746f 2066 6f75 7274 6820 656c 656d  r to fourth elem
-00001d40: 656e 7420 6f66 206c 696e 6520 6672 6f6d  ent of line from
-00001d50: 2066 696c 650a 2020 2020 6d61 726b 486f   file.    markHo
-00001d60: 7572 7320 3d20 280a 2020 2020 2020 2020  urs = (.        
-00001d70: 7475 6265 5b34 5d0a 2020 2020 2020 2020  tube[4].        
-00001d80: 2e72 6570 6c61 6365 2822 2022 2c20 2222  .replace(" ", ""
-00001d90: 290a 2020 2020 2020 2020 2e72 6570 6c61  ).        .repla
-00001da0: 6365 2822 5b22 2c20 2222 290a 2020 2020  ce("[", "").    
-00001db0: 2020 2020 2e72 6570 6c61 6365 2822 5d22      .replace("]"
-00001dc0: 2c20 2222 290a 2020 2020 2020 2020 2e73  , "").        .s
-00001dd0: 706c 6974 2822 2c22 290a 2020 2020 2920  plit(",").    ) 
-00001de0: 2023 2052 6177 206c 6973 7420 6f66 206d   # Raw list of m
-00001df0: 6172 6b20 686f 7572 2076 616c 7565 732c  ark hour values,
-00001e00: 2077 6974 6820 7075 6e63 7475 6174 696f   with punctuatio
-00001e10: 6e20 7265 6d6f 7665 642c 2064 656c 696d  n removed, delim
-00001e20: 6974 6564 2062 7920 222c 220a 2020 2020  ited by ",".    
-00001e30: 6d61 726b 486f 7572 7320 3d20 5b66 6c6f  markHours = [flo
-00001e40: 6174 2869 2920 666f 7220 6920 696e 206d  at(i) for i in m
-00001e50: 6172 6b48 6f75 7273 5d0a 2020 2020 2366  arkHours].    #f
-00001e60: 6f72 2069 6e64 6578 2c20 686f 7572 7320  or index, hours 
-00001e70: 696e 2065 6e75 6d65 7261 7465 286d 6172  in enumerate(mar
-00001e80: 6b48 6f75 7273 293a 2020 2320 466f 7220  kHours):  # For 
-00001e90: 6561 6368 2065 6c65 6d65 6e74 206f 6620  each element of 
-00001ea0: 7261 7720 6d61 726b 2068 6f75 7273 2064  raw mark hours d
-00001eb0: 6174 610a 2020 2020 2020 2020 236d 6172  ata.        #mar
-00001ec0: 6b48 6f75 7273 5b69 6e64 6578 5d20 3d20  kHours[index] = 
-00001ed0: 666c 6f61 7428 686f 7572 7329 2020 2320  float(hours)  # 
-00001ee0: 436f 6e76 6572 7420 7661 6c75 6520 746f  Convert value to
-00001ef0: 2066 6c6f 6174 2066 726f 6d20 7374 7269   float from stri
-00001f00: 6e67 0a20 2020 2070 6172 7365 6454 7562  ng.    parsedTub
-00001f10: 655b 226d 6172 6b48 6f75 7273 225d 203d  e["markHours"] =
-00001f20: 206d 6172 6b48 6f75 7273 0a20 2020 2064   markHours.    d
-00001f30: 656e 7369 7479 5072 6f66 696c 6520 3d20  ensityProfile = 
-00001f40: 280a 2020 2020 2020 2020 7475 6265 5b35  (.        tube[5
-00001f50: 5d0a 2020 2020 2020 2020 2e72 6570 6c61  ].        .repla
-00001f60: 6365 2822 2022 2c20 2222 290a 2020 2020  ce(" ", "").    
-00001f70: 2020 2020 2e72 6570 6c61 6365 2822 5b22      .replace("["
-00001f80: 2c20 2222 290a 2020 2020 2020 2020 2e72  , "").        .r
-00001f90: 6570 6c61 6365 2822 5d22 2c20 2222 290a  eplace("]", "").
-00001fa0: 2020 2020 2020 2020 2e73 706c 6974 2822          .split("
-00001fb0: 2c22 290a 2020 2020 2920 2023 2052 6177  ,").    )  # Raw
-00001fc0: 206c 6973 7420 6f66 2064 656e 7369 746f   list of densito
-00001fd0: 6d65 7472 7920 7661 6c75 6573 0a20 2020  metry values.   
-00001fe0: 2066 6f72 206e 756d 2069 6e20 656e 756d   for num in enum
-00001ff0: 6572 6174 6528 6465 6e73 6974 7950 726f  erate(densityPro
-00002000: 6669 6c65 293a 2020 2320 466f 7220 6561  file):  # For ea
-00002010: 6368 2065 6c65 6d65 6e74 206f 6620 7261  ch element of ra
-00002020: 7720 6465 6e73 6974 6f6d 6574 7279 2064  w densitometry d
-00002030: 6174 610a 2020 2020 2020 2020 6465 6e73  ata.        dens
-00002040: 6974 7950 726f 6669 6c65 5b6e 756d 5b30  ityProfile[num[0
-00002050: 5d5d 203d 2066 6c6f 6174 286e 756d 5b31  ]] = float(num[1
-00002060: 5d29 2020 2320 436f 6e76 6572 7420 7661  ])  # Convert va
-00002070: 6c75 6520 746f 2066 6c6f 6174 2066 726f  lue to float fro
-00002080: 6d20 7374 7269 6e67 0a20 2020 2070 6172  m string.    par
-00002090: 7365 6454 7562 655b 2264 656e 7369 7479  sedTube["density
-000020a0: 5072 6f66 696c 6522 5d20 3d20 6465 6e73  Profile"] = dens
-000020b0: 6974 7950 726f 6669 6c65 2023 2053 6574  ityProfile # Set
-000020c0: 2072 6163 6520 7475 6265 2064 656e 7369   race tube densi
-000020d0: 7479 2070 726f 6669 6c65 2074 6f20 7061  ty profile to pa
-000020e0: 7273 6564 2064 656e 7369 7479 2070 726f  rsed density pro
-000020f0: 6669 6c65 2064 6174 610a 2020 2020 7061  file data.    pa
-00002100: 7273 6564 5475 6265 5b22 6772 6f77 7468  rsedTube["growth
-00002110: 5261 7465 225d 203d 2074 7562 655b 365d  Rate"] = tube[6]
-00002120: 2023 2053 6574 2067 726f 7774 6820 7261   # Set growth ra
-00002130: 7465 2074 6f20 7365 7665 6e74 6820 656c  te to seventh el
-00002140: 656d 656e 7420 6f66 206c 696e 650a 2020  ement of line.  
-00002150: 2020 7475 6265 426f 756e 6473 5261 7720    tubeBoundsRaw 
-00002160: 3d20 2874 7562 655b 375d 5b31 3a2d 315d  = (tube[7][1:-1]
-00002170: 2e72 6570 6c61 6365 2822 2022 2c20 2222  .replace(" ", ""
-00002180: 292e 7370 6c69 7428 225d 2c5b 2229 2920  ).split("],[")) 
-00002190: 2023 2052 6177 206c 6973 7420 6f66 2074   # Raw list of t
-000021a0: 7562 6520 626f 756e 6461 7279 2064 6f75  ube boundary dou
-000021b0: 626c 6573 2c20 6672 6f6d 2065 6967 6874  bles, from eight
-000021c0: 6820 656c 656d 656e 7420 6f66 206c 696e  h element of lin
-000021d0: 6520 7769 7468 2070 756e 6374 7561 7469  e with punctuati
-000021e0: 6f6e 2072 656d 6f76 6564 2c20 6465 6c69  on removed, deli
-000021f0: 6d65 7465 6420 6279 2022 2c22 0a20 2020  meted by ",".   
-00002200: 2070 6169 7273 203d 205b 5d20 2023 2042   pairs = []  # B
-00002210: 6c61 6e6b 206c 6973 7420 666f 7220 7475  lank list for tu
-00002220: 6265 2062 6f75 6e64 6172 7920 646f 7562  be boundary doub
-00002230: 6c65 730a 2020 2020 666f 7220 7061 6972  les.    for pair
-00002240: 5261 7720 696e 2074 7562 6542 6f75 6e64  Raw in tubeBound
-00002250: 7352 6177 3a20 2023 2046 6f72 2065 6163  sRaw:  # For eac
-00002260: 6820 646f 7562 6c65 2069 6e20 7261 7720  h double in raw 
-00002270: 6c69 7374 206f 6620 7475 6265 2062 6f75  list of tube bou
-00002280: 6e64 6172 7920 646f 7562 6c65 730a 2020  ndary doubles.  
-00002290: 2020 2020 2020 7061 6972 203d 2070 6169        pair = pai
-000022a0: 7252 6177 2e72 6570 6c61 6365 2822 5b22  rRaw.replace("["
-000022b0: 2c20 2222 292e 7265 706c 6163 6528 225d  , "").replace("]
-000022c0: 222c 2022 2229 2e73 706c 6974 2822 2c22  ", "").split(","
-000022d0: 2920 2023 2052 656d 6f76 6520 7075 6e63  )  # Remove punc
-000022e0: 7475 6174 696f 6e20 616e 6420 7370 6c69  tuation and spli
-000022f0: 7420 6174 2022 2c22 2069 6e74 6f20 6c69  t at "," into li
-00002300: 7374 0a20 2020 2020 2020 2066 6f72 2069  st.        for i
-00002310: 6e64 6578 2c20 7956 616c 2069 6e20 656e  ndex, yVal in en
-00002320: 756d 6572 6174 6528 7061 6972 293a 2020  umerate(pair):  
-00002330: 2320 466f 7220 6561 6368 206e 756d 6265  # For each numbe
-00002340: 7220 696e 2062 6f75 6e64 6172 7920 646f  r in boundary do
-00002350: 7562 6c65 0a20 2020 2020 2020 2020 2020  uble.           
-00002360: 2070 6169 725b 696e 6465 785d 203d 2066   pair[index] = f
-00002370: 6c6f 6174 2879 5661 6c29 2020 2320 436f  loat(yVal)  # Co
-00002380: 6e76 6572 7420 6e75 6d62 6572 2074 6f20  nvert number to 
-00002390: 666c 6f61 7420 6672 6f6d 2073 7472 696e  float from strin
-000023a0: 670a 2020 2020 2020 2020 7061 6972 732e  g.        pairs.
-000023b0: 6170 7065 6e64 2870 6169 7229 2020 2320  append(pair)  # 
-000023c0: 4164 6420 626f 756e 6461 7279 2064 6f75  Add boundary dou
-000023d0: 626c 6520 746f 206c 6973 7420 6f66 2074  ble to list of t
-000023e0: 7562 6520 626f 756e 6461 7279 2064 6f75  ube boundary dou
-000023f0: 626c 6573 0a20 2020 2070 6172 7365 6454  bles.    parsedT
-00002400: 7562 655b 2274 7562 6552 616e 6765 225d  ube["tubeRange"]
-00002410: 203d 2070 6169 7273 2023 2041 6464 206c   = pairs # Add l
-00002420: 6973 7420 6f66 2062 6f75 6e64 6172 7920  ist of boundary 
-00002430: 646f 7562 6c65 7320 746f 2072 6163 6520  doubles to race 
-00002440: 7475 6265 2064 6174 6120 6469 6374 696f  tube data dictio
-00002450: 6e61 7279 0a20 2020 2074 696d 654d 6172  nary.    timeMar
-00002460: 6b73 203d 2028 0a20 2020 2020 2020 2074  ks = (.        t
-00002470: 7562 655b 385d 0a20 2020 2020 2020 202e  ube[8].        .
-00002480: 7374 7269 7028 290a 2020 2020 2020 2020  strip().        
-00002490: 2e72 6570 6c61 6365 2822 2022 2c20 2222  .replace(" ", ""
-000024a0: 290a 2020 2020 2020 2020 2e72 6570 6c61  ).        .repla
-000024b0: 6365 2822 5b22 2c20 2222 290a 2020 2020  ce("[", "").    
-000024c0: 2020 2020 2e72 6570 6c61 6365 2822 5d22      .replace("]"
-000024d0: 2c20 2222 290a 2020 2020 2020 2020 2e73  , "").        .s
-000024e0: 706c 6974 2822 2c22 290a 2020 2020 2920  plit(",").    ) 
-000024f0: 2023 2052 6177 206c 6973 7420 6f66 2074   # Raw list of t
-00002500: 696d 6520 6d61 726b 2078 2070 6f73 6974  ime mark x posit
-00002510: 696f 6e73 2066 726f 6d20 6e69 6e74 6820  ions from ninth 
-00002520: 656c 656d 656e 7420 6f66 206c 696e 652c  element of line,
-00002530: 2077 6974 6820 7075 6e63 7475 6174 696f   with punctuatio
-00002540: 6e20 7265 6d6f 7665 642c 2064 656c 696d  n removed, delim
-00002550: 6974 6564 2062 7920 222c 220a 2020 2020  ited by ",".    
-00002560: 666f 7220 696e 6465 782c 2078 5661 6c20  for index, xVal 
-00002570: 696e 2065 6e75 6d65 7261 7465 2874 696d  in enumerate(tim
-00002580: 654d 6172 6b73 293a 2020 2320 466f 7220  eMarks):  # For 
-00002590: 6561 6368 2065 6c65 6d65 6e74 206f 6620  each element of 
-000025a0: 7261 7720 7469 6d65 206d 6172 6b73 2064  raw time marks d
-000025b0: 6174 610a 2020 2020 2020 2020 7469 6d65  ata.        time
-000025c0: 4d61 726b 735b 696e 6465 785d 203d 2069  Marks[index] = i
-000025d0: 6e74 2878 5661 6c29 2020 2320 436f 6e76  nt(xVal)  # Conv
-000025e0: 6572 7420 7661 6c75 6520 746f 2069 6e74  ert value to int
-000025f0: 2066 726f 6d20 7374 7269 6e67 0a20 2020   from string.   
-00002600: 2070 6172 7365 6454 7562 655b 2274 696d   parsedTube["tim
-00002610: 654d 6172 6b73 225d 203d 2074 696d 654d  eMarks"] = timeM
-00002620: 6172 6b73 2023 2041 6464 2074 696d 6520  arks # Add time 
-00002630: 6d61 726b 7320 746f 2072 6163 6520 7475  marks to race tu
-00002640: 6265 2064 6174 6120 6469 6374 696f 6e61  be data dictiona
-00002650: 7279 0a20 2020 2062 616e 644d 6172 6b73  ry.    bandMarks
-00002660: 203d 2028 0a20 2020 2020 2020 2074 7562   = (.        tub
-00002670: 655b 395d 0a20 2020 2020 2020 202e 7374  e[9].        .st
-00002680: 7269 7028 290a 2020 2020 2020 2020 2e72  rip().        .r
-00002690: 6570 6c61 6365 2822 2022 2c20 2222 290a  eplace(" ", "").
-000026a0: 2020 2020 2020 2020 2e72 6570 6c61 6365          .replace
-000026b0: 2822 5b22 2c20 2222 290a 2020 2020 2020  ("[", "").      
-000026c0: 2020 2e72 6570 6c61 6365 2822 5d22 2c20    .replace("]", 
-000026d0: 2222 290a 2020 2020 2020 2020 2e73 706c  "").        .spl
-000026e0: 6974 2822 2c22 290a 2020 2020 2920 2023  it(",").    )  #
-000026f0: 2052 6177 206c 6973 7420 6f66 2062 616e   Raw list of ban
-00002700: 6420 6d61 726b 7320 706f 7369 7469 6f6e  d marks position
-00002710: 7320 6672 6f6d 2074 656e 7468 2065 6c65  s from tenth ele
-00002720: 6d65 6e74 206f 6620 6c69 6e65 2c20 7769  ment of line, wi
-00002730: 7468 2070 756e 6374 7561 7469 6f6e 2072  th punctuation r
-00002740: 656d 6f76 6564 2c20 6465 6c69 6d69 7465  emoved, delimite
-00002750: 6420 6279 2022 2c22 0a20 2020 2069 6620  d by ",".    if 
-00002760: 6261 6e64 4d61 726b 7320 3d3d 205b 2727  bandMarks == [''
-00002770: 5d3a 0a20 2020 2020 2020 2062 616e 644d  ]:.        bandM
-00002780: 6172 6b73 203d 205b 5d0a 2020 2020 656c  arks = [].    el
-00002790: 7365 3a0a 2020 2020 2020 2020 666f 7220  se:.        for 
-000027a0: 696e 6465 782c 2078 5661 6c20 696e 2065  index, xVal in e
-000027b0: 6e75 6d65 7261 7465 2862 616e 644d 6172  numerate(bandMar
-000027c0: 6b73 293a 2020 2320 466f 7220 6561 6368  ks):  # For each
-000027d0: 2065 6c65 6d65 6e74 206f 6620 7261 7720   element of raw 
-000027e0: 6261 6e64 206d 6172 6b73 2064 6174 610a  band marks data.
-000027f0: 2020 2020 2020 2020 2020 2020 6261 6e64              band
-00002800: 4d61 726b 735b 696e 6465 785d 203d 2069  Marks[index] = i
-00002810: 6e74 2878 5661 6c29 2020 2320 436f 6e76  nt(xVal)  # Conv
-00002820: 6572 7420 7661 6c75 6520 746f 2069 6e74  ert value to int
-00002830: 2066 726f 6d20 7374 7269 6e67 0a20 2020   from string.   
-00002840: 2070 6172 7365 6454 7562 655b 2262 616e   parsedTube["ban
-00002850: 644d 6172 6b73 225d 203d 2062 616e 644d  dMarks"] = bandM
-00002860: 6172 6b73 2023 2041 6464 2062 616e 6420  arks # Add band 
-00002870: 6d61 726b 7320 746f 2072 6163 6520 7475  marks to race tu
-00002880: 6265 2064 6174 6120 6469 6374 696f 6e61  be data dictiona
-00002890: 7279 0a20 2020 200a 2020 2020 7265 7475  ry.    .    retu
-000028a0: 726e 2070 6172 7365 6454 7562 650a 0a0a  rn parsedTube...
-000028b0: 6465 6620 7361 7665 4578 7065 7269 6d65  def saveExperime
-000028c0: 6e74 4669 6c65 2829 3a0a 2020 2020 2222  ntFile():.    ""
-000028d0: 2253 6176 6520 6578 7065 7269 6d65 6e74  "Save experiment
-000028e0: 2066 696c 6520 746f 2065 7869 7374 696e   file to existin
-000028f0: 6720 6669 6c65 2c20 6f72 2070 726f 6d70  g file, or promp
-00002900: 7420 7573 6572 2074 6f20 7361 7665 2061  t user to save a
-00002910: 7320 6e65 7720 6669 6c65 2069 6620 6e6f  s new file if no
-00002920: 7420 6564 6974 696e 6720 6578 6973 7469  t editing existi
-00002930: 6e67 2065 7870 6572 696d 656e 7420 6669  ng experiment fi
-00002940: 6c65 2e22 2222 0a20 2020 2067 6c6f 6261  le.""".    globa
-00002950: 6c20 6f70 656e 4669 6c65 0a20 2020 2067  l openFile.    g
-00002960: 6c6f 6261 6c20 776f 726b 696e 6744 6972  lobal workingDir
-00002970: 0a20 2020 2067 6c6f 6261 6c20 7475 6265  .    global tube
-00002980: 734d 6173 7465 720a 2020 2020 7072 696e  sMaster.    prin
-00002990: 7428 7374 7228 6f70 656e 4669 6c65 2929  t(str(openFile))
-000029a0: 0a20 2020 2069 6620 6f70 656e 4669 6c65  .    if openFile
-000029b0: 203d 3d20 2222 3a20 2023 2049 6620 6e6f   == "":  # If no
-000029c0: 2066 696c 6520 6973 2063 7572 7265 6e74   file is current
-000029d0: 6c79 206f 7065 6e65 6420 696e 2052 6879  ly opened in Rhy
-000029e0: 7468 6d69 6469 610a 2020 2020 2020 2020  thmidia.        
-000029f0: 7361 7665 4578 7065 7269 6d65 6e74 4669  saveExperimentFi
-00002a00: 6c65 4173 2822 2229 2020 2320 5072 6f6d  leAs("")  # Prom
-00002a10: 7074 2075 7365 7220 746f 2073 6176 6520  pt user to save 
-00002a20: 6173 206e 6577 2066 696c 650a 2020 2020  as new file.    
-00002a30: 656c 7365 3a20 2023 2049 6620 6120 6669  else:  # If a fi
-00002a40: 6c65 2069 7320 616c 7265 6164 7920 6f70  le is already op
-00002a50: 656e 0a20 2020 2020 2020 2077 6974 6820  en.        with 
-00002a60: 6f70 656e 286f 7065 6e46 696c 652c 206e  open(openFile, n
-00002a70: 6577 6c69 6e65 3d22 222c 206d 6f64 653d  ewline="", mode=
-00002a80: 2277 2229 2061 7320 6578 7065 7269 6d65  "w") as experime
-00002a90: 6e74 4669 6c65 3a20 2023 204f 7065 6e20  ntFile:  # Open 
-00002aa0: 6375 7272 656e 7420 6578 7065 7269 6d65  current experime
-00002ab0: 6e74 2066 696c 650a 2020 2020 2020 2020  nt file.        
-00002ac0: 2020 2020 7772 6974 6572 203d 2063 7376      writer = csv
-00002ad0: 2e77 7269 7465 7228 6578 7065 7269 6d65  .writer(experime
-00002ae0: 6e74 4669 6c65 2c20 6465 6c69 6d69 7465  ntFile, delimite
-00002af0: 723d 2225 2229 2020 2320 4465 6669 6e65  r="%")  # Define
-00002b00: 2063 7376 2077 7269 7465 7220 7661 7269   csv writer vari
-00002b10: 6162 6c65 2077 6974 6820 2520 6465 6c69  able with % deli
-00002b20: 6d69 7465 720a 2020 2020 2020 2020 2020  miter.          
-00002b30: 2020 666f 7220 7475 6265 2069 6e20 7475    for tube in tu
-00002b40: 6265 734d 6173 7465 723a 2020 2320 466f  besMaster:  # Fo
-00002b50: 7220 6561 6368 2072 6163 6520 7475 6265  r each race tube
-00002b60: 2064 6174 6120 6469 6374 696f 6e61 7279   data dictionary
-00002b70: 2069 6e20 676c 6f62 616c 206d 6173 7465   in global maste
-00002b80: 7220 7475 6265 206c 6973 740a 2020 2020  r tube list.    
-00002b90: 2020 2020 2020 2020 2020 2020 7475 6265              tube
-00002ba0: 5661 6c75 6573 4c69 7374 203d 206c 6973  ValuesList = lis
-00002bb0: 7428 7475 6265 2e76 616c 7565 7328 2929  t(tube.values())
-00002bc0: 2020 2320 436f 6e76 6572 7420 6461 7461    # Convert data
-00002bd0: 2064 6963 7469 6f6e 6172 790a 2020 2020   dictionary.    
-00002be0: 2020 2020 2020 2020 2020 2020 7772 6974              writ
-00002bf0: 6572 2e77 7269 7465 726f 7728 7475 6265  er.writerow(tube
-00002c00: 5661 6c75 6573 4c69 7374 2920 2023 2057  ValuesList)  # W
-00002c10: 7269 7465 206e 6577 206c 696e 6520 666f  rite new line fo
-00002c20: 7220 7475 6265 2074 6f20 6578 7065 7269  r tube to experi
-00002c30: 6d65 6e74 2066 696c 650a 2020 2020 2020  ment file.      
-00002c40: 2020 6f70 656e 4578 7065 7269 6d65 6e74    openExperiment
-00002c50: 4669 6c65 2872 656f 7065 6e3d 5472 7565  File(reopen=True
-00002c60: 2920 2023 204f 7065 6e20 6375 7272 656e  )  # Open curren
-00002c70: 7420 6578 7065 7269 6d65 6e74 2061 6761  t experiment aga
-00002c80: 696e 2074 6f20 7570 6461 7465 2061 7070  in to update app
-00002c90: 6c69 6361 7469 6f6e 0a0a 0a64 6566 2073  lication...def s
-00002ca0: 6176 6545 7870 6572 696d 656e 7446 696c  aveExperimentFil
-00002cb0: 6541 7328 6e61 6d65 3d22 2229 3a0a 2020  eAs(name=""):.  
-00002cc0: 2020 2222 2250 726f 6d70 7420 7573 6572    """Prompt user
-00002cd0: 2074 6f20 7072 6f76 6964 6520 6120 6669   to provide a fi
-00002ce0: 6c65 206e 616d 6520 746f 2073 6176 6520  le name to save 
-00002cf0: 6375 7272 656e 7420 6461 7461 2061 7320  current data as 
-00002d00: 6120 6e65 7720 6578 7065 7269 6d65 6e74  a new experiment
-00002d10: 2066 696c 652e 2222 220a 2020 2020 676c   file.""".    gl
-00002d20: 6f62 616c 206f 7065 6e46 696c 650a 2020  obal openFile.  
-00002d30: 2020 676c 6f62 616c 2077 6f72 6b69 6e67    global working
-00002d40: 4469 720a 0a20 2020 206f 7065 6e46 696c  Dir..    openFil
-00002d50: 6520 3d20 6170 702e 7365 6c65 6374 5f66  e = app.select_f
-00002d60: 696c 6528 0a20 2020 2020 2020 2074 6974  ile(.        tit
-00002d70: 6c65 3d22 5361 7665 2061 732e 2e2e 222c  le="Save as...",
-00002d80: 0a20 2020 2020 2020 2066 6f6c 6465 723d  .        folder=
-00002d90: 776f 726b 696e 6744 6972 2c0a 2020 2020  workingDir,.    
-00002da0: 2020 2020 6669 6c65 7479 7065 733d 5b5b      filetypes=[[
-00002db0: 2252 6879 7468 6d69 6469 6120 4578 7065  "Rhythmidia Expe
-00002dc0: 7269 6d65 6e74 222c 2022 2a2e 726d 6578  riment", "*.rmex
-00002dd0: 225d 5d2c 0a20 2020 2020 2020 2073 6176  "]],.        sav
-00002de0: 653d 5472 7565 2c0a 2020 2020 2020 2020  e=True,.        
-00002df0: 6669 6c65 6e61 6d65 3d6e 616d 652c 0a20  filename=name,. 
-00002e00: 2020 2029 2020 2320 5072 6f6d 7074 2075     )  # Prompt u
-00002e10: 7365 7220 746f 2063 7265 6174 6520 6120  ser to create a 
-00002e20: 6e65 7720 6669 6c65 206e 616d 6520 7769  new file name wi
-00002e30: 7468 2066 696c 6520 7365 6c65 6374 696f  th file selectio
-00002e40: 6e20 706f 7075 702c 2061 6e64 2073 6176  n popup, and sav
-00002e50: 6520 6e61 6d65 2061 7320 6f70 656e 4669  e name as openFi
-00002e60: 6c65 0a20 2020 2069 6620 6e6f 7420 286f  le.    if not (o
-00002e70: 7065 6e46 696c 6520 3d3d 2022 2229 3a20  penFile == ""): 
-00002e80: 2023 2049 6620 6669 6c65 206e 616d 6520   # If file name 
-00002e90: 6973 206e 6f74 206c 6566 7420 626c 616e  is not left blan
-00002ea0: 6b0a 2020 2020 2020 2020 7361 7665 4578  k.        saveEx
-00002eb0: 7065 7269 6d65 6e74 4669 6c65 2829 2020  perimentFile()  
-00002ec0: 2320 5361 7665 2065 7870 6572 696d 656e  # Save experimen
-00002ed0: 7420 6173 2063 686f 7365 6e20 6669 6c65  t as chosen file
-00002ee0: 206e 616d 650a 0a0a 6465 6620 7365 6c65   name...def sele
-00002ef0: 6374 486f 6d65 5461 6228 293a 0a20 2020  ctHomeTab():.   
-00002f00: 2022 2222 5365 6c65 6374 2068 6f6d 6520   """Select home 
-00002f10: 7461 622e 2222 220a 0a20 2020 2069 6620  tab."""..    if 
-00002f20: 686f 6d65 5461 6246 7261 6d65 2e76 6973  homeTabFrame.vis
-00002f30: 6962 6c65 2069 7320 4661 6c73 653a 2020  ible is False:  
-00002f40: 2320 4966 2068 6f6d 6520 7461 6220 6973  # If home tab is
-00002f50: 206e 6f74 2061 6c72 6561 6479 2073 656c   not already sel
-00002f60: 6563 7465 640a 2020 2020 2020 2020 6578  ected.        ex
-00002f70: 7065 7269 6d65 6e74 5461 6246 7261 6d65  perimentTabFrame
-00002f80: 2e68 6964 6528 2920 2023 2048 6964 6520  .hide()  # Hide 
-00002f90: 6578 7065 7269 6d65 6e74 2074 6162 0a20  experiment tab. 
-00002fa0: 2020 2020 2020 2068 6f6d 6554 6162 4672         homeTabFr
-00002fb0: 616d 652e 7368 6f77 2829 2020 2320 5368  ame.show()  # Sh
-00002fc0: 6f77 2068 6f6d 6520 7461 620a 2020 2020  ow home tab.    
-00002fd0: 6170 702e 7570 6461 7465 2829 2020 2320  app.update()  # 
-00002fe0: 5570 6461 7465 2061 7070 206f 626a 6563  Update app objec
-00002ff0: 740a 2020 2020 686f 6d65 5461 6246 7261  t.    homeTabFra
-00003000: 6d65 2e66 6f63 7573 2829 2020 2320 466f  me.focus()  # Fo
-00003010: 6375 7320 6e65 7720 6672 616d 650a 2020  cus new frame.  
-00003020: 2020 686f 6d65 5461 622e 666f 6375 7328    homeTab.focus(
-00003030: 290a 0a0a 6465 6620 7365 6c65 6374 4578  )...def selectEx
-00003040: 7065 7254 6162 2829 3a0a 2020 2020 2222  perTab():.    ""
-00003050: 2253 656c 6563 7420 6578 7065 7269 6d65  "Select experime
-00003060: 6e74 2074 6162 2e22 2222 0a0a 2020 2020  nt tab."""..    
-00003070: 6966 2065 7870 6572 696d 656e 7454 6162  if experimentTab
-00003080: 4672 616d 652e 7669 7369 626c 6520 6973  Frame.visible is
-00003090: 2046 616c 7365 3a20 2023 2049 6620 6578   False:  # If ex
-000030a0: 7065 7269 6d65 6e74 2074 6162 206e 6f74  periment tab not
-000030b0: 2061 6c72 6561 6479 2073 656c 6563 7465   already selecte
-000030c0: 640a 2020 2020 2020 2020 686f 6d65 5461  d.        homeTa
-000030d0: 6246 7261 6d65 2e68 6964 6528 2920 2023  bFrame.hide()  #
-000030e0: 2048 6964 6520 686f 6d65 2074 6162 0a20   Hide home tab. 
-000030f0: 2020 2020 2020 2065 7870 6572 696d 656e         experimen
-00003100: 7454 6162 4672 616d 652e 7368 6f77 2829  tTabFrame.show()
-00003110: 2020 2320 5368 6f77 2065 7870 6572 696d    # Show experim
-00003120: 656e 7420 7461 620a 2020 2020 6170 702e  ent tab.    app.
-00003130: 7570 6461 7465 2829 2020 2320 5570 6461  update()  # Upda
-00003140: 7465 2061 7070 206f 626a 6563 740a 2020  te app object.  
-00003150: 2020 6578 7065 7269 6d65 6e74 5461 6246    experimentTabF
-00003160: 7261 6d65 2e66 6f63 7573 2829 2020 2320  rame.focus()  # 
-00003170: 466f 6375 7320 6e65 7720 6672 616d 650a  Focus new frame.
-00003180: 2020 2020 6578 7065 7269 6d65 6e74 5461      experimentTa
-00003190: 622e 666f 6375 7328 290a 0a0a 6465 6620  b.focus()...def 
-000031a0: 7570 6c6f 6164 5261 6365 5475 6265 496d  uploadRaceTubeIm
-000031b0: 6167 6528 293a 0a20 2020 2022 2222 5072  age():.    """Pr
-000031c0: 6f6d 7074 2075 7365 7220 746f 2075 706c  ompt user to upl
-000031d0: 6f61 6420 6120 6e65 7720 7261 6365 2074  oad a new race t
-000031e0: 7562 6520 696d 6167 652c 2061 6e64 2064  ube image, and d
-000031f0: 6973 706c 6179 2069 7420 696e 2074 6865  isplay it in the
-00003200: 2069 6d61 6765 2066 7261 6d65 2e22 2222   image frame."""
-00003210: 0a20 2020 2067 6c6f 6261 6c20 7261 7749  .    global rawI
-00003220: 6d61 6765 0a20 2020 2067 6c6f 6261 6c20  mage.    global 
-00003230: 696d 6167 654e 616d 650a 2020 2020 676c  imageName.    gl
-00003240: 6f62 616c 2072 6f74 6174 6544 6567 0a20  obal rotateDeg. 
-00003250: 2020 2067 6c6f 6261 6c20 616e 616c 5374     global analSt
-00003260: 6174 650a 0a20 2020 2023 2053 6574 2076  ate..    # Set v
-00003270: 6172 6961 626c 6573 2074 6f20 696e 6974  ariables to init
-00003280: 6961 6c20 7661 6c75 6573 0a20 2020 2061  ial values.    a
-00003290: 6e61 6c53 7461 7465 203d 2030 2020 2320  nalState = 0  # 
-000032a0: 5365 7420 616e 616c 7973 6973 2073 7461  Set analysis sta
-000032b0: 7465 2074 6f20 300a 2020 2020 726f 7461  te to 0.    rota
-000032c0: 7465 4465 6720 3d20 3020 2023 2053 6574  teDeg = 0  # Set
-000032d0: 2064 6567 7265 6520 6f66 2069 6d61 6765   degree of image
-000032e0: 2072 6f74 6174 696f 6e20 746f 2030 0a20   rotation to 0. 
-000032f0: 2020 2023 2047 6574 2069 6d61 6765 2066     # Get image f
-00003300: 726f 6d20 7573 6572 0a20 2020 2069 6d61  rom user.    ima
-00003310: 6765 4e61 6d65 203d 2061 7070 2e73 656c  geName = app.sel
-00003320: 6563 745f 6669 6c65 280a 2020 2020 2020  ect_file(.      
-00003330: 2020 7469 746c 653d 2253 656c 6563 7420    title="Select 
-00003340: 7261 6365 2074 7562 6520 696d 6167 6522  race tube image"
-00003350: 2c0a 2020 2020 2020 2020 666f 6c64 6572  ,.        folder
-00003360: 3d77 6f72 6b69 6e67 4469 722c 0a20 2020  =workingDir,.   
-00003370: 2020 2020 2066 696c 6574 7970 6573 3d5b       filetypes=[
-00003380: 5b22 5449 4646 222c 2022 2a2e 7469 6622  ["TIFF", "*.tif"
-00003390: 5d2c 205b 2254 4946 4622 2c20 222a 2e74  ], ["TIFF", "*.t
-000033a0: 6966 6622 5d2c 205b 2250 4e47 222c 2022  iff"], ["PNG", "
-000033b0: 2a2e 706e 6722 5d2c 205b 224a 5047 222c  *.png"], ["JPG",
-000033c0: 2022 2a2e 6a70 6722 5d2c 205b 224a 5045   "*.jpg"], ["JPE
-000033d0: 4722 2c20 222a 2e6a 7065 6722 5d2c 205b  G", "*.jpeg"], [
-000033e0: 2253 5647 222c 2022 2a2e 7376 6722 5d5d  "SVG", "*.svg"]]
-000033f0: 2c0a 2020 2020 2020 2020 7361 7665 3d46  ,.        save=F
-00003400: 616c 7365 2c0a 2020 2020 2020 2020 6669  alse,.        fi
-00003410: 6c65 6e61 6d65 3d22 222c 0a20 2020 2029  lename="",.    )
-00003420: 2020 2320 5072 6f6d 7074 2075 7365 7220    # Prompt user 
-00003430: 746f 2073 656c 6563 7420 6120 2e74 6966  to select a .tif
-00003440: 2069 6d61 6765 2069 6e20 7468 6520 776f   image in the wo
-00003450: 726b 696e 6720 6469 7265 6374 6f72 7920  rking directory 
-00003460: 746f 2061 6e61 6c79 7a65 2c20 616e 6420  to analyze, and 
-00003470: 7365 7420 6669 6c65 206e 616d 6520 6173  set file name as
-00003480: 2069 6d61 6765 4e61 6d65 0a20 2020 2023   imageName.    #
-00003490: 2046 6f72 6d61 7420 696d 6167 650a 2020   Format image.  
-000034a0: 2020 7261 7749 6d61 6765 203d 2049 6d61    rawImage = Ima
-000034b0: 6765 2e6f 7065 6e28 696d 6167 654e 616d  ge.open(imageNam
-000034c0: 6529 2e72 6573 697a 6528 2831 3136 302c  e).resize((1160,
-000034d0: 2034 3030 2929 2020 2320 4f70 656e 2072   400))  # Open r
-000034e0: 6177 2069 6d61 6765 2066 696c 6520 6173  aw image file as
-000034f0: 2031 3136 3078 3430 3070 7820 696d 6167   1160x400px imag
-00003500: 6520 6f62 6a65 6374 2023 5249 4748 5448  e object #RIGHTH
-00003510: 4552 450a 2020 2020 7269 6768 7449 6d61  ERE.    rightIma
-00003520: 6765 203d 2072 6177 496d 6167 6520 2023  ge = rawImage  #
-00003530: 2053 6574 2069 6e74 6572 6d65 6469 6174   Set intermediat
-00003540: 6520 696d 6167 6520 746f 2072 6177 2069  e image to raw i
-00003550: 6d61 6765 0a20 2020 2023 2044 6973 706c  mage.    # Displ
-00003560: 6179 2069 6d61 6765 2061 6e64 2072 6561  ay image and rea
-00003570: 6479 2061 7070 2066 6f72 2061 6e61 6c79  dy app for analy
-00003580: 7369 730a 2020 2020 6469 7370 6c61 7952  sis.    displayR
-00003590: 6163 6554 7562 6549 6d61 6765 2872 6967  aceTubeImage(rig
-000035a0: 6874 496d 6167 6529 2020 2320 4469 7370  htImage)  # Disp
-000035b0: 6c61 7920 7261 6365 2074 7562 6520 696d  lay race tube im
-000035c0: 6167 650a 2020 2020 6c6f 636b 416e 6441  age.    lockAndA
-000035d0: 6e61 6c79 7a65 4275 7474 6f6e 2e65 6e61  nalyzeButton.ena
-000035e0: 626c 6528 2920 2023 2045 6e61 626c 6520  ble()  # Enable 
-000035f0: 6275 7474 6f6e 2074 6f20 6c6f 636b 2069  button to lock i
-00003600: 6d61 6765 2061 6e64 2061 6e61 6c79 7a65  mage and analyze
-00003610: 0a20 2020 2072 6f74 6174 6552 6163 6554  .    rotateRaceT
-00003620: 7562 6549 6d61 6765 4275 7474 6f6e 2e65  ubeImageButton.e
-00003630: 6e61 626c 6528 2920 2023 2045 6e61 626c  nable()  # Enabl
-00003640: 6520 6275 7474 6f6e 2074 6f20 726f 7461  e button to rota
-00003650: 7465 2069 6d61 6765 2039 3020 6465 6772  te image 90 degr
-00003660: 6565 730a 2020 2020 7265 7365 7452 6163  ees.    resetRac
-00003670: 6554 7562 6549 6d61 6765 416e 616c 7973  eTubeImageAnalys
-00003680: 6973 4275 7474 6f6e 2e65 6e61 626c 6528  isButton.enable(
-00003690: 2920 2023 2045 6e61 626c 6520 6275 7474  )  # Enable butt
-000036a0: 6f6e 2074 6f20 7265 7365 7420 616e 616c  on to reset anal
-000036b0: 7973 6973 0a0a 0a64 6566 2072 6f74 6174  ysis...def rotat
-000036c0: 6552 6163 6554 7562 6549 6d61 6765 2829  eRaceTubeImage()
-000036d0: 3a0a 2020 2020 2222 2252 6f74 6174 6520  :.    """Rotate 
-000036e0: 6375 7272 656e 7420 696d 6167 6520 3930  current image 90
-000036f0: 2064 6567 7265 6573 2063 6c6f 636b 7769   degrees clockwi
-00003700: 7365 2e22 2222 0a20 2020 2067 6c6f 6261  se.""".    globa
-00003710: 6c20 7261 7749 6d61 6765 0a20 2020 2067  l rawImage.    g
-00003720: 6c6f 6261 6c20 726f 7461 7465 4465 670a  lobal rotateDeg.
-00003730: 0a20 2020 2072 6f74 6174 6544 6567 202b  .    rotateDeg +
-00003740: 3d20 3930 2020 2320 496e 6372 656d 656e  = 90  # Incremen
-00003750: 7420 726f 7461 7469 6f6e 2061 6e67 6c65  t rotation angle
-00003760: 2062 7920 3930 2064 6567 7265 6573 2063   by 90 degrees c
-00003770: 6c6f 636b 7769 7365 0a20 2020 2072 6967  lockwise.    rig
-00003780: 6874 496d 6167 6520 3d20 7261 7749 6d61  htImage = rawIma
-00003790: 6765 2e72 6f74 6174 6528 726f 7461 7465  ge.rotate(rotate
-000037a0: 4465 672c 2065 7870 616e 643d 3129 2e72  Deg, expand=1).r
-000037b0: 6573 697a 6528 2831 3136 302c 2034 3030  esize((1160, 400
-000037c0: 2929 2020 2320 5365 7420 696e 7465 726d  ))  # Set interm
-000037d0: 6564 6961 7465 2069 6d61 6765 2074 6f20  ediate image to 
-000037e0: 7261 7720 696d 6167 6520 726f 7461 7465  raw image rotate
-000037f0: 6420 6279 2072 6f74 6174 6544 6567 2064  d by rotateDeg d
-00003800: 6567 7265 6573 2063 6c6f 636b 7769 7365  egrees clockwise
-00003810: 2023 5249 4748 5448 4552 450a 2020 2020   #RIGHTHERE.    
-00003820: 6469 7370 6c61 7952 6163 6554 7562 6549  displayRaceTubeI
-00003830: 6d61 6765 2872 6967 6874 496d 6167 6529  mage(rightImage)
-00003840: 2020 2320 4469 7370 6c61 7920 7261 6365    # Display race
-00003850: 2074 7562 6520 696d 6167 650a 0a0a 6465   tube image...de
-00003860: 6620 6469 7370 6c61 7952 6163 6554 7562  f displayRaceTub
-00003870: 6549 6d61 6765 2869 6d61 6765 293a 0a20  eImage(image):. 
-00003880: 2020 2022 2222 4469 7370 6c61 7920 7261     """Display ra
-00003890: 6365 2074 7562 6520 696d 6167 652e 2222  ce tube image.""
-000038a0: 220a 0a20 2020 2068 6f6d 6554 6162 5261  "..    homeTabRa
-000038b0: 6365 5475 6265 496d 6167 654f 626a 6563  ceTubeImageObjec
-000038c0: 742e 636c 6561 7228 2920 2023 2043 6c65  t.clear()  # Cle
-000038d0: 6172 2069 6d61 6765 2066 7261 6d65 0a20  ar image frame. 
-000038e0: 2020 2068 6f6d 6554 6162 5261 6365 5475     homeTabRaceTu
-000038f0: 6265 496d 6167 654f 626a 6563 742e 696d  beImageObject.im
-00003900: 6167 6528 302c 2030 2c20 696d 6167 6529  age(0, 0, image)
-00003910: 2020 2320 4469 7370 6c61 7920 696e 7465    # Display inte
-00003920: 726d 6564 6961 7465 2069 6d61 6765 2069  rmediate image i
-00003930: 6e20 696d 6167 6520 6672 616d 650a 0a0a  n image frame...
-00003940: 6465 6620 6c6f 636b 416e 6441 6e61 6c79  def lockAndAnaly
-00003950: 7a65 5261 6365 5475 6265 496d 6167 6528  zeRaceTubeImage(
-00003960: 293a 0a20 2020 2022 2222 4c6f 636b 2069  ):.    """Lock i
-00003970: 6d61 6765 2069 6e20 6375 7272 656e 7420  mage in current 
-00003980: 726f 7461 7469 6f6e 2061 6e64 2062 6567  rotation and beg
-00003990: 696e 2061 6e61 6c79 7369 7320 7072 6f6d  in analysis prom
-000039a0: 7074 732e 2222 220a 2020 2020 676c 6f62  pts.""".    glob
-000039b0: 616c 2072 6f74 6174 6544 6567 0a20 2020  al rotateDeg.   
-000039c0: 2067 6c6f 6261 6c20 7261 7749 6d61 6765   global rawImage
-000039d0: 0a20 2020 2067 6c6f 6261 6c20 6669 6e61  .    global fina
-000039e0: 6c49 6d61 6765 0a20 2020 2067 6c6f 6261  lImage.    globa
-000039f0: 6c20 7475 6265 4c65 6e67 7468 0a0a 2020  l tubeLength..  
-00003a00: 2020 2320 4c6f 636b 2061 7070 2069 6e74    # Lock app int
-00003a10: 6f20 616e 616c 7973 6973 206f 6620 6375  o analysis of cu
-00003a20: 7272 656e 7420 696d 6167 650a 2020 2020  rrent image.    
-00003a30: 7570 6c6f 6164 5261 6365 5475 6265 496d  uploadRaceTubeIm
-00003a40: 6167 6542 7574 746f 6e2e 6469 7361 626c  ageButton.disabl
-00003a50: 6528 2920 2023 2044 6973 6162 6c65 2075  e()  # Disable u
-00003a60: 706c 6f61 6420 696d 6167 6520 6275 7474  pload image butt
-00003a70: 6f6e 0a20 2020 2072 6f74 6174 6552 6163  on.    rotateRac
-00003a80: 6554 7562 6549 6d61 6765 4275 7474 6f6e  eTubeImageButton
-00003a90: 2e64 6973 6162 6c65 2829 2020 2320 4469  .disable()  # Di
-00003aa0: 7361 626c 6520 726f 7461 7465 2069 6d61  sable rotate ima
-00003ab0: 6765 2062 7574 746f 6e0a 2020 2020 7261  ge button.    ra
-00003ac0: 6365 5475 6265 4c65 6e67 7468 5465 7874  ceTubeLengthText
-00003ad0: 426f 782e 6469 7361 626c 6528 2920 2023  Box.disable()  #
-00003ae0: 2044 6973 6162 6c65 2074 7562 6520 6c65   Disable tube le
-00003af0: 6e67 7468 2069 6e70 7574 0a20 2020 206c  ngth input.    l
-00003b00: 6f63 6b41 6e64 416e 616c 797a 6542 7574  ockAndAnalyzeBut
-00003b10: 746f 6e2e 6469 7361 626c 6528 2920 2023  ton.disable()  #
-00003b20: 2044 6973 6162 6c65 206c 6f63 6b20 616e   Disable lock an
-00003b30: 6420 616e 616c 797a 6520 6275 7474 6f6e  d analyze button
-00003b40: 0a20 2020 2070 726f 6365 6564 4275 7474  .    proceedButt
-00003b50: 6f6e 2e65 6e61 626c 6528 2920 2023 2045  on.enable()  # E
-00003b60: 6e61 626c 6520 7072 6f63 6565 6420 6275  nable proceed bu
-00003b70: 7474 6f6e 0a20 2020 2023 2049 6e69 7469  tton.    # Initi
-00003b80: 6174 6520 616e 616c 7973 6973 206f 6620  ate analysis of 
-00003b90: 6375 7272 656e 7420 696d 6167 650a 2020  current image.  
-00003ba0: 2020 6669 6e61 6c44 6567 203d 2039 3020    finalDeg = 90 
-00003bb0: 2a20 2828 726f 7461 7465 4465 6720 2f20  * ((rotateDeg / 
-00003bc0: 3930 2920 2520 3429 2020 2320 5365 7420  90) % 4)  # Set 
-00003bd0: 6669 6e61 6c20 726f 7461 7469 6f6e 2061  final rotation a
-00003be0: 6e67 6c65 2074 6f20 7369 6d70 6c69 6669  ngle to simplifi
-00003bf0: 6564 2072 6f74 6174 696f 6e20 616e 676c  ed rotation angl
-00003c00: 650a 2020 2020 6669 6e61 6c49 6d61 6765  e.    finalImage
-00003c10: 203d 2072 6177 496d 6167 652e 726f 7461   = rawImage.rota
-00003c20: 7465 2866 696e 616c 4465 672c 2065 7870  te(finalDeg, exp
-00003c30: 616e 643d 3129 2e72 6573 697a 6528 2831  and=1).resize((1
-00003c40: 3136 302c 2034 3030 2929 2020 2320 5365  160, 400))  # Se
-00003c50: 7420 6669 6e61 6c20 696d 6167 6520 746f  t final image to
-00003c60: 2072 6177 2069 6d61 6765 2072 6f74 6174   raw image rotat
-00003c70: 6564 2062 7920 6669 6e61 6c20 726f 7461  ed by final rota
-00003c80: 7469 6f6e 2061 6e67 6c65 2023 5249 4748  tion angle #RIGH
-00003c90: 5448 4552 450a 2020 2020 7475 6265 4c65  THERE.    tubeLe
-00003ca0: 6e67 7468 203d 2072 6163 6554 7562 654c  ngth = raceTubeL
-00003cb0: 656e 6774 6854 6578 7442 6f78 2e76 616c  engthTextBox.val
-00003cc0: 7565 2020 2320 5365 7420 7475 6265 206c  ue  # Set tube l
-00003cd0: 656e 6774 6820 746f 2076 616c 7565 2069  ength to value i
-00003ce0: 6e20 696e 7075 7420 626f 780a 2020 2020  n input box.    
-00003cf0: 6765 7454 696d 654d 6172 6b54 6162 6c65  getTimeMarkTable
-00003d00: 4461 7461 2829 2020 2320 5361 7665 2074  Data()  # Save t
-00003d10: 7562 6520 6d61 726b 2074 696d 6520 7661  ube mark time va
-00003d20: 6c75 6573 2074 6f20 7661 7269 6162 6c65  lues to variable
-00003d30: 0a20 2020 2069 6465 6e74 6966 7948 6f72  .    identifyHor
-00003d40: 697a 6f6e 7461 6c4c 696e 6573 2829 2020  izontalLines()  
-00003d50: 2320 4265 6769 6e20 7475 6265 2062 6f75  # Begin tube bou
-00003d60: 6e64 6172 7920 616e 616c 7973 6973 0a0a  ndary analysis..
-00003d70: 0a64 6566 2063 616e 6365 6c49 6d61 6765  .def cancelImage
-00003d80: 416e 616c 7973 6973 2829 3a0a 2020 2020  Analysis():.    
-00003d90: 2222 2243 616e 6365 6c20 6375 7272 656e  """Cancel curren
-00003da0: 7420 7261 6365 2074 7562 6520 696d 6167  t race tube imag
-00003db0: 6520 6265 696e 6720 616e 616c 797a 6564  e being analyzed
-00003dc0: 2061 6e64 207a 6572 6f20 6f75 7420 616c   and zero out al
-00003dd0: 6c20 7265 6c65 7661 6e74 2067 6c6f 6261  l relevant globa
-00003de0: 6c20 7661 7269 6162 6c65 732e 2222 220a  l variables.""".
-00003df0: 2020 2020 676c 6f62 616c 2061 6e61 6c53      global analS
-00003e00: 7461 7465 0a20 2020 2067 6c6f 6261 6c20  tate.    global 
-00003e10: 7261 7749 6d61 6765 0a20 2020 2067 6c6f  rawImage.    glo
-00003e20: 6261 6c20 696d 6167 654e 616d 650a 2020  bal imageName.  
-00003e30: 2020 676c 6f62 616c 2072 6967 6874 496d    global rightIm
-00003e40: 6167 650a 2020 2020 676c 6f62 616c 2066  age.    global f
-00003e50: 696e 616c 496d 6167 650a 2020 2020 676c  inalImage.    gl
-00003e60: 6f62 616c 2070 7265 6c69 6d43 6f6e 7465  obal prelimConte
-00003e70: 6e74 730a 2020 2020 676c 6f62 616c 2074  nts.    global t
-00003e80: 7562 654c 656e 6774 680a 2020 2020 676c  ubeLength.    gl
-00003e90: 6f62 616c 2074 7562 6542 6f75 6e64 730a  obal tubeBounds.
-00003ea0: 2020 2020 676c 6f62 616c 206d 6561 6e54      global meanT
-00003eb0: 7562 6557 6964 7468 0a20 2020 2067 6c6f  ubeWidth.    glo
-00003ec0: 6261 6c20 6d65 616e 5475 6265 536c 6f70  bal meanTubeSlop
-00003ed0: 650a 2020 2020 676c 6f62 616c 2068 6f72  e.    global hor
-00003ee0: 697a 6f6e 7461 6c4c 696e 6573 0a20 2020  izontalLines.   
-00003ef0: 2067 6c6f 6261 6c20 7469 6d65 4d61 726b   global timeMark
-00003f00: 4c69 6e65 730a 2020 2020 676c 6f62 616c  Lines.    global
-00003f10: 2062 616e 644c 696e 6573 0a20 2020 2067   bandLines.    g
-00003f20: 6c6f 6261 6c20 6465 6e73 6974 7950 726f  lobal densityPro
-00003f30: 6669 6c65 730a 0a20 2020 2061 6e61 6c53  files..    analS
-00003f40: 7461 7465 203d 202d 3120 2023 2053 6574  tate = -1  # Set
-00003f50: 2061 6e61 6c79 7369 7320 7374 6174 6520   analysis state 
-00003f60: 746f 202d 310a 2020 2020 686f 6d65 5461  to -1.    homeTa
-00003f70: 6252 6163 6554 7562 6549 6d61 6765 4f62  bRaceTubeImageOb
-00003f80: 6a65 6374 2e63 6c65 6172 2829 2020 2320  ject.clear()  # 
-00003f90: 436c 6561 7220 696d 6167 6520 6672 616d  Clear image fram
-00003fa0: 650a 2020 2020 7261 7749 6d61 6765 2c20  e.    rawImage, 
-00003fb0: 7269 6768 7449 6d61 6765 2c20 6669 6e61  rightImage, fina
-00003fc0: 6c49 6d61 6765 203d 204e 6f6e 652c 204e  lImage = None, N
-00003fd0: 6f6e 652c 204e 6f6e 6520 2023 205a 6572  one, None  # Zer
-00003fe0: 6f20 6f75 7420 696d 6167 6520 7661 7269  o out image vari
-00003ff0: 6162 6c65 730a 2020 2020 696d 6167 654e  ables.    imageN
-00004000: 616d 6520 3d20 2222 2020 2320 5a65 726f  ame = ""  # Zero
-00004010: 206f 7574 2063 7572 7265 6e74 2069 6d61   out current ima
-00004020: 6765 206e 616d 650a 2020 2020 7072 656c  ge name.    prel
-00004030: 696d 436f 6e74 656e 7473 203d 205b 5b22  imContents = [["
-00004040: 5072 656c 696d 696e 6172 7920 5065 7269  Preliminary Peri
-00004050: 6f64 2044 6174 6122 2c20 2222 2c20 2222  od Data", "", ""
-00004060: 5d2c 205b 2254 7562 6522 2c20 2223 204d  ], ["Tube", "# M
-00004070: 6172 6b73 222c 2022 4176 6572 6167 6520  arks", "Average 
-00004080: 4c69 6e65 6172 2052 6567 7265 7373 696f  Linear Regressio
-00004090: 6e20 5065 7269 6f64 2028 6872 7329 225d  n Period (hrs)"]
-000040a0: 5d20 2023 2052 6573 6574 2070 7265 6c69  ]  # Reset preli
-000040b0: 6d69 6e61 7279 2064 6174 6120 636f 6e74  minary data cont
-000040c0: 656e 7473 2074 6f20 6865 6164 6572 730a  ents to headers.
-000040d0: 2020 2020 2370 7265 6c69 6d43 6869 6c64      #prelimChild
-000040e0: 7265 6e20 3d20 686f 6d65 5461 6250 7265  ren = homeTabPre
-000040f0: 6c69 6d69 6e61 7279 4461 7461 416e 616c  liminaryDataAnal
-00004100: 7973 6973 4672 616d 652e 6368 696c 6472  ysisFrame.childr
-00004110: 656e 0a20 2020 2023 666f 7220 6368 696c  en.    #for chil
-00004120: 6420 696e 2070 7265 6c69 6d43 6869 6c64  d in prelimChild
-00004130: 7265 6e0a 2020 2020 686f 6d65 5461 6250  ren.    homeTabP
-00004140: 7265 6c69 6d69 6e61 7279 4461 7461 416e  reliminaryDataAn
-00004150: 616c 7973 6973 5465 7874 426f 782e 7661  alysisTextBox.va
-00004160: 6c75 6520 3d20 2222 2020 2320 5a65 726f  lue = ""  # Zero
-00004170: 206f 7574 2070 7265 6c69 6d69 6e61 7279   out preliminary
-00004180: 2064 6174 6120 7465 7874 2062 6f78 0a20   data text box. 
-00004190: 2020 2074 7562 654c 656e 6774 6820 3d20     tubeLength = 
-000041a0: 2222 2020 2320 5a65 726f 206f 7574 2074  ""  # Zero out t
-000041b0: 7562 6520 6c65 6e67 7468 0a20 2020 2074  ube length.    t
-000041c0: 7562 6542 6f75 6e64 7320 3d20 5b5d 2020  ubeBounds = []  
-000041d0: 2320 5a65 726f 206f 7574 2074 7562 6520  # Zero out tube 
-000041e0: 626f 756e 6461 7269 6573 206c 6973 740a  boundaries list.
-000041f0: 2020 2020 6d65 616e 5475 6265 5769 6474      meanTubeWidt
-00004200: 6820 3d20 2d31 2020 2320 5a65 726f 206f  h = -1  # Zero o
-00004210: 7574 206d 6561 6e20 7475 6265 2077 6964  ut mean tube wid
-00004220: 7468 0a20 2020 206d 6561 6e54 7562 6553  th.    meanTubeS
-00004230: 6c6f 7065 203d 204e 6f6e 6520 2023 205a  lope = None  # Z
-00004240: 6572 6f20 6f75 7420 6d65 616e 2068 6f72  ero out mean hor
-00004250: 697a 6f6e 7461 6c20 736c 6f70 650a 2020  izontal slope.  
-00004260: 2020 686f 7269 7a6f 6e74 616c 4c69 6e65    horizontalLine
-00004270: 732c 2074 696d 654d 6172 6b4c 696e 6573  s, timeMarkLines
-00004280: 2c20 6261 6e64 4c69 6e65 7320 3d20 5b5d  , bandLines = []
-00004290: 2c20 5b5d 2c20 5b5d 2020 2320 5a65 726f  , [], []  # Zero
-000042a0: 206f 7574 2068 6f72 697a 6f6e 7461 6c2c   out horizontal,
-000042b0: 2074 696d 6520 6d61 726b 2c20 616e 6420   time mark, and 
-000042c0: 6261 6e64 206c 696e 6520 6c69 7374 730a  band line lists.
-000042d0: 2020 2020 6465 6e73 6974 7950 726f 6669      densityProfi
-000042e0: 6c65 7320 3d20 5b5d 2020 2320 5a65 726f  les = []  # Zero
-000042f0: 206f 7574 2064 656e 7369 746f 6d65 7472   out densitometr
-00004300: 790a 2020 2020 686f 6d65 5461 6243 6f6e  y.    homeTabCon
-00004310: 736f 6c65 5465 7874 426f 782e 7661 6c75  soleTextBox.valu
-00004320: 6520 3d20 2222 2020 2320 5a65 726f 206f  e = ""  # Zero o
-00004330: 7574 2063 6f6e 736f 6c65 2074 6578 7420  ut console text 
-00004340: 626f 780a 0a20 2020 2073 6176 6554 7562  box..    saveTub
-00004350: 6573 546f 4669 6c65 4275 7474 6f6e 2e64  esToFileButton.d
-00004360: 6973 6162 6c65 2829 0a20 2020 2075 706c  isable().    upl
-00004370: 6f61 6452 6163 6554 7562 6549 6d61 6765  oadRaceTubeImage
-00004380: 4275 7474 6f6e 2e65 6e61 626c 6528 2920  Button.enable() 
-00004390: 2023 2045 6e61 626c 6520 7570 6c6f 6164   # Enable upload
-000043a0: 2072 6163 6520 7475 6265 2069 6d61 6765   race tube image
-000043b0: 2062 7574 746f 6e0a 2020 2020 726f 7461   button.    rota
-000043c0: 7465 5261 6365 5475 6265 496d 6167 6542  teRaceTubeImageB
-000043d0: 7574 746f 6e2e 6469 7361 626c 6528 2920  utton.disable() 
-000043e0: 2023 2044 6973 6162 6c65 2072 6f74 6174   # Disable rotat
-000043f0: 6520 696d 6167 6520 6275 7474 6f6e 0a20  e image button. 
-00004400: 2020 2072 6163 6554 7562 654c 656e 6774     raceTubeLengt
-00004410: 6854 6578 7442 6f78 2e65 6e61 626c 6528  hTextBox.enable(
-00004420: 2920 2023 2045 6e61 626c 6520 7261 6365  )  # Enable race
-00004430: 2074 7562 6520 6c65 6e67 7468 2074 6578   tube length tex
-00004440: 7420 626f 780a 2020 2020 6c6f 636b 416e  t box.    lockAn
-00004450: 6441 6e61 6c79 7a65 4275 7474 6f6e 2e64  dAnalyzeButton.d
-00004460: 6973 6162 6c65 2829 2020 2320 4469 7361  isable()  # Disa
-00004470: 626c 6520 6c6f 636b 2061 6e64 2061 6e61  ble lock and ana
-00004480: 6c79 7a65 2062 7574 746f 6e0a 2020 2020  lyze button.    
-00004490: 7072 6f63 6565 6442 7574 746f 6e2e 6469  proceedButton.di
-000044a0: 7361 626c 6528 2920 2023 2044 6973 6162  sable()  # Disab
-000044b0: 6c65 2070 726f 6365 6564 2062 7574 746f  le proceed butto
-000044c0: 6e0a 0a0a 6465 6620 7570 6461 7465 5072  n...def updatePr
-000044d0: 656c 696d 696e 6172 7944 6174 6144 6973  eliminaryDataDis
-000044e0: 706c 6179 2829 3a0a 2020 2020 2222 2255  play():.    """U
-000044f0: 7064 6174 6520 7072 656c 696d 696e 6172  pdate preliminar
-00004500: 7920 6461 7461 2074 6578 7420 626f 782e  y data text box.
-00004510: 2222 220a 2020 2020 676c 6f62 616c 2070  """.    global p
-00004520: 7265 6c69 6d43 6f6e 7465 6e74 730a 0a20  relimContents.. 
-00004530: 2020 2074 6578 7420 3d20 2222 2020 2320     text = ""  # 
-00004540: 426c 616e 6b20 7374 7269 6e67 2066 6f72  Blank string for
-00004550: 2074 6578 740a 2020 2020 666f 7220 696e   text.    for in
-00004560: 6465 782c 206c 696e 6520 696e 2065 6e75  dex, line in enu
-00004570: 6d65 7261 7465 2870 7265 6c69 6d43 6f6e  merate(prelimCon
-00004580: 7465 6e74 7329 3a20 2023 2046 6f72 2065  tents):  # For e
-00004590: 6163 6820 6c69 6e65 206f 6620 7072 656c  ach line of prel
-000045a0: 696d 696e 6172 7920 6461 7461 206c 6973  iminary data lis
-000045b0: 740a 2020 2020 2020 2020 6966 2069 6e64  t.        if ind
-000045c0: 6578 203d 3d20 303a 0a20 2020 2020 2020  ex == 0:.       
-000045d0: 2020 2020 2074 6578 7420 2b3d 206c 696e       text += lin
-000045e0: 655b 305d 202b 2022 5c6e 5c6e 220a 2020  e[0] + "\n\n".  
-000045f0: 2020 2020 2020 656c 6966 2069 6e64 6578        elif index
-00004600: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
-00004610: 2020 2074 6578 7420 2b3d 206c 696e 655b     text += line[
-00004620: 305d 202b 2022 2022 202a 2028 3720 2d20  0] + " " * (7 - 
-00004630: 6c65 6e28 6c69 6e65 5b30 5d29 2920 2023  len(line[0]))  #
-00004640: 2041 7070 656e 6420 7475 6265 206e 756d   Append tube num
-00004650: 6265 7220 616e 6420 7370 6163 696e 6720  ber and spacing 
-00004660: 746f 2074 6578 740a 2020 2020 2020 2020  to text.        
-00004670: 2020 2020 7465 7874 202b 3d20 6c69 6e65      text += line
-00004680: 5b31 5d20 2b20 2220 2220 2a20 2831 3020  [1] + " " * (10 
-00004690: 2d20 6c65 6e28 6c69 6e65 5b31 5d29 2920  - len(line[1])) 
-000046a0: 2023 2041 7070 656e 6420 6e75 6d62 6572   # Append number
-000046b0: 206f 6620 7469 6d65 206d 6172 6b73 2061   of time marks a
-000046c0: 6e64 2073 7061 6369 6e67 2074 6f20 7465  nd spacing to te
-000046d0: 7874 0a20 2020 2020 2020 2020 2020 2074  xt.            t
-000046e0: 6578 7420 2b3d 206c 696e 655b 325d 202b  ext += line[2] +
-000046f0: 2022 2022 202a 2028 3233 202d 206c 656e   " " * (23 - len
-00004700: 286c 696e 655b 325d 2929 202b 2022 5c6e  (line[2])) + "\n
-00004710: 2220 2023 2041 7070 656e 6420 6d61 6e75  "  # Append manu
-00004720: 616c 6c79 2063 616c 6375 6c61 7465 6420  ally calculated 
-00004730: 7065 7269 6f64 2061 6e64 2073 7061 6369  period and spaci
-00004740: 6e67 2061 6e64 206e 6577 6c69 6e65 2074  ng and newline t
-00004750: 6f20 7465 7874 0a20 2020 2020 2020 2065  o text.        e
-00004760: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00004770: 2074 6578 7420 2b3d 2022 2022 202b 206c   text += " " + l
-00004780: 696e 655b 305d 202b 2022 2022 202a 2028  ine[0] + " " * (
-00004790: 3620 2d20 6c65 6e28 6c69 6e65 5b30 5d29  6 - len(line[0])
-000047a0: 2920 2023 2041 7070 656e 6420 7475 6265  )  # Append tube
-000047b0: 206e 756d 6265 7220 616e 6420 7370 6163   number and spac
-000047c0: 696e 6720 746f 2074 6578 740a 2020 2020  ing to text.    
-000047d0: 2020 2020 2020 2020 7465 7874 202b 3d20          text += 
-000047e0: 2220 2020 2220 2b20 6c69 6e65 5b31 5d20  "   " + line[1] 
-000047f0: 2b20 2220 2220 2a20 2837 202d 206c 656e  + " " * (7 - len
-00004800: 286c 696e 655b 315d 2929 2020 2320 4170  (line[1]))  # Ap
-00004810: 7065 6e64 206e 756d 6265 7220 6f66 2074  pend number of t
-00004820: 696d 6520 6d61 726b 7320 616e 6420 7370  ime marks and sp
-00004830: 6163 696e 6720 746f 2074 6578 740a 2020  acing to text.  
-00004840: 2020 2020 2020 2020 2020 7465 7874 202b            text +
-00004850: 3d20 2220 2020 2020 2020 2022 202b 206c  = "        " + l
-00004860: 696e 655b 325d 202b 2022 2022 202a 2028  ine[2] + " " * (
-00004870: 3135 202d 206c 656e 286c 696e 655b 325d  15 - len(line[2]
-00004880: 2929 202b 2022 5c6e 2220 2023 2041 7070  )) + "\n"  # App
-00004890: 656e 6420 6d61 6e75 616c 6c79 2063 616c  end manually cal
-000048a0: 6375 6c61 7465 6420 7065 7269 6f64 2061  culated period a
-000048b0: 6e64 2073 7061 6369 6e67 2061 6e64 206e  nd spacing and n
-000048c0: 6577 6c69 6e65 2074 6f20 7465 7874 0a20  ewline to text. 
-000048d0: 2020 2068 6f6d 6554 6162 5072 656c 696d     homeTabPrelim
-000048e0: 696e 6172 7944 6174 6141 6e61 6c79 7369  inaryDataAnalysi
-000048f0: 7354 6578 7442 6f78 2e76 616c 7565 203d  sTextBox.value =
-00004900: 2074 6578 7420 2023 2053 6574 2070 7265   text  # Set pre
-00004910: 6c69 6d69 6e61 7279 2064 6174 6120 7465  liminary data te
-00004920: 7874 2062 6f78 2074 6f20 7465 7874 2076  xt box to text v
-00004930: 6172 6961 626c 650a 0a0a 6465 6620 6964  ariable...def id
-00004940: 656e 7469 6679 486f 7269 7a6f 6e74 616c  entifyHorizontal
-00004950: 4c69 6e65 7328 293a 0a20 2020 2022 2222  Lines():.    """
-00004960: 416e 616c 797a 6520 686f 7269 7a6f 6e74  Analyze horizont
-00004970: 616c 2062 6f75 6e64 6172 6965 7320 6f66  al boundaries of
-00004980: 2074 7562 6573 2069 6e20 696d 6167 652e   tubes in image.
-00004990: 2222 220a 0a0a 2020 2020 676c 6f62 616c  """...    global
-000049a0: 2066 696e 616c 496d 6167 650a 2020 2020   finalImage.    
-000049b0: 676c 6f62 616c 2061 6e61 6c53 7461 7465  global analState
-000049c0: 0a20 2020 2067 6c6f 6261 6c20 686f 7269  .    global hori
-000049d0: 7a6f 6e74 616c 4c69 6e65 730a 2020 2020  zontalLines.    
-000049e0: 676c 6f62 616c 206d 6561 6e54 7562 6553  global meanTubeS
-000049f0: 6c6f 7065 0a0a 0a20 2020 2061 6e61 6c53  lope...    analS
-00004a00: 7461 7465 203d 2031 2020 2320 5365 7420  tate = 1  # Set 
-00004a10: 616e 616c 7973 6973 2073 7461 7465 2074  analysis state t
-00004a20: 6f20 310a 2020 2020 6564 6974 6564 496d  o 1.    editedIm
-00004a30: 6167 6520 3d20 6e75 6d70 792e 6172 7261  age = numpy.arra
-00004a40: 7928 6669 6e61 6c49 6d61 6765 2e63 6f6e  y(finalImage.con
-00004a50: 7665 7274 2822 4c22 2929 2020 2320 4372  vert("L"))  # Cr
-00004a60: 6561 7465 206e 756d 7079 2061 7272 6179  eate numpy array
-00004a70: 206f 6620 6669 6e61 6c20 696d 6167 6520   of final image 
-00004a80: 696e 2067 7265 7973 6361 6c65 0a20 2020  in greyscale.   
-00004a90: 200a 2020 2020 686f 7269 7a6f 6e74 616c   .    horizontal
-00004aa0: 4c69 6e65 536c 6f70 6573 2c20 686f 7269  LineSlopes, hori
-00004ab0: 7a6f 6e74 616c 4c69 6e65 496e 7465 7263  zontalLineInterc
-00004ac0: 6570 7473 2c20 6d65 616e 5475 6265 536c  epts, meanTubeSl
-00004ad0: 6f70 6520 3d20 7149 6465 6e74 6966 7948  ope = qIdentifyH
-00004ae0: 6f72 697a 6f6e 7461 6c4c 696e 6573 2865  orizontalLines(e
-00004af0: 6469 7465 6449 6d61 6765 290a 2020 2020  ditedImage).    
-00004b00: 0a20 2020 2068 6f72 697a 6f6e 7461 6c4c  .    horizontalL
-00004b10: 696e 6573 203d 205b 5d20 2023 2042 6c61  ines = []  # Bla
-00004b20: 6e6b 2067 6c6f 6261 6c20 6c69 7374 206f  nk global list o
-00004b30: 6620 686f 7269 7a6f 6e74 616c 2074 7562  f horizontal tub
-00004b40: 6520 626f 756e 6461 7279 206c 696e 6573  e boundary lines
-00004b50: 0a20 2020 2023 2050 6f70 756c 6174 6520  .    # Populate 
-00004b60: 676c 6f62 616c 2068 6f72 697a 6f6e 7461  global horizonta
-00004b70: 6c20 6c69 6e65 7320 6c69 7374 0a20 2020  l lines list.   
-00004b80: 2066 6f72 206c 696e 6520 696e 2072 616e   for line in ran
-00004b90: 6765 2830 2c20 6c65 6e28 686f 7269 7a6f  ge(0, len(horizo
-00004ba0: 6e74 616c 4c69 6e65 536c 6f70 6573 2929  ntalLineSlopes))
-00004bb0: 3a20 2023 2046 6f72 2065 6163 6820 686f  :  # For each ho
-00004bc0: 7269 7a6f 6e74 616c 206c 696e 650a 2020  rizontal line.  
-00004bd0: 2020 2020 2020 686f 7269 7a6f 6e74 616c        horizontal
-00004be0: 4c69 6e65 732e 6170 7065 6e64 285b 686f  Lines.append([ho
-00004bf0: 7269 7a6f 6e74 616c 4c69 6e65 536c 6f70  rizontalLineSlop
-00004c00: 6573 5b6c 696e 655d 2c20 686f 7269 7a6f  es[line], horizo
-00004c10: 6e74 616c 4c69 6e65 496e 7465 7263 6570  ntalLineIntercep
-00004c20: 7473 5b6c 696e 655d 5d29 2020 2320 4164  ts[line]])  # Ad
-00004c30: 6420 736c 6f70 6520 616e 6420 696e 7465  d slope and inte
-00004c40: 7263 6570 7420 636f 6d62 696e 6174 696f  rcept combinatio
-00004c50: 6e20 6f66 206c 696e 6520 746f 2061 6363  n of line to acc
-00004c60: 6570 7465 6420 686f 7269 7a6f 6e74 616c  epted horizontal
-00004c70: 206c 696e 6573 0a20 2020 200a 2020 2020   lines.    .    
-00004c80: 2357 7261 7020 7570 0a20 2020 2064 7261  #Wrap up.    dra
-00004c90: 774c 696e 6573 2854 7275 6529 2020 2320  wLines(True)  # 
-00004ca0: 4164 6420 6c69 6e65 7320 746f 2069 6d61  Add lines to ima
-00004cb0: 6765 0a20 2020 2061 6e61 6c53 7461 7465  ge.    analState
-00004cc0: 203d 2032 2020 2320 5365 7420 616e 616c   = 2  # Set anal
-00004cd0: 7973 6973 2073 7461 7465 2074 6f20 320a  ysis state to 2.
-00004ce0: 2020 2020 686f 6d65 5461 6243 6f6e 736f      homeTabConso
-00004cf0: 6c65 5465 7874 426f 782e 7661 6c75 6520  leTextBox.value 
-00004d00: 3d20 2243 6c69 636b 2061 2070 6f69 6e74  = "Click a point
-00004d10: 206f 6e20 7468 6520 696d 6167 6520 746f   on the image to
-00004d20: 2061 6464 206f 7220 7265 6d6f 7665 2072   add or remove r
-00004d30: 6163 6520 7475 6265 2062 6f75 6e64 6172  ace tube boundar
-00004d40: 7920 6c69 6e65 732e 2050 6c65 6173 6520  y lines. Please 
-00004d50: 6265 2073 7572 6520 746f 2069 6e63 6c75  be sure to inclu
-00004d60: 6465 206c 696e 6573 2061 2076 6572 7920  de lines a very 
-00004d70: 746f 7020 616e 6420 626f 7474 6f6d 206f  top and bottom o
-00004d80: 6620 696d 6167 652e 2057 6865 6e20 7361  f image. When sa
-00004d90: 7469 7366 6965 642c 2063 6c69 636b 2074  tisfied, click t
-00004da0: 6865 2050 726f 6365 6564 2062 7574 746f  he Proceed butto
-00004db0: 6e2e 2220 2023 2053 6574 2063 6f6e 736f  n."  # Set conso
-00004dc0: 6c65 2074 6578 7420 746f 2068 6f72 697a  le text to horiz
-00004dd0: 6f6e 7461 6c20 6c69 6e65 2069 6e73 7472  ontal line instr
-00004de0: 7563 7469 6f6e 730a 0a0a 6465 6620 7149  uctions...def qI
-00004df0: 6465 6e74 6966 7948 6f72 697a 6f6e 7461  dentifyHorizonta
-00004e00: 6c4c 696e 6573 2869 6d61 6765 293a 0a20  lLines(image):. 
-00004e10: 2020 200a 2020 2020 2320 486f 7269 7a6f     .    # Horizo
-00004e20: 6e74 616c 206c 696e 6520 4944 206d 6574  ntal line ID met
-00004e30: 686f 6420 3120 2d20 7468 6973 206d 6574  hod 1 - this met
-00004e40: 686f 6420 776f 726b 7320 6265 7374 206f  hod works best o
-00004e50: 6e20 696d 6167 6573 2077 6974 6820 6c65  n images with le
-00004e60: 7373 2063 6c65 6172 6c79 2064 6566 696e  ss clearly defin
-00004e70: 6564 2074 7562 6573 2077 6974 6820 736f  ed tubes with so
-00004e80: 6d65 2064 6172 6b20 7370 6f74 7320 696e  me dark spots in
-00004e90: 206c 6f77 2062 616e 6469 6e67 2061 7265   low banding are
-00004ea0: 6173 0a20 2020 2023 2047 6574 2076 6572  as.    # Get ver
-00004eb0: 7469 6361 6c20 6272 6967 6874 6e65 7373  tical brightness
-00004ec0: 2070 726f 6669 6c65 7320 666f 7220 6c65   profiles for le
-00004ed0: 6674 2061 6e64 2072 6967 6874 206f 6620  ft and right of 
-00004ee0: 696d 6167 650a 2020 2020 726f 774d 6561  image.    rowMea
-00004ef0: 6e73 4c65 6674 203d 205b 5d20 2023 2042  nsLeft = []  # B
-00004f00: 6c61 6e6b 206c 6973 7420 6f66 206d 6561  lank list of mea
-00004f10: 6e73 206f 6620 726f 7720 7365 676d 656e  ns of row segmen
-00004f20: 7473 2069 6e20 6c65 6674 206f 6620 696d  ts in left of im
-00004f30: 6167 650a 2020 2020 726f 774d 6561 6e73  age.    rowMeans
-00004f40: 5269 6768 7420 3d20 5b5d 2020 2320 426c  Right = []  # Bl
-00004f50: 616e 6b20 6c69 7374 206f 6620 6d65 616e  ank list of mean
-00004f60: 7320 6f66 2072 6f77 2073 6567 6d65 6e74  s of row segment
-00004f70: 7320 696e 2072 6967 6874 206f 6620 696d  s in right of im
-00004f80: 6167 650a 2020 2020 666f 7220 726f 7720  age.    for row 
-00004f90: 696e 206c 6973 7428 696d 6167 6529 3a20  in list(image): 
-00004fa0: 2023 2046 6f72 2065 6163 6820 726f 7720   # For each row 
-00004fb0: 696e 2065 6469 7465 6420 7261 6365 2074  in edited race t
-00004fc0: 7562 6520 696d 6167 650a 2020 2020 2020  ube image.      
-00004fd0: 2020 726f 774d 6561 6e73 4c65 6674 2e61    rowMeansLeft.a
-00004fe0: 7070 656e 6428 302d 696e 7428 6e75 6d70  ppend(0-int(nump
-00004ff0: 792e 6d65 616e 2872 6f77 5b3a 3235 5d29  y.mean(row[:25])
-00005000: 2929 2020 2320 4164 6420 696e 7665 7273  ))  # Add invers
-00005010: 6520 6f66 206d 6561 6e20 6f66 206c 6566  e of mean of lef
-00005020: 7420 7365 676d 656e 7420 6f66 2072 6f77  t segment of row
-00005030: 2074 6f20 6c69 7374 206f 6620 6d65 616e   to list of mean
-00005040: 7320 6f66 2072 6f77 2073 6567 6d65 6e74  s of row segment
-00005050: 7320 696e 206c 6566 7420 6f66 2069 6d61  s in left of ima
-00005060: 6765 2023 5249 4748 5448 4552 450a 2020  ge #RIGHTHERE.  
-00005070: 2020 2020 2020 726f 774d 6561 6e73 5269        rowMeansRi
-00005080: 6768 742e 6170 7065 6e64 2830 2d69 6e74  ght.append(0-int
-00005090: 286e 756d 7079 2e6d 6561 6e28 726f 775b  (numpy.mean(row[
-000050a0: 3535 303a 3537 355d 2929 2920 2023 2041  550:575])))  # A
-000050b0: 6464 2069 6e76 6572 7365 206f 6620 6d65  dd inverse of me
-000050c0: 616e 206f 6620 7269 6768 7420 7365 676d  an of right segm
-000050d0: 656e 7420 6f66 2072 6f77 2074 6f20 6c69  ent of row to li
-000050e0: 7374 206f 6620 6d65 616e 7320 6f66 2072  st of means of r
-000050f0: 6f77 2073 6567 6d65 6e74 7320 696e 2072  ow segments in r
-00005100: 6967 6874 206f 6620 696d 6167 6520 2352  ight of image #R
-00005110: 4947 4854 4845 5245 0a20 2020 2072 6f77  IGHTHERE.    row
-00005120: 4d65 616e 734c 6566 7453 6d6f 6f74 6820  MeansLeftSmooth 
-00005130: 3d20 7361 7667 6f6c 5f66 696c 7465 7228  = savgol_filter(
-00005140: 726f 774d 6561 6e73 4c65 6674 2c20 7769  rowMeansLeft, wi
-00005150: 6e64 6f77 5f6c 656e 6774 683d 3330 2c20  ndow_length=30, 
-00005160: 706f 6c79 6f72 6465 723d 322c 206d 6f64  polyorder=2, mod
-00005170: 653d 2269 6e74 6572 7022 2920 2023 2043  e="interp")  # C
-00005180: 7265 6174 6520 736d 6f6f 7468 6564 2076  reate smoothed v
-00005190: 6572 7369 6f6e 206f 6620 6c65 6674 206d  ersion of left m
-000051a0: 6561 6e73 2023 5249 4748 5448 4552 450a  eans #RIGHTHERE.
-000051b0: 2020 2020 726f 774d 6561 6e73 5269 6768      rowMeansRigh
-000051c0: 7453 6d6f 6f74 6820 3d20 7361 7667 6f6c  tSmooth = savgol
-000051d0: 5f66 696c 7465 7228 726f 774d 6561 6e73  _filter(rowMeans
-000051e0: 5269 6768 742c 2077 696e 646f 775f 6c65  Right, window_le
-000051f0: 6e67 7468 3d33 302c 2070 6f6c 796f 7264  ngth=30, polyord
-00005200: 6572 3d32 2c20 6d6f 6465 3d22 696e 7465  er=2, mode="inte
-00005210: 7270 2229 2020 2320 4372 6561 7465 2073  rp")  # Create s
-00005220: 6d6f 6f74 6865 6420 7665 7273 696f 6e20  moothed version 
-00005230: 6f66 2072 6967 6874 206d 6561 6e73 2023  of right means #
-00005240: 5249 4748 5448 4552 450a 2020 2020 726f  RIGHTHERE.    ro
-00005250: 774d 6561 6e73 4c65 6674 536d 6f6f 7468  wMeansLeftSmooth
-00005260: 4d69 6e20 3d20 6e75 6d70 792e 6d69 6e28  Min = numpy.min(
-00005270: 726f 774d 6561 6e73 4c65 6674 536d 6f6f  rowMeansLeftSmoo
-00005280: 7468 2920 2023 2047 6574 206d 696e 696d  th)  # Get minim
-00005290: 756d 206f 6620 736d 6f6f 7468 6564 206c  um of smoothed l
-000052a0: 6566 7420 6d65 616e 730a 2020 2020 726f  eft means.    ro
-000052b0: 774d 6561 6e73 5269 6768 7453 6d6f 6f74  wMeansRightSmoot
-000052c0: 684d 696e 203d 206e 756d 7079 2e6d 696e  hMin = numpy.min
-000052d0: 2872 6f77 4d65 616e 7352 6967 6874 536d  (rowMeansRightSm
-000052e0: 6f6f 7468 2920 2023 2047 6574 206d 696e  ooth)  # Get min
-000052f0: 696d 756d 206f 6620 736d 6f6f 7468 6564  imum of smoothed
-00005300: 2072 6967 6874 206d 6561 6e73 0a20 2020   right means.   
-00005310: 2066 6f72 206e 756d 2069 6e20 7261 6e67   for num in rang
-00005320: 6528 302c 2034 3030 293a 2020 2320 466f  e(0, 400):  # Fo
-00005330: 7220 6561 6368 206e 756d 6265 7220 6672  r each number fr
-00005340: 6f6d 2030 2074 6f20 3430 3020 2863 6f72  om 0 to 400 (cor
-00005350: 7265 7370 6f6e 6469 6e67 2074 6f20 7920  responding to y 
-00005360: 7661 6c75 6573 2069 6e20 696d 6167 6529  values in image)
-00005370: 2028 6e6f 726d 616c 697a 696e 6720 6d65   (normalizing me
-00005380: 616e 7320 746f 206d 696e 696d 756d 206f  ans to minimum o
-00005390: 6620 3029 2023 5249 4748 5448 4552 450a  f 0) #RIGHTHERE.
-000053a0: 2020 2020 2020 2020 726f 774d 6561 6e73          rowMeans
-000053b0: 4c65 6674 536d 6f6f 7468 5b6e 756d 5d20  LeftSmooth[num] 
-000053c0: 2d3d 2072 6f77 4d65 616e 734c 6566 7453  -= rowMeansLeftS
-000053d0: 6d6f 6f74 684d 696e 2020 2320 5375 6274  moothMin  # Subt
-000053e0: 7261 6374 206d 696e 696d 616c 2076 616c  ract minimal val
-000053f0: 7565 2066 726f 6d20 616c 6c20 7661 6c75  ue from all valu
-00005400: 6573 2069 6e20 736d 6f6f 7468 6564 206c  es in smoothed l
-00005410: 6566 7420 6d65 616e 730a 2020 2020 2020  eft means.      
-00005420: 2020 726f 774d 6561 6e73 5269 6768 7453    rowMeansRightS
-00005430: 6d6f 6f74 685b 6e75 6d5d 202d 3d20 726f  mooth[num] -= ro
-00005440: 774d 6561 6e73 5269 6768 7453 6d6f 6f74  wMeansRightSmoot
-00005450: 684d 696e 2020 2320 5375 6274 7261 6374  hMin  # Subtract
-00005460: 206d 696e 696d 616c 2076 616c 7565 2066   minimal value f
-00005470: 726f 6d20 616c 6c20 7661 6c75 6573 2069  rom all values i
-00005480: 6e20 736d 6f6f 7468 6564 2072 6967 6874  n smoothed right
-00005490: 206d 6561 6e73 0a20 2020 200a 2020 2020   means.    .    
-000054a0: 2320 4669 6e64 2074 6865 206d 696e 696d  # Find the minim
-000054b0: 6120 696e 2062 6f74 6820 7665 7274 6963  a in both vertic
-000054c0: 616c 2062 7269 6768 746e 6573 7320 7072  al brightness pr
-000054d0: 6f66 696c 6573 2061 6e64 2065 7661 6c75  ofiles and evalu
-000054e0: 6174 6520 7468 656d 0a20 2020 2072 6f77  ate them.    row
-000054f0: 4d65 616e 734c 6566 744d 696e 696d 6149  MeansLeftMinimaI
-00005500: 6e64 6963 6573 203d 2066 696e 645f 7065  ndices = find_pe
-00005510: 616b 7328 726f 774d 6561 6e73 4c65 6674  aks(rowMeansLeft
-00005520: 536d 6f6f 7468 2c20 6469 7374 616e 6365  Smooth, distance
-00005530: 3d32 352c 2074 6872 6573 686f 6c64 3d28  =25, threshold=(
-00005540: 4e6f 6e65 2c20 4e6f 6e65 292c 2068 6569  None, None), hei
-00005550: 6768 743d 302e 3838 2a6e 756d 7079 2e6d  ght=0.88*numpy.m
-00005560: 6178 2872 6f77 4d65 616e 734c 6566 7453  ax(rowMeansLeftS
-00005570: 6d6f 6f74 6829 2c20 7072 6f6d 696e 656e  mooth), prominen
-00005580: 6365 3d35 2c20 776c 656e 3d33 3030 295b  ce=5, wlen=300)[
-00005590: 305d 2e74 6f6c 6973 7428 2920 2023 2047  0].tolist()  # G
-000055a0: 6574 2069 6e64 6963 6573 206f 6620 7065  et indices of pe
-000055b0: 616b 7320 6f66 2073 6d6f 6f74 6865 6420  aks of smoothed 
-000055c0: 6c65 6674 206d 6561 6e73 2c20 636f 7272  left means, corr
-000055d0: 6573 706f 6e64 696e 6720 746f 2064 6172  esponding to dar
-000055e0: 6b65 7374 2073 706f 7473 2023 5249 4748  kest spots #RIGH
-000055f0: 5448 4552 450a 2020 2020 726f 774d 6561  THERE.    rowMea
-00005600: 6e73 5269 6768 744d 696e 696d 6149 6e64  nsRightMinimaInd
-00005610: 6963 6573 203d 2066 696e 645f 7065 616b  ices = find_peak
-00005620: 7328 726f 774d 6561 6e73 5269 6768 7453  s(rowMeansRightS
-00005630: 6d6f 6f74 682c 2064 6973 7461 6e63 653d  mooth, distance=
-00005640: 3235 2c20 7468 7265 7368 6f6c 643d 284e  25, threshold=(N
-00005650: 6f6e 652c 204e 6f6e 6529 2c20 6865 6967  one, None), heig
-00005660: 6874 3d30 2e38 382a 6e75 6d70 792e 6d61  ht=0.88*numpy.ma
-00005670: 7828 726f 774d 6561 6e73 5269 6768 7453  x(rowMeansRightS
-00005680: 6d6f 6f74 6829 2c20 7072 6f6d 696e 656e  mooth), prominen
-00005690: 6365 3d35 2c20 776c 656e 3d33 3030 295b  ce=5, wlen=300)[
-000056a0: 305d 2e74 6f6c 6973 7428 2920 2023 2047  0].tolist()  # G
-000056b0: 6574 2069 6e64 6963 6573 206f 6620 7065  et indices of pe
-000056c0: 616b 7320 6f66 2073 6d6f 6f74 6865 6420  aks of smoothed 
-000056d0: 7269 6768 7420 6d65 616e 732c 2063 6f72  right means, cor
-000056e0: 7265 7370 6f6e 6469 6e67 2074 6f20 6461  responding to da
-000056f0: 726b 6573 7420 7370 6f74 7320 2352 4947  rkest spots #RIG
-00005700: 4854 4845 5245 0a20 2020 2072 6f77 4d65  HTHERE.    rowMe
-00005710: 616e 734c 6566 744d 696e 696d 6141 6363  ansLeftMinimaAcc
-00005720: 6570 7465 6420 3d20 5b5d 2020 2320 426c  epted = []  # Bl
-00005730: 616e 6b20 6c69 7374 2066 6f72 2079 2070  ank list for y p
-00005740: 6f73 6974 696f 6e73 206f 6620 6163 6365  ositions of acce
-00005750: 7074 6564 2064 6172 6b65 7374 2070 6f69  pted darkest poi
-00005760: 6e74 7320 696e 206c 6566 7420 7265 6769  nts in left regi
-00005770: 6f6e 206f 6620 696d 6167 650a 2020 2020  on of image.    
-00005780: 726f 774d 6561 6e73 5269 6768 744d 696e  rowMeansRightMin
-00005790: 696d 6141 6363 6570 7465 6420 3d20 5b5d  imaAccepted = []
-000057a0: 2023 2042 6c61 6e6b 206c 6973 7420 666f   # Blank list fo
-000057b0: 7220 7920 706f 7369 7469 6f6e 7320 6f66  r y positions of
-000057c0: 2061 6363 6570 7465 6420 6461 726b 6573   accepted darkes
-000057d0: 7420 706f 696e 7473 2069 6e20 7269 6768  t points in righ
-000057e0: 7420 7265 6769 6f6e 206f 6620 696d 6167  t region of imag
-000057f0: 650a 2020 2020 0a20 2020 2023 2043 6865  e.    .    # Che
-00005800: 636b 2073 6861 7270 6e65 7373 206f 6620  ck sharpness of 
-00005810: 6c65 6674 2072 6567 696f 6e20 7065 616b  left region peak
-00005820: 730a 2020 2020 666f 7220 7065 616b 496e  s.    for peakIn
-00005830: 6465 7820 696e 2072 6f77 4d65 616e 734c  dex in rowMeansL
-00005840: 6566 744d 696e 696d 6149 6e64 6963 6573  eftMinimaIndices
-00005850: 3a20 2023 2046 6f72 2065 6163 6820 7920  :  # For each y 
-00005860: 706f 7369 7469 6f6e 206f 6620 6120 6461  position of a da
-00005870: 726b 6573 7420 706f 696e 7420 696e 206c  rkest point in l
-00005880: 6566 7420 7265 6769 6f6e 206f 6620 696d  eft region of im
-00005890: 6167 650a 2020 2020 2020 2020 2020 2020  age.            
-000058a0: 736c 6f70 6573 4c65 6674 203d 205b 5d20  slopesLeft = [] 
-000058b0: 2023 2045 6d70 7479 206c 6973 7420 666f   # Empty list fo
-000058c0: 7220 6772 616e 756c 6172 2073 6c6f 7065  r granular slope
-000058d0: 7320 6c65 6674 206f 6620 7065 616b 0a20  s left of peak. 
-000058e0: 2020 2020 2020 2020 2020 2073 6c6f 7065             slope
-000058f0: 7352 6967 6874 203d 205b 5d20 2023 2045  sRight = []  # E
-00005900: 6d70 7479 206c 6973 7420 666f 7220 6772  mpty list for gr
-00005910: 616e 756c 6172 2073 6c6f 7065 7320 7269  anular slopes ri
-00005920: 6768 7420 6f66 2070 6561 6b0a 2020 2020  ght of peak.    
-00005930: 2020 2020 2020 2020 666f 7220 7857 616c          for xWal
-00005940: 6b20 696e 2072 616e 6765 2832 2c20 3132  k in range(2, 12
-00005950: 2c20 3229 3a20 2023 2046 6f72 2065 7665  , 2):  # For eve
-00005960: 7279 2032 2070 6978 656c 732c 2031 3220  ry 2 pixels, 12 
-00005970: 7069 7865 6c73 206f 7574 2069 6e20 6569  pixels out in ei
-00005980: 7468 6572 2064 6972 6563 7469 6f6e 0a20  ther direction. 
-00005990: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-000059a0: 6620 7065 616b 496e 6465 7820 2b20 7857  f peakIndex + xW
-000059b0: 616c 6b20 3c20 3430 303a 2020 2320 4966  alk < 400:  # If
-000059c0: 2071 7565 7269 6564 2070 6978 656c 2069   queried pixel i
-000059d0: 7320 7769 7468 696e 2069 6d61 6765 2023  s within image #
-000059e0: 5249 4748 5448 4552 450a 2020 2020 2020  RIGHTHERE.      
-000059f0: 2020 2020 2020 2020 2020 2020 2020 736c                sl
-00005a00: 6f70 6573 5269 6768 742e 6170 7065 6e64  opesRight.append
-00005a10: 2861 6273 2828 726f 774d 6561 6e73 4c65  (abs((rowMeansLe
-00005a20: 6674 536d 6f6f 7468 5b70 6561 6b49 6e64  ftSmooth[peakInd
-00005a30: 6578 202b 2078 5761 6c6b 5d20 2d20 726f  ex + xWalk] - ro
-00005a40: 774d 6561 6e73 4c65 6674 536d 6f6f 7468  wMeansLeftSmooth
-00005a50: 5b70 6561 6b49 6e64 6578 202b 2078 5761  [peakIndex + xWa
-00005a60: 6c6b 202d 2032 5d29 2920 2f20 3229 2020  lk - 2])) / 2)  
-00005a70: 2320 4164 6420 736c 6f70 6520 666f 7220  # Add slope for 
-00005a80: 322d 7069 7865 6c20 7365 676d 656e 7420  2-pixel segment 
-00005a90: 746f 206c 6973 7420 6f66 2072 6967 6874  to list of right
-00005aa0: 2066 6c61 6e6b 696e 6720 736c 6f70 6573   flanking slopes
-00005ab0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005ac0: 2069 6620 7065 616b 496e 6465 7820 2d20   if peakIndex - 
-00005ad0: 7857 616c 6b20 3e20 303a 2020 2320 4966  xWalk > 0:  # If
-00005ae0: 2071 7565 7269 6564 2070 6978 656c 2069   queried pixel i
-00005af0: 7320 7769 7468 696e 2069 6d61 6765 0a20  s within image. 
-00005b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b10: 2020 2073 6c6f 7065 734c 6566 742e 6170     slopesLeft.ap
-00005b20: 7065 6e64 2861 6273 2828 726f 774d 6561  pend(abs((rowMea
-00005b30: 6e73 4c65 6674 536d 6f6f 7468 5b70 6561  nsLeftSmooth[pea
-00005b40: 6b49 6e64 6578 202d 2078 5761 6c6b 5d20  kIndex - xWalk] 
-00005b50: 2d20 726f 774d 6561 6e73 4c65 6674 536d  - rowMeansLeftSm
-00005b60: 6f6f 7468 5b70 6561 6b49 6e64 6578 202d  ooth[peakIndex -
-00005b70: 2078 5761 6c6b 202b 2032 5d29 2920 2f20   xWalk + 2])) / 
-00005b80: 3229 2020 2320 4164 6420 736c 6f70 6520  2)  # Add slope 
-00005b90: 666f 7220 322d 7069 7865 6c20 7365 676d  for 2-pixel segm
-00005ba0: 656e 7420 746f 206c 6973 7420 6f66 206c  ent to list of l
-00005bb0: 6566 7420 666c 616e 6b69 6e67 2073 6c6f  eft flanking slo
-00005bc0: 7065 730a 2020 2020 2020 2020 2020 2020  pes.            
-00005bd0: 736c 6f70 654c 6566 7420 3d20 6e75 6d70  slopeLeft = nump
-00005be0: 792e 6d65 616e 2873 6c6f 7065 734c 6566  y.mean(slopesLef
-00005bf0: 7429 2020 2320 4d65 616e 2073 6c6f 7065  t)  # Mean slope
-00005c00: 2074 6f20 6c65 6674 206f 6620 7065 616b   to left of peak
-00005c10: 0a20 2020 2020 2020 2020 2020 2073 6c6f  .            slo
-00005c20: 7065 5269 6768 7420 3d20 6e75 6d70 792e  peRight = numpy.
-00005c30: 6d65 616e 2873 6c6f 7065 7352 6967 6874  mean(slopesRight
-00005c40: 2920 2023 204d 6561 6e20 736c 6f70 6520  )  # Mean slope 
-00005c50: 746f 2072 6967 6874 206f 6620 7065 616b  to right of peak
-00005c60: 0a20 2020 2020 2020 2020 2020 2073 6c6f  .            slo
-00005c70: 7065 4d69 6e20 3d20 6e75 6d70 792e 6d69  peMin = numpy.mi
-00005c80: 6e28 5b73 6c6f 7065 4c65 6674 2c20 736c  n([slopeLeft, sl
-00005c90: 6f70 6552 6967 6874 5d29 2020 2320 5368  opeRight])  # Sh
-00005ca0: 616c 6c6f 7765 7374 2073 6c6f 7065 2066  allowest slope f
-00005cb0: 6c61 6e6b 696e 6720 7065 616b 0a20 2020  lanking peak.   
-00005cc0: 2020 2020 2020 2020 2069 6620 7065 616b           if peak
-00005cd0: 496e 6465 7820 3e20 3130 2061 6e64 2070  Index > 10 and p
-00005ce0: 6561 6b49 6e64 6578 203c 2033 3930 2061  eakIndex < 390 a
-00005cf0: 6e64 2073 6c6f 7065 4d69 6e20 3e20 302e  nd slopeMin > 0.
-00005d00: 3435 3a20 2023 2049 6620 7065 616b 2069  45:  # If peak i
-00005d10: 7320 6e6f 7420 746f 6f20 636c 6f73 6520  s not too close 
-00005d20: 746f 2074 6865 2065 6467 6520 6f66 2074  to the edge of t
-00005d30: 6865 2069 6d61 6765 2061 6e64 2069 7320  he image and is 
-00005d40: 7375 6666 6963 6965 6e74 6c79 2073 7465  sufficiently ste
-00005d50: 6570 2023 5249 4748 5448 4552 450a 2020  ep #RIGHTHERE.  
-00005d60: 2020 2020 2020 2020 2020 2020 2020 726f                ro
-00005d70: 774d 6561 6e73 4c65 6674 4d69 6e69 6d61  wMeansLeftMinima
-00005d80: 4163 6365 7074 6564 2e61 7070 656e 6428  Accepted.append(
-00005d90: 7065 616b 496e 6465 7829 2020 2320 4164  peakIndex)  # Ad
-00005da0: 6420 7065 616b 2074 6f20 6c69 7374 206f  d peak to list o
-00005db0: 6620 6163 6365 7074 6564 2079 2070 6f73  f accepted y pos
-00005dc0: 6974 696f 6e73 206f 6620 6461 726b 6573  itions of darkes
-00005dd0: 7420 706f 696e 7473 2069 6e20 6c65 6674  t points in left
-00005de0: 2072 6567 696f 6e20 6f66 2069 6d61 6765   region of image
-00005df0: 0a20 2020 200a 2020 2020 2320 4368 6563  .    .    # Chec
-00005e00: 6b20 7368 6172 706e 6573 7320 6f66 2072  k sharpness of r
-00005e10: 6967 6874 2072 6567 696f 6e20 7065 616b  ight region peak
-00005e20: 730a 2020 2020 666f 7220 7065 616b 496e  s.    for peakIn
-00005e30: 6465 7820 696e 2072 6f77 4d65 616e 7352  dex in rowMeansR
-00005e40: 6967 6874 4d69 6e69 6d61 496e 6469 6365  ightMinimaIndice
-00005e50: 733a 2020 2320 466f 7220 6561 6368 2079  s:  # For each y
-00005e60: 2070 6f73 6974 696f 6e20 6f66 2061 2064   position of a d
-00005e70: 6172 6b65 7374 2070 6f69 6e74 2069 6e20  arkest point in 
-00005e80: 7269 6768 7420 7265 6769 6f6e 206f 6620  right region of 
-00005e90: 696d 6167 650a 2020 2020 2020 2020 2020  image.          
-00005ea0: 2020 736c 6f70 6573 4c65 6674 203d 205b    slopesLeft = [
-00005eb0: 5d20 2023 2045 6d70 7479 206c 6973 7420  ]  # Empty list 
-00005ec0: 666f 7220 6772 616e 756c 6172 2073 6c6f  for granular slo
-00005ed0: 7065 7320 6c65 6674 206f 6620 7065 616b  pes left of peak
-00005ee0: 0a20 2020 2020 2020 2020 2020 2073 6c6f  .            slo
-00005ef0: 7065 7352 6967 6874 203d 205b 5d20 2023  pesRight = []  #
-00005f00: 2045 6d70 7479 206c 6973 7420 666f 7220   Empty list for 
-00005f10: 6772 616e 756c 6172 2073 6c6f 7065 7320  granular slopes 
-00005f20: 7269 6768 7420 6f66 2070 6561 6b0a 2020  right of peak.  
-00005f30: 2020 2020 2020 2020 2020 666f 7220 7857            for xW
-00005f40: 616c 6b20 696e 2072 616e 6765 2832 2c20  alk in range(2, 
-00005f50: 3132 2c20 3229 3a20 2023 2046 6f72 2065  12, 2):  # For e
-00005f60: 7665 7279 2032 2070 6978 656c 732c 2031  very 2 pixels, 1
-00005f70: 3220 7069 7865 6c73 206f 7574 2069 6e20  2 pixels out in 
-00005f80: 6569 7468 6572 2064 6972 6563 7469 6f6e  either direction
-00005f90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005fa0: 2069 6620 7065 616b 496e 6465 7820 2b20   if peakIndex + 
-00005fb0: 7857 616c 6b20 3c20 3430 303a 2020 2320  xWalk < 400:  # 
-00005fc0: 4966 2071 7565 7269 6564 2070 6978 656c  If queried pixel
-00005fd0: 2069 7320 7769 7468 696e 2069 6d61 6765   is within image
-00005fe0: 2023 5249 4748 5448 4552 450a 2020 2020   #RIGHTHERE.    
-00005ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006000: 736c 6f70 6573 5269 6768 742e 6170 7065  slopesRight.appe
-00006010: 6e64 2861 6273 2828 726f 774d 6561 6e73  nd(abs((rowMeans
-00006020: 5269 6768 7453 6d6f 6f74 685b 7065 616b  RightSmooth[peak
-00006030: 496e 6465 7820 2b20 7857 616c 6b5d 202d  Index + xWalk] -
-00006040: 2072 6f77 4d65 616e 7352 6967 6874 536d   rowMeansRightSm
-00006050: 6f6f 7468 5b70 6561 6b49 6e64 6578 202b  ooth[peakIndex +
-00006060: 2078 5761 6c6b 202d 2032 5d29 2920 2f20   xWalk - 2])) / 
-00006070: 3229 2020 2320 4164 6420 736c 6f70 6520  2)  # Add slope 
-00006080: 666f 7220 322d 7069 7865 6c20 7365 676d  for 2-pixel segm
-00006090: 656e 7420 746f 206c 6973 7420 6f66 2072  ent to list of r
-000060a0: 6967 6874 2066 6c61 6e6b 696e 6720 736c  ight flanking sl
-000060b0: 6f70 6573 0a20 2020 2020 2020 2020 2020  opes.           
-000060c0: 2020 2020 2069 6620 7065 616b 496e 6465       if peakInde
-000060d0: 7820 2d20 7857 616c 6b20 3e20 303a 2020  x - xWalk > 0:  
-000060e0: 2320 4966 2071 7565 7269 6564 2070 6978  # If queried pix
-000060f0: 656c 2069 7320 7769 7468 696e 2069 6d61  el is within ima
-00006100: 6765 0a20 2020 2020 2020 2020 2020 2020  ge.             
-00006110: 2020 2020 2020 2073 6c6f 7065 734c 6566         slopesLef
-00006120: 742e 6170 7065 6e64 2861 6273 2828 726f  t.append(abs((ro
-00006130: 774d 6561 6e73 5269 6768 7453 6d6f 6f74  wMeansRightSmoot
-00006140: 685b 7065 616b 496e 6465 7820 2d20 7857  h[peakIndex - xW
-00006150: 616c 6b5d 202d 2072 6f77 4d65 616e 7352  alk] - rowMeansR
-00006160: 6967 6874 536d 6f6f 7468 5b70 6561 6b49  ightSmooth[peakI
-00006170: 6e64 6578 202d 2078 5761 6c6b 202b 2032  ndex - xWalk + 2
-00006180: 5d29 2920 2f20 3229 2020 2320 4164 6420  ])) / 2)  # Add 
-00006190: 736c 6f70 6520 666f 7220 322d 7069 7865  slope for 2-pixe
-000061a0: 6c20 7365 676d 656e 7420 746f 206c 6973  l segment to lis
-000061b0: 7420 6f66 206c 6566 7420 666c 616e 6b69  t of left flanki
-000061c0: 6e67 2073 6c6f 7065 730a 2020 2020 2020  ng slopes.      
-000061d0: 2020 2020 2020 736c 6f70 654c 6566 7420        slopeLeft 
-000061e0: 3d20 6e75 6d70 792e 6d65 616e 2873 6c6f  = numpy.mean(slo
-000061f0: 7065 734c 6566 7429 2020 2320 4d65 616e  pesLeft)  # Mean
-00006200: 2073 6c6f 7065 2074 6f20 6c65 6674 206f   slope to left o
-00006210: 6620 7065 616b 0a20 2020 2020 2020 2020  f peak.         
-00006220: 2020 2073 6c6f 7065 5269 6768 7420 3d20     slopeRight = 
-00006230: 6e75 6d70 792e 6d65 616e 2873 6c6f 7065  numpy.mean(slope
-00006240: 7352 6967 6874 2920 2023 204d 6561 6e20  sRight)  # Mean 
-00006250: 736c 6f70 6520 746f 2072 6967 6874 206f  slope to right o
-00006260: 6620 7065 616b 0a20 2020 2020 2020 2020  f peak.         
-00006270: 2020 2073 6c6f 7065 4d69 6e20 3d20 6e75     slopeMin = nu
-00006280: 6d70 792e 6d69 6e28 5b73 6c6f 7065 4c65  mpy.min([slopeLe
-00006290: 6674 2c20 736c 6f70 6552 6967 6874 5d29  ft, slopeRight])
-000062a0: 2020 2320 5368 616c 6c6f 7765 7374 2073    # Shallowest s
-000062b0: 6c6f 7065 2066 6c61 6e6b 696e 6720 7065  lope flanking pe
-000062c0: 616b 0a20 2020 2020 2020 2020 2020 2069  ak.            i
-000062d0: 6620 7065 616b 496e 6465 7820 3e20 3130  f peakIndex > 10
-000062e0: 2061 6e64 2070 6561 6b49 6e64 6578 203c   and peakIndex <
-000062f0: 2033 3930 2061 6e64 2073 6c6f 7065 4d69   390 and slopeMi
-00006300: 6e20 3e20 302e 3435 3a20 2023 2049 6620  n > 0.45:  # If 
-00006310: 7065 616b 2069 7320 6e6f 7420 746f 6f20  peak is not too 
-00006320: 636c 6f73 6520 746f 2074 6865 2065 6467  close to the edg
-00006330: 6520 6f66 2074 6865 2069 6d61 6765 2061  e of the image a
-00006340: 6e64 2069 7320 7375 6666 6963 6965 6e74  nd is sufficient
-00006350: 6c79 2073 7465 6570 2023 5249 4748 5448  ly steep #RIGHTH
-00006360: 4552 450a 2020 2020 2020 2020 2020 2020  ERE.            
-00006370: 2020 2020 726f 774d 6561 6e73 5269 6768      rowMeansRigh
-00006380: 744d 696e 696d 6141 6363 6570 7465 642e  tMinimaAccepted.
-00006390: 6170 7065 6e64 2870 6561 6b49 6e64 6578  append(peakIndex
-000063a0: 2920 2023 2041 6464 2070 6561 6b20 746f  )  # Add peak to
-000063b0: 206c 6973 7420 6f66 2061 6363 6570 7465   list of accepte
-000063c0: 6420 7920 706f 7369 7469 6f6e 7320 6f66  d y positions of
-000063d0: 2064 6172 6b65 7374 2070 6f69 6e74 7320   darkest points 
-000063e0: 696e 206c 6566 7420 7265 6769 6f6e 206f  in left region o
-000063f0: 6620 696d 6167 650a 2020 2020 0a20 2020  f image.    .   
-00006400: 2023 2041 6464 7265 7373 206d 6973 7369   # Address missi
-00006410: 6e67 2074 6f70 2f62 6f74 746f 6d20 6564  ng top/bottom ed
-00006420: 6765 730a 2020 2020 6966 206c 656e 2872  ges.    if len(r
-00006430: 6f77 4d65 616e 734c 6566 744d 696e 696d  owMeansLeftMinim
-00006440: 6141 6363 6570 7465 6429 203e 2030 3a0a  aAccepted) > 0:.
-00006450: 2020 2020 2020 2020 6966 206e 756d 7079          if numpy
-00006460: 2e6d 696e 2872 6f77 4d65 616e 734c 6566  .min(rowMeansLef
-00006470: 744d 696e 696d 6141 6363 6570 7465 6429  tMinimaAccepted)
-00006480: 203e 2031 303a 2020 2320 4966 206e 6f20   > 10:  # If no 
-00006490: 6461 726b 207a 6f6e 6520 7761 7320 6465  dark zone was de
-000064a0: 7465 6374 6564 206f 6e20 746f 7020 6564  tected on top ed
-000064b0: 6765 206f 6620 696d 6167 6520 2352 4947  ge of image #RIG
-000064c0: 4854 4845 5245 0a20 2020 2020 2020 2020  HTHERE.         
-000064d0: 2020 2072 6f77 4d65 616e 734c 6566 744d     rowMeansLeftM
-000064e0: 696e 696d 6141 6363 6570 7465 642e 6170  inimaAccepted.ap
-000064f0: 7065 6e64 2833 2920 2023 2041 6464 206f  pend(3)  # Add o
-00006500: 6e65 2061 7420 793d 330a 2020 2020 6966  ne at y=3.    if
-00006510: 206c 656e 2872 6f77 4d65 616e 7352 6967   len(rowMeansRig
-00006520: 6874 4d69 6e69 6d61 4163 6365 7074 6564  htMinimaAccepted
-00006530: 2920 3e20 303a 0a20 2020 2020 2020 2069  ) > 0:.        i
-00006540: 6620 6e75 6d70 792e 6d61 7828 726f 774d  f numpy.max(rowM
-00006550: 6561 6e73 5269 6768 744d 696e 696d 6141  eansRightMinimaA
-00006560: 6363 6570 7465 6429 203c 2033 3930 3a20  ccepted) < 390: 
-00006570: 2023 2049 6620 6e6f 2064 6172 6b20 7a6f   # If no dark zo
-00006580: 6e65 2077 6173 2064 6574 6563 7465 6420  ne was detected 
-00006590: 6f6e 2062 6f74 746f 6d20 6564 6765 206f  on bottom edge o
-000065a0: 6620 696d 6167 6520 2352 4947 4854 4845  f image #RIGHTHE
-000065b0: 5245 0a20 2020 2020 2020 2020 2020 2072  RE.            r
-000065c0: 6f77 4d65 616e 7352 6967 6874 4d69 6e69  owMeansRightMini
-000065d0: 6d61 4163 6365 7074 6564 2e61 7070 656e  maAccepted.appen
-000065e0: 6428 3339 3729 2020 2320 4164 6420 6f6e  d(397)  # Add on
-000065f0: 6520 6174 2079 3d33 3937 2023 5249 4748  e at y=397 #RIGH
-00006600: 5448 4552 450a 2020 2020 0a20 2020 2023  THERE.    .    #
-00006610: 2043 7265 6174 6520 6c69 6e65 7320 6261   Create lines ba
-00006620: 7365 6420 6f6e 2070 6169 7273 206f 6620  sed on pairs of 
-00006630: 6461 726b 2073 706f 7473 2028 6f72 206c  dark spots (or l
-00006640: 6163 6b20 7468 6572 656f 6629 0a20 2020  ack thereof).   
-00006650: 2068 6f72 697a 6f6e 7461 6c4c 696e 6553   horizontalLineS
-00006660: 6c6f 7065 7331 203d 205b 5d20 2023 2045  lopes1 = []  # E
-00006670: 6d70 7479 206c 6973 7420 6f66 2073 6c6f  mpty list of slo
-00006680: 7065 7320 666f 7220 6d65 7468 6f64 2031  pes for method 1
-00006690: 0a20 2020 2068 6f72 697a 6f6e 7461 6c4c  .    horizontalL
-000066a0: 696e 6549 6e74 6572 6365 7074 7331 203d  ineIntercepts1 =
-000066b0: 205b 5d20 2023 2045 6d70 7479 206c 6973   []  # Empty lis
-000066c0: 7420 6f66 2079 2069 6e74 6572 6365 7074  t of y intercept
-000066d0: 7320 666f 7220 6d65 7468 6f64 2031 0a20  s for method 1. 
-000066e0: 2020 2066 6f72 206d 696e 696d 7573 496e     for minimusIn
-000066f0: 6465 7820 696e 2072 6f77 4d65 616e 734c  dex in rowMeansL
-00006700: 6566 744d 696e 696d 6141 6363 6570 7465  eftMinimaAccepte
-00006710: 643a 2020 2320 466f 7220 6561 6368 2079  d:  # For each y
-00006720: 2070 6f73 6974 696f 6e20 6f66 2061 2064   position of a d
-00006730: 6172 6b20 7265 6769 6f6e 2069 6e20 6c65  ark region in le
-00006740: 6674 2072 6567 696f 6e20 6f66 2069 6d61  ft region of ima
-00006750: 6765 0a20 2020 2020 2020 206c 6566 7459  ge.        leftY
-00006760: 5661 6c20 3d20 6d69 6e69 6d75 7349 6e64  Val = minimusInd
-00006770: 6578 2020 2320 5365 7420 6c65 6674 2072  ex  # Set left r
-00006780: 6567 696f 6e20 7920 7661 6c75 6520 746f  egion y value to
-00006790: 2069 7473 656c 660a 2020 2020 2020 2020   itself.        
-000067a0: 7269 6768 7459 5661 6c20 3d20 6d69 6e69  rightYVal = mini
-000067b0: 6d75 7349 6e64 6578 2020 2320 5365 7420  musIndex  # Set 
-000067c0: 7269 6768 7420 7265 6769 6f6e 2079 2076  right region y v
-000067d0: 616c 7565 2065 7175 616c 2074 6f20 6c65  alue equal to le
-000067e0: 6674 2072 6567 696f 6e20 7920 7661 6c75  ft region y valu
-000067f0: 6520 746f 2073 7461 7274 2077 6974 682c  e to start with,
-00006800: 2069 6e20 6361 7365 206e 6f20 7061 7274   in case no part
-00006810: 6572 2069 7320 666f 756e 640a 2020 2020  er is found.    
-00006820: 2020 2020 666f 7220 7956 616c 2069 6e20      for yVal in 
-00006830: 726f 774d 6561 6e73 5269 6768 744d 696e  rowMeansRightMin
-00006840: 696d 6141 6363 6570 7465 643a 2020 2320  imaAccepted:  # 
-00006850: 466f 7220 6561 6368 2079 2070 6f73 6974  For each y posit
-00006860: 696f 6e20 6f66 2061 2064 6172 6b20 7370  ion of a dark sp
-00006870: 6f74 2069 6e20 7468 6520 7269 6768 7420  ot in the right 
-00006880: 7265 6769 6f6e 206f 6620 7468 6520 696d  region of the im
-00006890: 6167 650a 2020 2020 2020 2020 2020 2020  age.            
-000068a0: 6966 2061 6273 2879 5661 6c2d 6c65 6674  if abs(yVal-left
-000068b0: 5956 616c 2920 3c3d 2031 353a 2020 2320  YVal) <= 15:  # 
-000068c0: 4966 2079 2070 6f73 6974 696f 6e73 206f  If y positions o
-000068d0: 6620 6c65 6674 2061 6e64 2072 6967 6874  f left and right
-000068e0: 2064 6172 6b20 7370 6f74 7320 6172 6520   dark spots are 
-000068f0: 3135 2070 6978 656c 7320 6f72 206c 6573  15 pixels or les
-00006900: 7320 6469 6666 6572 656e 7420 2861 6372  s different (acr
-00006910: 6f73 7320 7e35 3030 2068 6f72 697a 6f6e  oss ~500 horizon
-00006920: 7461 6c20 7069 7865 6c73 2c20 6d65 616e  tal pixels, mean
-00006930: 696e 6720 6120 736c 6f70 6520 6f66 203c  ing a slope of <
-00006940: 302e 3033 2920 2352 4947 4854 4845 5245  0.03) #RIGHTHERE
-00006950: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006960: 2072 6967 6874 5956 616c 203d 2079 5661   rightYVal = yVa
-00006970: 6c20 2023 2053 6574 2072 6967 6874 2072  l  # Set right r
-00006980: 6567 696f 6e20 7920 7661 6c75 6520 746f  egion y value to
-00006990: 2072 6967 6874 2072 6567 696f 6e20 7920   right region y 
-000069a0: 7661 6c75 6520 696e 2071 7565 7374 696f  value in questio
-000069b0: 6e0a 2020 2020 2020 2020 736c 6f70 6520  n.        slope 
-000069c0: 3d20 2872 6967 6874 5956 616c 202d 206c  = (rightYVal - l
-000069d0: 6566 7459 5661 6c29 202f 2028 3536 322e  eftYVal) / (562.
-000069e0: 352d 3132 2e35 2920 2320 5365 7420 736c  5-12.5) # Set sl
-000069f0: 6f70 6520 746f 2073 6c6f 7065 206f 6620  ope to slope of 
-00006a00: 6c69 6e65 2063 616c 6375 6c61 7465 6420  line calculated 
-00006a10: 6173 2072 6973 652f 7275 6e20 6672 6f6d  as rise/run from
-00006a20: 206c 6566 7420 746f 2072 6967 6874 2064   left to right d
-00006a30: 6172 6b20 7370 6f74 2023 5249 4748 5448  ark spot #RIGHTH
-00006a40: 4552 450a 2020 2020 2020 2020 696e 7465  ERE.        inte
-00006a50: 7263 6570 7420 3d20 286c 6566 7459 5661  rcept = (leftYVa
-00006a60: 6c20 2d20 736c 6f70 6520 2a20 3132 2e35  l - slope * 12.5
-00006a70: 2920 2023 2053 6574 2069 6e74 6572 6365  )  # Set interce
-00006a80: 7074 2074 6f20 6361 6c63 756c 6174 6564  pt to calculated
-00006a90: 2069 6e74 6572 6365 7074 2076 6961 2079   intercept via y
-00006aa0: 3d6d 782b 6220 2352 4947 4854 4845 5245  =mx+b #RIGHTHERE
-00006ab0: 0a20 2020 2020 2020 2068 6f72 697a 6f6e  .        horizon
-00006ac0: 7461 6c4c 696e 6553 6c6f 7065 7331 2e61  talLineSlopes1.a
-00006ad0: 7070 656e 6428 736c 6f70 6529 2020 2320  ppend(slope)  # 
-00006ae0: 4164 6420 736c 6f70 6520 746f 206c 6973  Add slope to lis
-00006af0: 7420 6f66 206d 6574 686f 6420 3120 736c  t of method 1 sl
-00006b00: 6f70 6573 0a20 2020 2020 2020 2068 6f72  opes.        hor
-00006b10: 697a 6f6e 7461 6c4c 696e 6549 6e74 6572  izontalLineInter
-00006b20: 6365 7074 7331 2e61 7070 656e 6428 696e  cepts1.append(in
-00006b30: 7465 7263 6570 7429 2020 2320 4164 6420  tercept)  # Add 
-00006b40: 696e 7465 7263 6570 7420 746f 206c 6973  intercept to lis
-00006b50: 7420 6f66 206d 6574 686f 6420 3120 696e  t of method 1 in
-00006b60: 7465 7263 6570 7473 0a20 2020 200a 2020  tercepts.    .  
-00006b70: 2020 0a20 2020 2023 204d 6574 686f 6420    .    # Method 
-00006b80: 3220 2d20 7468 6973 206d 6574 686f 6420  2 - this method 
-00006b90: 776f 726b 7320 6265 7474 6572 2066 6f72  works better for
-00006ba0: 2069 6d61 6765 7320 7769 7468 2063 6c65   images with cle
-00006bb0: 6172 6c79 2064 6566 696e 6564 2072 6163  arly defined rac
-00006bc0: 6520 7475 6265 7320 7769 7468 2066 6577  e tubes with few
-00006bd0: 2064 6172 6b20 7370 6f74 7320 696e 2074   dark spots in t
-00006be0: 6865 6d0a 2020 2020 2320 4465 7465 6374  hem.    # Detect
-00006bf0: 2063 616e 6e79 2065 6467 6573 2061 6e64   canny edges and
-00006c00: 2070 6172 7365 206f 7574 206c 696b 656c   parse out likel
-00006c10: 7920 6c6f 6e67 206c 696e 6573 0a20 2020  y long lines.   
-00006c20: 2063 616e 6e79 4564 6765 7320 3d20 6361   cannyEdges = ca
-00006c30: 6e6e 7928 696d 6167 652c 2032 2c20 312c  nny(image, 2, 1,
-00006c40: 2032 3529 2020 2320 4465 7465 6374 2063   25)  # Detect c
-00006c50: 616e 6e79 2065 6467 6573 2069 6e20 6772  anny edges in gr
-00006c60: 6579 7363 616c 6520 696d 6167 650a 2020  eyscale image.  
-00006c70: 2020 6c69 6b65 6c79 486f 7269 7a6f 6e74    likelyHorizont
-00006c80: 616c 4c69 6e65 7320 3d20 7072 6f62 6162  alLines = probab
-00006c90: 696c 6973 7469 635f 686f 7567 685f 6c69  ilistic_hough_li
-00006ca0: 6e65 2863 616e 6e79 4564 6765 732c 2074  ne(cannyEdges, t
-00006cb0: 6872 6573 686f 6c64 3d31 302c 206c 696e  hreshold=10, lin
-00006cc0: 655f 6c65 6e67 7468 3d37 352c 206c 696e  e_length=75, lin
-00006cd0: 655f 6761 703d 3529 2020 2320 4765 7420  e_gap=5)  # Get 
-00006ce0: 6c6f 6e67 206c 696e 6573 2066 726f 6d20  long lines from 
-00006cf0: 6361 6e6e 7920 6564 6765 7320 2352 4947  canny edges #RIG
-00006d00: 4854 4845 5245 0a20 2020 200a 2020 2020  HTHERE.    .    
-00006d10: 2320 4163 6365 7074 2061 6e79 206c 696e  # Accept any lin
-00006d20: 6573 2074 6861 7420 6172 6520 7375 6666  es that are suff
-00006d30: 6963 6965 6e74 6c79 2068 6f72 697a 6f6e  iciently horizon
-00006d40: 7461 6c0a 2020 2020 686f 7269 7a6f 6e74  tal.    horizont
-00006d50: 616c 4c69 6e65 536c 6f70 6573 3220 3d20  alLineSlopes2 = 
-00006d60: 5b5d 2020 2320 456d 7074 7920 6c69 7374  []  # Empty list
-00006d70: 206f 6620 736c 6f70 6573 2066 726f 6d20   of slopes from 
-00006d80: 6d65 7468 6f64 2032 0a20 2020 2068 6f72  method 2.    hor
-00006d90: 697a 6f6e 7461 6c4c 696e 6549 6e74 6572  izontalLineInter
-00006da0: 6365 7074 7332 203d 205b 5d20 2023 2045  cepts2 = []  # E
-00006db0: 6d70 7479 206c 6973 7420 6f66 2079 2069  mpty list of y i
-00006dc0: 6e74 6572 6365 7074 7320 6672 6f6d 206d  ntercepts from m
-00006dd0: 6574 686f 6420 320a 2020 2020 666f 7220  ethod 2.    for 
-00006de0: 6c69 6e65 2069 6e20 6c69 6b65 6c79 486f  line in likelyHo
-00006df0: 7269 7a6f 6e74 616c 4c69 6e65 733a 2020  rizontalLines:  
-00006e00: 2320 466f 7220 6561 6368 2070 726f 6261  # For each proba
-00006e10: 6269 6c69 7374 6963 2068 6f75 6768 206c  bilistic hough l
-00006e20: 696e 650a 2020 2020 2020 2020 6966 2028  ine.        if (
-00006e30: 6c69 6e65 5b31 5d5b 305d 202d 206c 696e  line[1][0] - lin
-00006e40: 655b 305d 5b30 5d29 203d 3d20 303a 2020  e[0][0]) == 0:  
-00006e50: 2320 4966 206c 696e 6520 6973 2076 6572  # If line is ver
-00006e60: 7469 6361 6c0a 2020 2020 2020 2020 2020  tical.          
-00006e70: 2020 736c 6f70 6520 3d20 6e75 6d70 792e    slope = numpy.
-00006e80: 696e 6620 2023 2053 6574 2073 6c6f 7065  inf  # Set slope
-00006e90: 2074 6f20 696e 6669 6e69 7479 2074 6f20   to infinity to 
-00006ea0: 6176 6f69 6420 6469 7669 6469 6e67 2062  avoid dividing b
-00006eb0: 7920 300a 2020 2020 2020 2020 656c 7365  y 0.        else
-00006ec0: 3a20 2023 2049 6620 6c69 6e65 2069 7320  :  # If line is 
-00006ed0: 6e6f 7420 7665 7274 6963 616c 0a20 2020  not vertical.   
-00006ee0: 2020 2020 2020 2020 2073 6c6f 7065 203d           slope =
-00006ef0: 2028 6c69 6e65 5b31 5d5b 315d 202d 206c   (line[1][1] - l
-00006f00: 696e 655b 305d 5b31 5d29 202f 2028 6c69  ine[0][1]) / (li
-00006f10: 6e65 5b31 5d5b 305d 202d 206c 696e 655b  ne[1][0] - line[
-00006f20: 305d 5b30 5d29 2020 2320 5365 7420 736c  0][0])  # Set sl
-00006f30: 6f70 6520 746f 2073 6c6f 7065 206f 6620  ope to slope of 
-00006f40: 6c69 6e65 2063 616c 6375 6c61 7465 6420  line calculated 
-00006f50: 6173 2072 6973 652f 7275 6e0a 2020 2020  as rise/run.    
-00006f60: 2020 2020 696e 7465 7263 6570 7420 3d20      intercept = 
-00006f70: 286c 696e 655b 305d 5b31 5d20 2d20 736c  (line[0][1] - sl
-00006f80: 6f70 6520 2a20 6c69 6e65 5b30 5d5b 305d  ope * line[0][0]
-00006f90: 2920 2023 2053 6574 2069 6e74 6572 6365  )  # Set interce
-00006fa0: 7074 2074 6f20 696e 7465 7263 6570 7420  pt to intercept 
-00006fb0: 6f66 206c 696e 6520 6361 6c63 756c 6174  of line calculat
-00006fc0: 6564 2075 7369 6e67 2073 6c6f 7065 2061  ed using slope a
-00006fd0: 6e64 2079 2070 6f73 6974 696f 6e0a 2020  nd y position.  
-00006fe0: 2020 2020 2020 6966 2061 6273 2873 6c6f        if abs(slo
-00006ff0: 7065 2920 3c20 323a 2020 2320 4966 2073  pe) < 2:  # If s
-00007000: 6c6f 7065 2069 7320 6e6f 7420 746f 6f20  lope is not too 
-00007010: 7374 6565 700a 2020 2020 2020 2020 2020  steep.          
-00007020: 2020 6973 4475 706c 6963 6174 6520 3d20    isDuplicate = 
-00007030: 300a 2020 2020 2020 2020 2020 2020 666f  0.            fo
-00007040: 7220 6163 6365 7074 6564 4c69 6e65 496e  r acceptedLineIn
-00007050: 7465 7263 6570 7420 696e 2068 6f72 697a  tercept in horiz
-00007060: 6f6e 7461 6c4c 696e 6549 6e74 6572 6365  ontalLineInterce
-00007070: 7074 7332 3a0a 2020 2020 2020 2020 2020  pts2:.          
-00007080: 2020 2020 2020 6966 2061 6273 2861 6363        if abs(acc
-00007090: 6570 7465 644c 696e 6549 6e74 6572 6365  eptedLineInterce
-000070a0: 7074 202d 2069 6e74 6572 6365 7074 2920  pt - intercept) 
-000070b0: 3c20 3435 206f 7220 6162 7328 6e75 6d70  < 45 or abs(nump
-000070c0: 792e 6d65 616e 2868 6f72 697a 6f6e 7461  y.mean(horizonta
-000070d0: 6c4c 696e 6553 6c6f 7065 7332 2920 2d20  lLineSlopes2) - 
-000070e0: 736c 6f70 6529 203e 2030 2e30 3135 206f  slope) > 0.015 o
-000070f0: 7220 6e75 6d70 792e 7369 676e 286e 756d  r numpy.sign(num
-00007100: 7079 2e6d 6561 6e28 686f 7269 7a6f 6e74  py.mean(horizont
-00007110: 616c 4c69 6e65 536c 6f70 6573 3229 2920  alLineSlopes2)) 
-00007120: 213d 206e 756d 7079 2e73 6967 6e28 736c  != numpy.sign(sl
-00007130: 6f70 6529 3a20 2352 4947 4854 4845 5245  ope): #RIGHTHERE
-00007140: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007150: 2020 2020 2069 7344 7570 6c69 6361 7465       isDuplicate
-00007160: 203d 2031 0a20 2020 2020 2020 2020 2020   = 1.           
-00007170: 2069 6620 6973 4475 706c 6963 6174 6520   if isDuplicate 
-00007180: 3d3d 2030 3a0a 2020 2020 2020 2020 2020  == 0:.          
-00007190: 2020 2020 2020 686f 7269 7a6f 6e74 616c        horizontal
-000071a0: 4c69 6e65 536c 6f70 6573 322e 6170 7065  LineSlopes2.appe
-000071b0: 6e64 2873 6c6f 7065 2920 2023 2041 6464  nd(slope)  # Add
-000071c0: 2073 6c6f 7065 2074 6f20 736c 6f70 6520   slope to slope 
-000071d0: 6c69 7374 2066 6f72 206d 6574 686f 6420  list for method 
-000071e0: 320a 2020 2020 2020 2020 2020 2020 2020  2.              
-000071f0: 2020 686f 7269 7a6f 6e74 616c 4c69 6e65    horizontalLine
-00007200: 496e 7465 7263 6570 7473 322e 6170 7065  Intercepts2.appe
-00007210: 6e64 2869 6e74 6572 6365 7074 2920 2023  nd(intercept)  #
-00007220: 2041 6464 2069 6e74 6572 6365 7074 2074   Add intercept t
-00007230: 6f20 696e 7465 7263 6570 7420 6c69 7374  o intercept list
-00007240: 2066 6f72 206d 6574 686f 6420 320a 2020   for method 2.  
-00007250: 2020 0a20 2020 2023 2041 6464 7265 7373    .    # Address
-00007260: 206d 6973 7369 6e67 2074 6f70 2f62 6f74   missing top/bot
-00007270: 746f 6d20 6564 6765 730a 2020 2020 6d65  tom edges.    me
-00007280: 616e 5475 6265 536c 6f70 654d 6574 686f  anTubeSlopeMetho
-00007290: 6432 203d 206e 756d 7079 2e6d 6561 6e28  d2 = numpy.mean(
-000072a0: 686f 7269 7a6f 6e74 616c 4c69 6e65 536c  horizontalLineSl
-000072b0: 6f70 6573 3229 2023 2053 6574 206d 6574  opes2) # Set met
-000072c0: 686f 6420 3220 6d65 616e 2073 6c6f 7065  hod 2 mean slope
-000072d0: 0a20 2020 2069 6620 6c65 6e28 686f 7269  .    if len(hori
-000072e0: 7a6f 6e74 616c 4c69 6e65 496e 7465 7263  zontalLineInterc
-000072f0: 6570 7473 3229 203e 2030 3a0a 2020 2020  epts2) > 0:.    
-00007300: 2020 2020 6966 206e 756d 7079 2e6d 696e      if numpy.min
-00007310: 2868 6f72 697a 6f6e 7461 6c4c 696e 6549  (horizontalLineI
-00007320: 6e74 6572 6365 7074 7332 2920 3e20 3130  ntercepts2) > 10
-00007330: 3a20 2023 2049 6620 6e6f 206c 696e 6520  :  # If no line 
-00007340: 7761 7320 6465 7465 6374 6564 206f 6e20  was detected on 
-00007350: 746f 7020 6564 6765 206f 6620 696d 6167  top edge of imag
-00007360: 6520 2352 4947 4854 4845 5245 0a20 2020  e #RIGHTHERE.   
-00007370: 2020 2020 2020 2020 2068 6f72 697a 6f6e           horizon
-00007380: 7461 6c4c 696e 6549 6e74 6572 6365 7074  talLineIntercept
-00007390: 7332 2e61 7070 656e 6428 3329 2020 2320  s2.append(3)  # 
-000073a0: 4164 6420 6f6e 6520 7769 7468 2061 6e20  Add one with an 
-000073b0: 696e 7465 7263 6570 7420 6174 2079 3d33  intercept at y=3
-000073c0: 0a20 2020 2020 2020 2020 2020 2068 6f72  .            hor
-000073d0: 697a 6f6e 7461 6c4c 696e 6553 6c6f 7065  izontalLineSlope
-000073e0: 7332 2e61 7070 656e 6428 6d65 616e 5475  s2.append(meanTu
-000073f0: 6265 536c 6f70 654d 6574 686f 6432 2920  beSlopeMethod2) 
-00007400: 2023 2041 6e64 2061 2073 6c6f 7065 2077   # And a slope w
-00007410: 6974 6820 7468 6520 6d65 616e 206d 6574  ith the mean met
-00007420: 686f 6420 3220 6c69 6e65 2073 6c6f 7065  hod 2 line slope
-00007430: 0a20 2020 2020 2020 2069 6620 6e75 6d70  .        if nump
-00007440: 792e 6d61 7828 686f 7269 7a6f 6e74 616c  y.max(horizontal
-00007450: 4c69 6e65 496e 7465 7263 6570 7473 3229  LineIntercepts2)
-00007460: 203c 2033 3930 3a20 2023 2049 6620 6e6f   < 390:  # If no
-00007470: 206c 696e 6520 7761 7320 6465 7465 6374   line was detect
-00007480: 6564 206f 6e20 626f 7474 6f6d 2065 6467  ed on bottom edg
-00007490: 6520 6f66 2069 6d61 6765 2023 5249 4748  e of image #RIGH
-000074a0: 5448 4552 450a 2020 2020 2020 2020 2020  THERE.          
-000074b0: 2020 686f 7269 7a6f 6e74 616c 4c69 6e65    horizontalLine
-000074c0: 496e 7465 7263 6570 7473 322e 6170 7065  Intercepts2.appe
-000074d0: 6e64 2833 3937 2920 2023 2041 6464 206f  nd(397)  # Add o
-000074e0: 6e65 2077 6974 6820 616e 2069 6e74 6572  ne with an inter
-000074f0: 6365 7074 2061 7420 793d 3339 3720 2352  cept at y=397 #R
-00007500: 4947 4854 4845 5245 0a20 2020 2020 2020  IGHTHERE.       
-00007510: 2020 2020 2068 6f72 697a 6f6e 7461 6c4c       horizontalL
-00007520: 696e 6553 6c6f 7065 7332 2e61 7070 656e  ineSlopes2.appen
-00007530: 6428 6d65 616e 5475 6265 536c 6f70 654d  d(meanTubeSlopeM
-00007540: 6574 686f 6432 2920 2023 2041 6e64 2061  ethod2)  # And a
-00007550: 2073 6c6f 7065 2077 6974 6820 7468 6520   slope with the 
-00007560: 6d65 616e 206d 6574 686f 6420 3220 6c69  mean method 2 li
-00007570: 6e65 2073 6c6f 7065 0a20 2020 200a 2020  ne slope.    .  
-00007580: 2020 2320 5069 636b 2077 6869 6368 206d    # Pick which m
-00007590: 6574 686f 6427 7320 6c69 6e65 7320 746f  ethod's lines to
-000075a0: 2075 7365 0a20 2020 2069 6620 6c65 6e28   use.    if len(
-000075b0: 686f 7269 7a6f 6e74 616c 4c69 6e65 496e  horizontalLineIn
-000075c0: 7465 7263 6570 7473 3129 203e 206c 656e  tercepts1) > len
-000075d0: 2868 6f72 697a 6f6e 7461 6c4c 696e 6549  (horizontalLineI
-000075e0: 6e74 6572 6365 7074 7332 293a 2020 2320  ntercepts2):  # 
-000075f0: 4966 2074 6865 7265 2061 7265 206d 6f72  If there are mor
-00007600: 6520 6c69 6e65 7320 6964 656e 7469 6669  e lines identifi
-00007610: 6564 2062 7920 6d65 7468 6f64 2031 2074  ed by method 1 t
-00007620: 6861 6e20 6d65 7468 6f64 2032 0a20 2020  han method 2.   
-00007630: 2020 2020 2068 6f72 697a 6f6e 7461 6c4c       horizontalL
-00007640: 696e 6549 6e74 6572 6365 7074 7320 3d20  ineIntercepts = 
-00007650: 686f 7269 7a6f 6e74 616c 4c69 6e65 496e  horizontalLineIn
-00007660: 7465 7263 6570 7473 3120 2023 2041 6363  tercepts1  # Acc
-00007670: 6570 7420 6d65 7468 6f64 2031 2773 2069  ept method 1's i
-00007680: 6e74 6572 6365 7074 730a 2020 2020 2020  ntercepts.      
-00007690: 2020 686f 7269 7a6f 6e74 616c 4c69 6e65    horizontalLine
-000076a0: 536c 6f70 6573 203d 2068 6f72 697a 6f6e  Slopes = horizon
-000076b0: 7461 6c4c 696e 6553 6c6f 7065 7331 2020  talLineSlopes1  
-000076c0: 2320 4163 6365 7074 206d 6574 686f 6420  # Accept method 
-000076d0: 3127 7320 736c 6f70 6573 0a20 2020 2065  1's slopes.    e
-000076e0: 6c73 653a 2020 2320 4966 2074 6865 7265  lse:  # If there
-000076f0: 2061 7265 206d 6f72 6520 6c69 6e65 7320   are more lines 
-00007700: 6964 656e 7469 6669 6564 2062 7920 6d65  identified by me
-00007710: 7468 6f64 2032 0a20 2020 2020 2020 2068  thod 2.        h
-00007720: 6f72 697a 6f6e 7461 6c4c 696e 6549 6e74  orizontalLineInt
-00007730: 6572 6365 7074 7320 3d20 686f 7269 7a6f  ercepts = horizo
-00007740: 6e74 616c 4c69 6e65 496e 7465 7263 6570  ntalLineIntercep
-00007750: 7473 3220 2023 2041 6363 6570 7420 6d65  ts2  # Accept me
-00007760: 7468 6f64 2032 2773 2069 6e74 6572 6365  thod 2's interce
-00007770: 7074 730a 2020 2020 2020 2020 686f 7269  pts.        hori
-00007780: 7a6f 6e74 616c 4c69 6e65 536c 6f70 6573  zontalLineSlopes
-00007790: 203d 2068 6f72 697a 6f6e 7461 6c4c 696e   = horizontalLin
-000077a0: 6553 6c6f 7065 7332 2020 2320 4163 6365  eSlopes2  # Acce
-000077b0: 7074 206d 6574 686f 6420 3227 7320 736c  pt method 2's sl
-000077c0: 6f70 6573 0a20 2020 2069 6620 6c65 6e28  opes.    if len(
-000077d0: 686f 7269 7a6f 6e74 616c 4c69 6e65 496e  horizontalLineIn
-000077e0: 7465 7263 6570 7473 2920 3e20 343a 2023  tercepts) > 4: #
-000077f0: 2049 6620 6d6f 7265 2074 6861 6e20 3420   If more than 4 
-00007800: 746f 7461 6c20 6c69 6e65 7320 6172 6520  total lines are 
-00007810: 6964 656e 7469 6669 6564 0a20 2020 2020  identified.     
-00007820: 2020 206d 6561 6e54 7562 6553 6c6f 7065     meanTubeSlope
-00007830: 203d 206e 756d 7079 2e6d 6561 6e28 686f   = numpy.mean(ho
-00007840: 7269 7a6f 6e74 616c 4c69 6e65 536c 6f70  rizontalLineSlop
-00007850: 6573 2920 2023 2053 6574 206d 6561 6e20  es)  # Set mean 
-00007860: 736c 6f70 6520 6f66 2068 6f72 697a 6f6e  slope of horizon
-00007870: 7461 6c20 7475 6265 2062 6f75 6e64 6172  tal tube boundar
-00007880: 7920 6c69 6e65 730a 2020 2020 656c 7365  y lines.    else
-00007890: 3a20 2023 2049 6620 3420 6f72 206c 6573  :  # If 4 or les
-000078a0: 7320 746f 7461 6c20 6c69 6e65 7320 6172  s total lines ar
-000078b0: 6520 6964 656e 7469 6669 6564 0a20 2020  e identified.   
-000078c0: 2020 2020 206d 6561 6e54 7562 6553 6c6f       meanTubeSlo
-000078d0: 7065 203d 2030 2020 2320 5365 7420 6d65  pe = 0  # Set me
-000078e0: 616e 2073 6c6f 7065 206f 6620 686f 7269  an slope of hori
-000078f0: 7a6f 6e74 616c 206c 696e 6573 2074 6f20  zontal lines to 
-00007900: 302c 2061 6374 7561 6c20 6d65 616e 2069  0, actual mean i
-00007910: 7320 6c69 6b65 6c79 206e 6f74 2076 6572  s likely not ver
-00007920: 7920 7369 676e 6966 6963 616e 740a 2020  y significant.  
-00007930: 2020 0a20 2020 2072 6574 7572 6e20 686f    .    return ho
-00007940: 7269 7a6f 6e74 616c 4c69 6e65 536c 6f70  rizontalLineSlop
-00007950: 6573 2c20 686f 7269 7a6f 6e74 616c 4c69  es, horizontalLi
-00007960: 6e65 496e 7465 7263 6570 7473 2c20 6d65  neIntercepts, me
-00007970: 616e 5475 6265 536c 6f70 650a 0a0a 6465  anTubeSlope...de
-00007980: 6620 6964 656e 7469 6679 5261 6365 5475  f identifyRaceTu
-00007990: 6265 426f 756e 6473 2829 3a0a 2020 2020  beBounds():.    
-000079a0: 2222 2249 6465 6e74 6966 7920 626f 756e  """Identify boun
-000079b0: 6461 7269 6573 206f 6620 7475 6265 7320  daries of tubes 
-000079c0: 696e 2069 6d61 6765 2062 6173 6564 206f  in image based o
-000079d0: 6e20 686f 7269 7a6f 6e74 616c 206c 696e  n horizontal lin
-000079e0: 6573 2e22 2222 0a20 2020 200a 2020 2020  es.""".    .    
-000079f0: 0a20 2020 2067 6c6f 6261 6c20 616e 616c  .    global anal
-00007a00: 5374 6174 650a 2020 2020 676c 6f62 616c  State.    global
-00007a10: 2068 6f72 697a 6f6e 7461 6c4c 696e 6573   horizontalLines
-00007a20: 0a20 2020 2067 6c6f 6261 6c20 6d65 616e  .    global mean
-00007a30: 5475 6265 5769 6474 680a 2020 2020 676c  TubeWidth.    gl
-00007a40: 6f62 616c 2070 7265 6c69 6d43 6f6e 7465  obal prelimConte
-00007a50: 6e74 730a 2020 2020 676c 6f62 616c 2074  nts.    global t
-00007a60: 7562 6542 6f75 6e64 730a 0a0a 2020 2020  ubeBounds...    
-00007a70: 616e 616c 5374 6174 6520 3d20 3320 2023  analState = 3  #
-00007a80: 2053 6574 2061 6e61 6c79 7369 7320 7374   Set analysis st
-00007a90: 6174 6520 746f 2033 0a20 2020 2066 6f72  ate to 3.    for
-00007aa0: 206c 696e 6520 696e 2072 616e 6765 2831   line in range(1
-00007ab0: 2c20 6c65 6e28 686f 7269 7a6f 6e74 616c  , len(horizontal
-00007ac0: 4c69 6e65 7329 293a 2020 2320 466f 7220  Lines)):  # For 
-00007ad0: 6561 6368 2067 6170 2062 6574 7765 656e  each gap between
-00007ae0: 2068 6f72 697a 6f6e 7461 6c20 6c69 6e65   horizontal line
-00007af0: 730a 2020 2020 2020 2020 7072 656c 696d  s.        prelim
-00007b00: 436f 6e74 656e 7473 2e61 7070 656e 6428  Contents.append(
-00007b10: 5b73 7472 286c 696e 6529 2c20 2222 2c20  [str(line), "", 
-00007b20: 2222 5d29 2020 2320 4164 6420 6120 726f  ""])  # Add a ro
-00007b30: 7720 746f 2070 7265 6c69 6d69 6e61 7279  w to preliminary
-00007b40: 2064 6174 6120 636f 6e74 656e 7473 206c   data contents l
-00007b50: 6973 740a 2020 2020 7570 6461 7465 5072  ist.    updatePr
-00007b60: 656c 696d 696e 6172 7944 6174 6144 6973  eliminaryDataDis
-00007b70: 706c 6179 2829 2020 2320 5570 6461 7465  play()  # Update
-00007b80: 2070 7265 6c69 6d69 6e61 7279 2063 6f6e   preliminary con
-00007b90: 7465 6e74 7320 7465 7874 2062 6f78 2077  tents text box w
-00007ba0: 6974 6820 6e65 7720 636f 6e74 656e 7473  ith new contents
-00007bb0: 0a20 2020 2068 6f6d 6554 6162 436f 6e73  .    homeTabCons
-00007bc0: 6f6c 6554 6578 7442 6f78 2e76 616c 7565  oleTextBox.value
-00007bd0: 203d 2028 2249 6465 6e74 6966 7969 6e67   = ("Identifying
-00007be0: 2072 6163 6520 7475 6265 2072 6567 696f   race tube regio
-00007bf0: 6e73 2e2e 2e22 2920 2023 2053 6574 2063  ns...")  # Set c
-00007c00: 6f6e 736f 6c65 2062 6f78 2074 6578 7420  onsole box text 
-00007c10: 746f 2061 6e61 6c79 7369 7320 7374 6570  to analysis step
-00007c20: 2064 6573 6372 6970 7469 6f6e 0a20 2020   description.   
-00007c30: 200a 2020 2020 7475 6265 426f 756e 6473   .    tubeBounds
-00007c40: 2c20 6d65 616e 5475 6265 5769 6474 6820  , meanTubeWidth 
-00007c50: 3d20 7149 6465 6e74 6966 7952 6163 6554  = qIdentifyRaceT
-00007c60: 7562 6542 6f75 6e64 7328 686f 7269 7a6f  ubeBounds(horizo
-00007c70: 6e74 616c 4c69 6e65 7329 0a20 2020 200a  ntalLines).    .
-00007c80: 2020 2020 6964 656e 7469 6679 5469 6d65      identifyTime
-00007c90: 4d61 726b 7328 2920 2023 2042 6567 696e  Marks()  # Begin
-00007ca0: 2061 6e61 6c79 7369 7320 6f66 2074 696d   analysis of tim
-00007cb0: 6520 6d61 726b 206c 6f63 6174 696f 6e73  e mark locations
-00007cc0: 0a0a 0a64 6566 2071 4964 656e 7469 6679  ...def qIdentify
-00007cd0: 5261 6365 5475 6265 426f 756e 6473 2868  RaceTubeBounds(h
-00007ce0: 6f72 697a 6f6e 7461 6c4c 696e 6573 293a  orizontalLines):
-00007cf0: 0a0a 2020 2020 686f 7269 7a6f 6e74 616c  ..    horizontal
-00007d00: 4c69 6e65 732e 736f 7274 286b 6579 3d6c  Lines.sort(key=l
-00007d10: 616d 6264 6120 783a 2078 5b31 5d29 2020  ambda x: x[1])  
-00007d20: 2320 536f 7274 2068 6f72 697a 6f6e 7461  # Sort horizonta
-00007d30: 6c20 6c69 6e65 7320 6279 2079 2076 616c  l lines by y val
-00007d40: 7565 206f 6620 696e 7465 7263 6570 7473  ue of intercepts
-00007d50: 2028 6965 2074 6f70 2074 6f20 626f 7474   (ie top to bott
-00007d60: 6f6d 206f 6620 696d 6167 6529 0a20 2020  om of image).   
-00007d70: 2074 7562 6543 6f75 6e74 203d 2028 6c65   tubeCount = (le
-00007d80: 6e28 686f 7269 7a6f 6e74 616c 4c69 6e65  n(horizontalLine
-00007d90: 7329 202d 2031 2920 2023 2053 6574 206e  s) - 1)  # Set n
-00007da0: 756d 6265 7220 6f66 2074 7562 6573 2074  umber of tubes t
-00007db0: 6f20 6f6e 6520 6c65 7373 2074 6861 6e20  o one less than 
-00007dc0: 6e75 6d62 6572 206f 6620 626f 756e 6461  number of bounda
-00007dd0: 7279 206c 696e 6573 0a20 2020 2074 7562  ry lines.    tub
-00007de0: 6557 6964 7468 7320 3d20 5b5d 2020 2320  eWidths = []  # 
-00007df0: 426c 616e 6b20 6c69 7374 206f 6620 7475  Blank list of tu
-00007e00: 6265 2077 6964 7468 730a 2020 2020 666f  be widths.    fo
-00007e10: 7220 7475 6265 2069 6e20 7261 6e67 6528  r tube in range(
-00007e20: 302c 2074 7562 6543 6f75 6e74 293a 2020  0, tubeCount):  
-00007e30: 2320 466f 7220 6561 6368 2074 7562 6520  # For each tube 
-00007e40: 696e 2069 6d61 6765 0a20 2020 2020 2020  in image.       
-00007e50: 2070 6169 7273 203d 205b 5d20 2023 2042   pairs = []  # B
-00007e60: 6c61 6e6b 206c 6973 7420 6f66 2074 7562  lank list of tub
-00007e70: 6520 626f 756e 6461 7279 2079 2070 6f73  e boundary y pos
-00007e80: 6974 696f 6e20 646f 7562 6c65 730a 2020  ition doubles.  
-00007e90: 2020 2020 2020 666f 7220 7820 696e 2072        for x in r
-00007ea0: 616e 6765 2830 2c20 3131 3630 293a 2020  ange(0, 1160):  
-00007eb0: 2320 466f 7220 6561 6368 2078 2061 6c6f  # For each x alo
-00007ec0: 6e67 2078 2061 7869 7320 6f66 2069 6d61  ng x axis of ima
-00007ed0: 6765 2023 5249 4748 5448 4552 450a 2020  ge #RIGHTHERE.  
-00007ee0: 2020 2020 2020 2020 2020 794d 696e 203d            yMin =
-00007ef0: 2028 686f 7269 7a6f 6e74 616c 4c69 6e65   (horizontalLine
-00007f00: 735b 7475 6265 5d5b 305d 202a 2078 202b  s[tube][0] * x +
-00007f10: 2068 6f72 697a 6f6e 7461 6c4c 696e 6573   horizontalLines
-00007f20: 5b74 7562 655d 5b31 5d29 2020 2320 5365  [tube][1])  # Se
-00007f30: 7420 6c6f 7720 7920 746f 206c 6f77 6572  t low y to lower
-00007f40: 2062 6f75 6e64 2073 6c6f 7065 202a 2078   bound slope * x
-00007f50: 202b 206c 6f77 6572 2062 6f75 6e64 2079   + lower bound y
-00007f60: 2069 6e74 6572 6365 7074 0a20 2020 2020   intercept.     
-00007f70: 2020 2020 2020 2079 4d61 7820 3d20 2868         yMax = (h
-00007f80: 6f72 697a 6f6e 7461 6c4c 696e 6573 5b74  orizontalLines[t
-00007f90: 7562 6520 2b20 315d 5b30 5d20 2a20 7820  ube + 1][0] * x 
-00007fa0: 2b20 686f 7269 7a6f 6e74 616c 4c69 6e65  + horizontalLine
-00007fb0: 735b 7475 6265 202b 2031 5d5b 315d 2920  s[tube + 1][1]) 
-00007fc0: 2023 2053 6574 2068 6967 6820 7920 746f   # Set high y to
-00007fd0: 2068 6967 6865 7220 626f 756e 6420 736c   higher bound sl
-00007fe0: 6f70 6520 2a20 7820 2b20 6869 6768 6572  ope * x + higher
-00007ff0: 2062 6f75 6e64 2079 2069 6e74 6572 6365   bound y interce
-00008000: 7074 0a20 2020 2020 2020 2020 2020 2070  pt.            p
-00008010: 6169 7273 2e61 7070 656e 6428 5b79 4d69  airs.append([yMi
-00008020: 6e2c 2079 4d61 785d 2920 2023 2041 6464  n, yMax])  # Add
-00008030: 2064 6f75 626c 6520 6f66 2079 2062 6f75   double of y bou
-00008040: 6e64 7320 746f 2072 616e 6765 7320 6c69  nds to ranges li
-00008050: 7374 0a20 2020 2020 2020 2020 2020 2074  st.            t
-00008060: 7562 6557 6964 7468 732e 6170 7065 6e64  ubeWidths.append
-00008070: 2879 4d61 7820 2d20 794d 696e 2920 2023  (yMax - yMin)  #
-00008080: 2041 6464 2064 6966 6665 7265 6e63 6520   Add difference 
-00008090: 696e 2079 2062 6f75 6e64 7320 746f 2077  in y bounds to w
-000080a0: 6964 7468 7320 6c69 7374 0a20 2020 2020  idths list.     
-000080b0: 2020 2074 7562 6542 6f75 6e64 732e 6170     tubeBounds.ap
-000080c0: 7065 6e64 2870 6169 7273 2920 2023 2041  pend(pairs)  # A
-000080d0: 6464 2072 616e 6765 7320 666f 7220 7475  dd ranges for tu
-000080e0: 6265 2074 6f20 6c69 7374 206f 6620 7475  be to list of tu
-000080f0: 6265 2072 616e 6765 730a 2020 2020 6d65  be ranges.    me
-00008100: 616e 5475 6265 5769 6474 6820 3d20 6e75  anTubeWidth = nu
-00008110: 6d70 792e 6d65 616e 2874 7562 6557 6964  mpy.mean(tubeWid
-00008120: 7468 7329 2020 2320 5365 7420 6d65 616e  ths)  # Set mean
-00008130: 2074 7562 6520 7769 6474 6820 746f 206d   tube width to m
-00008140: 6561 6e20 6f66 2074 7562 6520 7769 6474  ean of tube widt
-00008150: 6873 0a20 2020 200a 2020 2020 7265 7475  hs.    .    retu
-00008160: 726e 2074 7562 6542 6f75 6e64 732c 206d  rn tubeBounds, m
-00008170: 6561 6e54 7562 6557 6964 7468 0a0a 0a64  eanTubeWidth...d
-00008180: 6566 2069 6465 6e74 6966 7954 696d 654d  ef identifyTimeM
-00008190: 6172 6b73 2829 3a0a 2020 2020 2222 2241  arks():.    """A
-000081a0: 6e61 6c79 7a65 2070 6f73 6974 696f 6e73  nalyze positions
-000081b0: 206f 6620 7665 7274 6963 616c 2074 696d   of vertical tim
-000081c0: 6520 6d61 726b 7320 696e 2074 7562 6573  e marks in tubes
-000081d0: 2e22 2222 0a0a 0a20 2020 2067 6c6f 6261  ."""...    globa
-000081e0: 6c20 6669 6e61 6c49 6d61 6765 0a20 2020  l finalImage.   
-000081f0: 2067 6c6f 6261 6c20 616e 616c 5374 6174   global analStat
-00008200: 650a 2020 2020 676c 6f62 616c 2074 7562  e.    global tub
-00008210: 6542 6f75 6e64 730a 2020 2020 676c 6f62  eBounds.    glob
-00008220: 616c 2074 696d 654d 6172 6b4c 696e 6573  al timeMarkLines
-00008230: 0a0a 0a20 2020 2061 6e61 6c53 7461 7465  ...    analState
-00008240: 203d 2034 2020 2320 5365 7420 616e 616c   = 4  # Set anal
-00008250: 7973 6973 2073 7461 7465 2074 6f20 340a  ysis state to 4.
-00008260: 2020 2020 636f 6e74 7261 7374 6572 203d      contraster =
-00008270: 2049 6d61 6765 456e 6861 6e63 652e 436f   ImageEnhance.Co
-00008280: 6e74 7261 7374 2866 696e 616c 496d 6167  ntrast(finalImag
-00008290: 652e 636f 6e76 6572 7428 224c 2229 2920  e.convert("L")) 
-000082a0: 2023 2044 6566 696e 6520 636f 6e74 7261   # Define contra
-000082b0: 7374 6572 206f 6620 6e75 6d70 7920 6172  ster of numpy ar
-000082c0: 7261 7920 6f66 2067 7265 7973 6361 6c65  ray of greyscale
-000082d0: 2066 696e 616c 2069 6d61 6765 0a20 2020   final image.   
-000082e0: 2065 6469 7465 6449 6d61 6765 203d 206e   editedImage = n
-000082f0: 756d 7079 2e69 6e76 6572 7428 6e75 6d70  umpy.invert(nump
-00008300: 792e 6172 7261 7928 636f 6e74 7261 7374  y.array(contrast
-00008310: 6572 2e65 6e68 616e 6365 2833 2929 2920  er.enhance(3))) 
-00008320: 2023 2053 6574 206e 756d 7079 2069 6d61   # Set numpy ima
-00008330: 6765 2061 7272 6179 2074 6f20 636f 6e74  ge array to cont
-00008340: 7261 7374 206c 6576 656c 2033 0a20 2020  rast level 3.   
-00008350: 2064 7261 774c 696e 6573 2854 7275 6529   drawLines(True)
-00008360: 2020 2320 4164 6420 6c69 6e65 7320 746f    # Add lines to
-00008370: 2069 6d61 6765 0a20 2020 200a 2020 2020   image.    .    
-00008380: 2320 436f 6d6d 656e 6365 2069 6465 6e74  # Commence ident
-00008390: 6966 6963 6174 696f 6e20 6f66 2074 696d  ification of tim
-000083a0: 6520 6d61 726b 730a 2020 2020 666f 7220  e marks.    for 
-000083b0: 7475 6265 2069 6e20 7475 6265 426f 756e  tube in tubeBoun
-000083c0: 6473 3a20 2023 2046 6f72 2065 6163 6820  ds:  # For each 
-000083d0: 7475 6265 2069 6e20 7475 6265 426f 756e  tube in tubeBoun
-000083e0: 6473 0a20 2020 2020 2020 2074 7562 654e  ds.        tubeN
-000083f0: 756d 6265 7220 3d20 696e 7428 7475 6265  umber = int(tube
-00008400: 426f 756e 6473 2e69 6e64 6578 2874 7562  Bounds.index(tub
-00008410: 6529 2920 2023 2049 6e64 6578 206f 6620  e))  # Index of 
-00008420: 6375 7272 656e 7420 7475 6265 2077 6974  current tube wit
-00008430: 6869 6e20 7475 6265 426f 756e 6473 0a20  hin tubeBounds. 
-00008440: 2020 2020 2020 2074 696d 654d 6172 6b4c         timeMarkL
-00008450: 696e 6573 5475 6265 203d 2071 6964 656e  inesTube = qiden
-00008460: 7469 6679 5469 6d65 4d61 726b 7328 6564  tifyTimeMarks(ed
-00008470: 6974 6564 496d 6167 652c 2074 7562 652c  itedImage, tube,
-00008480: 2074 7562 654e 756d 6265 7229 0a20 2020   tubeNumber).   
-00008490: 2020 2020 2066 6f72 206c 696e 6520 696e       for line in
-000084a0: 2074 696d 654d 6172 6b4c 696e 6573 5475   timeMarkLinesTu
-000084b0: 6265 3a0a 2020 2020 2020 2020 2020 2020  be:.            
-000084c0: 7469 6d65 4d61 726b 4c69 6e65 732e 6170  timeMarkLines.ap
-000084d0: 7065 6e64 286c 696e 6529 0a20 2020 2064  pend(line).    d
-000084e0: 7261 774c 696e 6573 2854 7275 6529 2020  rawLines(True)  
-000084f0: 2320 4164 6420 6c69 6e65 7320 746f 2069  # Add lines to i
-00008500: 6d61 6765 0a20 2020 2061 6e61 6c53 7461  mage.    analSta
-00008510: 7465 203d 2035 2020 2320 5365 7420 616e  te = 5  # Set an
-00008520: 616c 7973 6973 2073 7461 7465 2074 6f20  alysis state to 
-00008530: 350a 2020 2020 686f 6d65 5461 6243 6f6e  5.    homeTabCon
-00008540: 736f 6c65 5465 7874 426f 782e 7661 6c75  soleTextBox.valu
-00008550: 6520 3d20 2243 6c69 636b 2061 2070 6f69  e = "Click a poi
-00008560: 6e74 206f 6e20 7468 6520 696d 6167 6520  nt on the image 
-00008570: 746f 2061 6464 206f 7220 7265 6d6f 7665  to add or remove
-00008580: 2074 696d 6520 6d61 726b 732e 2057 6865   time marks. Whe
-00008590: 6e20 7361 7469 7366 6965 642c 2063 6c69  n satisfied, cli
-000085a0: 636b 2074 6865 2050 726f 6365 6564 2062  ck the Proceed b
-000085b0: 7574 746f 6e2e 2220 2023 2041 6464 2064  utton."  # Add d
-000085c0: 6972 6563 7469 6f6e 7320 746f 2063 6f6e  irections to con
-000085d0: 736f 6c65 0a0a 0a64 6566 2071 6964 656e  sole...def qiden
-000085e0: 7469 6679 5469 6d65 4d61 726b 7328 696d  tifyTimeMarks(im
-000085f0: 6167 652c 2074 7562 652c 2074 7562 654e  age, tube, tubeN
-00008600: 756d 6265 7229 3a0a 0a20 2020 2074 696d  umber):..    tim
-00008610: 654d 6172 6b4c 696e 6573 203d 205b 5d0a  eMarkLines = [].
-00008620: 2020 2020 7475 6265 5769 6474 6820 3d20      tubeWidth = 
-00008630: 7475 6265 5b30 5d5b 315d 202d 2074 7562  tube[0][1] - tub
-00008640: 655b 305d 5b30 5d20 2023 2052 6563 6f72  e[0][0]  # Recor
-00008650: 6420 7769 6474 6820 6f66 2063 7572 7265  d width of curre
-00008660: 6e74 2074 7562 6520 6174 206c 6566 7420  nt tube at left 
-00008670: 656e 640a 2020 2020 6465 6e73 6974 7950  end.    densityP
-00008680: 726f 6669 6c65 203d 2067 656e 6572 6174  rofile = generat
-00008690: 6544 656e 7369 7479 5072 6f66 696c 6528  eDensityProfile(
-000086a0: 696d 6167 652c 2070 726f 6669 6c65 5769  image, profileWi
-000086b0: 6474 683d 696e 7428 7475 6265 5769 6474  dth=int(tubeWidt
-000086c0: 6820 2d20 3230 292c 2074 7562 6542 6f75  h - 20), tubeBou
-000086d0: 6e64 733d 7475 6265 2920 2023 2043 7265  nds=tube)  # Cre
-000086e0: 6174 6520 6465 6e73 6974 7920 7072 6f66  ate density prof
-000086f0: 696c 6520 6f66 2063 7572 7265 6e74 2074  ile of current t
-00008700: 7562 6520 2352 4947 4854 4845 5245 0a20  ube #RIGHTHERE. 
-00008710: 2020 2064 656e 7369 7479 5072 6f66 696c     densityProfil
-00008720: 6553 6d6f 6f74 6820 3d20 7361 7667 6f6c  eSmooth = savgol
-00008730: 5f66 696c 7465 7228 6465 6e73 6974 7950  _filter(densityP
-00008740: 726f 6669 6c65 2c20 7769 6e64 6f77 5f6c  rofile, window_l
-00008750: 656e 6774 683d 3330 2c20 706f 6c79 6f72  ength=30, polyor
-00008760: 6465 723d 382c 206d 6f64 653d 2269 6e74  der=8, mode="int
-00008770: 6572 7022 2920 2023 2043 7265 6174 6520  erp")  # Create 
-00008780: 5361 7669 747a 6b79 2d47 6f6c 6179 2073  Savitzky-Golay s
-00008790: 6d6f 6f74 6865 6420 6465 6e73 6974 7920  moothed density 
-000087a0: 7072 6f66 696c 6520 6f66 206d 6172 6b73  profile of marks
-000087b0: 2d63 6f72 7265 6374 6564 2064 6174 6173  -corrected datas
-000087c0: 6574 2023 5249 4748 5448 4552 450a 2020  et #RIGHTHERE.  
-000087d0: 2020 7065 616b 496e 6469 6365 7320 3d20    peakIndices = 
-000087e0: 6669 6e64 5f70 6561 6b73 2864 656e 7369  find_peaks(densi
-000087f0: 7479 5072 6f66 696c 6553 6d6f 6f74 682c  tyProfileSmooth,
-00008800: 2064 6973 7461 6e63 653d 352c 2074 6872   distance=5, thr
-00008810: 6573 686f 6c64 3d28 4e6f 6e65 2c20 4e6f  eshold=(None, No
-00008820: 6e65 292c 2070 726f 6d69 6e65 6e63 653d  ne), prominence=
-00008830: 332c 2077 6c65 6e3d 3330 3029 5b30 5d2e  3, wlen=300)[0].
-00008840: 746f 6c69 7374 2829 2020 2320 4765 7420  tolist()  # Get 
-00008850: 696e 6469 6365 7320 6f66 206c 6f63 616c  indices of local
-00008860: 206d 6178 696d 6120 6f66 2073 6d6f 6f74   maxima of smoot
-00008870: 6865 6420 6465 6e73 6974 7920 7072 6f66  hed density prof
-00008880: 696c 6520 2352 4947 4854 4845 5245 0a20  ile #RIGHTHERE. 
-00008890: 2020 2066 6f72 2070 6561 6b49 6e64 6578     for peakIndex
-000088a0: 2069 6e20 7065 616b 496e 6469 6365 733a   in peakIndices:
-000088b0: 2020 2320 466f 7220 6561 6368 2070 6561    # For each pea
-000088c0: 6b20 696e 6465 780a 2020 2020 2020 2020  k index.        
-000088d0: 2320 4361 6c63 756c 6174 6520 7065 616b  # Calculate peak
-000088e0: 2073 7465 6570 6e65 7373 0a20 2020 2020   steepness.     
-000088f0: 2020 2070 6561 6b58 203d 2070 6561 6b49     peakX = peakI
-00008900: 6e64 6578 2020 2320 5365 7420 7820 746f  ndex  # Set x to
-00008910: 2070 6561 6b20 696e 6465 780a 2020 2020   peak index.    
-00008920: 2020 2020 7065 616b 5920 3d20 2874 7562      peakY = (tub
-00008930: 655b 7065 616b 496e 6465 785d 5b30 5d20  e[peakIndex][0] 
-00008940: 2b20 2874 7562 655b 7065 616b 496e 6465  + (tube[peakInde
-00008950: 785d 5b31 5d20 2d20 7475 6265 5b70 6561  x][1] - tube[pea
-00008960: 6b49 6e64 6578 5d5b 305d 2920 2f20 3229  kIndex][0]) / 2)
-00008970: 2020 2320 5365 7420 7920 746f 206d 6964    # Set y to mid
-00008980: 6c69 6e65 206f 6620 7475 6265 2061 7420  line of tube at 
-00008990: 780a 2020 2020 2020 2020 736c 6f70 6573  x.        slopes
-000089a0: 4c65 6674 203d 205b 5d20 2023 2042 6c61  Left = []  # Bla
-000089b0: 6e6b 206c 6973 7420 6f66 2073 6c6f 7065  nk list of slope
-000089c0: 7320 6c65 6674 206f 6620 7065 616b 0a20  s left of peak. 
-000089d0: 2020 2020 2020 2073 6c6f 7065 7352 6967         slopesRig
-000089e0: 6874 203d 205b 5d20 2023 2042 6c61 6e6b  ht = []  # Blank
-000089f0: 206c 6973 7420 6f66 2073 6c6f 7065 7320   list of slopes 
-00008a00: 7269 6768 7420 6f66 2070 6561 6b0a 2020  right of peak.  
-00008a10: 2020 2020 2020 666f 7220 7857 616c 6b20        for xWalk 
-00008a20: 696e 2072 616e 6765 2832 2c20 382c 2032  in range(2, 8, 2
-00008a30: 293a 2020 2320 466f 7220 6561 6368 2078  ):  # For each x
-00008a40: 2074 6f20 6f6e 6520 7369 6465 206f 7220   to one side or 
-00008a50: 7468 6520 6f74 6865 7220 6f66 2070 6561  the other of pea
-00008a60: 6b20 2352 4947 4854 4845 5245 2061 6c73  k #RIGHTHERE als
-00008a70: 6f20 6e6f 726d 616c 697a 6520 686f 7720  o normalize how 
-00008a80: 6661 7220 7765 2078 7761 6c6b 2066 6f72  far we xwalk for
-00008a90: 2061 6c6c 2075 7365 7320 6f66 2078 7761   all uses of xwa
-00008aa0: 6c6b 0a20 2020 2020 2020 2020 2020 2069  lk.            i
-00008ab0: 6620 7065 616b 5820 2b20 7857 616c 6b20  f peakX + xWalk 
-00008ac0: 3c20 3131 3630 3a20 2023 2049 6620 7857  < 1160:  # If xW
-00008ad0: 616c 6b20 746f 2074 6865 2072 6967 6874  alk to the right
-00008ae0: 2069 7320 7769 7468 696e 2069 6d61 6765   is within image
-00008af0: 2023 5249 4748 5448 4552 450a 2020 2020   #RIGHTHERE.    
-00008b00: 2020 2020 2020 2020 2020 2020 736c 6f70              slop
-00008b10: 6573 5269 6768 742e 6170 7065 6e64 2861  esRight.append(a
-00008b20: 6273 2828 6465 6e73 6974 7950 726f 6669  bs((densityProfi
-00008b30: 6c65 536d 6f6f 7468 5b70 6561 6b58 202b  leSmooth[peakX +
-00008b40: 2078 5761 6c6b 5d20 2d20 6465 6e73 6974   xWalk] - densit
-00008b50: 7950 726f 6669 6c65 536d 6f6f 7468 5b70  yProfileSmooth[p
-00008b60: 6561 6b58 202b 2078 5761 6c6b 202d 2032  eakX + xWalk - 2
-00008b70: 5d29 2920 2f20 3229 2020 2320 4164 6420  ])) / 2)  # Add 
-00008b80: 6772 616e 756c 6172 2073 6c6f 7065 2074  granular slope t
-00008b90: 6f20 6c69 7374 206f 6620 736c 6f70 6573  o list of slopes
-00008ba0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00008bb0: 7065 616b 5820 2d20 7857 616c 6b20 3e20  peakX - xWalk > 
-00008bc0: 303a 2020 2320 4966 2078 5761 6c6b 2074  0:  # If xWalk t
-00008bd0: 6f20 7468 6520 6c65 6674 2069 7320 7769  o the left is wi
-00008be0: 7468 696e 2069 6d61 6765 0a20 2020 2020  thin image.     
-00008bf0: 2020 2020 2020 2020 2020 2073 6c6f 7065             slope
-00008c00: 734c 6566 742e 6170 7065 6e64 2861 6273  sLeft.append(abs
-00008c10: 2828 6465 6e73 6974 7950 726f 6669 6c65  ((densityProfile
-00008c20: 536d 6f6f 7468 5b70 6561 6b58 202d 2078  Smooth[peakX - x
-00008c30: 5761 6c6b 5d20 2d20 6465 6e73 6974 7950  Walk] - densityP
-00008c40: 726f 6669 6c65 536d 6f6f 7468 5b70 6561  rofileSmooth[pea
-00008c50: 6b58 202d 2078 5761 6c6b 202b 2032 5d29  kX - xWalk + 2])
-00008c60: 2920 2f20 3229 2020 2320 4164 6420 6772  ) / 2)  # Add gr
-00008c70: 616e 756c 6172 2073 6c6f 7065 2074 6f20  anular slope to 
-00008c80: 6c69 7374 206f 6620 736c 6f70 6573 0a20  list of slopes. 
-00008c90: 2020 2020 2020 2073 6c6f 7065 5269 6768         slopeRigh
-00008ca0: 7420 3d20 6e75 6d70 792e 6d65 616e 2873  t = numpy.mean(s
-00008cb0: 6c6f 7065 7352 6967 6874 2920 2023 204d  lopesRight)  # M
-00008cc0: 6561 6e20 736c 6f70 6520 746f 2072 6967  ean slope to rig
-00008cd0: 6874 206f 6620 7065 616b 0a20 2020 2020  ht of peak.     
-00008ce0: 2020 2073 6c6f 7065 4c65 6674 203d 206e     slopeLeft = n
-00008cf0: 756d 7079 2e6d 6561 6e28 736c 6f70 6573  umpy.mean(slopes
-00008d00: 4c65 6674 2920 2023 204d 6561 6e20 736c  Left)  # Mean sl
-00008d10: 6f70 6520 746f 206c 6566 7420 6f66 2070  ope to left of p
-00008d20: 6561 6b0a 2020 2020 2020 2020 736c 6f70  eak.        slop
-00008d30: 654d 696e 203d 206e 756d 7079 2e6d 696e  eMin = numpy.min
-00008d40: 285b 736c 6f70 654c 6566 742c 2073 6c6f  ([slopeLeft, slo
-00008d50: 7065 5269 6768 745d 2920 2023 204d 696e  peRight])  # Min
-00008d60: 696d 756d 206f 6620 7477 6f20 6164 6a61  imum of two adja
-00008d70: 6365 6e74 2073 6c6f 7065 7320 746f 2070  cent slopes to p
-00008d80: 6561 6b0a 2020 2020 2020 2020 0a20 2020  eak.        .   
-00008d90: 2020 2020 2023 4361 6c63 756c 6174 6520       #Calculate 
-00008da0: 7065 616b 2070 726f 6d69 6e65 6e63 6520  peak prominence 
-00008db0: 616e 6420 7072 6f6d 696e 656e 6365 2066  and prominence f
-00008dc0: 7261 6374 696f 6e0a 2020 2020 2020 2020  raction.        
-00008dd0: 7857 616c 6b20 3d20 3120 2023 2058 2064  xWalk = 1  # X d
-00008de0: 6973 7461 6e63 6520 6672 6f6d 2070 6561  istance from pea
-00008df0: 6b20 666f 7220 7465 7374 696e 6720 736c  k for testing sl
-00008e00: 6f70 650a 2020 2020 2020 2020 7768 696c  ope.        whil
-00008e10: 6520 6465 6e73 6974 7950 726f 6669 6c65  e densityProfile
-00008e20: 536d 6f6f 7468 5b70 6561 6b58 2d78 5761  Smooth[peakX-xWa
-00008e30: 6c6b 5d20 3c3d 2064 656e 7369 7479 5072  lk] <= densityPr
-00008e40: 6f66 696c 6553 6d6f 6f74 685b 7065 616b  ofileSmooth[peak
-00008e50: 582d 7857 616c 6b2b 315d 2061 6e64 2070  X-xWalk+1] and p
-00008e60: 6561 6b58 2d78 5761 6c6b 203e 2031 3a20  eakX-xWalk > 1: 
-00008e70: 2023 2055 6e74 696c 2073 6c6f 7065 2073   # Until slope s
-00008e80: 746f 7073 2064 6563 7265 6173 696e 6720  tops decreasing 
-00008e90: 6177 6179 2066 726f 6d20 7065 616b 206f  away from peak o
-00008ea0: 7220 7857 616c 6b20 6973 206c 6561 7669  r xWalk is leavi
-00008eb0: 6e67 2074 6865 2069 6d61 6765 0a20 2020  ng the image.   
-00008ec0: 2020 2020 2020 2020 2078 5761 6c6b 202b           xWalk +
-00008ed0: 3d20 3120 2023 2049 6e63 7265 6d65 6e74  = 1  # Increment
-00008ee0: 2078 5761 6c6b 2062 7920 310a 2020 2020   xWalk by 1.    
-00008ef0: 2020 2020 6261 7365 4c65 6674 203d 2070      baseLeft = p
-00008f00: 6561 6b58 202d 2078 5761 6c6b 2020 2320  eakX - xWalk  # 
-00008f10: 5365 7420 7820 706f 7369 7469 6f6e 206f  Set x position o
-00008f20: 6620 6c65 6674 2062 6173 6520 746f 2064  f left base to d
-00008f30: 6973 7461 6e63 6520 746f 206c 6566 7420  istance to left 
-00008f40: 6174 2077 6869 6368 2073 6c6f 7065 2073  at which slope s
-00008f50: 746f 7073 2064 6563 7265 6173 696e 6720  tops decreasing 
-00008f60: 6177 6179 2066 726f 6d20 7065 616b 0a20  away from peak. 
-00008f70: 2020 2020 2020 2062 6173 6559 4c65 6674         baseYLeft
-00008f80: 203d 2064 656e 7369 7479 5072 6f66 696c   = densityProfil
-00008f90: 6553 6d6f 6f74 685b 6261 7365 4c65 6674  eSmooth[baseLeft
-00008fa0: 5d20 2023 2053 6574 2079 2070 6f73 6974  ]  # Set y posit
-00008fb0: 696f 6e20 6f66 206c 6566 7420 6261 7365  ion of left base
-00008fc0: 0a20 2020 2020 2020 2078 5761 6c6b 203d  .        xWalk =
-00008fd0: 2031 2020 2320 5820 6469 7374 616e 6365   1  # X distance
-00008fe0: 2066 726f 6d20 7065 616b 2066 6f72 2074   from peak for t
-00008ff0: 6573 7469 6e67 2073 6c6f 7065 0a20 2020  esting slope.   
-00009000: 2020 2020 2077 6869 6c65 2064 656e 7369       while densi
-00009010: 7479 5072 6f66 696c 6553 6d6f 6f74 685b  tyProfileSmooth[
-00009020: 7065 616b 582b 7857 616c 6b5d 203c 3d20  peakX+xWalk] <= 
-00009030: 6465 6e73 6974 7950 726f 6669 6c65 536d  densityProfileSm
-00009040: 6f6f 7468 5b70 6561 6b58 2b78 5761 6c6b  ooth[peakX+xWalk
-00009050: 2d31 5d20 616e 6420 7065 616b 582b 7857  -1] and peakX+xW
-00009060: 616c 6b20 3c20 3131 3539 3a20 2023 2055  alk < 1159:  # U
-00009070: 6e74 696c 2073 6c6f 7065 2073 746f 7073  ntil slope stops
-00009080: 2064 6563 7265 6173 696e 6720 6177 6179   decreasing away
-00009090: 2066 726f 6d20 7065 616b 206f 7220 7857   from peak or xW
-000090a0: 616c 6b20 6973 206c 6561 7669 6e67 2074  alk is leaving t
-000090b0: 6865 2069 6d61 6765 2023 5249 4748 5448  he image #RIGHTH
-000090c0: 4552 450a 2020 2020 2020 2020 2020 2020  ERE.            
-000090d0: 7857 616c 6b20 2b3d 2031 2020 2320 496e  xWalk += 1  # In
-000090e0: 6372 656d 656e 7420 7857 616c 6b20 6279  crement xWalk by
-000090f0: 2031 0a20 2020 2020 2020 2062 6173 6552   1.        baseR
-00009100: 6967 6874 203d 2070 6561 6b58 202b 2078  ight = peakX + x
-00009110: 5761 6c6b 2020 2320 5365 7420 7820 706f  Walk  # Set x po
-00009120: 7369 7469 6f6e 206f 6620 7269 6768 7420  sition of right 
-00009130: 6261 7365 2074 6f20 6469 7374 616e 6365  base to distance
-00009140: 2074 6f20 7269 6768 7420 6174 2077 6869   to right at whi
-00009150: 6368 2073 6c6f 7065 2073 746f 7073 2064  ch slope stops d
-00009160: 6563 7265 6173 696e 6720 6177 6179 2066  ecreasing away f
-00009170: 726f 6d20 7065 616b 0a20 2020 2020 2020  rom peak.       
-00009180: 2062 6173 6559 5269 6768 7420 3d20 6465   baseYRight = de
-00009190: 6e73 6974 7950 726f 6669 6c65 536d 6f6f  nsityProfileSmoo
-000091a0: 7468 5b62 6173 6552 6967 6874 5d20 2023  th[baseRight]  #
-000091b0: 2053 6574 2079 2070 6f73 6974 696f 6e20   Set y position 
-000091c0: 6f66 2072 6967 6874 2062 6173 650a 2020  of right base.  
-000091d0: 2020 2020 2020 7072 6f6d 4c65 6674 203d        promLeft =
-000091e0: 2064 656e 7369 7479 5072 6f66 696c 6553   densityProfileS
-000091f0: 6d6f 6f74 685b 7065 616b 585d 202d 2062  mooth[peakX] - b
-00009200: 6173 6559 4c65 6674 2020 2320 5365 7420  aseYLeft  # Set 
-00009210: 7072 6f6d 696e 656e 6365 206c 6566 7420  prominence left 
-00009220: 746f 2079 2064 6966 6665 7265 6e63 6520  to y difference 
-00009230: 6265 7477 6565 6e20 7065 616b 2061 6e64  between peak and
-00009240: 206c 6566 7420 6261 7365 0a20 2020 2020   left base.     
-00009250: 2020 2070 726f 6d52 6967 6874 203d 2064     promRight = d
-00009260: 656e 7369 7479 5072 6f66 696c 6553 6d6f  ensityProfileSmo
-00009270: 6f74 685b 7065 616b 585d 202d 2062 6173  oth[peakX] - bas
-00009280: 6559 5269 6768 7420 2023 2053 6574 2070  eYRight  # Set p
-00009290: 726f 6d69 6e65 6e63 6520 7269 6768 7420  rominence right 
-000092a0: 746f 2079 2064 6966 6665 7265 6e63 6520  to y difference 
-000092b0: 6265 7477 6565 6e20 7065 616b 2061 6e64  between peak and
-000092c0: 2072 6967 6874 2062 6173 650a 2020 2020   right base.    
-000092d0: 2020 2020 7072 6f6d 4d61 7820 3d20 6e75      promMax = nu
-000092e0: 6d70 792e 6d61 7828 5b70 726f 6d4c 6566  mpy.max([promLef
-000092f0: 742c 2070 726f 6d52 6967 6874 5d29 2020  t, promRight])  
-00009300: 2320 4d61 7869 6d75 6d20 7072 6f6d 696e  # Maximum promin
-00009310: 656e 6365 206f 6620 7065 616b 2066 726f  ence of peak fro
-00009320: 6d20 6261 7365 730a 2020 2020 2020 2020  m bases.        
-00009330: 7072 6f6d 696e 656e 6365 4672 6163 7469  prominenceFracti
-00009340: 6f6e 203d 2070 726f 6d4d 6178 202f 206e  on = promMax / n
-00009350: 756d 7079 2e6d 6178 2864 656e 7369 7479  umpy.max(density
-00009360: 5072 6f66 696c 6553 6d6f 6f74 6829 2020  ProfileSmooth)  
-00009370: 2320 5072 6f6d 696e 656e 6365 206f 6620  # Prominence of 
-00009380: 7065 616b 2061 7320 6120 6672 6163 7469  peak as a fracti
-00009390: 6f6e 206f 6620 6d61 7869 6d75 6d20 6465  on of maximum de
-000093a0: 6e73 6974 7920 7661 6c75 6520 0a20 2020  nsity value .   
-000093b0: 2020 2020 200a 2020 2020 2020 2020 2320       .        # 
-000093c0: 4163 6365 7074 2070 6561 6b73 0a20 2020  Accept peaks.   
-000093d0: 2020 2020 2069 6620 7072 6f6d 696e 656e       if prominen
-000093e0: 6365 4672 6163 7469 6f6e 203e 202e 3220  ceFraction > .2 
-000093f0: 616e 6420 7072 6f6d 696e 656e 6365 4672  and prominenceFr
-00009400: 6163 7469 6f6e 203c 2030 2e39 2061 6e64  action < 0.9 and
-00009410: 2073 6c6f 7065 4d69 6e20 3e20 282d 3230   slopeMin > (-20
-00009420: 2f33 292a 7072 6f6d 696e 656e 6365 4672  /3)*prominenceFr
-00009430: 6163 7469 6f6e 2b28 3236 2f33 2920 616e  action+(26/3) an
-00009440: 6420 7065 616b 5820 3e20 3130 2061 6e64  d peakX > 10 and
-00009450: 2070 6561 6b58 203c 2031 3135 303a 2020   peakX < 1150:  
-00009460: 2320 4966 2070 6561 6b20 6661 6c6c 7320  # If peak falls 
-00009470: 7769 7468 696e 2063 6f72 7265 6374 2072  within correct r
-00009480: 6567 696f 6e20 6f66 2070 726f 6d69 6e65  egion of promine
-00009490: 6e63 6520 6672 6163 7469 6f6e 2f70 6561  nce fraction/pea
-000094a0: 6b20 7368 6172 706e 6573 7320 6375 7276  k sharpness curv
-000094b0: 6520 2352 4947 4854 4845 5245 0a20 2020  e #RIGHTHERE.   
-000094c0: 2020 2020 2020 2020 2074 696d 654d 6172           timeMar
-000094d0: 6b4c 696e 6573 2e61 7070 656e 6428 5b70  kLines.append([p
-000094e0: 6561 6b58 2c20 7065 616b 592c 2074 7562  eakX, peakY, tub
-000094f0: 654e 756d 6265 725d 2920 2023 2041 6464  eNumber])  # Add
-00009500: 2074 696d 6520 6d61 726b 2074 6f20 6c69   time mark to li
-00009510: 7374 206f 6620 7469 6d65 206d 6172 6b20  st of time mark 
-00009520: 6c69 6e65 730a 2020 2020 2020 2020 0a20  lines.        . 
-00009530: 2020 2072 6574 7572 6e20 7469 6d65 4d61     return timeMa
-00009540: 726b 4c69 6e65 730a 0a0a 6465 6620 6765  rkLines...def ge
-00009550: 6e65 7261 7465 4465 6e73 6974 7950 726f  nerateDensityPro
-00009560: 6669 6c65 2869 6d61 6765 2c20 7072 6f66  file(image, prof
-00009570: 696c 6557 6964 7468 2c20 7475 6265 426f  ileWidth, tubeBo
-00009580: 756e 6473 293a 0a20 2020 2022 2222 4372  unds):.    """Cr
-00009590: 6561 7465 2061 2064 656e 7369 7479 2070  eate a density p
-000095a0: 726f 6669 6c65 206f 6620 6120 6769 7665  rofile of a give
-000095b0: 6e20 7475 6265 2077 6974 6869 6e20 6120  n tube within a 
-000095c0: 6769 7665 6e20 696d 6167 6520 6769 7665  given image give
-000095d0: 6e20 6120 7072 6f66 696c 6520 6c69 6e65  n a profile line
-000095e0: 2077 6964 7468 2e22 2222 0a20 2020 200a   width.""".    .
-000095f0: 0a20 2020 2064 656e 7369 7479 5072 6f66  .    densityProf
-00009600: 696c 6520 3d20 5b5d 2020 2320 426c 616e  ile = []  # Blan
-00009610: 6b20 6c69 7374 206f 6620 6f75 7470 7574  k list of output
-00009620: 2064 656e 7369 746f 6d65 7472 790a 2020   densitometry.  
-00009630: 2020 666f 7220 7820 696e 2072 616e 6765    for x in range
-00009640: 2830 2c20 3131 3630 293a 2020 2320 466f  (0, 1160):  # Fo
-00009650: 7220 6561 6368 2078 2070 6978 656c 2069  r each x pixel i
-00009660: 6e20 696d 6167 6520 2352 4947 4854 4845  n image #RIGHTHE
-00009670: 5245 0a20 2020 2020 2020 2079 4d69 6420  RE.        yMid 
-00009680: 3d20 2874 7562 6542 6f75 6e64 735b 785d  = (tubeBounds[x]
-00009690: 5b30 5d20 2b20 2874 7562 6542 6f75 6e64  [0] + (tubeBound
-000096a0: 735b 785d 5b31 5d20 2d20 7475 6265 426f  s[x][1] - tubeBo
-000096b0: 756e 6473 5b78 5d5b 305d 2920 2f20 3229  unds[x][0]) / 2)
-000096c0: 2020 2320 5365 7420 6d69 646c 696e 6520    # Set midline 
-000096d0: 7920 7661 6c75 650a 2020 2020 2020 2020  y value.        
-000096e0: 6465 6e73 6974 6965 7320 3d20 5b5d 2020  densities = []  
-000096f0: 2320 426c 616e 6b20 6c69 7374 206f 6620  # Blank list of 
-00009700: 6272 6967 6874 6e65 7373 6573 2061 7420  brightnesses at 
-00009710: 6375 7272 656e 7420 7820 7661 6c75 650a  current x value.
-00009720: 2020 2020 2020 2020 666f 7220 7920 696e          for y in
-00009730: 2072 616e 6765 2869 6e74 2879 4d69 6420   range(int(yMid 
-00009740: 2d20 7072 6f66 696c 6557 6964 7468 2f32  - profileWidth/2
-00009750: 292c 2069 6e74 2879 4d69 6420 2b20 7072  ), int(yMid + pr
-00009760: 6f66 696c 6557 6964 7468 2f32 2929 3a20  ofileWidth/2)): 
-00009770: 2023 2046 6f72 2065 6163 6820 7920 7769   # For each y wi
-00009780: 7468 696e 206c 696e 6520 7769 6474 6820  thin line width 
-00009790: 6174 2063 7572 7265 6e74 2078 2076 616c  at current x val
-000097a0: 7565 0a20 2020 2020 2020 2020 2020 2069  ue.            i
-000097b0: 6620 7920 3c20 3430 3020 616e 6420 7920  f y < 400 and y 
-000097c0: 3e20 303a 2020 2320 4966 2079 2069 7320  > 0:  # If y is 
-000097d0: 7769 7468 696e 2069 6d61 6765 2023 5249  within image #RI
-000097e0: 4748 5448 4552 450a 2020 2020 2020 2020  GHTHERE.        
-000097f0: 2020 2020 2020 2020 6465 6e73 6974 6965          densitie
-00009800: 732e 6170 7065 6e64 2869 6d61 6765 5b79  s.append(image[y
-00009810: 2c20 785d 2920 2023 2041 6464 2062 7269  , x])  # Add bri
-00009820: 6768 746e 6573 7320 7661 6c75 6520 746f  ghtness value to
-00009830: 206c 6973 740a 2020 2020 2020 2020 6465   list.        de
-00009840: 6e73 6974 7950 726f 6669 6c65 2e61 7070  nsityProfile.app
-00009850: 656e 6428 6e75 6d70 792e 6d65 616e 2864  end(numpy.mean(d
-00009860: 656e 7369 7469 6573 2929 2020 2320 4164  ensities))  # Ad
-00009870: 6420 6d65 616e 2062 7269 6768 746e 6573  d mean brightnes
-00009880: 7320 6174 2078 2076 616c 7565 2074 6f20  s at x value to 
-00009890: 6465 6e73 6974 6f6d 6574 7279 0a20 2020  densitometry.   
-000098a0: 2072 6574 7572 6e20 6465 6e73 6974 7950   return densityP
-000098b0: 726f 6669 6c65 2020 2320 5265 7475 726e  rofile  # Return
-000098c0: 2064 656e 7369 746f 6d65 7472 7920 7072   densitometry pr
-000098d0: 6f66 696c 650a 0a0a 6465 6620 6964 656e  ofile...def iden
-000098e0: 7469 6679 4261 6e64 696e 6728 293a 0a20  tifyBanding():. 
-000098f0: 2020 2022 2222 416e 616c 797a 6520 6c6f     """Analyze lo
-00009900: 6361 7469 6f6e 7320 6f66 2063 6f6e 6964  cations of conid
-00009910: 6961 6c20 6261 6e64 696e 6720 7769 7468  ial banding with
-00009920: 696e 2074 7562 6573 2069 6e20 6375 7272  in tubes in curr
-00009930: 656e 7420 696d 6167 652e 2222 220a 0a0a  ent image."""...
-00009940: 2020 2020 676c 6f62 616c 2066 696e 616c      global final
-00009950: 496d 6167 650a 2020 2020 676c 6f62 616c  Image.    global
-00009960: 2061 6e61 6c53 7461 7465 0a20 2020 2067   analState.    g
-00009970: 6c6f 6261 6c20 6465 6e73 6974 7950 726f  lobal densityPro
-00009980: 6669 6c65 730a 2020 2020 676c 6f62 616c  files.    global
-00009990: 2068 6f72 697a 6f6e 7461 6c4c 696e 6573   horizontalLines
-000099a0: 0a20 2020 2067 6c6f 6261 6c20 7469 6d65  .    global time
-000099b0: 4d61 726b 4c69 6e65 730a 2020 2020 676c  MarkLines.    gl
-000099c0: 6f62 616c 2074 7562 6542 6f75 6e64 730a  obal tubeBounds.
-000099d0: 2020 2020 676c 6f62 616c 2062 616e 644c      global bandL
-000099e0: 696e 6573 0a20 2020 2067 6c6f 6261 6c20  ines.    global 
-000099f0: 7072 656c 696d 436f 6e74 656e 7473 0a0a  prelimContents..
-00009a00: 0a20 2020 2061 6e61 6c53 7461 7465 203d  .    analState =
-00009a10: 2036 2020 2320 5365 7420 616e 616c 7973   6  # Set analys
-00009a20: 6973 2073 7461 7465 2074 6f20 360a 2020  is state to 6.  
-00009a30: 2020 666f 7220 7475 6265 2069 6e20 7261    for tube in ra
-00009a40: 6e67 6528 302c 206c 656e 2874 7562 6542  nge(0, len(tubeB
-00009a50: 6f75 6e64 7329 293a 2020 2320 466f 7220  ounds)):  # For 
-00009a60: 6561 6368 2074 7562 6520 696e 2074 7562  each tube in tub
-00009a70: 6542 6f75 6e64 730a 2020 2020 2020 2020  eBounds.        
-00009a80: 6e75 6d62 6572 4f66 4d61 726b 7320 3d20  numberOfMarks = 
-00009a90: 3020 2023 2053 6574 206e 756d 6265 7220  0  # Set number 
-00009aa0: 6f66 206d 6172 6b73 2069 6e20 7475 6265  of marks in tube
-00009ab0: 2074 6f20 300a 2020 2020 2020 2020 666f   to 0.        fo
-00009ac0: 7220 6c69 6e65 2069 6e20 7469 6d65 4d61  r line in timeMa
-00009ad0: 726b 4c69 6e65 733a 2020 2320 466f 7220  rkLines:  # For 
-00009ae0: 6561 6368 206c 696e 6520 696e 206c 6973  each line in lis
-00009af0: 7420 6f66 2061 6c6c 2074 696d 6520 6d61  t of all time ma
-00009b00: 726b 730a 2020 2020 2020 2020 2020 2020  rks.            
-00009b10: 6966 206c 696e 655b 325d 203d 3d20 7475  if line[2] == tu
-00009b20: 6265 3a20 2023 2049 6620 6c69 6e65 2079  be:  # If line y
-00009b30: 2069 7320 696e 2063 7572 7265 6e74 2074   is in current t
-00009b40: 7562 650a 2020 2020 2020 2020 2020 2020  ube.            
-00009b50: 2020 2020 6e75 6d62 6572 4f66 4d61 726b      numberOfMark
-00009b60: 7320 2b3d 2031 2020 2320 496e 6372 656d  s += 1  # Increm
-00009b70: 656e 7420 6e75 6d62 6572 206f 6620 6d61  ent number of ma
-00009b80: 726b 7320 696e 2074 7562 6520 6279 2031  rks in tube by 1
-00009b90: 0a20 2020 2020 2020 2070 7265 6c69 6d43  .        prelimC
-00009ba0: 6f6e 7465 6e74 735b 7475 6265 202b 2032  ontents[tube + 2
-00009bb0: 5d5b 315d 203d 2073 7472 286e 756d 6265  ][1] = str(numbe
-00009bc0: 724f 664d 6172 6b73 2920 2023 2041 6464  rOfMarks)  # Add
-00009bd0: 206e 756d 6265 7220 6f66 206d 6172 6b73   number of marks
-00009be0: 2074 6f20 6170 7072 6f70 7269 6174 6520   to appropriate 
-00009bf0: 6c69 6e65 206f 6620 7072 656c 696d 696e  line of prelimin
-00009c00: 6172 7920 6461 7461 2063 6f6e 7465 6e74  ary data content
-00009c10: 7320 6c69 7374 0a20 2020 2075 7064 6174  s list.    updat
-00009c20: 6550 7265 6c69 6d69 6e61 7279 4461 7461  ePreliminaryData
-00009c30: 4469 7370 6c61 7928 2920 2023 2055 7064  Display()  # Upd
-00009c40: 6174 6520 7072 656c 696d 696e 6172 7920  ate preliminary 
-00009c50: 6461 7461 2074 6578 7420 626f 780a 2020  data text box.  
-00009c60: 2020 636f 6e74 7261 7374 6572 203d 2049    contraster = I
-00009c70: 6d61 6765 456e 6861 6e63 652e 436f 6e74  mageEnhance.Cont
-00009c80: 7261 7374 2866 696e 616c 496d 6167 652e  rast(finalImage.
-00009c90: 636f 6e76 6572 7428 224c 2229 2920 2023  convert("L"))  #
-00009ca0: 2044 6566 696e 6520 636f 6e74 7261 7374   Define contrast
-00009cb0: 6572 206f 6620 6e75 6d70 7920 6172 7261  er of numpy arra
-00009cc0: 7920 6f66 2067 7265 7973 6361 6c65 2066  y of greyscale f
-00009cd0: 696e 616c 2069 6d61 6765 0a20 2020 2065  inal image.    e
-00009ce0: 6469 7465 6449 6d61 6765 203d 206e 756d  ditedImage = num
-00009cf0: 7079 2e61 7272 6179 2863 6f6e 7472 6173  py.array(contras
-00009d00: 7465 722e 656e 6861 6e63 6528 3329 2920  ter.enhance(3)) 
-00009d10: 2023 2053 6574 206e 756d 7079 2069 6d61   # Set numpy ima
-00009d20: 6765 2061 7272 6179 2074 6f20 636f 6e74  ge array to cont
-00009d30: 7261 7374 206c 6576 656c 2033 0a20 2020  rast level 3.   
-00009d40: 206f 7269 6769 6e61 6c49 6d61 6765 203d   originalImage =
-00009d50: 206e 756d 7079 2e61 7272 6179 2866 696e   numpy.array(fin
-00009d60: 616c 496d 6167 652e 636f 6e76 6572 7428  alImage.convert(
-00009d70: 224c 2229 2920 2023 2053 6574 206e 756d  "L"))  # Set num
-00009d80: 7079 2069 6d61 6765 2061 7272 6179 2066  py image array f
-00009d90: 6f72 2070 7265 636f 6e74 7261 7374 2028  or precontrast (
-00009da0: 276f 7269 6769 6e61 6c27 2920 696d 6167  'original') imag
-00009db0: 650a 2020 2020 6472 6177 4c69 6e65 7328  e.    drawLines(
-00009dc0: 4661 6c73 6529 2020 2320 4164 6420 6c69  False)  # Add li
-00009dd0: 6e65 7320 746f 2069 6d61 6765 0a20 2020  nes to image.   
-00009de0: 200a 2020 2020 666f 7220 7475 6265 2069   .    for tube i
-00009df0: 6e20 7475 6265 426f 756e 6473 3a20 2023  n tubeBounds:  #
-00009e00: 2046 6f72 2065 6163 6820 7475 6265 2069   For each tube i
-00009e10: 6e20 7475 6265 426f 756e 6473 0a20 2020  n tubeBounds.   
-00009e20: 2020 2020 2074 7562 6557 6964 7468 203d       tubeWidth =
-00009e30: 2074 7562 655b 305d 5b31 5d20 2d20 7475   tube[0][1] - tu
-00009e40: 6265 5b30 5d5b 305d 2020 2320 5769 6474  be[0][0]  # Widt
-00009e50: 6820 6f66 2063 7572 7265 6e74 2074 7562  h of current tub
-00009e60: 6520 6174 206c 6566 7420 656e 640a 2020  e at left end.  
-00009e70: 2020 2020 2020 6465 6e73 6974 7950 726f        densityPro
-00009e80: 6669 6c65 4f72 6967 696e 616c 203d 2067  fileOriginal = g
-00009e90: 656e 6572 6174 6544 656e 7369 7479 5072  enerateDensityPr
-00009ea0: 6f66 696c 6528 6f72 6967 696e 616c 496d  ofile(originalIm
-00009eb0: 6167 652c 2070 726f 6669 6c65 5769 6474  age, profileWidt
-00009ec0: 683d 696e 7428 7475 6265 5769 6474 6820  h=int(tubeWidth 
-00009ed0: 2d20 3529 2c20 7475 6265 426f 756e 6473  - 5), tubeBounds
-00009ee0: 3d74 7562 6529 2020 2320 4372 6561 7465  =tube)  # Create
-00009ef0: 2064 656e 7369 7479 2070 726f 6669 6c65   density profile
-00009f00: 206f 6620 6375 7272 656e 7420 7475 6265   of current tube
-00009f10: 0a20 2020 2020 2020 2064 656e 7369 7479  .        density
-00009f20: 5072 6f66 696c 6573 2e61 7070 656e 6428  Profiles.append(
-00009f30: 6465 6e73 6974 7950 726f 6669 6c65 4f72  densityProfileOr
-00009f40: 6967 696e 616c 2920 2023 2041 6464 2074  iginal)  # Add t
-00009f50: 6f20 676c 6f62 616c 2064 656e 7369 7479  o global density
-00009f60: 2070 726f 6669 6c65 206c 6973 740a 2020   profile list.  
-00009f70: 2020 2020 2020 7475 6265 4e75 6d62 6572        tubeNumber
-00009f80: 203d 2069 6e74 2874 7562 6542 6f75 6e64   = int(tubeBound
-00009f90: 732e 696e 6465 7828 7475 6265 2929 2020  s.index(tube))  
-00009fa0: 2320 496e 6465 7820 6f66 2063 7572 7265  # Index of curre
-00009fb0: 6e74 2074 7562 6520 696e 2074 7562 6542  nt tube in tubeB
-00009fc0: 6f75 6e64 730a 2020 2020 2020 2020 6261  ounds.        ba
-00009fd0: 6e64 4c69 6e65 7354 7562 6520 3d20 7169  ndLinesTube = qi
-00009fe0: 6465 6e74 6966 7942 616e 6469 6e67 2865  dentifyBanding(e
-00009ff0: 6469 7465 6449 6d61 6765 2c20 7475 6265  ditedImage, tube
-0000a000: 2c20 7475 6265 4e75 6d62 6572 2c20 7469  , tubeNumber, ti
-0000a010: 6d65 4d61 726b 4c69 6e65 7329 0a20 2020  meMarkLines).   
-0000a020: 2020 2020 2066 6f72 206c 696e 6520 696e       for line in
-0000a030: 2062 616e 644c 696e 6573 5475 6265 3a0a   bandLinesTube:.
-0000a040: 2020 2020 2020 2020 2020 2020 6261 6e64              band
-0000a050: 4c69 6e65 732e 6170 7065 6e64 286c 696e  Lines.append(lin
-0000a060: 6529 0a20 2020 2020 2020 200a 2020 2020  e).        .    
-0000a070: 6472 6177 4c69 6e65 7328 4661 6c73 6529  drawLines(False)
-0000a080: 2020 2320 4472 6177 206c 696e 6573 0a20    # Draw lines. 
-0000a090: 2020 2061 6e61 6c53 7461 7465 203d 2037     analState = 7
-0000a0a0: 2020 2320 5365 7420 616e 616c 7973 6973    # Set analysis
-0000a0b0: 2073 7461 7465 2074 6f20 370a 2020 2020   state to 7.    
-0000a0c0: 686f 6d65 5461 6243 6f6e 736f 6c65 5465  homeTabConsoleTe
-0000a0d0: 7874 426f 782e 7661 6c75 6520 3d20 2243  xtBox.value = "C
-0000a0e0: 6c69 636b 2061 2070 6f69 6e74 206f 6e20  lick a point on 
-0000a0f0: 7468 6520 696d 6167 6520 746f 2061 6464  the image to add
-0000a100: 206f 7220 7265 6d6f 7665 2062 616e 6473   or remove bands
-0000a110: 2e20 5265 6d6f 7665 2065 7272 6f6e 656f  . Remove erroneo
-0000a120: 7573 6c79 2069 6465 6e74 6966 6965 6420  usly identified 
-0000a130: 6261 6e64 7320 6672 6f6d 2061 6e79 206e  bands from any n
-0000a140: 6f6e 2d62 616e 6469 6e67 2074 7562 6573  on-banding tubes
-0000a150: 2e20 5768 656e 2073 6174 6973 6669 6564  . When satisfied
-0000a160: 2c20 636c 6963 6b20 7468 6520 5072 6f63  , click the Proc
-0000a170: 6565 6420 6275 7474 6f6e 2e22 2020 2320  eed button."  # 
-0000a180: 5570 6461 7465 2063 6f6e 736f 6c65 2074  Update console t
-0000a190: 6578 740a 0a0a 6465 6620 7169 6465 6e74  ext...def qident
-0000a1a0: 6966 7942 616e 6469 6e67 2869 6d61 6765  ifyBanding(image
-0000a1b0: 2c20 7475 6265 2c20 7475 6265 4e75 6d62  , tube, tubeNumb
-0000a1c0: 6572 2c20 7469 6d65 4d61 726b 4c69 6e65  er, timeMarkLine
-0000a1d0: 7329 3a0a 0a20 2020 2062 616e 644c 696e  s):..    bandLin
-0000a1e0: 6573 203d 205b 5d0a 2020 2020 7475 6265  es = [].    tube
-0000a1f0: 5769 6474 6820 3d20 7475 6265 5b30 5d5b  Width = tube[0][
-0000a200: 315d 202d 2074 7562 655b 305d 5b30 5d20  1] - tube[0][0] 
-0000a210: 2023 2057 6964 7468 206f 6620 6375 7272   # Width of curr
-0000a220: 656e 7420 7475 6265 2061 7420 6c65 6674  ent tube at left
-0000a230: 2065 6e64 0a20 2020 2064 656e 7369 7479   end.    density
-0000a240: 5072 6f66 696c 6520 3d20 6765 6e65 7261  Profile = genera
-0000a250: 7465 4465 6e73 6974 7950 726f 6669 6c65  teDensityProfile
-0000a260: 2869 6d61 6765 2c20 7072 6f66 696c 6557  (image, profileW
-0000a270: 6964 7468 3d69 6e74 2874 7562 6557 6964  idth=int(tubeWid
-0000a280: 7468 202d 2035 292c 2074 7562 6542 6f75  th - 5), tubeBou
-0000a290: 6e64 733d 7475 6265 2920 2023 2043 7265  nds=tube)  # Cre
-0000a2a0: 6174 6520 6465 6e73 6974 7920 7072 6f66  ate density prof
-0000a2b0: 696c 6520 6f66 2063 7572 7265 6e74 2074  ile of current t
-0000a2c0: 7562 650a 2020 2020 6465 6e73 6974 7950  ube.    densityP
-0000a2d0: 726f 6669 6c65 4e6f 5469 6d65 4d61 726b  rofileNoTimeMark
-0000a2e0: 7320 3d20 636f 7079 2e64 6565 7063 6f70  s = copy.deepcop
-0000a2f0: 7928 6465 6e73 6974 7950 726f 6669 6c65  y(densityProfile
-0000a300: 2920 2023 2052 656d 6f76 6520 6469 7073  )  # Remove dips
-0000a310: 2064 7565 2074 6f20 7469 6d65 206d 6172   due to time mar
-0000a320: 6b73 2066 726f 6d20 6465 6e73 6974 7920  ks from density 
-0000a330: 6461 7461 0a20 2020 2066 6f72 206c 696e  data.    for lin
-0000a340: 6520 696e 2074 696d 654d 6172 6b4c 696e  e in timeMarkLin
-0000a350: 6573 3a20 2023 2046 6f72 2065 6163 6820  es:  # For each 
-0000a360: 7469 6d65 206d 6172 6b20 286d 616b 6520  time mark (make 
-0000a370: 6465 6e73 6974 7950 726f 6669 6c65 4e6f  densityProfileNo
-0000a380: 5469 6d65 4d61 726b 7329 0a20 2020 2020  TimeMarks).     
-0000a390: 2020 2069 6620 6c69 6e65 5b32 5d20 3d3d     if line[2] ==
-0000a3a0: 2074 7562 654e 756d 6265 723a 2020 2320   tubeNumber:  # 
-0000a3b0: 4966 2074 696d 6520 6d61 726b 2069 7320  If time mark is 
-0000a3c0: 696e 2063 7572 7265 6e74 2074 7562 650a  in current tube.
-0000a3d0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-0000a3e0: 6f77 5261 6469 7573 203d 2031 3020 2023  owRadius = 10  #
-0000a3f0: 2053 6574 2072 6164 6975 7320 6f66 2074   Set radius of t
-0000a400: 696d 6520 6d61 726b 2064 656c 6574 696f  ime mark deletio
-0000a410: 6e20 7769 6e64 6f77 2023 5249 4748 5448  n window #RIGHTH
-0000a420: 4552 450a 2020 2020 2020 2020 2020 2020  ERE.            
-0000a430: 6c6f 7758 203d 206c 696e 655b 305d 202d  lowX = line[0] -
-0000a440: 2077 696e 646f 7752 6164 6975 7320 2023   windowRadius  #
-0000a450: 204c 6566 746d 6f73 7420 626f 756e 6420   Leftmost bound 
-0000a460: 6f66 2064 656c 6574 696f 6e20 7769 6e64  of deletion wind
-0000a470: 6f77 0a20 2020 2020 2020 2020 2020 2068  ow.            h
-0000a480: 6967 6858 203d 206c 696e 655b 305d 202b  ighX = line[0] +
-0000a490: 2077 696e 646f 7752 6164 6975 7320 2023   windowRadius  #
-0000a4a0: 2052 6967 6874 6d6f 7374 2062 6f75 6e64   Rightmost bound
-0000a4b0: 206f 6620 6465 6c65 7469 6f6e 2077 696e   of deletion win
-0000a4c0: 646f 770a 2020 2020 2020 2020 2020 2020  dow.            
-0000a4d0: 6966 206c 6f77 5820 3c20 303a 2020 2320  if lowX < 0:  # 
-0000a4e0: 4966 206c 6566 7420 626f 756e 6420 6973  If left bound is
-0000a4f0: 206f 7574 7369 6465 2069 6d61 6765 0a20   outside image. 
-0000a500: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0000a510: 6f77 5820 3d20 3020 2023 2053 6574 206c  owX = 0  # Set l
-0000a520: 6566 7420 626f 756e 6420 746f 206c 6566  eft bound to lef
-0000a530: 7420 6564 6765 206f 6620 696d 6167 650a  t edge of image.
-0000a540: 2020 2020 2020 2020 2020 2020 6966 2068              if h
-0000a550: 6967 6858 203e 2031 3136 303a 2020 2320  ighX > 1160:  # 
-0000a560: 4966 2072 6967 6874 2062 6f75 6e64 2069  If right bound i
-0000a570: 7320 6f75 7473 6964 6520 696d 6167 6520  s outside image 
-0000a580: 2352 4947 4854 4845 5245 0a20 2020 2020  #RIGHTHERE.     
-0000a590: 2020 2020 2020 2020 2020 2068 6967 6858             highX
-0000a5a0: 203d 2031 3136 3020 2023 2053 6574 2072   = 1160  # Set r
-0000a5b0: 6967 6874 2062 6f75 6e64 2074 6f20 7269  ight bound to ri
-0000a5c0: 6768 7420 6564 6765 206f 6620 696d 6167  ght edge of imag
-0000a5d0: 6520 2352 4947 4854 4845 5245 0a20 2020  e #RIGHTHERE.   
-0000a5e0: 2020 2020 2020 2020 2079 496e 6372 656d           yIncrem
-0000a5f0: 656e 7420 3d20 2864 656e 7369 7479 5072  ent = (densityPr
-0000a600: 6f66 696c 655b 6869 6768 585d 202d 2064  ofile[highX] - d
-0000a610: 656e 7369 7479 5072 6f66 696c 655b 6c6f  ensityProfile[lo
-0000a620: 7758 5d29 202f 2028 322a 7769 6e64 6f77  wX]) / (2*window
-0000a630: 5261 6469 7573 2b31 2920 2023 2053 6574  Radius+1)  # Set
-0000a640: 2079 2069 6e63 7265 6d65 6e74 206f 6620   y increment of 
-0000a650: 696e 7465 7270 6f6c 6174 696f 6e0a 2020  interpolation.  
-0000a660: 2020 2020 2020 2020 2020 7849 6e63 7265            xIncre
-0000a670: 6d65 6e74 203d 2030 2020 2320 5365 7420  ment = 0  # Set 
-0000a680: 7820 696e 6372 656d 656e 7420 6f66 2069  x increment of i
-0000a690: 6e74 6572 706f 6c61 7469 6f6e 0a20 2020  nterpolation.   
-0000a6a0: 2020 2020 2020 2020 2066 6f72 2078 5761           for xWa
-0000a6b0: 6c6b 2069 6e20 7261 6e67 6528 6c6f 7758  lk in range(lowX
-0000a6c0: 2c20 6869 6768 5829 3a20 2023 2046 6f72  , highX):  # For
-0000a6d0: 2078 2076 616c 7565 2069 6e20 696e 7465   x value in inte
-0000a6e0: 7270 2077 696e 646f 770a 2020 2020 2020  rp window.      
-0000a6f0: 2020 2020 2020 2020 2020 6966 2078 5761            if xWa
-0000a700: 6c6b 203c 206c 656e 2864 656e 7369 7479  lk < len(density
-0000a710: 5072 6f66 696c 654e 6f54 696d 654d 6172  ProfileNoTimeMar
-0000a720: 6b73 2920 2d20 3120 616e 6420 7857 616c  ks) - 1 and xWal
-0000a730: 6b20 3e20 303a 2020 2320 4966 2078 2069  k > 0:  # If x i
-0000a740: 7320 7769 7468 696e 2069 6d61 6765 0a20  s within image. 
-0000a750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a760: 2020 2064 656e 7369 7479 5072 6f66 696c     densityProfil
-0000a770: 654e 6f54 696d 654d 6172 6b73 5b78 5761  eNoTimeMarks[xWa
-0000a780: 6c6b 5d20 3d20 6465 6e73 6974 7950 726f  lk] = densityPro
-0000a790: 6669 6c65 5b6c 6f77 585d 202b 2079 496e  file[lowX] + yIn
-0000a7a0: 6372 656d 656e 7420 2a20 7849 6e63 7265  crement * xIncre
-0000a7b0: 6d65 6e74 2020 2320 496e 7465 7270 6f6c  ment  # Interpol
-0000a7c0: 6174 6520 6465 6e73 6974 790a 2020 2020  ate density.    
-0000a7d0: 2020 2020 2020 2020 2020 2020 7849 6e63              xInc
-0000a7e0: 7265 6d65 6e74 202b 3d20 3120 2023 2049  rement += 1  # I
-0000a7f0: 6e63 7265 6173 6520 7820 696e 6372 656d  ncrease x increm
-0000a800: 656e 7420 6f66 2069 6e74 6572 706f 6c61  ent of interpola
-0000a810: 7469 6f6e 0a20 2020 2064 656e 7369 7479  tion.    density
-0000a820: 5072 6f66 696c 6553 6d6f 6f74 6820 3d20  ProfileSmooth = 
-0000a830: 7361 7667 6f6c 5f66 696c 7465 7228 6465  savgol_filter(de
-0000a840: 6e73 6974 7950 726f 6669 6c65 4e6f 5469  nsityProfileNoTi
-0000a850: 6d65 4d61 726b 732c 2077 696e 646f 775f  meMarks, window_
-0000a860: 6c65 6e67 7468 3d33 302c 2070 6f6c 796f  length=30, polyo
-0000a870: 7264 6572 3d34 2c20 6d6f 6465 3d22 696e  rder=4, mode="in
-0000a880: 7465 7270 2229 2020 2320 4372 6561 7465  terp")  # Create
-0000a890: 206c 6973 7420 666f 7220 5361 7669 747a   list for Savitz
-0000a8a0: 6b79 2d47 6f6c 6179 2073 6d6f 6f74 6865  ky-Golay smoothe
-0000a8b0: 6420 6465 6e73 6974 7920 7072 6f66 696c  d density profil
-0000a8c0: 6520 6f66 206d 6172 6b73 2d63 6f72 7265  e of marks-corre
-0000a8d0: 6374 6564 2064 6174 6173 6574 2023 5249  cted dataset #RI
-0000a8e0: 4748 5448 4552 450a 2020 2020 7065 616b  GHTHERE.    peak
-0000a8f0: 496e 6469 6365 7320 3d20 6669 6e64 5f70  Indices = find_p
-0000a900: 6561 6b73 2864 656e 7369 7479 5072 6f66  eaks(densityProf
-0000a910: 696c 6553 6d6f 6f74 682c 2064 6973 7461  ileSmooth, dista
-0000a920: 6e63 653d 3230 2c20 7072 6f6d 696e 656e  nce=20, prominen
-0000a930: 6365 3d32 302c 2068 6569 6768 743d 6e75  ce=20, height=nu
-0000a940: 6d70 792e 6d61 7828 6465 6e73 6974 7950  mpy.max(densityP
-0000a950: 726f 6669 6c65 536d 6f6f 7468 2920 2a20  rofileSmooth) * 
-0000a960: 302e 3735 295b 305d 2020 2320 4765 7420  0.75)[0]  # Get 
-0000a970: 696e 6469 6365 7320 6f66 206c 6f63 616c  indices of local
-0000a980: 206d 6178 696d 6120 6f66 2073 6d6f 6f74   maxima of smoot
-0000a990: 6865 6420 6465 6e73 6974 7920 7072 6f66  hed density prof
-0000a9a0: 696c 6520 2352 4947 4854 4845 5245 0a20  ile #RIGHTHERE. 
-0000a9b0: 2020 2066 6f72 2070 6561 6b49 6e64 6578     for peakIndex
-0000a9c0: 2069 6e20 7065 616b 496e 6469 6365 733a   in peakIndices:
-0000a9d0: 2020 2320 466f 7220 6561 6368 2070 6561    # For each pea
-0000a9e0: 6b20 696e 6465 7820 696e 2073 6d6f 6f74  k index in smoot
-0000a9f0: 6865 6420 6465 6e73 6974 7920 7072 6f66  hed density prof
-0000aa00: 696c 650a 2020 2020 2020 2020 7065 616b  ile.        peak
-0000aa10: 5820 3d20 7065 616b 496e 6465 7820 2023  X = peakIndex  #
-0000aa20: 2053 6574 2078 2074 6f20 696e 6465 780a   Set x to index.
-0000aa30: 2020 2020 2020 2020 7065 616b 5920 3d20          peakY = 
-0000aa40: 2874 7562 655b 7065 616b 496e 6465 785d  (tube[peakIndex]
-0000aa50: 5b30 5d20 2b20 2874 7562 655b 7065 616b  [0] + (tube[peak
-0000aa60: 496e 6465 785d 5b31 5d20 2d20 7475 6265  Index][1] - tube
-0000aa70: 5b70 6561 6b49 6e64 6578 5d5b 305d 292f  [peakIndex][0])/
-0000aa80: 3229 2020 2320 5365 7420 7920 746f 206d  2)  # Set y to m
-0000aa90: 6964 6c69 6e65 206f 6620 7475 6265 0a20  idline of tube. 
-0000aaa0: 2020 2020 2020 2069 6620 7065 616b 5820         if peakX 
-0000aab0: 3e20 6e75 6d70 792e 6d69 6e28 6c69 7374  > numpy.min(list
-0000aac0: 286c 696e 655b 305d 2066 6f72 206c 696e  (line[0] for lin
-0000aad0: 6520 696e 2074 696d 654d 6172 6b4c 696e  e in timeMarkLin
-0000aae0: 6573 2929 2061 6e64 2070 6561 6b58 203c  es)) and peakX <
-0000aaf0: 2031 3135 303a 2020 2320 4966 2062 616e   1150:  # If ban
-0000ab00: 6420 6973 2066 7572 7468 6572 2072 6967  d is further rig
-0000ab10: 6874 2074 6861 6e20 7468 6520 6669 7273  ht than the firs
-0000ab20: 7420 7469 6d65 206d 6172 6b20 666f 7220  t time mark for 
-0000ab30: 6974 7320 7475 6265 2023 5249 4748 5448  its tube #RIGHTH
-0000ab40: 4552 450a 2020 2020 2020 2020 2020 2020  ERE.            
-0000ab50: 6261 6e64 4c69 6e65 732e 6170 7065 6e64  bandLines.append
-0000ab60: 285b 7065 616b 582c 2070 6561 6b59 2c20  ([peakX, peakY, 
-0000ab70: 7475 6265 4e75 6d62 6572 5d29 2020 2320  tubeNumber])  # 
-0000ab80: 4164 6420 6261 6e64 2074 6f20 6c69 7374  Add band to list
-0000ab90: 0a20 2020 200a 2020 2020 7265 7475 726e  .    .    return
-0000aba0: 2062 616e 644c 696e 6573 0a0a 0a64 6566   bandLines...def
-0000abb0: 2064 7261 774c 696e 6573 2864 7261 7754   drawLines(drawT
-0000abc0: 696d 654d 6172 6b4c 696e 6573 293a 0a20  imeMarkLines):. 
-0000abd0: 2020 2022 2222 5265 6472 6177 2069 6d61     """Redraw ima
-0000abe0: 6765 2061 6c6f 6e67 2077 6974 6820 6375  ge along with cu
-0000abf0: 7272 656e 7420 6163 6365 7074 6564 2068  rrent accepted h
-0000ac00: 6f72 697a 6f6e 7461 6c20 616e 6420 7665  orizontal and ve
-0000ac10: 7274 6963 616c 206c 696e 6573 2066 6f72  rtical lines for
-0000ac20: 2074 696d 6520 616e 6420 6261 6e64 206d   time and band m
-0000ac30: 6172 6b73 2e22 2222 0a0a 0a20 2020 2067  arks."""...    g
-0000ac40: 6c6f 6261 6c20 686f 7269 7a6f 6e74 616c  lobal horizontal
-0000ac50: 4c69 6e65 730a 2020 2020 676c 6f62 616c  Lines.    global
-0000ac60: 2074 696d 654d 6172 6b4c 696e 6573 0a20   timeMarkLines. 
-0000ac70: 2020 2067 6c6f 6261 6c20 6261 6e64 4c69     global bandLi
-0000ac80: 6e65 730a 2020 2020 676c 6f62 616c 206d  nes.    global m
-0000ac90: 6561 6e54 7562 6557 6964 7468 0a20 2020  eanTubeWidth.   
-0000aca0: 2067 6c6f 6261 6c20 6669 6e61 6c49 6d61   global finalIma
-0000acb0: 6765 0a20 2020 2067 6c6f 6261 6c20 7475  ge.    global tu
-0000acc0: 6265 426f 756e 6473 0a20 2020 2067 6c6f  beBounds.    glo
-0000acd0: 6261 6c20 6170 7050 6172 616d 6574 6572  bal appParameter
-0000ace0: 730a 0a0a 2020 2020 686f 6d65 5461 6252  s...    homeTabR
-0000acf0: 6163 6554 7562 6549 6d61 6765 4f62 6a65  aceTubeImageObje
-0000ad00: 6374 2e63 6c65 6172 2829 2020 2320 436c  ct.clear()  # Cl
-0000ad10: 6561 7220 696d 6167 6520 6361 6e76 6173  ear image canvas
-0000ad20: 0a20 2020 2068 6f6d 6554 6162 5261 6365  .    homeTabRace
-0000ad30: 5475 6265 496d 6167 654f 626a 6563 742e  TubeImageObject.
-0000ad40: 696d 6167 6528 302c 2030 2c20 6669 6e61  image(0, 0, fina
-0000ad50: 6c49 6d61 6765 2920 2023 2041 6464 2069  lImage)  # Add i
-0000ad60: 6d61 6765 2074 6f20 6361 6e76 6173 0a20  mage to canvas. 
-0000ad70: 2020 2066 6f72 206c 696e 6520 696e 2068     for line in h
-0000ad80: 6f72 697a 6f6e 7461 6c4c 696e 6573 3a20  orizontalLines: 
-0000ad90: 2023 2046 6f72 2065 6163 6820 686f 7269   # For each hori
-0000ada0: 7a6f 6e74 616c 206c 696e 650a 2020 2020  zontal line.    
-0000adb0: 2020 2020 686f 6d65 5461 6252 6163 6554      homeTabRaceT
-0000adc0: 7562 6549 6d61 6765 4f62 6a65 6374 2e6c  ubeImageObject.l
-0000add0: 696e 6528 0a20 2020 2020 2020 2020 2020  ine(.           
-0000ade0: 2030 2c20 0a20 2020 2020 2020 2020 2020   0, .           
-0000adf0: 206c 696e 655b 315d 2c0a 2020 2020 2020   line[1],.      
-0000ae00: 2020 2020 2020 3131 3630 2c20 0a20 2020        1160, .   
-0000ae10: 2020 2020 2020 2020 206c 696e 655b 315d           line[1]
-0000ae20: 202b 2031 3136 3020 2a20 6c69 6e65 5b30   + 1160 * line[0
-0000ae30: 5d2c 200a 2020 2020 2020 2020 2020 2020  ], .            
-0000ae40: 636f 6c6f 723d 6170 7050 6172 616d 6574  color=appParamet
-0000ae50: 6572 735b 2263 6f6c 6f72 486f 7269 7a22  ers["colorHoriz"
-0000ae60: 5d2c 200a 2020 2020 2020 2020 2020 2020  ], .            
-0000ae70: 7769 6474 683d 320a 2020 2020 2020 2020  width=2.        
-0000ae80: 2920 2023 2044 7261 7720 7468 6520 686f  )  # Draw the ho
-0000ae90: 7269 7a6f 6e74 616c 206c 696e 6520 2352  rizontal line #R
-0000aea0: 4947 4854 4845 5245 0a20 2020 2069 6620  IGHTHERE.    if 
-0000aeb0: 6472 6177 5469 6d65 4d61 726b 4c69 6e65  drawTimeMarkLine
-0000aec0: 733a 0a20 2020 2020 2020 2066 6f72 206c  s:.        for l
-0000aed0: 696e 6520 696e 2074 696d 654d 6172 6b4c  ine in timeMarkL
-0000aee0: 696e 6573 3a20 2023 2046 6f72 2065 6163  ines:  # For eac
-0000aef0: 6820 7469 6d65 206d 6172 6b0a 2020 2020  h time mark.    
-0000af00: 2020 2020 2020 2020 686f 6d65 5461 6252          homeTabR
-0000af10: 6163 6554 7562 6549 6d61 6765 4f62 6a65  aceTubeImageObje
-0000af20: 6374 2e6c 696e 6528 0a20 2020 2020 2020  ct.line(.       
-0000af30: 2020 2020 2020 2020 206c 696e 655b 305d           line[0]
-0000af40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000af50: 2020 6c69 6e65 5b31 5d20 2d20 286d 6561    line[1] - (mea
-0000af60: 6e54 7562 6557 6964 7468 202f 2032 202d  nTubeWidth / 2 -
-0000af70: 2035 292c 0a20 2020 2020 2020 2020 2020   5),.           
-0000af80: 2020 2020 206c 696e 655b 305d 2c0a 2020       line[0],.  
-0000af90: 2020 2020 2020 2020 2020 2020 2020 6c69                li
-0000afa0: 6e65 5b31 5d20 2b20 286d 6561 6e54 7562  ne[1] + (meanTub
-0000afb0: 6557 6964 7468 202f 2032 202d 2035 292c  eWidth / 2 - 5),
-0000afc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000afd0: 2063 6f6c 6f72 3d61 7070 5061 7261 6d65   color=appParame
-0000afe0: 7465 7273 5b22 636f 6c6f 7256 6572 7422  ters["colorVert"
-0000aff0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-0000b000: 2020 2077 6964 7468 3d32 2c0a 2020 2020     width=2,.    
-0000b010: 2020 2020 2020 2020 2920 2023 2044 7261          )  # Dra
-0000b020: 7720 7468 6520 7469 6d65 206d 6172 6b20  w the time mark 
-0000b030: 6c69 6e65 0a20 2020 2066 6f72 206c 696e  line.    for lin
-0000b040: 6520 696e 2062 616e 644c 696e 6573 3a20  e in bandLines: 
-0000b050: 2023 2046 6f72 2065 6163 6820 6261 6e64   # For each band
-0000b060: 0a20 2020 2020 2020 2068 6f6d 6554 6162  .        homeTab
-0000b070: 5261 6365 5475 6265 496d 6167 654f 626a  RaceTubeImageObj
-0000b080: 6563 742e 6c69 6e65 280a 2020 2020 2020  ect.line(.      
-0000b090: 2020 2020 2020 6c69 6e65 5b30 5d2c 0a20        line[0],. 
-0000b0a0: 2020 2020 2020 2020 2020 206c 696e 655b             line[
-0000b0b0: 315d 202d 2028 6d65 616e 5475 6265 5769  1] - (meanTubeWi
-0000b0c0: 6474 6820 2f20 3220 2d20 3529 2c0a 2020  dth / 2 - 5),.  
-0000b0d0: 2020 2020 2020 2020 2020 6c69 6e65 5b30            line[0
-0000b0e0: 5d2c 0a20 2020 2020 2020 2020 2020 206c  ],.            l
-0000b0f0: 696e 655b 315d 202b 2028 6d65 616e 5475  ine[1] + (meanTu
-0000b100: 6265 5769 6474 6820 2f20 3220 2d20 3529  beWidth / 2 - 5)
-0000b110: 2c0a 2020 2020 2020 2020 2020 2020 636f  ,.            co
-0000b120: 6c6f 723d 6170 7050 6172 616d 6574 6572  lor=appParameter
-0000b130: 735b 2263 6f6c 6f72 4261 6e64 225d 2c0a  s["colorBand"],.
-0000b140: 2020 2020 2020 2020 2020 2020 7769 6474              widt
-0000b150: 683d 322c 0a20 2020 2020 2020 2029 2020  h=2,.        )  
-0000b160: 2320 4472 6177 2074 6865 206c 696e 6520  # Draw the line 
-0000b170: 666f 7220 7468 6520 6261 6e64 2070 6561  for the band pea
-0000b180: 6b0a 0a0a 6465 6620 696d 6167 6543 6c69  k...def imageCli
-0000b190: 636b 4861 6e64 6c65 7228 6d6f 7573 6543  ckHandler(mouseC
-0000b1a0: 6c69 636b 293a 0a20 2020 2022 2222 4261  lick):.    """Ba
-0000b1b0: 7365 6420 6f6e 2067 6c6f 6261 6c20 616e  sed on global an
-0000b1c0: 616c 7973 6973 2073 7461 7465 2c20 6861  alysis state, ha
-0000b1d0: 6e64 6c65 2063 6c69 636b 7320 6f6e 2069  ndle clicks on i
-0000b1e0: 6d61 6765 2074 6f20 6164 6a75 7374 206c  mage to adjust l
-0000b1f0: 696e 6520 6c6f 6361 7469 6f6e 732e 2222  ine locations.""
-0000b200: 220a 0a0a 2020 2020 676c 6f62 616c 2061  "...    global a
-0000b210: 6e61 6c53 7461 7465 0a20 2020 2067 6c6f  nalState.    glo
-0000b220: 6261 6c20 686f 7269 7a6f 6e74 616c 4c69  bal horizontalLi
-0000b230: 6e65 730a 2020 2020 676c 6f62 616c 2074  nes.    global t
-0000b240: 696d 654d 6172 6b4c 696e 6573 0a20 2020  imeMarkLines.   
-0000b250: 2067 6c6f 6261 6c20 6261 6e64 4c69 6e65   global bandLine
-0000b260: 730a 2020 2020 676c 6f62 616c 206d 6561  s.    global mea
-0000b270: 6e54 7562 6553 6c6f 7065 0a20 2020 2067  nTubeSlope.    g
-0000b280: 6c6f 6261 6c20 6d65 616e 5475 6265 5769  lobal meanTubeWi
-0000b290: 6474 680a 2020 2020 676c 6f62 616c 2074  dth.    global t
-0000b2a0: 7562 6542 6f75 6e64 730a 0a0a 2020 2020  ubeBounds...    
-0000b2b0: 6d61 7463 6820 616e 616c 5374 6174 653a  match analState:
-0000b2c0: 2020 2320 4261 7365 6420 6f6e 2061 6e61    # Based on ana
-0000b2d0: 6c79 7369 7320 7374 6174 650a 2020 2020  lysis state.    
-0000b2e0: 2020 2020 6361 7365 2032 3a20 2023 2041      case 2:  # A
-0000b2f0: 6e61 6c79 7369 7320 7374 6174 6520 3220  nalysis state 2 
-0000b300: 2874 7562 6520 626f 756e 6473 290a 2020  (tube bounds).  
-0000b310: 2020 2020 2020 2020 2020 7461 7267 6574            target
-0000b320: 4c69 6e65 496e 6465 7820 3d20 2d31 2020  LineIndex = -1  
-0000b330: 2320 5365 7420 7461 7267 6574 2074 6f20  # Set target to 
-0000b340: 2d31 0a20 2020 2020 2020 2020 2020 2066  -1.            f
-0000b350: 6f72 206c 696e 6520 696e 2068 6f72 697a  or line in horiz
-0000b360: 6f6e 7461 6c4c 696e 6573 3a20 2023 2046  ontalLines:  # F
-0000b370: 6f72 2065 6163 6820 686f 7269 7a6f 6e74  or each horizont
-0000b380: 616c 206c 696e 650a 2020 2020 2020 2020  al line.        
-0000b390: 2020 2020 2020 2020 6966 2028 6162 7328          if (abs(
-0000b3a0: 6c69 6e65 5b30 5d20 2a20 6d6f 7573 6543  line[0] * mouseC
-0000b3b0: 6c69 636b 2e78 202b 206c 696e 655b 315d  lick.x + line[1]
-0000b3c0: 202d 206d 6f75 7365 436c 6963 6b2e 7929   - mouseClick.y)
-0000b3d0: 203c 2031 3029 3a20 2023 2049 6620 636c   < 10):  # If cl
-0000b3e0: 6963 6b20 6973 2063 6c6f 7365 2065 6e6f  ick is close eno
-0000b3f0: 7567 6820 746f 2061 6e20 6578 6973 7469  ugh to an existi
-0000b400: 6e67 2068 6f72 697a 6f6e 7461 6c20 6c69  ng horizontal li
-0000b410: 6e65 0a20 2020 2020 2020 2020 2020 2020  ne.             
-0000b420: 2020 2020 2020 2074 6172 6765 744c 696e         targetLin
-0000b430: 6549 6e64 6578 203d 2068 6f72 697a 6f6e  eIndex = horizon
-0000b440: 7461 6c4c 696e 6573 2e69 6e64 6578 286c  talLines.index(l
-0000b450: 696e 6529 2020 2320 5365 7420 7072 6f78  ine)  # Set prox
-0000b460: 696d 616c 206c 696e 6520 746f 2063 6c69  imal line to cli
-0000b470: 636b 2061 7320 7461 7267 6574 206c 696e  ck as target lin
-0000b480: 650a 2020 2020 2020 2020 2020 2020 6966  e.            if
-0000b490: 2074 6172 6765 744c 696e 6549 6e64 6578   targetLineIndex
-0000b4a0: 203d 3d20 2d31 3a20 2023 2049 6620 6e6f   == -1:  # If no
-0000b4b0: 206c 696e 6520 6973 2074 6172 6765 7465   line is targete
-0000b4c0: 6420 6279 2063 6c69 636b 0a20 2020 2020  d by click.     
-0000b4d0: 2020 2020 2020 2020 2020 206e 6577 4c69             newLi
-0000b4e0: 6e65 496e 7465 7263 6570 7420 3d20 286d  neIntercept = (m
-0000b4f0: 6f75 7365 436c 6963 6b2e 7920 2d20 6d65  ouseClick.y - me
-0000b500: 616e 5475 6265 536c 6f70 6520 2a20 6d6f  anTubeSlope * mo
-0000b510: 7573 6543 6c69 636b 2e78 2920 2023 2047  useClick.x)  # G
-0000b520: 656e 6572 6174 6520 6e65 7720 696e 7465  enerate new inte
-0000b530: 7263 6570 7420 6261 7365 6420 6f6e 2063  rcept based on c
-0000b540: 6c69 636b 2070 6f73 6974 696f 6e20 616e  lick position an
-0000b550: 6420 6d65 616e 2068 6f72 697a 6f6e 7461  d mean horizonta
-0000b560: 6c20 736c 6f70 650a 2020 2020 2020 2020  l slope.        
-0000b570: 2020 2020 2020 2020 686f 7269 7a6f 6e74          horizont
-0000b580: 616c 4c69 6e65 732e 6170 7065 6e64 285b  alLines.append([
-0000b590: 6d65 616e 5475 6265 536c 6f70 652c 206e  meanTubeSlope, n
-0000b5a0: 6577 4c69 6e65 496e 7465 7263 6570 745d  ewLineIntercept]
-0000b5b0: 2920 2023 2041 6464 206e 6577 206c 696e  )  # Add new lin
-0000b5c0: 6520 746f 206c 6973 7420 6f66 2068 6f72  e to list of hor
-0000b5d0: 697a 6f6e 7461 6c20 6c69 6e65 730a 2020  izontal lines.  
-0000b5e0: 2020 2020 2020 2020 2020 656c 7365 3a20            else: 
-0000b5f0: 2023 2049 6620 6120 6c69 6e65 2069 7320   # If a line is 
-0000b600: 7461 7267 6574 6564 2062 7920 636c 6963  targeted by clic
-0000b610: 6b0a 2020 2020 2020 2020 2020 2020 2020  k.              
-0000b620: 2020 686f 7269 7a6f 6e74 616c 4c69 6e65    horizontalLine
-0000b630: 732e 706f 7028 7461 7267 6574 4c69 6e65  s.pop(targetLine
-0000b640: 496e 6465 7829 2020 2320 4465 6c65 7465  Index)  # Delete
-0000b650: 2074 6861 7420 6c69 6e65 0a20 2020 2020   that line.     
-0000b660: 2020 2020 2020 2064 7261 774c 696e 6573         drawLines
-0000b670: 2854 7275 6529 2020 2320 4164 6420 6c69  (True)  # Add li
-0000b680: 6e65 7320 746f 2069 6d61 6765 0a20 2020  nes to image.   
-0000b690: 2020 2020 2063 6173 6520 353a 2020 2320       case 5:  # 
-0000b6a0: 416e 616c 7973 6973 2073 7461 7465 2035  Analysis state 5
-0000b6b0: 2028 7469 6d65 206d 6172 6b73 290a 2020   (time marks).  
-0000b6c0: 2020 2020 2020 2020 2020 7461 7267 6574            target
-0000b6d0: 4c69 6e65 496e 6465 7820 3d20 2d31 2020  LineIndex = -1  
-0000b6e0: 2320 5365 7420 7461 7267 6574 2074 6f20  # Set target to 
-0000b6f0: 2d31 0a20 2020 2020 2020 2020 2020 2066  -1.            f
-0000b700: 6f72 206c 696e 6520 696e 2074 696d 654d  or line in timeM
-0000b710: 6172 6b4c 696e 6573 3a20 2023 2046 6f72  arkLines:  # For
-0000b720: 2065 6163 6820 7469 6d65 206d 6172 6b20   each time mark 
-0000b730: 6c69 6e65 0a20 2020 2020 2020 2020 2020  line.           
-0000b740: 2020 2020 2069 6620 6162 7328 6c69 6e65       if abs(line
-0000b750: 5b30 5d20 2d20 6d6f 7573 6543 6c69 636b  [0] - mouseClick
-0000b760: 2e78 2920 3c20 3520 616e 6420 6162 7328  .x) < 5 and abs(
-0000b770: 6c69 6e65 5b31 5d20 2d20 6d6f 7573 6543  line[1] - mouseC
-0000b780: 6c69 636b 2e79 2920 3c20 286d 6561 6e54  lick.y) < (meanT
-0000b790: 7562 6557 6964 7468 2f32 2b32 293a 2020  ubeWidth/2+2):  
-0000b7a0: 2320 4966 2063 6c69 636b 2069 7320 636c  # If click is cl
-0000b7b0: 6f73 6520 656e 6f75 6768 2074 6f20 616e  ose enough to an
-0000b7c0: 2065 7869 7374 696e 6720 7469 6d65 206d   existing time m
-0000b7d0: 6172 6b20 6c69 6e65 0a20 2020 2020 2020  ark line.       
-0000b7e0: 2020 2020 2020 2020 2020 2020 2074 6172               tar
-0000b7f0: 6765 744c 696e 6549 6e64 6578 203d 2074  getLineIndex = t
-0000b800: 696d 654d 6172 6b4c 696e 6573 2e69 6e64  imeMarkLines.ind
-0000b810: 6578 286c 696e 6529 2020 2320 5365 7420  ex(line)  # Set 
-0000b820: 7072 6f78 696d 616c 206c 696e 6520 746f  proximal line to
-0000b830: 2063 6c69 636b 2061 7320 7461 7267 6574   click as target
-0000b840: 206c 696e 650a 2020 2020 2020 2020 2020   line.          
-0000b850: 2020 6966 2074 6172 6765 744c 696e 6549    if targetLineI
-0000b860: 6e64 6578 203d 3d20 2d31 3a20 2023 2049  ndex == -1:  # I
-0000b870: 6620 6e6f 206c 696e 6520 6973 2074 6172  f no line is tar
-0000b880: 6765 7465 6420 6279 2063 6c69 636b 0a20  geted by click. 
-0000b890: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-0000b8a0: 6577 4d61 726b 5820 3d20 6d6f 7573 6543  ewMarkX = mouseC
-0000b8b0: 6c69 636b 2e78 2020 2320 5365 7420 7820  lick.x  # Set x 
-0000b8c0: 746f 2078 206f 6620 636c 6963 6b0a 2020  to x of click.  
-0000b8d0: 2020 2020 2020 2020 2020 2020 2020 6e65                ne
-0000b8e0: 774d 6172 6b54 7562 654e 756d 6265 7220  wMarkTubeNumber 
-0000b8f0: 3d20 2d31 2020 2320 5365 7420 7475 6265  = -1  # Set tube
-0000b900: 2049 4420 746f 202d 310a 2020 2020 2020   ID to -1.      
-0000b910: 2020 2020 2020 2020 2020 666f 7220 7475            for tu
-0000b920: 6265 2069 6e20 7475 6265 426f 756e 6473  be in tubeBounds
-0000b930: 3a20 2023 2046 6f72 2065 6163 6820 7475  :  # For each tu
-0000b940: 6265 2069 6e20 7475 6265 426f 756e 6473  be in tubeBounds
-0000b950: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b960: 2020 2020 2069 6620 286d 6f75 7365 436c       if (mouseCl
-0000b970: 6963 6b2e 7920 3e20 7475 6265 5b6e 6577  ick.y > tube[new
-0000b980: 4d61 726b 585d 5b30 5d20 616e 6420 6d6f  MarkX][0] and mo
-0000b990: 7573 6543 6c69 636b 2e79 203c 2074 7562  useClick.y < tub
-0000b9a0: 655b 6e65 774d 6172 6b58 5d5b 315d 293a  e[newMarkX][1]):
-0000b9b0: 2020 2320 4966 2063 6c69 636b 2069 7320    # If click is 
-0000b9c0: 7769 7468 696e 2074 7562 650a 2020 2020  within tube.    
-0000b9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b9e0: 2020 2020 6e65 774d 6172 6b54 7562 654e      newMarkTubeN
-0000b9f0: 756d 6265 7220 3d20 7475 6265 426f 756e  umber = tubeBoun
-0000ba00: 6473 2e69 6e64 6578 2874 7562 6529 2020  ds.index(tube)  
-0000ba10: 2320 5365 7420 7475 6265 2049 4420 746f  # Set tube ID to
-0000ba20: 2063 7572 7265 6e74 2074 7562 650a 2020   current tube.  
-0000ba30: 2020 2020 2020 2020 2020 2020 2020 6e65                ne
-0000ba40: 774d 6172 6b59 203d 2028 7475 6265 426f  wMarkY = (tubeBo
-0000ba50: 756e 6473 5b6e 6577 4d61 726b 5475 6265  unds[newMarkTube
-0000ba60: 4e75 6d62 6572 5d5b 6e65 774d 6172 6b58  Number][newMarkX
-0000ba70: 5d5b 305d 202b 206d 6561 6e54 7562 6557  ][0] + meanTubeW
-0000ba80: 6964 7468 202f 2032 2920 2023 2053 6574  idth / 2)  # Set
-0000ba90: 2079 2074 6f20 6d69 646c 696e 6520 6f66   y to midline of
-0000baa0: 2074 7562 6520 636f 6e74 6169 6e69 6e67   tube containing
-0000bab0: 2063 6c69 636b 2061 7420 7820 6f66 2063   click at x of c
-0000bac0: 6c69 636b 0a20 2020 2020 2020 2020 2020  lick.           
-0000bad0: 2020 2020 2074 696d 654d 6172 6b4c 696e       timeMarkLin
-0000bae0: 6573 2e61 7070 656e 6428 5b6e 6577 4d61  es.append([newMa
-0000baf0: 726b 582c 206e 6577 4d61 726b 592c 206e  rkX, newMarkY, n
-0000bb00: 6577 4d61 726b 5475 6265 4e75 6d62 6572  ewMarkTubeNumber
-0000bb10: 5d29 2020 2320 4164 6420 6e65 7720 6c69  ])  # Add new li
-0000bb20: 6e65 2074 6f20 6c69 7374 206f 6620 7469  ne to list of ti
-0000bb30: 6d65 206d 6172 6b20 6c69 6e65 730a 2020  me mark lines.  
-0000bb40: 2020 2020 2020 2020 2020 656c 7365 3a20            else: 
-0000bb50: 2023 2049 6620 6120 6c69 6e65 2069 7320   # If a line is 
-0000bb60: 7461 7267 6574 6564 2062 7920 636c 6963  targeted by clic
-0000bb70: 6b0a 2020 2020 2020 2020 2020 2020 2020  k.              
-0000bb80: 2020 7469 6d65 4d61 726b 4c69 6e65 732e    timeMarkLines.
-0000bb90: 706f 7028 7461 7267 6574 4c69 6e65 496e  pop(targetLineIn
-0000bba0: 6465 7829 2020 2320 4465 6c65 7465 2074  dex)  # Delete t
-0000bbb0: 6861 7420 6c69 6e65 0a20 2020 2020 2020  hat line.       
-0000bbc0: 2020 2020 2064 7261 774c 696e 6573 2854       drawLines(T
-0000bbd0: 7275 6529 2020 2320 4164 6420 6c69 6e65  rue)  # Add line
-0000bbe0: 7320 746f 2069 6d61 6765 0a20 2020 2020  s to image.     
-0000bbf0: 2020 2063 6173 6520 373a 2020 2320 416e     case 7:  # An
-0000bc00: 616c 7973 6973 2073 7461 7465 2037 2028  alysis state 7 (
-0000bc10: 6261 6e64 206c 6f63 6174 696f 6e73 290a  band locations).
-0000bc20: 2020 2020 2020 2020 2020 2020 7461 7267              targ
-0000bc30: 6574 4c69 6e65 496e 6465 7820 3d20 2d31  etLineIndex = -1
-0000bc40: 2020 2320 5365 7420 7461 7267 6574 2074    # Set target t
-0000bc50: 6f20 2d31 0a20 2020 2020 2020 2020 2020  o -1.           
-0000bc60: 2066 6f72 206c 696e 6520 696e 2062 616e   for line in ban
-0000bc70: 644c 696e 6573 3a20 2023 2046 6f72 2065  dLines:  # For e
-0000bc80: 6163 6820 6261 6e64 206c 696e 650a 2020  ach band line.  
-0000bc90: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0000bca0: 2061 6273 286c 696e 655b 305d 202d 206d   abs(line[0] - m
-0000bcb0: 6f75 7365 436c 6963 6b2e 7829 203c 2035  ouseClick.x) < 5
-0000bcc0: 2061 6e64 2061 6273 286c 696e 655b 315d   and abs(line[1]
-0000bcd0: 202d 206d 6f75 7365 436c 6963 6b2e 7929   - mouseClick.y)
-0000bce0: 203c 2028 6d65 616e 5475 6265 5769 6474   < (meanTubeWidt
-0000bcf0: 682f 322b 3229 3a20 2023 2049 6620 636c  h/2+2):  # If cl
-0000bd00: 6963 6b20 6973 2063 6c6f 7365 2065 6e6f  ick is close eno
-0000bd10: 7567 6820 746f 2061 6e20 6578 6973 7469  ugh to an existi
-0000bd20: 6e67 2062 616e 6420 6c69 6e65 0a20 2020  ng band line.   
-0000bd30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bd40: 2074 6172 6765 744c 696e 6549 6e64 6578   targetLineIndex
-0000bd50: 203d 2062 616e 644c 696e 6573 2e69 6e64   = bandLines.ind
-0000bd60: 6578 286c 696e 6529 2020 2320 5365 7420  ex(line)  # Set 
-0000bd70: 7072 6f78 696d 616c 206c 696e 6520 746f  proximal line to
-0000bd80: 2063 6c69 636b 2061 7320 7461 7267 6574   click as target
-0000bd90: 206c 696e 650a 2020 2020 2020 2020 2020   line.          
-0000bda0: 2020 6966 2074 6172 6765 744c 696e 6549    if targetLineI
-0000bdb0: 6e64 6578 203d 3d20 2d31 3a20 2023 2049  ndex == -1:  # I
-0000bdc0: 6620 6e6f 206c 696e 6520 6973 2074 6172  f no line is tar
-0000bdd0: 6765 7465 6420 6279 2063 6c69 636b 0a20  geted by click. 
-0000bde0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-0000bdf0: 6577 4261 6e64 5820 3d20 6d6f 7573 6543  ewBandX = mouseC
-0000be00: 6c69 636b 2e78 2020 2320 5365 7420 7820  lick.x  # Set x 
-0000be10: 746f 2078 206f 6620 636c 6963 6b0a 2020  to x of click.  
-0000be20: 2020 2020 2020 2020 2020 2020 2020 6e65                ne
-0000be30: 7742 616e 6454 7562 654e 756d 6265 7220  wBandTubeNumber 
-0000be40: 3d20 2d31 2020 2320 5365 7420 7475 6265  = -1  # Set tube
-0000be50: 2049 4420 746f 202d 3173 0a20 2020 2020   ID to -1s.     
-0000be60: 2020 2020 2020 2020 2020 2066 6f72 2074             for t
-0000be70: 7562 6520 696e 2074 7562 6542 6f75 6e64  ube in tubeBound
-0000be80: 733a 2020 2320 466f 7220 6561 6368 2074  s:  # For each t
-0000be90: 7562 6520 696e 2074 7562 6542 6f75 6e64  ube in tubeBound
-0000bea0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-0000beb0: 2020 2020 2020 6966 2028 6d6f 7573 6543        if (mouseC
-0000bec0: 6c69 636b 2e79 203e 2074 7562 655b 6e65  lick.y > tube[ne
-0000bed0: 7742 616e 6458 5d5b 305d 2061 6e64 206d  wBandX][0] and m
-0000bee0: 6f75 7365 436c 6963 6b2e 7920 3c20 7475  ouseClick.y < tu
-0000bef0: 6265 5b6e 6577 4261 6e64 585d 5b31 5d29  be[newBandX][1])
-0000bf00: 3a20 2023 2049 6620 636c 6963 6b20 6973  :  # If click is
-0000bf10: 2077 6974 6869 6e20 7475 6265 0a20 2020   within tube.   
-0000bf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bf30: 2020 2020 206e 6577 4261 6e64 5475 6265       newBandTube
-0000bf40: 4e75 6d62 6572 203d 2074 7562 6542 6f75  Number = tubeBou
-0000bf50: 6e64 732e 696e 6465 7828 7475 6265 2920  nds.index(tube) 
-0000bf60: 2023 2053 6574 2074 7562 6520 4944 2074   # Set tube ID t
-0000bf70: 6f20 6375 7272 656e 7420 7475 6265 0a20  o current tube. 
-0000bf80: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-0000bf90: 6577 4261 6e64 5920 3d20 2874 7562 6542  ewBandY = (tubeB
-0000bfa0: 6f75 6e64 735b 6e65 7742 616e 6454 7562  ounds[newBandTub
-0000bfb0: 654e 756d 6265 725d 5b6e 6577 4261 6e64  eNumber][newBand
-0000bfc0: 585d 5b30 5d20 2b20 6d65 616e 5475 6265  X][0] + meanTube
-0000bfd0: 5769 6474 6820 2f20 3229 2020 2320 5365  Width / 2)  # Se
-0000bfe0: 7420 7920 746f 206d 6964 6c69 6e65 206f  t y to midline o
-0000bff0: 6620 7475 6265 2063 6f6e 7461 696e 696e  f tube containin
-0000c000: 6720 636c 6963 6b20 6174 2078 206f 6620  g click at x of 
-0000c010: 636c 6963 6b0a 2020 2020 2020 2020 2020  click.          
-0000c020: 2020 2020 2020 6261 6e64 4c69 6e65 732e        bandLines.
-0000c030: 6170 7065 6e64 285b 6e65 7742 616e 6458  append([newBandX
-0000c040: 2c20 6e65 7742 616e 6459 2c20 6e65 7742  , newBandY, newB
-0000c050: 616e 6454 7562 654e 756d 6265 725d 2920  andTubeNumber]) 
-0000c060: 2023 2041 6464 206e 6577 206c 696e 6520   # Add new line 
-0000c070: 746f 206c 6973 7420 6f66 2062 616e 6420  to list of band 
-0000c080: 6c69 6e65 730a 2020 2020 2020 2020 2020  lines.          
-0000c090: 2020 656c 7365 3a20 2023 2049 6620 6120    else:  # If a 
-0000c0a0: 6c69 6e65 2069 7320 7461 7267 6574 6564  line is targeted
-0000c0b0: 2062 7920 636c 6963 6b0a 2020 2020 2020   by click.      
-0000c0c0: 2020 2020 2020 2020 2020 6261 6e64 4c69            bandLi
-0000c0d0: 6e65 732e 706f 7028 7461 7267 6574 4c69  nes.pop(targetLi
-0000c0e0: 6e65 496e 6465 7829 2020 2320 4465 6c65  neIndex)  # Dele
-0000c0f0: 7465 2074 6861 7420 6c69 6e65 0a20 2020  te that line.   
-0000c100: 2020 2020 2020 2020 2064 7261 774c 696e           drawLin
-0000c110: 6573 2846 616c 7365 2920 2023 2041 6464  es(False)  # Add
-0000c120: 206c 696e 6573 2074 6f20 696d 6167 650a   lines to image.
-0000c130: 0a0a 6465 6620 6765 7454 696d 654d 6172  ..def getTimeMar
-0000c140: 6b54 6162 6c65 4461 7461 2829 3a0a 2020  kTableData():.  
-0000c150: 2020 2222 2253 6176 6520 696e 666f 726d    """Save inform
-0000c160: 6174 696f 6e20 6672 6f6d 2074 696d 6520  ation from time 
-0000c170: 6d61 726b 2074 6162 6c65 2074 6f20 7661  mark table to va
-0000c180: 7269 6162 6c65 2e22 2222 0a0a 0a20 2020  riable."""...   
-0000c190: 2067 6c6f 6261 6c20 6d61 726b 486f 7572   global markHour
-0000c1a0: 730a 0a0a 2020 2020 6e75 6d62 6572 4f66  s...    numberOf
-0000c1b0: 486f 7572 7320 3d20 3020 2023 2053 6574  Hours = 0  # Set
-0000c1c0: 206e 756d 6265 7220 6f66 2068 6f75 7273   number of hours
-0000c1d0: 2069 6e20 726f 7720 746f 2030 0a20 2020   in row to 0.   
-0000c1e0: 2066 6f72 2064 6174 756d 2069 6e20 7469   for datum in ti
-0000c1f0: 6d65 4d61 726b 5461 626c 6544 6174 6154  meMarkTableDataT
-0000c200: 6578 7442 6f78 6573 3a20 2023 2046 6f72  extBoxes:  # For
-0000c210: 2065 6163 6820 726f 7720 6f66 2074 696d   each row of tim
-0000c220: 6520 6d61 726b 2074 6162 6c65 0a20 2020  e mark table.   
-0000c230: 2020 2020 206d 6174 6368 2028 7469 6d65       match (time
-0000c240: 4d61 726b 5461 626c 6544 6174 6154 6578  MarkTableDataTex
-0000c250: 7442 6f78 6573 2e69 6e64 6578 2864 6174  tBoxes.index(dat
-0000c260: 756d 2920 2520 3329 3a20 2023 2042 6173  um) % 3):  # Bas
-0000c270: 6564 206f 6e20 696e 6465 7820 6f66 2074  ed on index of t
-0000c280: 6578 7420 626f 7820 696e 206c 6973 7420  ext box in list 
-0000c290: 6f66 2074 696d 6520 6d61 726b 2064 6174  of time mark dat
-0000c2a0: 6120 7461 626c 6520 6365 6c6c 730a 2020  a table cells.  
-0000c2b0: 2020 2020 2020 2020 2020 6361 7365 2030            case 0
-0000c2c0: 3a20 2023 2049 6620 696e 2066 6972 7374  :  # If in first
-0000c2d0: 2063 6f6c 756d 6e0a 2020 2020 2020 2020   column.        
-0000c2e0: 2020 2020 2020 2020 6e75 6d62 6572 4f66          numberOf
-0000c2f0: 486f 7572 7320 3d20 3234 202a 2028 696e  Hours = 24 * (in
-0000c300: 7428 6461 7475 6d2e 7661 6c75 6529 2920  t(datum.value)) 
-0000c310: 2023 2053 6574 2068 6f75 7273 2074 6f20   # Set hours to 
-0000c320: 6e75 6d62 6572 206f 6620 6461 7973 2069  number of days i
-0000c330: 6e20 726f 7720 2a20 3234 0a20 2020 2020  n row * 24.     
-0000c340: 2020 2020 2020 2063 6173 6520 313a 2020         case 1:  
-0000c350: 2320 4966 2069 6e20 7365 636f 6e64 2063  # If in second c
-0000c360: 6f6c 756d 6e0a 2020 2020 2020 2020 2020  olumn.          
-0000c370: 2020 2020 2020 6e75 6d62 6572 4f66 486f        numberOfHo
-0000c380: 7572 7320 2b3d 2069 6e74 2864 6174 756d  urs += int(datum
-0000c390: 2e76 616c 7565 2920 2023 2041 6464 2074  .value)  # Add t
-0000c3a0: 6f20 686f 7572 7320 6e75 6d62 6572 206f  o hours number o
-0000c3b0: 6620 686f 7572 7320 696e 2072 6f77 0a20  f hours in row. 
-0000c3c0: 2020 2020 2020 2020 2020 2063 6173 6520             case 
-0000c3d0: 323a 2020 2320 4966 2069 6e20 7468 6972  2:  # If in thir
-0000c3e0: 6420 636f 6c75 6d6e 0a20 2020 2020 2020  d column.       
-0000c3f0: 2020 2020 2020 2020 206e 756d 6265 724f           numberO
-0000c400: 6648 6f75 7273 202b 3d20 2869 6e74 2864  fHours += (int(d
-0000c410: 6174 756d 2e76 616c 7565 2920 2f20 3630  atum.value) / 60
-0000c420: 2920 2023 2041 6464 2074 6f20 686f 7572  )  # Add to hour
-0000c430: 7320 6e75 6d62 6572 206f 6620 6d69 6e75  s number of minu
-0000c440: 7465 7320 696e 2072 6f77 202f 2036 300a  tes in row / 60.
-0000c450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c460: 6d61 726b 486f 7572 732e 6170 7065 6e64  markHours.append
-0000c470: 286e 756d 6265 724f 6648 6f75 7273 2920  (numberOfHours) 
-0000c480: 2023 2041 6464 206e 756d 6265 7220 6f66   # Add number of
-0000c490: 2068 6f75 7273 2074 6f20 6d61 726b 486f   hours to markHo
-0000c4a0: 7572 730a 2020 2020 0a0a 6465 6620 7361  urs.    ..def sa
-0000c4b0: 7665 5475 6265 7354 6f46 696c 6550 726f  veTubesToFilePro
-0000c4c0: 6d70 7428 293a 0a20 2020 2022 2222 4372  mpt():.    """Cr
-0000c4d0: 6561 7465 2070 6f70 7570 2077 696e 646f  eate popup windo
-0000c4e0: 7720 7072 6f6d 7074 696e 6720 7573 6572  w prompting user
-0000c4f0: 2074 6f20 6e61 6d65 2073 6574 206f 6620   to name set of 
-0000c500: 7475 6265 7320 696e 2063 7572 7265 6e74  tubes in current
-0000c510: 2069 6d61 6765 2062 6566 6f72 6520 7361   image before sa
-0000c520: 7669 6e67 2074 6f20 6669 6c65 2e22 2222  ving to file."""
-0000c530: 0a0a 0a20 2020 2073 6574 4e61 6d65 506f  ...    setNamePo
-0000c540: 7075 7020 3d20 5769 6e64 6f77 2861 7070  pup = Window(app
-0000c550: 2c20 7469 746c 653d 2250 6163 6b20 6e61  , title="Pack na
-0000c560: 6d65 2e2e 2e22 2c20 7769 6474 683d 3230  me...", width=20
-0000c570: 302c 2068 6569 6768 743d 3132 3029 2020  0, height=120)  
-0000c580: 2320 506f 7075 7020 7769 6e64 6f77 0a20  # Popup window. 
-0000c590: 2020 2073 6574 4e61 6d65 506f 7075 702e     setNamePopup.
-0000c5a0: 7368 6f77 2877 6169 743d 5472 7565 2920  show(wait=True) 
-0000c5b0: 2023 2053 686f 7720 7769 6e64 6f77 2061   # Show window a
-0000c5c0: 7320 706f 7075 700a 2020 2020 7365 744e  s popup.    setN
-0000c5d0: 616d 6554 6578 7442 6f78 203d 2054 6578  ameTextBox = Tex
-0000c5e0: 7442 6f78 2873 6574 4e61 6d65 506f 7075  tBox(setNamePopu
-0000c5f0: 7029 2020 2320 5465 7874 2062 6f78 2066  p)  # Text box f
-0000c600: 6f72 206e 616d 6520 6f66 2074 7562 6520  or name of tube 
-0000c610: 7365 740a 2020 2020 7365 744e 616d 6554  set.    setNameT
-0000c620: 6578 7442 6f78 2e66 6f63 7573 2829 2020  extBox.focus()  
-0000c630: 2320 466f 6375 7320 6e61 6d65 2074 6578  # Focus name tex
-0000c640: 7420 626f 780a 2020 2020 7365 744e 616d  t box.    setNam
-0000c650: 6542 7574 746f 6e20 3d20 5075 7368 4275  eButton = PushBu
-0000c660: 7474 6f6e 2873 6574 4e61 6d65 506f 7075  tton(setNamePopu
-0000c670: 702c 2074 6578 743d 2243 6f6e 6669 726d  p, text="Confirm
-0000c680: 222c 2063 6f6d 6d61 6e64 3d6c 616d 6264  ", command=lambd
-0000c690: 613a 205b 7361 7665 5475 6265 7354 6f46  a: [saveTubesToF
-0000c6a0: 696c 6528 7365 744e 616d 653d 7365 744e  ile(setName=setN
-0000c6b0: 616d 6554 6578 7442 6f78 2e76 616c 7565  ameTextBox.value
-0000c6c0: 292c 2073 6574 4e61 6d65 506f 7075 702e  ), setNamePopup.
-0000c6d0: 6465 7374 726f 7928 295d 2920 2023 2042  destroy()])  # B
-0000c6e0: 7574 746f 6e20 746f 2073 6176 6520 7475  utton to save tu
-0000c6f0: 6265 7320 746f 2066 696c 6520 616e 6420  bes to file and 
-0000c700: 636c 6f73 6520 706f 7075 700a 2020 2020  close popup.    
-0000c710: 7365 744e 616d 6542 7574 746f 6e2e 7465  setNameButton.te
-0000c720: 7874 5f73 697a 6520 3d20 3133 0a20 2020  xt_size = 13.   
-0000c730: 2073 6574 4e61 6d65 4275 7474 6f6e 2e66   setNameButton.f
-0000c740: 6f6e 7420 3d20 2241 7269 616c 2062 6f6c  ont = "Arial bol
-0000c750: 6422 0a0a 0a64 6566 2063 616c 6375 6c61  d"...def calcula
-0000c760: 7465 5065 7269 6f64 4461 7461 2864 656e  tePeriodData(den
-0000c770: 7369 7479 5072 6f66 696c 6552 6177 2c20  sityProfileRaw, 
-0000c780: 6d61 726b 486f 7572 7352 6177 2c20 7469  markHoursRaw, ti
-0000c790: 6d65 4d61 726b 7352 6177 2c20 6261 6e64  meMarksRaw, band
-0000c7a0: 4d61 726b 7352 6177 2c20 6d69 6e50 6572  MarksRaw, minPer
-0000c7b0: 696f 642c 206d 6178 5065 7269 6f64 2c20  iod, maxPeriod, 
-0000c7c0: 7475 6265 5261 6e67 6552 6177 2c20 6361  tubeRangeRaw, ca
-0000c7d0: 6c63 756c 6174 696f 6e57 696e 646f 7753  lculationWindowS
-0000c7e0: 7461 7274 2c20 6361 6c63 756c 6174 696f  tart, calculatio
-0000c7f0: 6e57 696e 646f 7745 6e64 293a 0a20 2020  nWindowEnd):.   
-0000c800: 2022 2222 4361 6c63 756c 6174 6520 7065   """Calculate pe
-0000c810: 7269 6f64 7320 6f66 2061 2067 6976 656e  riods of a given
-0000c820: 2074 7562 6527 7320 6465 6e73 6974 6f6d   tube's densitom
-0000c830: 6574 7279 2070 726f 6669 6c65 2222 220a  etry profile""".
-0000c840: 2020 2020 0a0a 2020 2020 7469 6d65 4d61      ..    timeMa
-0000c850: 726b 7320 3d20 7469 6d65 4d61 726b 7352  rks = timeMarksR
-0000c860: 6177 5b6d 6172 6b48 6f75 7273 5261 772e  aw[markHoursRaw.
-0000c870: 696e 6465 7828 6361 6c63 756c 6174 696f  index(calculatio
-0000c880: 6e57 696e 646f 7753 7461 7274 293a 6d61  nWindowStart):ma
-0000c890: 726b 486f 7572 7352 6177 2e69 6e64 6578  rkHoursRaw.index
-0000c8a0: 2863 616c 6375 6c61 7469 6f6e 5769 6e64  (calculationWind
-0000c8b0: 6f77 456e 6429 5d20 2023 2053 6574 2074  owEnd)]  # Set t
-0000c8c0: 696d 6520 6d61 726b 730a 2020 2020 6d61  ime marks.    ma
-0000c8d0: 726b 486f 7572 7320 3d20 6d61 726b 486f  rkHours = markHo
-0000c8e0: 7572 7352 6177 5b6d 6172 6b48 6f75 7273  ursRaw[markHours
-0000c8f0: 5261 772e 696e 6465 7828 6361 6c63 756c  Raw.index(calcul
-0000c900: 6174 696f 6e57 696e 646f 7753 7461 7274  ationWindowStart
-0000c910: 293a 6d61 726b 486f 7572 7352 6177 2e69  ):markHoursRaw.i
-0000c920: 6e64 6578 2863 616c 6375 6c61 7469 6f6e  ndex(calculation
-0000c930: 5769 6e64 6f77 456e 6429 5d20 2023 2053  WindowEnd)]  # S
-0000c940: 6574 206d 6172 6b20 686f 7572 7320 746f  et mark hours to
-0000c950: 2073 7061 6e20 636f 7272 6573 706f 6e64   span correspond
-0000c960: 696e 6720 746f 2074 696d 6520 6d61 726b  ing to time mark
-0000c970: 730a 2020 2020 0a20 2020 2023 2043 616c  s.    .    # Cal
-0000c980: 6375 6c61 7465 2027 6d61 6e75 616c 2720  culate 'manual' 
-0000c990: 7065 7269 6f64 0a20 2020 2067 726f 7774  period.    growt
-0000c9a0: 6852 6174 6573 203d 205b 5d20 2023 204c  hRates = []  # L
-0000c9b0: 6973 7420 6f66 2074 696d 6520 6761 7073  ist of time gaps
-0000c9c0: 2069 6e20 7069 7865 6c73 2070 6572 2068   in pixels per h
-0000c9d0: 6f75 720a 2020 2020 666f 7220 6d61 726b  our.    for mark
-0000c9e0: 2069 6e20 7261 6e67 6528 302c 206c 656e   in range(0, len
-0000c9f0: 2874 696d 654d 6172 6b73 2920 2d20 3129  (timeMarks) - 1)
-0000ca00: 3a20 2023 2046 6f72 2065 6163 6820 3220  :  # For each 2 
-0000ca10: 636f 6e73 6563 7574 6976 6520 7469 6d65  consecutive time
-0000ca20: 206d 6172 6b73 2061 6e64 2063 6f72 7265   marks and corre
-0000ca30: 7370 6f6e 6469 6e67 2068 6f75 7220 7661  sponding hour va
-0000ca40: 6c75 6573 0a20 2020 2020 2020 2067 726f  lues.        gro
-0000ca50: 7774 6852 6174 6573 2e61 7070 656e 6428  wthRates.append(
-0000ca60: 2874 696d 654d 6172 6b73 5b6d 6172 6b20  (timeMarks[mark 
-0000ca70: 2b20 315d 202d 2074 696d 654d 6172 6b73  + 1] - timeMarks
-0000ca80: 5b6d 6172 6b5d 2920 2f20 286d 6172 6b48  [mark]) / (markH
-0000ca90: 6f75 7273 5b6d 6172 6b20 2b20 315d 202d  ours[mark + 1] -
-0000caa0: 206d 6172 6b48 6f75 7273 5b6d 6172 6b5d   markHours[mark]
-0000cab0: 2929 2020 2320 4164 6420 6c65 6e67 7468  ))  # Add length
-0000cac0: 206f 6620 6761 7020 696e 2070 6978 656c   of gap in pixel
-0000cad0: 7320 7065 7220 686f 7572 2074 6f20 6c69  s per hour to li
-0000cae0: 7374 206f 6620 7469 6d65 2067 6170 730a  st of time gaps.
-0000caf0: 2020 2020 6d65 616e 4772 6f77 7468 5069      meanGrowthPi
-0000cb00: 7865 6c73 5065 7248 6f75 7220 3d20 6e75  xelsPerHour = nu
-0000cb10: 6d70 792e 6d65 616e 2867 726f 7774 6852  mpy.mean(growthR
-0000cb20: 6174 6573 2920 2023 204d 6561 6e20 7469  ates)  # Mean ti
-0000cb30: 6d65 2067 6170 2069 6e20 7069 7865 6c73  me gap in pixels
-0000cb40: 2070 6572 2068 6f75 720a 2020 2020 6d65   per hour.    me
-0000cb50: 616e 4772 6f77 7468 486f 7572 7350 6572  anGrowthHoursPer
-0000cb60: 5069 7865 6c20 3d20 3120 2f20 6d65 616e  Pixel = 1 / mean
-0000cb70: 4772 6f77 7468 5069 7865 6c73 5065 7248  GrowthPixelsPerH
-0000cb80: 6f75 720a 2020 2020 6465 6e73 6974 6f6d  our.    densitom
-0000cb90: 6574 7279 5856 616c 7352 6177 203d 206c  etryXValsRaw = l
-0000cba0: 6973 7428 7261 6e67 6528 302c 2031 3136  ist(range(0, 116
-0000cbb0: 3029 2920 2023 2053 6574 2072 6177 2064  0))  # Set raw d
-0000cbc0: 656e 7369 746f 6d65 7472 7920 7820 7661  ensitometry x va
-0000cbd0: 6c75 6573 2074 6f20 312d 3131 3630 0a20  lues to 1-1160. 
-0000cbe0: 2020 2064 656e 7369 746f 6d65 7472 7958     densitometryX
-0000cbf0: 5661 6c73 486f 7572 7320 3d20 5b5d 2020  ValsHours = []  
-0000cc00: 2320 426c 616e 6b20 6c69 7374 2066 6f72  # Blank list for
-0000cc10: 2064 656e 7369 746f 6d65 7472 7920 7820   densitometry x 
-0000cc20: 6178 6973 2077 6974 6820 7661 6c75 6573  axis with values
-0000cc30: 2069 6e20 686f 7572 730a 2020 2020 666f   in hours.    fo
-0000cc40: 7220 7850 6978 656c 2069 6e20 6465 6e73  r xPixel in dens
-0000cc50: 6974 6f6d 6574 7279 5856 616c 7352 6177  itometryXValsRaw
-0000cc60: 3a20 2023 2046 6f72 2065 6163 6820 7820  :  # For each x 
-0000cc70: 7069 7865 6c20 696e 2064 656e 7369 746f  pixel in densito
-0000cc80: 6d65 7472 7920 7820 6178 6973 0a20 2020  metry x axis.   
-0000cc90: 2020 2020 2064 656e 7369 746f 6d65 7472       densitometr
-0000cca0: 7958 5661 6c73 486f 7572 732e 6170 7065  yXValsHours.appe
-0000ccb0: 6e64 2872 6f75 6e64 2828 7850 6978 656c  nd(round((xPixel
-0000ccc0: 202d 2074 696d 654d 6172 6b73 5b30 5d29   - timeMarks[0])
-0000ccd0: 202a 206d 6561 6e47 726f 7774 6848 6f75   * meanGrowthHou
-0000cce0: 7273 5065 7250 6978 656c 2c20 3229 2920  rsPerPixel, 2)) 
-0000ccf0: 2023 2041 7070 656e 6420 7069 7865 6c20   # Append pixel 
-0000cd00: 7820 7661 6c75 6520 636f 6e76 6572 7465  x value converte
-0000cd10: 6420 746f 2068 6f75 7273 0a20 2020 2068  d to hours.    h
-0000cd20: 6f75 7273 5374 6172 7443 616c 6375 6c61  oursStartCalcula
-0000cd30: 7469 6f6e 5769 6e64 6f77 496e 6465 7820  tionWindowIndex 
-0000cd40: 3d20 4e6f 6e65 2020 2320 496e 6465 7820  = None  # Index 
-0000cd50: 6f66 2073 7461 7274 206f 6620 7469 6d65  of start of time
-0000cd60: 2077 696e 646f 7720 696e 2064 656e 7369   window in densi
-0000cd70: 746f 6d65 7472 7920 7820 6178 6973 2077  tometry x axis w
-0000cd80: 6974 6820 7661 6c75 6573 2069 6e20 686f  ith values in ho
-0000cd90: 7572 730a 2020 2020 686f 7572 7345 6e64  urs.    hoursEnd
-0000cda0: 4361 6c63 756c 6174 696f 6e57 696e 646f  CalculationWindo
-0000cdb0: 7749 6e64 6578 203d 204e 6f6e 6520 2023  wIndex = None  #
-0000cdc0: 2049 6e64 6578 206f 6620 656e 6420 6f66   Index of end of
-0000cdd0: 2074 696d 6520 7769 6e64 6f77 2069 6e20   time window in 
-0000cde0: 6465 6e73 6974 6f6d 6574 7279 2078 2061  densitometry x a
-0000cdf0: 7869 7320 7769 7468 2076 616c 7565 7320  xis with values 
-0000ce00: 696e 2068 6f75 7273 0a20 2020 2066 6f72  in hours.    for
-0000ce10: 2069 6e64 6578 2c20 686f 7572 7320 696e   index, hours in
-0000ce20: 2065 6e75 6d65 7261 7465 2864 656e 7369   enumerate(densi
-0000ce30: 746f 6d65 7472 7958 5661 6c73 486f 7572  tometryXValsHour
-0000ce40: 7329 3a20 2023 2046 6f72 2065 6163 6820  s):  # For each 
-0000ce50: 696e 6465 7820 696e 2064 656e 7369 746f  index in densito
-0000ce60: 6d65 7472 7920 7820 6178 6973 2077 6974  metry x axis wit
-0000ce70: 6820 7661 6c75 6573 2069 6e20 686f 7572  h values in hour
-0000ce80: 730a 2020 2020 2020 2020 6966 2068 6f75  s.        if hou
-0000ce90: 7273 5374 6172 7443 616c 6375 6c61 7469  rsStartCalculati
-0000cea0: 6f6e 5769 6e64 6f77 496e 6465 7820 6973  onWindowIndex is
-0000ceb0: 204e 6f6e 6520 616e 6420 6361 6c63 756c   None and calcul
-0000cec0: 6174 696f 6e57 696e 646f 7753 7461 7274  ationWindowStart
-0000ced0: 203c 3d20 686f 7572 733a 2020 2320 4966   <= hours:  # If
-0000cee0: 2077 6527 7665 206a 7573 7420 7061 7373   we've just pass
-0000cef0: 6564 2074 6865 2073 7461 7274 206f 6620  ed the start of 
-0000cf00: 7468 6520 7469 6d65 2077 696e 646f 770a  the time window.
-0000cf10: 2020 2020 2020 2020 2020 2020 686f 7572              hour
-0000cf20: 7353 7461 7274 4361 6c63 756c 6174 696f  sStartCalculatio
-0000cf30: 6e57 696e 646f 7749 6e64 6578 203d 2069  nWindowIndex = i
-0000cf40: 6e64 6578 2020 2320 5365 7420 7468 6520  ndex  # Set the 
-0000cf50: 696e 6465 7820 6f66 2074 6865 2073 7461  index of the sta
-0000cf60: 7274 206f 6620 7468 6520 7469 6d65 2077  rt of the time w
-0000cf70: 696e 646f 7720 746f 2074 6869 7320 696e  indow to this in
-0000cf80: 6465 780a 2020 2020 2020 2020 6966 2068  dex.        if h
-0000cf90: 6f75 7273 456e 6443 616c 6375 6c61 7469  oursEndCalculati
-0000cfa0: 6f6e 5769 6e64 6f77 496e 6465 7820 6973  onWindowIndex is
-0000cfb0: 204e 6f6e 6520 616e 6420 6361 6c63 756c   None and calcul
-0000cfc0: 6174 696f 6e57 696e 646f 7745 6e64 203c  ationWindowEnd <
-0000cfd0: 3d20 686f 7572 733a 2020 2320 4966 2077  = hours:  # If w
-0000cfe0: 6527 7665 206a 7573 7420 7061 7373 6564  e've just passed
-0000cff0: 2074 6865 2065 6e64 206f 6620 7468 6520   the end of the 
-0000d000: 7469 6d65 2077 696e 646f 770a 2020 2020  time window.    
-0000d010: 2020 2020 2020 2020 686f 7572 7345 6e64          hoursEnd
-0000d020: 4361 6c63 756c 6174 696f 6e57 696e 646f  CalculationWindo
-0000d030: 7749 6e64 6578 203d 2069 6e64 6578 2020  wIndex = index  
-0000d040: 2320 5365 7420 7468 6520 696e 6465 7820  # Set the index 
-0000d050: 6f66 2074 6865 2065 6e64 206f 6620 7468  of the end of th
-0000d060: 6520 7469 6d65 2077 696e 646f 7720 746f  e time window to
-0000d070: 2074 6869 7320 696e 6465 780a 2020 2020   this index.    
-0000d080: 6966 2068 6f75 7273 456e 6443 616c 6375  if hoursEndCalcu
-0000d090: 6c61 7469 6f6e 5769 6e64 6f77 496e 6465  lationWindowInde
-0000d0a0: 7820 6973 204e 6f6e 653a 2020 2320 4966  x is None:  # If
-0000d0b0: 2077 6520 6e65 7665 7220 7365 7420 616e   we never set an
-0000d0c0: 2069 6e64 6578 2066 6f72 2074 6865 2065   index for the e
-0000d0d0: 6e64 206f 6620 7468 6520 7469 6d65 2077  nd of the time w
-0000d0e0: 696e 646f 770a 2020 2020 2020 2020 686f  indow.        ho
-0000d0f0: 7572 7345 6e64 4361 6c63 756c 6174 696f  ursEndCalculatio
-0000d100: 6e57 696e 646f 7749 6e64 6578 203d 206c  nWindowIndex = l
-0000d110: 656e 2864 656e 7369 746f 6d65 7472 7958  en(densitometryX
-0000d120: 5661 6c73 486f 7572 7329 2d31 2020 2320  ValsHours)-1  # 
-0000d130: 5365 7420 7468 6520 696e 6465 7820 6f66  Set the index of
-0000d140: 2074 6865 2065 6e64 206f 6620 7468 6520   the end of the 
-0000d150: 7469 6d65 2077 696e 646f 7720 746f 2074  time window to t
-0000d160: 6865 206c 6173 7420 696e 6465 7820 706f  he last index po
-0000d170: 7373 6962 6c65 0a20 2020 2066 6f72 2069  ssible.    for i
-0000d180: 6e64 6578 2c20 7661 6c75 6520 696e 2065  ndex, value in e
-0000d190: 6e75 6d65 7261 7465 2874 696d 654d 6172  numerate(timeMar
-0000d1a0: 6b73 293a 0a20 2020 2020 2020 2074 696d  ks):.        tim
-0000d1b0: 654d 6172 6b73 5b69 6e64 6578 5d20 3d20  eMarks[index] = 
-0000d1c0: 7661 6c75 6520 2d20 686f 7572 7353 7461  value - hoursSta
-0000d1d0: 7274 4361 6c63 756c 6174 696f 6e57 696e  rtCalculationWin
-0000d1e0: 646f 7749 6e64 6578 0a20 2020 2077 6869  dowIndex.    whi
-0000d1f0: 6c65 206e 756d 7079 2e6d 696e 2874 696d  le numpy.min(tim
-0000d200: 654d 6172 6b73 2920 3c20 303a 0a20 2020  eMarks) < 0:.   
-0000d210: 2020 2020 2074 696d 654d 6172 6b73 2e70       timeMarks.p
-0000d220: 6f70 2874 696d 654d 6172 6b73 2e69 6e64  op(timeMarks.ind
-0000d230: 6578 286e 756d 7079 2e6d 696e 2874 696d  ex(numpy.min(tim
-0000d240: 654d 6172 6b73 2929 290a 2020 2020 6465  eMarks))).    de
-0000d250: 6e73 6974 7950 726f 6669 6c65 203d 2064  nsityProfile = d
-0000d260: 656e 7369 7479 5072 6f66 696c 6552 6177  ensityProfileRaw
-0000d270: 5b68 6f75 7273 5374 6172 7443 616c 6375  [hoursStartCalcu
-0000d280: 6c61 7469 6f6e 5769 6e64 6f77 496e 6465  lationWindowInde
-0000d290: 783a 686f 7572 7345 6e64 4361 6c63 756c  x:hoursEndCalcul
-0000d2a0: 6174 696f 6e57 696e 646f 7749 6e64 6578  ationWindowIndex
-0000d2b0: 5d20 2023 2053 6574 2074 696d 6520 7769  ]  # Set time wi
-0000d2c0: 6e64 6f77 2074 6f20 706f 7274 696f 6e20  ndow to portion 
-0000d2d0: 6f66 2064 656e 7369 746f 6d65 7472 7920  of densitometry 
-0000d2e0: 7820 6178 6973 2062 6574 7765 656e 2073  x axis between s
-0000d2f0: 7461 7274 2061 6e64 2065 6e64 206f 6620  tart and end of 
-0000d300: 7469 6d65 2077 696e 646f 7720 696e 6469  time window indi
-0000d310: 6365 730a 2020 2020 7475 6265 5261 6e67  ces.    tubeRang
-0000d320: 6520 3d20 7475 6265 5261 6e67 6552 6177  e = tubeRangeRaw
-0000d330: 5b68 6f75 7273 5374 6172 7443 616c 6375  [hoursStartCalcu
-0000d340: 6c61 7469 6f6e 5769 6e64 6f77 496e 6465  lationWindowInde
-0000d350: 783a 686f 7572 7345 6e64 4361 6c63 756c  x:hoursEndCalcul
-0000d360: 6174 696f 6e57 696e 646f 7749 6e64 6578  ationWindowIndex
-0000d370: 5d20 2023 2053 6574 2063 6f72 7265 7370  ]  # Set corresp
-0000d380: 6f6e 6469 6e67 2077 696e 646f 7720 6f66  onding window of
-0000d390: 2074 7562 6520 7261 6e67 650a 2020 2020   tube range.    
-0000d3a0: 6465 6e73 6974 6f6d 6574 7279 5856 616c  densitometryXVal
-0000d3b0: 7348 6f75 7273 5769 6e64 6f77 203d 2064  sHoursWindow = d
-0000d3c0: 656e 7369 746f 6d65 7472 7958 5661 6c73  ensitometryXVals
-0000d3d0: 486f 7572 735b 686f 7572 7353 7461 7274  Hours[hoursStart
-0000d3e0: 4361 6c63 756c 6174 696f 6e57 696e 646f  CalculationWindo
-0000d3f0: 7749 6e64 6578 3a68 6f75 7273 456e 6443  wIndex:hoursEndC
-0000d400: 616c 6375 6c61 7469 6f6e 5769 6e64 6f77  alculationWindow
-0000d410: 496e 6465 785d 0a20 2020 206d 6172 6b48  Index].    markH
-0000d420: 6f75 7273 203d 205b 5d20 2023 2042 6c61  ours = []  # Bla
-0000d430: 6e6b 206c 6973 7420 666f 7220 706f 7274  nk list for port
-0000d440: 696f 6e20 6f66 206d 6172 6b20 686f 7572  ion of mark hour
-0000d450: 7320 636f 7272 6573 706f 6e64 696e 6720  s corresponding 
-0000d460: 746f 2074 696d 6520 7769 6e64 6f77 0a20  to time window. 
-0000d470: 2020 2062 616e 644d 6172 6b73 203d 205b     bandMarks = [
-0000d480: 5d20 2023 2042 6c61 6e6b 206c 6973 7420  ]  # Blank list 
-0000d490: 666f 7220 706f 7274 696f 6e20 6f66 2062  for portion of b
-0000d4a0: 616e 6420 6d61 726b 7320 636f 7272 6573  and marks corres
-0000d4b0: 706f 6469 6e67 2074 6f20 7469 6d65 2077  poding to time w
-0000d4c0: 696e 646f 770a 2020 2020 666f 7220 7661  indow.    for va
-0000d4d0: 6c75 6520 696e 2062 616e 644d 6172 6b73  lue in bandMarks
-0000d4e0: 5261 773a 2020 2320 466f 7220 6561 6368  Raw:  # For each
-0000d4f0: 2062 616e 6420 6d61 726b 2078 2070 6f73   band mark x pos
-0000d500: 6974 696f 6e20 696e 2063 7572 7265 6e74  ition in current
-0000d510: 2074 7562 650a 2020 2020 2020 2020 6966   tube.        if
-0000d520: 2076 616c 7565 203e 3d20 686f 7572 7353   value >= hoursS
-0000d530: 7461 7274 4361 6c63 756c 6174 696f 6e57  tartCalculationW
-0000d540: 696e 646f 7749 6e64 6578 2061 6e64 2076  indowIndex and v
-0000d550: 616c 7565 203c 3d20 686f 7572 7345 6e64  alue <= hoursEnd
-0000d560: 4361 6c63 756c 6174 696f 6e57 696e 646f  CalculationWindo
-0000d570: 7749 6e64 6578 3a20 2023 2049 6620 6261  wIndex:  # If ba
-0000d580: 6e64 206d 6172 6b20 6973 2077 6974 6869  nd mark is withi
-0000d590: 6e20 7469 6d65 2077 696e 646f 770a 2020  n time window.  
-0000d5a0: 2020 2020 2020 2020 2020 6261 6e64 4d61            bandMa
-0000d5b0: 726b 732e 6170 7065 6e64 2876 616c 7565  rks.append(value
-0000d5c0: 2d68 6f75 7273 5374 6172 7443 616c 6375  -hoursStartCalcu
-0000d5d0: 6c61 7469 6f6e 5769 6e64 6f77 496e 6465  lationWindowInde
-0000d5e0: 7829 2020 2320 4164 6420 6261 6e64 206d  x)  # Add band m
-0000d5f0: 6172 6b20 7820 706f 7369 7469 6f6e 2c20  ark x position, 
-0000d600: 6e6f 726d 616c 697a 6564 2073 6f20 6669  normalized so fi
-0000d610: 7273 7420 6973 2061 7420 302c 2074 6f20  rst is at 0, to 
-0000d620: 6c69 7374 206f 6620 6261 6e64 206d 6172  list of band mar
-0000d630: 6b73 2069 6e20 7469 6d65 2077 696e 646f  ks in time windo
-0000d640: 770a 2020 2020 736c 6f70 6543 6f65 6666  w.    slopeCoeff
-0000d650: 203d 2061 6273 2831 202f 206e 756d 7079   = abs(1 / numpy
-0000d660: 2e63 6f73 286e 756d 7079 2e61 7263 7461  .cos(numpy.arcta
-0000d670: 6e28 2828 7475 6265 5261 6e67 655b 2d31  n(((tubeRange[-1
-0000d680: 5d5b 315d 202b 2074 7562 6552 616e 6765  ][1] + tubeRange
-0000d690: 5b2d 315d 5b30 5d29 202f 2032 2d20 2874  [-1][0]) / 2- (t
-0000d6a0: 7562 6552 616e 6765 5b30 5d5b 315d 202b  ubeRange[0][1] +
-0000d6b0: 2074 7562 6552 616e 6765 5b30 5d5b 305d   tubeRange[0][0]
-0000d6c0: 2920 2f20 3229 202f 206c 656e 2874 7562  ) / 2) / len(tub
-0000d6d0: 6552 616e 6765 2929 2929 2020 2320 4361  eRange))))  # Ca
-0000d6e0: 6c63 756c 6174 6520 636f 6566 6669 6369  lculate coeffici
-0000d6f0: 656e 7420 746f 2063 6f72 7265 6374 2066  ent to correct f
-0000d700: 6f72 2073 6c6f 7065 0a20 2020 2062 616e  or slope.    ban
-0000d710: 6447 6170 7320 3d20 5b5d 2020 2320 4c69  dGaps = []  # Li
-0000d720: 7374 206f 6620 6261 6e64 2067 6170 7320  st of band gaps 
-0000d730: 696e 2070 6978 656c 730a 2020 2020 666f  in pixels.    fo
-0000d740: 7220 6d61 726b 2069 6e20 7261 6e67 6528  r mark in range(
-0000d750: 302c 206c 656e 2862 616e 644d 6172 6b73  0, len(bandMarks
-0000d760: 2920 2d20 3129 3a20 2023 2046 6f72 2065  ) - 1):  # For e
-0000d770: 6163 6820 3220 636f 6e73 6563 7574 6976  ach 2 consecutiv
-0000d780: 6520 6261 6e64 206d 6172 6b73 0a20 2020  e band marks.   
-0000d790: 2020 2020 2062 616e 6447 6170 732e 6170       bandGaps.ap
-0000d7a0: 7065 6e64 2828 6261 6e64 4d61 726b 735b  pend((bandMarks[
-0000d7b0: 6d61 726b 202b 2031 5d20 2d20 6261 6e64  mark + 1] - band
-0000d7c0: 4d61 726b 735b 6d61 726b 5d29 2920 2023  Marks[mark]))  #
-0000d7d0: 2041 6464 206c 656e 6774 6820 6f66 2067   Add length of g
-0000d7e0: 6170 2069 6e20 7069 7865 6c73 2074 6f20  ap in pixels to 
-0000d7f0: 6c69 7374 206f 6620 6261 6e64 206d 6172  list of band mar
-0000d800: 6b73 0a20 2020 2070 6572 696f 644c 696e  ks.    periodLin
-0000d810: 6561 7252 6567 7265 7373 696f 6e20 3d20  earRegression = 
-0000d820: 286e 756d 7079 2e6d 6561 6e28 6261 6e64  (numpy.mean(band
-0000d830: 4761 7073 2920 2f20 6e75 6d70 792e 6d65  Gaps) / numpy.me
-0000d840: 616e 2867 726f 7774 6852 6174 6573 2929  an(growthRates))
-0000d850: 202a 2073 6c6f 7065 436f 6566 6620 2023   * slopeCoeff  #
-0000d860: 2053 6574 206d 616e 7561 6c20 7065 7269   Set manual peri
-0000d870: 6f64 2074 6f20 6d65 616e 2070 6572 696f  od to mean perio
-0000d880: 6420 6265 7477 6565 6e20 6261 6e64 2067  d between band g
-0000d890: 6170 7320 696e 2068 6f75 7273 2c20 636f  aps in hours, co
-0000d8a0: 7272 6563 7465 6420 666f 7220 736c 6f70  rrected for slop
-0000d8b0: 6520 6f66 2074 7562 6520 696e 2069 6d61  e of tube in ima
-0000d8c0: 6765 0a20 2020 200a 2020 2020 2320 4361  ge.    .    # Ca
-0000d8d0: 6c63 756c 6174 6520 6869 6768 2061 6e64  lculate high and
-0000d8e0: 206c 6f77 2070 6572 696f 6473 2069 6e20   low periods in 
-0000d8f0: 7069 7865 6c73 0a20 2020 206d 696e 5065  pixels.    minPe
-0000d900: 7269 6f64 5069 7865 6c73 203d 2069 6e74  riodPixels = int
-0000d910: 286d 696e 5065 7269 6f64 202a 206d 6561  (minPeriod * mea
-0000d920: 6e47 726f 7774 6850 6978 656c 7350 6572  nGrowthPixelsPer
-0000d930: 486f 7572 2920 2023 204c 6f77 6573 7420  Hour)  # Lowest 
-0000d940: 7065 7269 6f64 2074 6f20 7465 7374 2028  period to test (
-0000d950: 696e 2070 6978 656c 7329 0a20 2020 206d  in pixels).    m
-0000d960: 6178 5065 7269 6f64 5069 7865 6c73 203d  axPeriodPixels =
-0000d970: 2069 6e74 286d 6178 5065 7269 6f64 202a   int(maxPeriod *
-0000d980: 206d 6561 6e47 726f 7774 6850 6978 656c   meanGrowthPixel
-0000d990: 7350 6572 486f 7572 2920 2023 2048 6967  sPerHour)  # Hig
-0000d9a0: 6865 7374 2070 6572 696f 6420 746f 2074  hest period to t
-0000d9b0: 6573 7420 2869 6e20 7069 7865 6c73 290a  est (in pixels).
-0000d9c0: 2020 2020 0a20 2020 2023 2047 656e 6572      .    # Gener
-0000d9d0: 6174 6520 6465 6e73 6974 6f6d 6574 7279  ate densitometry
-0000d9e0: 2077 6974 6820 696e 7465 7270 6f6c 6174   with interpolat
-0000d9f0: 6564 2064 656c 6574 696f 6e73 206f 6620  ed deletions of 
-0000da00: 7469 6d65 206d 6172 6b20 7265 6769 6f6e  time mark region
-0000da10: 730a 2020 2020 6465 6e73 6974 7950 726f  s.    densityPro
-0000da20: 6669 6c65 4e6f 5469 6d65 4d61 726b 7320  fileNoTimeMarks 
-0000da30: 3d20 636f 7079 2e64 6565 7063 6f70 7928  = copy.deepcopy(
-0000da40: 6465 6e73 6974 7950 726f 6669 6c65 2920  densityProfile) 
-0000da50: 2023 2052 656d 6f76 6520 6469 7073 2064   # Remove dips d
-0000da60: 7565 2074 6f20 7469 6d65 206d 6172 6b73  ue to time marks
-0000da70: 2066 726f 6d20 6465 6e73 6974 7920 6461   from density da
-0000da80: 7461 0a20 2020 2066 6f72 206c 696e 6520  ta.    for line 
-0000da90: 696e 2074 696d 654d 6172 6b73 3a20 2023  in timeMarks:  #
-0000daa0: 2046 6f72 2065 6163 6820 7469 6d65 206d   For each time m
-0000dab0: 6172 6b20 286d 616b 6520 6465 6e73 6974  ark (make densit
-0000dac0: 7950 726f 6669 6c65 4e6f 5469 6d65 4d61  yProfileNoTimeMa
-0000dad0: 726b 7329 0a20 2020 2020 2020 2077 696e  rks).        win
-0000dae0: 646f 7752 6164 6975 7320 3d20 3133 2020  dowRadius = 13  
-0000daf0: 2320 5365 7420 7261 6469 7573 206f 6620  # Set radius of 
-0000db00: 7469 6d65 206d 6172 6b20 6465 6c65 7469  time mark deleti
-0000db10: 6f6e 2077 696e 646f 770a 2020 2020 2020  on window.      
-0000db20: 2020 6c6f 7758 203d 206c 696e 6520 2d20    lowX = line - 
-0000db30: 7769 6e64 6f77 5261 6469 7573 2020 2320  windowRadius  # 
-0000db40: 4c65 6674 6d6f 7374 2062 6f75 6e64 206f  Leftmost bound o
-0000db50: 6620 6465 6c65 7469 6f6e 2077 696e 646f  f deletion windo
-0000db60: 770a 2020 2020 2020 2020 6869 6768 5820  w.        highX 
-0000db70: 3d20 6c69 6e65 202b 2077 696e 646f 7752  = line + windowR
-0000db80: 6164 6975 7320 2023 2052 6967 6874 6d6f  adius  # Rightmo
-0000db90: 7374 2062 6f75 6e64 206f 6620 6465 6c65  st bound of dele
-0000dba0: 7469 6f6e 2077 696e 646f 770a 2020 2020  tion window.    
-0000dbb0: 2020 2020 6966 206c 6f77 5820 3c20 303a      if lowX < 0:
-0000dbc0: 0a20 2020 2020 2020 2020 2020 206c 6f77  .            low
-0000dbd0: 5820 3d20 300a 2020 2020 2020 2020 6966  X = 0.        if
-0000dbe0: 2068 6967 6858 203e 206c 656e 2864 656e   highX > len(den
-0000dbf0: 7369 7479 5072 6f66 696c 654e 6f54 696d  sityProfileNoTim
-0000dc00: 654d 6172 6b73 292d 313a 0a20 2020 2020  eMarks)-1:.     
-0000dc10: 2020 2020 2020 2068 6967 6858 203d 206c         highX = l
-0000dc20: 656e 2864 656e 7369 7479 5072 6f66 696c  en(densityProfil
-0000dc30: 654e 6f54 696d 654d 6172 6b73 292d 310a  eNoTimeMarks)-1.
-0000dc40: 2020 2020 2020 2020 6966 206c 6f77 5820          if lowX 
-0000dc50: 3c20 6c65 6e28 6465 6e73 6974 7950 726f  < len(densityPro
-0000dc60: 6669 6c65 4e6f 5469 6d65 4d61 726b 7329  fileNoTimeMarks)
-0000dc70: 2d31 3a0a 2020 2020 2020 2020 2020 2020  -1:.            
-0000dc80: 7949 6e63 7265 6d65 6e74 203d 2028 6465  yIncrement = (de
-0000dc90: 6e73 6974 7950 726f 6669 6c65 4e6f 5469  nsityProfileNoTi
-0000dca0: 6d65 4d61 726b 735b 6869 6768 585d 202d  meMarks[highX] -
-0000dcb0: 2064 656e 7369 7479 5072 6f66 696c 654e   densityProfileN
-0000dcc0: 6f54 696d 654d 6172 6b73 5b6c 6f77 585d  oTimeMarks[lowX]
-0000dcd0: 2920 2f20 2832 2a77 696e 646f 7752 6164  ) / (2*windowRad
-0000dce0: 6975 732b 3129 2020 2320 5365 7420 7920  ius+1)  # Set y 
-0000dcf0: 696e 6372 656d 656e 7420 6f66 2069 6e74  increment of int
-0000dd00: 6572 706f 6c61 7469 6f6e 0a20 2020 2020  erpolation.     
-0000dd10: 2020 2020 2020 2078 496e 6372 656d 656e         xIncremen
-0000dd20: 7420 3d20 3020 2023 2053 6574 2078 2069  t = 0  # Set x i
-0000dd30: 6e63 7265 6d65 6e74 206f 6620 696e 7465  ncrement of inte
-0000dd40: 7270 6f6c 6174 696f 6e0a 2020 2020 2020  rpolation.      
-0000dd50: 2020 2020 2020 666f 7220 7857 616c 6b20        for xWalk 
-0000dd60: 696e 2072 616e 6765 286c 6f77 582c 2068  in range(lowX, h
-0000dd70: 6967 6858 293a 2020 2320 466f 7220 7820  ighX):  # For x 
-0000dd80: 7661 6c75 6520 696e 2069 6e74 6572 7020  value in interp 
-0000dd90: 7769 6e64 6f77 0a20 2020 2020 2020 2020  window.         
-0000dda0: 2020 2020 2020 2069 6620 7857 616c 6b20         if xWalk 
-0000ddb0: 3c20 6c65 6e28 6465 6e73 6974 7950 726f  < len(densityPro
-0000ddc0: 6669 6c65 4e6f 5469 6d65 4d61 726b 7329  fileNoTimeMarks)
-0000ddd0: 202d 2031 2061 6e64 2078 5761 6c6b 203e   - 1 and xWalk >
-0000dde0: 2030 3a20 2023 2049 6620 7820 6973 2077   0:  # If x is w
-0000ddf0: 6974 6869 6e20 696d 6167 650a 2020 2020  ithin image.    
-0000de00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de10: 6465 6e73 6974 7950 726f 6669 6c65 4e6f  densityProfileNo
-0000de20: 5469 6d65 4d61 726b 735b 7857 616c 6b5d  TimeMarks[xWalk]
-0000de30: 203d 2064 656e 7369 7479 5072 6f66 696c   = densityProfil
-0000de40: 654e 6f54 696d 654d 6172 6b73 5b6c 6f77  eNoTimeMarks[low
-0000de50: 585d 202b 2079 496e 6372 656d 656e 7420  X] + yIncrement 
-0000de60: 2a20 7849 6e63 7265 6d65 6e74 2020 2320  * xIncrement  # 
-0000de70: 496e 7465 7270 6f6c 6174 6520 6465 6e73  Interpolate dens
-0000de80: 6974 790a 2020 2020 2020 2020 2020 2020  ity.            
-0000de90: 2020 2020 7849 6e63 7265 6d65 6e74 202b      xIncrement +
-0000dea0: 3d20 3120 2023 2049 6e63 7265 6173 6520  = 1  # Increase 
-0000deb0: 7820 696e 6372 656d 656e 7420 6f66 2069  x increment of i
-0000dec0: 6e74 6572 706f 6c61 7469 6f6e 0a20 2020  nterpolation.   
-0000ded0: 200a 2020 2020 2320 4361 6c63 756c 6174   .    # Calculat
-0000dee0: 6520 536f 6b6f 6c6f 7665 2d42 7573 6865  e Sokolove-Bushe
-0000def0: 6c6c 2070 6572 696f 646f 6772 616d 0a20  ll periodogram. 
-0000df00: 2020 2066 7265 7175 656e 6369 6573 536f     frequenciesSo
-0000df10: 6b6f 6c6f 7665 4275 7368 656c 6c2c 2070  koloveBushell, p
-0000df20: 6572 696f 646f 6772 616d 4368 6953 7175  eriodogramChiSqu
-0000df30: 6172 6564 536f 6b6f 6c6f 7665 4275 7368  aredSokoloveBush
-0000df40: 656c 6c20 3d20 7065 7269 6f64 6f67 7261  ell = periodogra
-0000df50: 6d28 6465 6e73 6974 7950 726f 6669 6c65  m(densityProfile
-0000df60: 4e6f 5469 6d65 4d61 726b 732c 2073 6361  NoTimeMarks, sca
-0000df70: 6c69 6e67 3d22 7370 6563 7472 756d 222c  ling="spectrum",
-0000df80: 206e 6666 743d 3131 3630 3030 2920 2023   nfft=116000)  #
-0000df90: 2047 6574 2053 6f6b 6f6c 6f76 652d 4275   Get Sokolove-Bu
-0000dfa0: 7368 656c 6c20 7065 7269 6f64 6f67 7261  shell periodogra
-0000dfb0: 6d20 2866 7265 7175 656e 6369 6573 2c20  m (frequencies, 
-0000dfc0: 706f 7765 7220 7370 6563 7472 6120 696e  power spectra in
-0000dfd0: 2056 5e32 290a 2020 2020 6672 6571 7565   V^2).    freque
-0000dfe0: 6e63 6965 7353 6f6b 6f6c 6f76 6542 7573  nciesSokoloveBus
-0000dff0: 6865 6c6c 203d 2066 7265 7175 656e 6369  hell = frequenci
-0000e000: 6573 536f 6b6f 6c6f 7665 4275 7368 656c  esSokoloveBushel
-0000e010: 6c2e 746f 6c69 7374 2829 5b31 3a5d 2020  l.tolist()[1:]  
-0000e020: 2320 436f 6e76 6572 7420 532d 4220 6672  # Convert S-B fr
-0000e030: 6571 7565 6e63 6965 7320 746f 206c 6973  equencies to lis
-0000e040: 740a 2020 2020 7065 7269 6f64 6f67 7261  t.    periodogra
-0000e050: 6d43 6869 5371 7561 7265 6453 6f6b 6f6c  mChiSquaredSokol
-0000e060: 6f76 6542 7573 6865 6c6c 203d 2070 6572  oveBushell = per
-0000e070: 696f 646f 6772 616d 4368 6953 7175 6172  iodogramChiSquar
-0000e080: 6564 536f 6b6f 6c6f 7665 4275 7368 656c  edSokoloveBushel
-0000e090: 6c2e 746f 6c69 7374 2829 5b31 3a5d 2020  l.tolist()[1:]  
-0000e0a0: 2320 436f 6e76 6572 7420 532d 4220 7065  # Convert S-B pe
-0000e0b0: 7269 6f64 6f67 7261 6d20 7661 6c75 6573  riodogram values
-0000e0c0: 2074 6f20 6c69 7374 0a20 2020 200a 2020   to list.    .  
-0000e0d0: 2020 2320 4361 6c63 756c 6174 6520 4c6f    # Calculate Lo
-0000e0e0: 6d62 2d53 6361 7267 6c65 2050 6572 696f  mb-Scargle Perio
-0000e0f0: 646f 6772 616d 0a20 2020 2066 7265 7175  dogram.    frequ
-0000e100: 656e 6379 496e 7465 7276 616c 203d 2069  encyInterval = i
-0000e110: 6e74 2828 2832 202a 206e 756d 7079 2e70  nt(((2 * numpy.p
-0000e120: 6929 202f 206d 696e 5065 7269 6f64 5069  i) / minPeriodPi
-0000e130: 7865 6c73 202d 2028 3220 2a20 6e75 6d70  xels - (2 * nump
-0000e140: 792e 7069 2920 2f20 6d61 7850 6572 696f  y.pi) / maxPerio
-0000e150: 6450 6978 656c 7329 202f 2030 2e30 3030  dPixels) / 0.000
-0000e160: 3129 2020 2320 4e75 6d62 6572 206f 6620  1)  # Number of 
-0000e170: 616e 6775 6c61 7220 6672 6571 7565 6e63  angular frequenc
-0000e180: 6965 7320 746f 2074 6573 7420 666f 7220  ies to test for 
-0000e190: 4c6f 6d62 2d53 6361 7267 6c65 2061 7420  Lomb-Scargle at 
-0000e1a0: 616e 2069 6e74 6572 7661 6c20 6f66 2030  an interval of 0
-0000e1b0: 2e30 3030 310a 2020 2020 6672 6571 7565  .0001.    freque
-0000e1c0: 6e63 6965 734c 6f6d 6253 6361 7267 6c65  nciesLombScargle
-0000e1d0: 203d 2028 6e75 6d70 792e 6c69 6e73 7061   = (numpy.linspa
-0000e1e0: 6365 2828 3220 2a20 6e75 6d70 792e 7069  ce((2 * numpy.pi
-0000e1f0: 2920 2f20 6d61 7850 6572 696f 6450 6978  ) / maxPeriodPix
-0000e200: 656c 732c 2028 3220 2a20 6e75 6d70 792e  els, (2 * numpy.
-0000e210: 7069 2920 2f20 6d69 6e50 6572 696f 6450  pi) / minPeriodP
-0000e220: 6978 656c 732c 2066 7265 7175 656e 6379  ixels, frequency
-0000e230: 496e 7465 7276 616c 292e 746f 6c69 7374  Interval).tolist
-0000e240: 2829 2920 2023 2043 7265 6174 6520 6c69  ())  # Create li
-0000e250: 7374 206f 6620 616e 6775 6c61 7220 6672  st of angular fr
-0000e260: 6571 7565 6e63 6965 7320 746f 2074 6573  equencies to tes
-0000e270: 7420 666f 7220 4c6f 6d62 2d53 6361 7267  t for Lomb-Scarg
-0000e280: 6c65 2070 6572 696f 646f 6772 616d 0a20  le periodogram. 
-0000e290: 2020 2070 6572 696f 646f 6772 616d 506f     periodogramPo
-0000e2a0: 7765 7253 7065 6374 7275 6d4c 6f6d 6253  werSpectrumLombS
-0000e2b0: 6361 7267 6c65 203d 206c 6f6d 6273 6361  cargle = lombsca
-0000e2c0: 7267 6c65 286c 6973 7428 7261 6e67 6528  rgle(list(range(
-0000e2d0: 302c 206c 656e 2864 656e 7369 7479 5072  0, len(densityPr
-0000e2e0: 6f66 696c 654e 6f54 696d 654d 6172 6b73  ofileNoTimeMarks
-0000e2f0: 2929 292c 2064 656e 7369 7479 5072 6f66  ))), densityProf
-0000e300: 696c 654e 6f54 696d 654d 6172 6b73 2c20  ileNoTimeMarks, 
-0000e310: 6672 6571 7565 6e63 6965 734c 6f6d 6253  frequenciesLombS
-0000e320: 6361 7267 6c65 2c20 7072 6563 656e 7465  cargle, precente
-0000e330: 723d 5472 7565 2920 2023 2047 6574 204c  r=True)  # Get L
-0000e340: 6f6d 622d 5363 6172 676c 6520 7065 7269  omb-Scargle peri
-0000e350: 6f64 6f67 7261 6d0a 2020 2020 7065 7269  odogram.    peri
-0000e360: 6f64 6f67 7261 6d50 6f77 6572 5370 6563  odogramPowerSpec
-0000e370: 7472 756d 4c6f 6d62 5363 6172 676c 6520  trumLombScargle 
-0000e380: 3d20 7065 7269 6f64 6f67 7261 6d50 6f77  = periodogramPow
-0000e390: 6572 5370 6563 7472 756d 4c6f 6d62 5363  erSpectrumLombSc
-0000e3a0: 6172 676c 652e 746f 6c69 7374 2829 2020  argle.tolist()  
-0000e3b0: 2320 436f 6e76 6572 7420 4c2d 5320 7065  # Convert L-S pe
-0000e3c0: 7269 6f64 6f67 7261 6d20 7661 6c75 6573  riodogram values
-0000e3d0: 2074 6f20 6c69 7374 0a0a 2020 2020 2320   to list..    # 
-0000e3e0: 436f 6e76 6572 7420 6672 6571 7565 6e63  Convert frequenc
-0000e3f0: 6965 7320 746f 2070 6572 696f 6473 0a20  ies to periods. 
-0000e400: 2020 2070 6572 696f 644c 6f6d 6253 6361     periodLombSca
-0000e410: 7267 6c65 5069 7865 6c73 203d 2028 3220  rglePixels = (2 
-0000e420: 2a20 6e75 6d70 792e 7069 2920 2f20 6672  * numpy.pi) / fr
-0000e430: 6571 7565 6e63 6965 734c 6f6d 6253 6361  equenciesLombSca
-0000e440: 7267 6c65 5b70 6572 696f 646f 6772 616d  rgle[periodogram
-0000e450: 506f 7765 7253 7065 6374 7275 6d4c 6f6d  PowerSpectrumLom
-0000e460: 6253 6361 7267 6c65 2e69 6e64 6578 286e  bScargle.index(n
-0000e470: 756d 7079 2e6d 6178 2870 6572 696f 646f  umpy.max(periodo
-0000e480: 6772 616d 506f 7765 7253 7065 6374 7275  gramPowerSpectru
-0000e490: 6d4c 6f6d 6253 6361 7267 6c65 2929 5d20  mLombScargle))] 
-0000e4a0: 2023 2043 6f6e 7665 7274 2066 7265 7175   # Convert frequ
-0000e4b0: 656e 6379 206f 6620 6d61 7869 6d61 6c20  ency of maximal 
-0000e4c0: 7370 6563 7472 616c 2064 656e 7369 7479  spectral density
-0000e4d0: 2066 726f 6d20 4c6f 6d62 2d53 6361 7267   from Lomb-Scarg
-0000e4e0: 6c65 2070 6572 696f 646f 6772 616d 2074  le periodogram t
-0000e4f0: 6f20 686f 7269 7a6f 6e74 616c 206c 656e  o horizontal len
-0000e500: 6774 6820 696e 2070 6978 656c 730a 2020  gth in pixels.  
-0000e510: 2020 7065 7269 6f64 536f 6b6f 6c6f 7665    periodSokolove
-0000e520: 4275 7368 656c 6c50 6978 656c 7320 3d20  BushellPixels = 
-0000e530: 3120 2f20 6672 6571 7565 6e63 6965 7353  1 / frequenciesS
-0000e540: 6f6b 6f6c 6f76 6542 7573 6865 6c6c 5b70  okoloveBushell[p
-0000e550: 6572 696f 646f 6772 616d 4368 6953 7175  eriodogramChiSqu
-0000e560: 6172 6564 536f 6b6f 6c6f 7665 4275 7368  aredSokoloveBush
-0000e570: 656c 6c2e 696e 6465 7828 6e75 6d70 792e  ell.index(numpy.
-0000e580: 6d61 7828 7065 7269 6f64 6f67 7261 6d43  max(periodogramC
-0000e590: 6869 5371 7561 7265 6453 6f6b 6f6c 6f76  hiSquaredSokolov
-0000e5a0: 6542 7573 6865 6c6c 2929 5d20 2023 2043  eBushell))]  # C
-0000e5b0: 6f6e 7665 7274 2066 7265 7175 656e 6379  onvert frequency
-0000e5c0: 206f 6620 6d61 7869 6d61 6c20 7370 6563   of maximal spec
-0000e5d0: 7472 616c 2064 656e 7369 7479 2066 726f  tral density fro
-0000e5e0: 6d20 536f 6b6f 6c6f 7665 2d42 7573 6865  m Sokolove-Bushe
-0000e5f0: 6c6c 2070 6572 696f 646f 6772 616d 2074  ll periodogram t
-0000e600: 6f20 686f 7269 7a6f 6e74 616c 206c 656e  o horizontal len
-0000e610: 6774 6820 696e 2070 6978 656c 730a 2020  gth in pixels.  
-0000e620: 2020 7065 7269 6f64 4c6f 6d62 5363 6172    periodLombScar
-0000e630: 676c 6520 3d20 7065 7269 6f64 4c6f 6d62  gle = periodLomb
-0000e640: 5363 6172 676c 6550 6978 656c 7320 2a20  ScarglePixels * 
-0000e650: 6d65 616e 4772 6f77 7468 486f 7572 7350  meanGrowthHoursP
-0000e660: 6572 5069 7865 6c20 2a20 736c 6f70 6543  erPixel * slopeC
-0000e670: 6f65 6666 0a20 2020 2070 6572 696f 6453  oeff.    periodS
-0000e680: 6f6b 6f6c 6f76 6542 7573 6865 6c6c 203d  okoloveBushell =
-0000e690: 2070 6572 696f 6453 6f6b 6f6c 6f76 6542   periodSokoloveB
-0000e6a0: 7573 6865 6c6c 5069 7865 6c73 202a 206d  ushellPixels * m
-0000e6b0: 6561 6e47 726f 7774 6848 6f75 7273 5065  eanGrowthHoursPe
-0000e6c0: 7250 6978 656c 202a 2073 6c6f 7065 436f  rPixel * slopeCo
-0000e6d0: 6566 660a 0a20 2020 2023 4361 6c63 756c  eff..    #Calcul
-0000e6e0: 6174 6520 7761 7665 6c65 7420 7065 7269  ate wavelet peri
-0000e6f0: 6f64 730a 2020 2020 6465 6e73 6974 7950  ods.    densityP
-0000e700: 726f 6669 6c65 4e6f 5469 6d65 4d61 726b  rofileNoTimeMark
-0000e710: 7350 7265 6365 6e74 6572 203d 205b 5d0a  sPrecenter = [].
-0000e720: 2020 2020 666f 7220 7661 6c20 696e 2064      for val in d
-0000e730: 656e 7369 7479 5072 6f66 696c 654e 6f54  ensityProfileNoT
-0000e740: 696d 654d 6172 6b73 3a0a 2020 2020 2020  imeMarks:.      
-0000e750: 2020 6465 6e73 6974 7950 726f 6669 6c65    densityProfile
-0000e760: 4e6f 5469 6d65 4d61 726b 7350 7265 6365  NoTimeMarksPrece
-0000e770: 6e74 6572 2e61 7070 656e 6428 7661 6c20  nter.append(val 
-0000e780: 2d20 6e75 6d70 792e 6d65 616e 2864 656e  - numpy.mean(den
-0000e790: 7369 7479 5072 6f66 696c 654e 6f54 696d  sityProfileNoTim
-0000e7a0: 654d 6172 6b73 2929 0a20 2020 2063 6f6e  eMarks)).    con
-0000e7b0: 7469 6e75 6f75 7357 6176 656c 6574 5472  tinuousWaveletTr
-0000e7c0: 616e 7366 6f72 6d41 6d70 6c69 7475 6465  ansformAmplitude
-0000e7d0: 7352 6177 2c20 636f 6e74 696e 756f 7573  sRaw, continuous
-0000e7e0: 5761 7665 6c65 7454 7261 6e73 666f 726d  WaveletTransform
-0000e7f0: 4672 6571 7565 6e63 6965 7320 3d20 7079  Frequencies = py
-0000e800: 7774 2e63 7774 2864 656e 7369 7479 5072  wt.cwt(densityPr
-0000e810: 6f66 696c 654e 6f54 696d 654d 6172 6b73  ofileNoTimeMarks
-0000e820: 5072 6563 656e 7465 722c 206e 756d 7079  Precenter, numpy
-0000e830: 2e61 7261 6e67 6528 312c 3235 3729 2c20  .arange(1,257), 
-0000e840: 226d 6f72 6c22 290a 2020 2020 636f 6e74  "morl").    cont
-0000e850: 696e 756f 7573 5761 7665 6c65 7454 7261  inuousWaveletTra
-0000e860: 6e73 666f 726d 5065 7269 6f64 7320 3d20  nsformPeriods = 
-0000e870: 5b5d 0a20 2020 2066 6f72 2066 7265 7175  [].    for frequ
-0000e880: 656e 6379 2069 6e20 636f 6e74 696e 756f  ency in continuo
-0000e890: 7573 5761 7665 6c65 7454 7261 6e73 666f  usWaveletTransfo
-0000e8a0: 726d 4672 6571 7565 6e63 6965 733a 0a20  rmFrequencies:. 
-0000e8b0: 2020 2020 2020 2063 6f6e 7469 6e75 6f75         continuou
-0000e8c0: 7357 6176 656c 6574 5472 616e 7366 6f72  sWaveletTransfor
-0000e8d0: 6d50 6572 696f 6473 2e61 7070 656e 6428  mPeriods.append(
-0000e8e0: 2831 202f 2066 7265 7175 656e 6379 2920  (1 / frequency) 
-0000e8f0: 2a20 6d65 616e 4772 6f77 7468 486f 7572  * meanGrowthHour
-0000e900: 7350 6572 5069 7865 6c20 2a20 736c 6f70  sPerPixel * slop
-0000e910: 6543 6f65 6666 290a 2020 2020 636f 6e74  eCoeff).    cont
-0000e920: 696e 756f 7573 5761 7665 6c65 7454 7261  inuousWaveletTra
-0000e930: 6e73 666f 726d 416d 706c 6974 7564 6573  nsformAmplitudes
-0000e940: 203d 206e 756d 7079 2e61 6273 6f6c 7574   = numpy.absolut
-0000e950: 6528 6e75 6d70 792e 666c 6970 7564 2863  e(numpy.flipud(c
-0000e960: 6f6e 7469 6e75 6f75 7357 6176 656c 6574  ontinuousWavelet
-0000e970: 5472 616e 7366 6f72 6d41 6d70 6c69 7475  TransformAmplitu
-0000e980: 6465 7352 6177 2929 0a20 2020 2063 6f6e  desRaw)).    con
-0000e990: 7469 6e75 6f75 7357 6176 656c 6574 5472  tinuousWaveletTr
-0000e9a0: 616e 7366 6f72 6d50 6572 696f 6473 5941  ansformPeriodsYA
-0000e9b0: 7869 7320 3d20 6e75 6d70 792e 6c69 6e73  xis = numpy.lins
-0000e9c0: 7061 6365 286e 756d 7079 2e6d 696e 2863  pace(numpy.min(c
-0000e9d0: 6f6e 7469 6e75 6f75 7357 6176 656c 6574  ontinuousWavelet
-0000e9e0: 5472 616e 7366 6f72 6d50 6572 696f 6473  TransformPeriods
-0000e9f0: 292c 206e 756d 7079 2e6d 6178 2863 6f6e  ), numpy.max(con
-0000ea00: 7469 6e75 6f75 7357 6176 656c 6574 5472  tinuousWaveletTr
-0000ea10: 616e 7366 6f72 6d50 6572 696f 6473 292c  ansformPeriods),
-0000ea20: 206c 656e 2863 6f6e 7469 6e75 6f75 7357   len(continuousW
-0000ea30: 6176 656c 6574 5472 616e 7366 6f72 6d50  aveletTransformP
-0000ea40: 6572 696f 6473 2929 0a20 2020 2070 6572  eriods)).    per
-0000ea50: 696f 6450 6561 6b58 5661 6c73 203d 205b  iodPeakXVals = [
-0000ea60: 5d0a 2020 2020 7065 7269 6f64 5065 616b  ].    periodPeak
-0000ea70: 5956 616c 7320 3d20 5b5d 0a20 2020 2066  YVals = [].    f
-0000ea80: 6f72 2078 5661 6c20 696e 206c 6973 7428  or xVal in list(
-0000ea90: 7261 6e67 6528 6c65 6e28 6465 6e73 6974  range(len(densit
-0000eaa0: 6f6d 6574 7279 5856 616c 7348 6f75 7273  ometryXValsHours
-0000eab0: 5769 6e64 6f77 2929 293a 0a20 2020 2020  Window))):.     
-0000eac0: 2020 2070 6572 696f 6473 436f 6c75 6d6e     periodsColumn
-0000ead0: 203d 206c 6973 7428 6e75 6d70 792e 666c   = list(numpy.fl
-0000eae0: 6970 7564 2863 6f6e 7469 6e75 6f75 7357  ipud(continuousW
-0000eaf0: 6176 656c 6574 5472 616e 7366 6f72 6d41  aveletTransformA
-0000eb00: 6d70 6c69 7475 6465 7329 5b3a 2c20 7856  mplitudes)[:, xV
-0000eb10: 616c 5d29 0a20 2020 2020 2020 2069 6620  al]).        if 
-0000eb20: 6e75 6d70 792e 6d61 7828 7065 7269 6f64  numpy.max(period
-0000eb30: 7343 6f6c 756d 6e29 203e 206e 756d 7079  sColumn) > numpy
-0000eb40: 2e6d 6178 2863 6f6e 7469 6e75 6f75 7357  .max(continuousW
-0000eb50: 6176 656c 6574 5472 616e 7366 6f72 6d41  aveletTransformA
-0000eb60: 6d70 6c69 7475 6465 7329 202a 2030 2e37  mplitudes) * 0.7
-0000eb70: 3a0a 2020 2020 2020 2020 2020 2020 7065  :.            pe
-0000eb80: 7269 6f64 5065 616b 5856 616c 732e 6170  riodPeakXVals.ap
-0000eb90: 7065 6e64 2864 656e 7369 746f 6d65 7472  pend(densitometr
-0000eba0: 7958 5661 6c73 486f 7572 7357 696e 646f  yXValsHoursWindo
-0000ebb0: 775b 7856 616c 5d29 0a20 2020 2020 2020  w[xVal]).       
-0000ebc0: 2020 2020 2070 6572 696f 6450 6561 6b59       periodPeakY
-0000ebd0: 5661 6c73 2e61 7070 656e 6428 636f 6e74  Vals.append(cont
-0000ebe0: 696e 756f 7573 5761 7665 6c65 7454 7261  inuousWaveletTra
-0000ebf0: 6e73 666f 726d 5065 7269 6f64 7359 4178  nsformPeriodsYAx
-0000ec00: 6973 5b70 6572 696f 6473 436f 6c75 6d6e  is[periodsColumn
-0000ec10: 2e69 6e64 6578 286e 756d 7079 2e6d 6178  .index(numpy.max
-0000ec20: 2870 6572 696f 6473 436f 6c75 6d6e 2929  (periodsColumn))
-0000ec30: 5d29 0a20 2020 2063 6f6e 7469 6e75 6f75  ]).    continuou
-0000ec40: 7357 6176 656c 6574 5472 616e 7366 6f72  sWaveletTransfor
-0000ec50: 6d50 6561 6b73 536c 6f70 6520 3d20 6e75  mPeaksSlope = nu
-0000ec60: 6d70 792e 706f 6c79 6e6f 6d69 616c 2e70  mpy.polynomial.p
-0000ec70: 6f6c 796e 6f6d 6961 6c2e 706f 6c79 6669  olynomial.polyfi
-0000ec80: 7428 7065 7269 6f64 5065 616b 5856 616c  t(periodPeakXVal
-0000ec90: 732c 2070 6572 696f 6450 6561 6b59 5661  s, periodPeakYVa
-0000eca0: 6c73 2c20 3129 5b31 5d0a 2020 2020 636f  ls, 1)[1].    co
-0000ecb0: 6e74 696e 756f 7573 5761 7665 6c65 7454  ntinuousWaveletT
-0000ecc0: 7261 6e73 666f 726d 4d65 616e 5065 7269  ransformMeanPeri
-0000ecd0: 6f64 203d 206e 756d 7079 2e6d 6561 6e28  od = numpy.mean(
-0000ece0: 7065 7269 6f64 5065 616b 5956 616c 7329  periodPeakYVals)
-0000ecf0: 0a0a 2020 2020 7265 7475 726e 2028 7b0a  ..    return ({.
-0000ed00: 2020 2020 2020 2020 2270 6572 696f 644c          "periodL
-0000ed10: 696e 6561 7252 6567 7265 7373 696f 6e22  inearRegression"
-0000ed20: 3a20 7065 7269 6f64 4c69 6e65 6172 5265  : periodLinearRe
-0000ed30: 6772 6573 7369 6f6e 2c0a 2020 2020 2020  gression,.      
-0000ed40: 2020 2270 6572 696f 6453 6f6b 6f6c 6f76    "periodSokolov
-0000ed50: 6542 7573 6865 6c6c 223a 2070 6572 696f  eBushell": perio
-0000ed60: 6453 6f6b 6f6c 6f76 6542 7573 6865 6c6c  dSokoloveBushell
-0000ed70: 2c0a 2020 2020 2020 2020 2270 6572 696f  ,.        "perio
-0000ed80: 644c 6f6d 6253 6361 7267 6c65 223a 2070  dLombScargle": p
-0000ed90: 6572 696f 644c 6f6d 6253 6361 7267 6c65  eriodLombScargle
-0000eda0: 2c0a 2020 2020 2020 2020 2270 6572 696f  ,.        "perio
-0000edb0: 6457 6176 656c 6574 223a 2063 6f6e 7469  dWavelet": conti
-0000edc0: 6e75 6f75 7357 6176 656c 6574 5472 616e  nuousWaveletTran
-0000edd0: 7366 6f72 6d4d 6561 6e50 6572 696f 642c  sformMeanPeriod,
-0000ede0: 0a20 2020 2020 2020 2022 736c 6f70 6557  .        "slopeW
-0000edf0: 6176 656c 6574 223a 2063 6f6e 7469 6e75  avelet": continu
-0000ee00: 6f75 7357 6176 656c 6574 5472 616e 7366  ousWaveletTransf
-0000ee10: 6f72 6d50 6561 6b73 536c 6f70 652c 0a20  ormPeaksSlope,. 
-0000ee20: 2020 2020 2020 2022 6672 6571 7565 6e63         "frequenc
-0000ee30: 6965 7353 6f6b 6f6c 6f76 6542 7573 6865  iesSokoloveBushe
-0000ee40: 6c6c 223a 2066 7265 7175 656e 6369 6573  ll": frequencies
-0000ee50: 536f 6b6f 6c6f 7665 4275 7368 656c 6c2c  SokoloveBushell,
-0000ee60: 0a20 2020 2020 2020 2022 7065 7269 6f64  .        "period
-0000ee70: 6f67 7261 6d43 6869 5371 7561 7265 6453  ogramChiSquaredS
-0000ee80: 6f6b 6f6c 6f76 6542 7573 6865 6c6c 223a  okoloveBushell":
-0000ee90: 2070 6572 696f 646f 6772 616d 4368 6953   periodogramChiS
-0000eea0: 7175 6172 6564 536f 6b6f 6c6f 7665 4275  quaredSokoloveBu
-0000eeb0: 7368 656c 6c2c 0a20 2020 2020 2020 2022  shell,.        "
-0000eec0: 6672 6571 7565 6e63 6965 734c 6f6d 6253  frequenciesLombS
-0000eed0: 6361 7267 6c65 223a 2066 7265 7175 656e  cargle": frequen
-0000eee0: 6369 6573 4c6f 6d62 5363 6172 676c 652c  ciesLombScargle,
-0000eef0: 0a20 2020 2020 2020 2022 7065 7269 6f64  .        "period
-0000ef00: 6f67 7261 6d50 6f77 6572 5370 6563 7472  ogramPowerSpectr
-0000ef10: 756d 4c6f 6d62 5363 6172 676c 6522 3a20  umLombScargle": 
-0000ef20: 7065 7269 6f64 6f67 7261 6d50 6f77 6572  periodogramPower
-0000ef30: 5370 6563 7472 756d 4c6f 6d62 5363 6172  SpectrumLombScar
-0000ef40: 676c 652c 0a20 2020 2020 2020 2022 6672  gle,.        "fr
-0000ef50: 6571 7565 6e63 6965 7357 6176 656c 6574  equenciesWavelet
-0000ef60: 223a 2063 6f6e 7469 6e75 6f75 7357 6176  ": continuousWav
-0000ef70: 656c 6574 5472 616e 7366 6f72 6d50 6572  eletTransformPer
-0000ef80: 696f 6473 2c0a 2020 2020 2020 2020 2261  iods,.        "a
-0000ef90: 6d70 6c69 7475 6465 7357 6176 656c 6574  mplitudesWavelet
-0000efa0: 223a 2063 6f6e 7469 6e75 6f75 7357 6176  ": continuousWav
-0000efb0: 656c 6574 5472 616e 7366 6f72 6d41 6d70  eletTransformAmp
-0000efc0: 6c69 7475 6465 732c 0a20 2020 2020 2020  litudes,.       
-0000efd0: 2022 7065 7269 6f64 7359 4178 6973 5761   "periodsYAxisWa
-0000efe0: 7665 6c65 7422 3a20 636f 6e74 696e 756f  velet": continuo
-0000eff0: 7573 5761 7665 6c65 7454 7261 6e73 666f  usWaveletTransfo
-0000f000: 726d 5065 7269 6f64 7359 4178 6973 2c0a  rmPeriodsYAxis,.
-0000f010: 2020 2020 2020 2020 226d 696e 5065 7269          "minPeri
-0000f020: 6f64 223a 206d 696e 5065 7269 6f64 2c0a  od": minPeriod,.
-0000f030: 2020 2020 2020 2020 226d 6178 5065 7269          "maxPeri
-0000f040: 6f64 223a 206d 6178 5065 7269 6f64 2c0a  od": maxPeriod,.
-0000f050: 2020 2020 2020 2020 2273 6c6f 7065 436f          "slopeCo
-0000f060: 6566 6622 3a20 736c 6f70 6543 6f65 6666  eff": slopeCoeff
-0000f070: 2c0a 2020 2020 2020 2020 226d 6561 6e47  ,.        "meanG
-0000f080: 726f 7774 6850 6978 656c 7350 6572 486f  rowthPixelsPerHo
-0000f090: 7572 223a 206d 6561 6e47 726f 7774 6850  ur": meanGrowthP
-0000f0a0: 6978 656c 7350 6572 486f 7572 2c0a 2020  ixelsPerHour,.  
-0000f0b0: 2020 2020 2020 2264 656e 7369 746f 6d65        "densitome
-0000f0c0: 7472 7958 486f 7572 7322 3a20 6465 6e73  tryXHours": dens
-0000f0d0: 6974 6f6d 6574 7279 5856 616c 7348 6f75  itometryXValsHou
-0000f0e0: 7273 5769 6e64 6f77 2c0a 2020 2020 2020  rsWindow,.      
-0000f0f0: 2020 2264 656e 7369 7479 5072 6f66 696c    "densityProfil
-0000f100: 6522 3a20 6465 6e73 6974 7950 726f 6669  e": densityProfi
-0000f110: 6c65 2c0a 2020 2020 2020 2020 2274 696d  le,.        "tim
-0000f120: 654d 6172 6b73 223a 2074 696d 654d 6172  eMarks": timeMar
-0000f130: 6b73 2c0a 2020 2020 2020 2020 2262 616e  ks,.        "ban
-0000f140: 644d 6172 6b73 223a 2062 616e 644d 6172  dMarks": bandMar
-0000f150: 6b73 2c0a 2020 2020 2020 2020 2264 656e  ks,.        "den
-0000f160: 7369 7479 4e6f 5469 6d65 4d61 726b 7322  sityNoTimeMarks"
-0000f170: 3a20 6465 6e73 6974 7950 726f 6669 6c65  : densityProfile
-0000f180: 4e6f 5469 6d65 4d61 726b 730a 2020 2020  NoTimeMarks.    
-0000f190: 7d29 0a0a 0a64 6566 2070 6f70 756c 6174  })...def populat
-0000f1a0: 6545 7870 6572 696d 656e 7444 6174 6154  eExperimentDataT
-0000f1b0: 6162 6c65 2829 3a0a 2020 2020 2222 2250  able():.    """P
-0000f1c0: 6f70 756c 6174 6520 6578 7065 7269 6d65  opulate experime
-0000f1d0: 6e74 2064 6174 6120 7461 626c 652e 2222  nt data table.""
-0000f1e0: 220a 2020 2020 0a20 2020 200a 2020 2020  ".    .    .    
-0000f1f0: 676c 6f62 616c 2074 7562 6573 4d61 7374  global tubesMast
-0000f200: 6572 0a20 2020 2067 6c6f 6261 6c20 6578  er.    global ex
-0000f210: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
-0000f220: 5465 7874 426f 780a 2020 2020 676c 6f62  TextBox.    glob
-0000f230: 616c 2065 7870 6572 696d 656e 7454 6162  al experimentTab
-0000f240: 5461 626c 6550 6172 616d 7348 7273 4c6f  TableParamsHrsLo
-0000f250: 7744 726f 7064 6f77 6e0a 2020 2020 676c  wDropdown.    gl
-0000f260: 6f62 616c 2065 7870 6572 696d 656e 7454  obal experimentT
-0000f270: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
-0000f280: 4869 6768 4472 6f70 646f 776e 0a0a 2020  HighDropdown..  
-0000f290: 2020 7461 626c 6552 6f77 7320 3d20 5b0a    tableRows = [.
-0000f2a0: 2020 2020 2020 2020 5b0a 2020 2020 2020          [.      
-0000f2b0: 2020 2020 2020 2245 6e74 7279 222c 0a20        "Entry",. 
-0000f2c0: 2020 2020 2020 2020 2020 2022 5061 636b             "Pack
-0000f2d0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-0000f2e0: 5475 6265 2023 222c 0a20 2020 2020 2020  Tube #",.       
-0000f2f0: 2020 2020 2022 5065 7269 6f64 222c 0a20       "Period",. 
-0000f300: 2020 2020 2020 2020 2020 2022 5065 7269             "Peri
-0000f310: 6f64 222c 0a20 2020 2020 2020 2020 2020  od",.           
-0000f320: 2022 5065 7269 6f64 222c 0a20 2020 2020   "Period",.     
-0000f330: 2020 2020 2020 2022 5065 7269 6f64 222c         "Period",
-0000f340: 0a20 2020 2020 2020 2020 2020 2022 4357  .            "CW
-0000f350: 5420 536c 6f70 6522 2c0a 2020 2020 2020  T Slope",.      
-0000f360: 2020 2020 2020 2247 726f 7774 6820 5261        "Growth Ra
-0000f370: 7465 220a 2020 2020 2020 2020 5d2c 0a20  te".        ],. 
-0000f380: 2020 2020 2020 205b 0a20 2020 2020 2020         [.       
-0000f390: 2020 2020 2022 222c 0a20 2020 2020 2020       "",.       
-0000f3a0: 2020 2020 2022 222c 0a20 2020 2020 2020       "",.       
-0000f3b0: 2020 2020 2022 222c 0a20 2020 2020 2020       "",.       
-0000f3c0: 2020 2020 2022 284c 696e 6561 7220 5265       "(Linear Re
-0000f3d0: 6772 6573 7369 6f6e 2922 2c0a 2020 2020  gression)",.    
-0000f3e0: 2020 2020 2020 2020 2228 536f 6b6f 6c6f          "(Sokolo
-0000f3f0: 7665 2d42 7573 6865 6c6c 2922 2c0a 2020  ve-Bushell)",.  
-0000f400: 2020 2020 2020 2020 2020 2228 4c6f 6d62            "(Lomb
-0000f410: 2d53 6361 7267 6c65 2922 2c0a 2020 2020  -Scargle)",.    
-0000f420: 2020 2020 2020 2020 2228 5761 7665 6c65          "(Wavele
-0000f430: 7429 222c 0a20 2020 2020 2020 2020 2020  t)",.           
-0000f440: 2022 2868 7273 2f68 7229 222c 0a20 2020   "(hrs/hr)",.   
-0000f450: 2020 2020 2020 2020 2022 286d 6d2f 6872           "(mm/hr
-0000f460: 2922 0a20 2020 2020 2020 205d 2c0a 2020  )".        ],.  
-0000f470: 2020 2020 2020 5b22 222c 2022 222c 2022        ["", "", "
-0000f480: 222c 2022 222c 2022 222c 2022 222c 2022  ", "", "", "", "
-0000f490: 222c 2022 222c 2022 225d 0a20 2020 205d  ", "", ""].    ]
-0000f4a0: 2020 2320 506f 7075 6c61 7465 2074 6162    # Populate tab
-0000f4b0: 6c65 2072 6f77 7320 7769 7468 2068 6561  le rows with hea
-0000f4c0: 6465 7273 2061 6e64 2061 2062 6c61 6e6b  ders and a blank
-0000f4d0: 2072 6f77 0a20 2020 206d 6178 436f 6c75   row.    maxColu
-0000f4e0: 6d6e 4c65 6e67 7468 7320 3d20 5b38 2c20  mnLengths = [8, 
-0000f4f0: 372c 2039 2c20 3232 2c20 3231 2c20 3137  7, 9, 22, 21, 17
-0000f500: 2c20 3132 2c20 3132 2c20 3133 5d20 2023  , 12, 12, 13]  #
-0000f510: 2053 6574 206d 6178 696d 756d 206c 656e   Set maximum len
-0000f520: 6774 6873 206f 6620 636f 6c75 6d6e 7320  gths of columns 
-0000f530: 666f 7220 7370 6163 696e 673b 2033 2073  for spacing; 3 s
-0000f540: 7061 6365 7320 6265 7477 6565 6e20 636f  paces between co
-0000f550: 6c75 6d6e 730a 2020 2020 6d61 7854 696d  lumns.    maxTim
-0000f560: 654d 6172 6b73 4c65 6e67 7468 203d 2030  eMarksLength = 0
-0000f570: 2020 2320 426c 616e 6b20 7661 7269 6162    # Blank variab
-0000f580: 6c65 2066 6f72 206d 6f73 7420 7469 6d65  le for most time
-0000f590: 206d 6172 6b73 2069 6e20 6120 7475 6265   marks in a tube
-0000f5a0: 2069 6e20 6669 6c65 0a20 2020 2066 6f72   in file.    for
-0000f5b0: 2074 7562 6520 696e 2074 7562 6573 4d61   tube in tubesMa
-0000f5c0: 7374 6572 3a20 2023 2046 6f72 2065 6163  ster:  # For eac
-0000f5d0: 6820 7475 6265 2069 6e20 6d61 7374 6572  h tube in master
-0000f5e0: 2074 7562 6573 206c 6973 740a 2020 2020   tubes list.    
-0000f5f0: 2020 2020 6966 206c 656e 2874 7562 655b      if len(tube[
-0000f600: 2274 696d 654d 6172 6b73 225d 2920 3e20  "timeMarks"]) > 
-0000f610: 6d61 7854 696d 654d 6172 6b73 4c65 6e67  maxTimeMarksLeng
-0000f620: 7468 3a20 2023 2049 6620 7468 6520 7475  th:  # If the tu
-0000f630: 6265 2063 6f6e 7461 696e 7320 6d6f 7265  be contains more
-0000f640: 2074 696d 6520 6d61 726b 7320 7468 616e   time marks than
-0000f650: 2074 6865 2063 7572 7265 6e74 206d 6178   the current max
-0000f660: 0a20 2020 2020 2020 2020 2020 206d 6178  .            max
-0000f670: 5469 6d65 4d61 726b 734c 656e 6774 6820  TimeMarksLength 
-0000f680: 3d20 6c65 6e28 7475 6265 5b22 7469 6d65  = len(tube["time
-0000f690: 4d61 726b 7322 5d29 0a20 2020 2074 6f74  Marks"]).    tot
-0000f6a0: 616c 4d61 726b 486f 7572 7320 3d20 7475  alMarkHours = tu
-0000f6b0: 6265 734d 6173 7465 725b 305d 5b22 6d61  besMaster[0]["ma
-0000f6c0: 726b 486f 7572 7322 5d5b 3a6d 6178 5469  rkHours"][:maxTi
-0000f6d0: 6d65 4d61 726b 734c 656e 6774 685d 0a20  meMarksLength]. 
-0000f6e0: 2020 2069 6620 6578 7065 7269 6d65 6e74     if experiment
-0000f6f0: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
-0000f700: 734c 6f77 4472 6f70 646f 776e 2e76 616c  sLowDropdown.val
-0000f710: 7565 203d 3d20 2222 2061 6e64 2065 7870  ue == "" and exp
-0000f720: 6572 696d 656e 7454 6162 5461 626c 6550  erimentTabTableP
-0000f730: 6172 616d 7348 7273 4869 6768 4472 6f70  aramsHrsHighDrop
-0000f740: 646f 776e 2e76 616c 7565 203d 3d20 2222  down.value == ""
-0000f750: 3a0a 2020 2020 2020 2020 666f 7220 7469  :.        for ti
-0000f760: 6d65 2069 6e20 746f 7461 6c4d 6172 6b48  me in totalMarkH
-0000f770: 6f75 7273 3a0a 2020 2020 2020 2020 2020  ours:.          
-0000f780: 2020 6578 7065 7269 6d65 6e74 5461 6254    experimentTabT
-0000f790: 6162 6c65 5061 7261 6d73 4872 734c 6f77  ableParamsHrsLow
-0000f7a0: 4472 6f70 646f 776e 2e61 7070 656e 6428  Dropdown.append(
-0000f7b0: 7469 6d65 290a 2020 2020 2020 2020 2020  time).          
-0000f7c0: 2020 6578 7065 7269 6d65 6e74 5461 6254    experimentTabT
-0000f7d0: 6162 6c65 5061 7261 6d73 4872 7348 6967  ableParamsHrsHig
-0000f7e0: 6844 726f 7064 6f77 6e2e 6170 7065 6e64  hDropdown.append
-0000f7f0: 2874 696d 6529 0a20 2020 2020 2020 2065  (time).        e
-0000f800: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
-0000f810: 6550 6172 616d 7348 7273 4c6f 7744 726f  eParamsHrsLowDro
-0000f820: 7064 6f77 6e2e 7661 6c75 6520 3d20 7374  pdown.value = st
-0000f830: 7228 746f 7461 6c4d 6172 6b48 6f75 7273  r(totalMarkHours
-0000f840: 5b30 5d29 0a20 2020 2020 2020 2065 7870  [0]).        exp
-0000f850: 6572 696d 656e 7454 6162 5461 626c 6550  erimentTabTableP
-0000f860: 6172 616d 7348 7273 4869 6768 4472 6f70  aramsHrsHighDrop
-0000f870: 646f 776e 2e76 616c 7565 203d 2073 7472  down.value = str
-0000f880: 2874 6f74 616c 4d61 726b 486f 7572 735b  (totalMarkHours[
-0000f890: 2d31 5d29 0a20 2020 2069 6620 666c 6f61  -1]).    if floa
-0000f8a0: 7428 6578 7065 7269 6d65 6e74 5461 6254  t(experimentTabT
-0000f8b0: 6162 6c65 5061 7261 6d73 4872 7348 6967  ableParamsHrsHig
-0000f8c0: 6844 726f 7064 6f77 6e2e 7661 6c75 6529  hDropdown.value)
-0000f8d0: 203c 3d20 666c 6f61 7428 6578 7065 7269   <= float(experi
-0000f8e0: 6d65 6e74 5461 6254 6162 6c65 5061 7261  mentTabTablePara
-0000f8f0: 6d73 4872 734c 6f77 4472 6f70 646f 776e  msHrsLowDropdown
-0000f900: 2e76 616c 7565 293a 0a20 2020 2020 2020  .value):.       
-0000f910: 2020 2020 2065 7870 6572 696d 656e 7454       experimentT
-0000f920: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
-0000f930: 4869 6768 4472 6f70 646f 776e 2e76 616c  HighDropdown.val
-0000f940: 7565 203d 2073 7472 2874 6f74 616c 4d61  ue = str(totalMa
-0000f950: 726b 486f 7572 735b 746f 7461 6c4d 6172  rkHours[totalMar
-0000f960: 6b48 6f75 7273 2e69 6e64 6578 2866 6c6f  kHours.index(flo
-0000f970: 6174 2865 7870 6572 696d 656e 7454 6162  at(experimentTab
-0000f980: 5461 626c 6550 6172 616d 7348 7273 4c6f  TableParamsHrsLo
-0000f990: 7744 726f 7064 6f77 6e2e 7661 6c75 6529  wDropdown.value)
-0000f9a0: 292b 315d 290a 2020 2020 666f 7220 7475  )+1]).    for tu
-0000f9b0: 6265 2069 6e20 7475 6265 734d 6173 7465  be in tubesMaste
-0000f9c0: 723a 2020 2320 466f 7220 6561 6368 2074  r:  # For each t
-0000f9d0: 7562 6520 696e 206d 6173 7465 7220 7475  ube in master tu
-0000f9e0: 6265 206c 6973 740a 2020 2020 2020 2020  be list.        
-0000f9f0: 7475 6265 5065 7269 6f64 7320 3d20 6361  tubePeriods = ca
-0000fa00: 6c63 756c 6174 6550 6572 696f 6444 6174  lculatePeriodDat
-0000fa10: 6128 7475 6265 5b22 6465 6e73 6974 7950  a(tube["densityP
-0000fa20: 726f 6669 6c65 225d 2c20 7475 6265 5b22  rofile"], tube["
-0000fa30: 6d61 726b 486f 7572 7322 5d2c 2074 7562  markHours"], tub
-0000fa40: 655b 2274 696d 654d 6172 6b73 225d 2c20  e["timeMarks"], 
-0000fa50: 7475 6265 5b22 6261 6e64 4d61 726b 7322  tube["bandMarks"
-0000fa60: 5d2c 2031 342c 2033 322c 2074 7562 655b  ], 14, 32, tube[
-0000fa70: 2274 7562 6552 616e 6765 225d 2c20 666c  "tubeRange"], fl
-0000fa80: 6f61 7428 6578 7065 7269 6d65 6e74 5461  oat(experimentTa
-0000fa90: 6254 6162 6c65 5061 7261 6d73 4872 734c  bTableParamsHrsL
-0000faa0: 6f77 4472 6f70 646f 776e 2e76 616c 7565  owDropdown.value
-0000fab0: 292c 2066 6c6f 6174 2865 7870 6572 696d  ), float(experim
-0000fac0: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
-0000fad0: 7348 7273 4869 6768 4472 6f70 646f 776e  sHrsHighDropdown
-0000fae0: 2e76 616c 7565 2929 2020 2320 4361 6c63  .value))  # Calc
-0000faf0: 756c 6174 6520 7065 7269 6f64 7320 616e  ulate periods an
-0000fb00: 6420 7065 7269 6f64 6f67 7261 6d73 2066  d periodograms f
-0000fb10: 6f72 2063 7572 7265 6e74 2074 7562 650a  or current tube.
-0000fb20: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-0000fb30: 2074 6162 6c65 526f 7773 2e61 7070 656e   tableRows.appen
-0000fb40: 6428 0a20 2020 2020 2020 2020 2020 205b  d(.            [
-0000fb50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000fb60: 2022 2020 2220 2b20 7374 7228 7475 6265   "  " + str(tube
-0000fb70: 734d 6173 7465 722e 696e 6465 7828 7475  sMaster.index(tu
-0000fb80: 6265 2920 2b20 3129 2c0a 2020 2020 2020  be) + 1),.      
-0000fb90: 2020 2020 2020 2020 2020 7374 7228 7475            str(tu
-0000fba0: 6265 5b22 7365 744e 616d 6522 5d29 2c0a  be["setName"]),.
-0000fbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fbc0: 2220 2022 202b 2073 7472 2874 7562 655b  "  " + str(tube[
-0000fbd0: 2274 7562 654e 756d 6265 7222 5d20 2b20  "tubeNumber"] + 
-0000fbe0: 3129 2c0a 2020 2020 2020 2020 2020 2020  1),.            
-0000fbf0: 2020 2020 7374 7228 726f 756e 6428 7475      str(round(tu
-0000fc00: 6265 5065 7269 6f64 735b 2270 6572 696f  bePeriods["perio
-0000fc10: 644c 696e 6561 7252 6567 7265 7373 696f  dLinearRegressio
-0000fc20: 6e22 5d2c 2033 2929 202b 2022 2068 7273  n"], 3)) + " hrs
-0000fc30: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0000fc40: 2020 2073 7472 2872 6f75 6e64 2874 7562     str(round(tub
-0000fc50: 6550 6572 696f 6473 5b22 7065 7269 6f64  ePeriods["period
-0000fc60: 536f 6b6f 6c6f 7665 4275 7368 656c 6c22  SokoloveBushell"
-0000fc70: 5d2c 2033 2929 202b 2022 2068 7273 222c  ], 3)) + " hrs",
-0000fc80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000fc90: 2073 7472 2872 6f75 6e64 2874 7562 6550   str(round(tubeP
-0000fca0: 6572 696f 6473 5b22 7065 7269 6f64 4c6f  eriods["periodLo
-0000fcb0: 6d62 5363 6172 676c 6522 5d2c 2033 2929  mbScargle"], 3))
-0000fcc0: 202b 2022 2068 7273 222c 0a20 2020 2020   + " hrs",.     
-0000fcd0: 2020 2020 2020 2020 2020 2073 7472 2872             str(r
-0000fce0: 6f75 6e64 2874 7562 6550 6572 696f 6473  ound(tubePeriods
-0000fcf0: 5b22 7065 7269 6f64 5761 7665 6c65 7422  ["periodWavelet"
-0000fd00: 5d2c 2033 2929 202b 2022 2068 7273 222c  ], 3)) + " hrs",
-0000fd10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000fd20: 2073 7472 2872 6f75 6e64 2874 7562 6550   str(round(tubeP
-0000fd30: 6572 696f 6473 5b22 736c 6f70 6557 6176  eriods["slopeWav
-0000fd40: 656c 6574 225d 2c20 3329 292c 0a20 2020  elet"], 3)),.   
-0000fd50: 2020 2020 2020 2020 2020 2020 2073 7472               str
-0000fd60: 2874 7562 655b 2267 726f 7774 6852 6174  (tube["growthRat
-0000fd70: 6522 5d29 0a20 2020 2020 2020 2020 2020  e"]).           
-0000fd80: 205d 0a20 2020 2020 2020 2029 2020 2320   ].        )  # 
-0000fd90: 4164 6420 726f 7720 746f 2065 7870 6572  Add row to exper
-0000fda0: 696d 656e 7420 7461 626c 6520 6f66 205b  iment table of [
-0000fdb0: 456e 7472 7920 6e75 6d62 6572 2c20 5365  Entry number, Se
-0000fdc0: 7420 6e75 6d62 6572 2c20 5475 6265 206e  t number, Tube n
-0000fdd0: 756d 6265 7220 696e 2073 6574 2c20 5065  umber in set, Pe
-0000fde0: 7269 6f64 735d 0a20 2020 2020 2020 200a  riods].        .
-0000fdf0: 2020 2020 2020 2020 2320 5570 6461 7465          # Update
-0000fe00: 206d 6178 2063 6f6c 756d 6e20 6c65 6e67   max column leng
-0000fe10: 7468 7320 746f 2066 6974 2064 6174 610a  ths to fit data.
-0000fe20: 2020 2020 2020 2020 666f 7220 636f 6c20          for col 
-0000fe30: 696e 2072 616e 6765 2830 2c20 3929 3a20  in range(0, 9): 
-0000fe40: 2023 2046 6f72 2065 6163 6820 6461 7475   # For each datu
-0000fe50: 6d20 696e 2072 6f77 2066 6f72 2074 7562  m in row for tub
-0000fe60: 650a 2020 2020 2020 2020 2020 2020 6966  e.            if
-0000fe70: 206c 656e 2874 6162 6c65 526f 7773 5b2d   len(tableRows[-
-0000fe80: 315d 5b63 6f6c 5d29 202b 2033 203e 206d  1][col]) + 3 > m
-0000fe90: 6178 436f 6c75 6d6e 4c65 6e67 7468 735b  axColumnLengths[
-0000fea0: 636f 6c5d 3a20 2023 2049 6620 636f 7272  col]:  # If corr
-0000feb0: 6573 706f 6e64 696e 6720 6461 7475 6d20  esponding datum 
-0000fec0: 6973 206c 6f6e 6765 7220 7468 616e 2063  is longer than c
-0000fed0: 7572 7265 6e74 206d 6178 2063 6f6c 756d  urrent max colum
-0000fee0: 6e20 7769 6474 680a 2020 2020 2020 2020  n width.        
-0000fef0: 2020 2020 2020 2020 6d61 7843 6f6c 756d          maxColum
-0000ff00: 6e4c 656e 6774 6873 5b63 6f6c 5d20 3d20  nLengths[col] = 
-0000ff10: 6c65 6e28 7461 626c 6552 6f77 735b 2d31  len(tableRows[-1
-0000ff20: 5d5b 636f 6c5d 2920 2b20 3320 2023 2049  ][col]) + 3  # I
-0000ff30: 6e63 7265 6173 6520 6d61 7820 636f 6c75  ncrease max colu
-0000ff40: 6d6e 2077 6964 7468 2061 6363 6f72 6469  mn width accordi
-0000ff50: 6e67 6c79 0a20 2020 2074 6162 6c65 5465  ngly.    tableTe
-0000ff60: 7874 203d 2022 2220 2023 2042 6c61 6e6b  xt = ""  # Blank
-0000ff70: 2073 7472 696e 6720 666f 7220 6578 7065   string for expe
-0000ff80: 7269 6d65 6e74 2074 6162 6c65 2074 6578  riment table tex
-0000ff90: 740a 2020 2020 666f 7220 726f 7720 696e  t.    for row in
-0000ffa0: 2074 6162 6c65 526f 7773 3a20 2023 2046   tableRows:  # F
-0000ffb0: 6f72 2065 6163 6820 726f 7720 6f66 2074  or each row of t
-0000ffc0: 6162 6c65 2072 6f77 7320 6c69 7374 0a20  able rows list. 
-0000ffd0: 2020 2020 2020 2066 6f72 2063 6f6c 2069         for col i
-0000ffe0: 6e20 7261 6e67 6528 302c 206c 656e 2874  n range(0, len(t
-0000fff0: 6162 6c65 526f 7773 5b30 5d29 293a 2020  ableRows[0])):  
-00010000: 2320 466f 7220 6561 6368 2063 6f6c 756d  # For each colum
-00010010: 6e0a 2020 2020 2020 2020 2020 2020 7461  n.            ta
-00010020: 626c 6554 6578 7420 3d20 7461 626c 6554  bleText = tableT
-00010030: 6578 7420 2b20 726f 775b 636f 6c5d 202b  ext + row[col] +
-00010040: 2022 2022 202a 2028 6d61 7843 6f6c 756d   " " * (maxColum
-00010050: 6e4c 656e 6774 6873 5b63 6f6c 5d20 2d20  nLengths[col] - 
-00010060: 6c65 6e28 726f 775b 636f 6c5d 2929 2020  len(row[col]))  
-00010070: 2320 4170 7065 6e64 2063 6f6c 756d 6e20  # Append column 
-00010080: 616e 6420 7370 6163 696e 6720 746f 2074  and spacing to t
-00010090: 6162 6c65 2074 6578 740a 2020 2020 2020  able text.      
-000100a0: 2020 7461 626c 6554 6578 7420 3d20 7461    tableText = ta
-000100b0: 626c 6554 6578 7420 2b20 225c 6e22 2020  bleText + "\n"  
-000100c0: 2320 4170 7065 6e64 206e 6577 6c69 6e65  # Append newline
-000100d0: 2074 6f20 7461 626c 6520 7465 7874 0a20   to table text. 
-000100e0: 2020 2065 7870 6572 696d 656e 7454 6162     experimentTab
-000100f0: 5461 626c 6554 6578 7442 6f78 2e76 616c  TableTextBox.val
-00010100: 7565 203d 2074 6162 6c65 5465 7874 2020  ue = tableText  
-00010110: 2320 5365 7420 6578 7065 7269 6d65 6e74  # Set experiment
-00010120: 2074 6162 6c65 2074 6578 7420 626f 7820   table text box 
-00010130: 7661 6c75 6520 746f 2074 6578 7420 7374  value to text st
-00010140: 7269 6e67 0a0a 0a64 6566 2073 6176 6545  ring...def saveE
-00010150: 7870 6572 696d 656e 7444 6174 6128 293a  xperimentData():
-00010160: 0a20 2020 2067 6c6f 6261 6c20 7475 6265  .    global tube
-00010170: 734d 6173 7465 720a 2020 2020 676c 6f62  sMaster.    glob
-00010180: 616c 206f 7065 6e46 696c 650a 2020 2020  al openFile.    
-00010190: 676c 6f62 616c 2061 7070 0a20 2020 2067  global app.    g
-000101a0: 6c6f 6261 6c20 6578 7065 7269 6d65 6e74  lobal experiment
-000101b0: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
-000101c0: 734c 6f77 4472 6f70 646f 776e 0a20 2020  sLowDropdown.   
-000101d0: 2067 6c6f 6261 6c20 6578 7065 7269 6d65   global experime
-000101e0: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
-000101f0: 4872 7348 6967 6844 726f 7064 6f77 6e0a  HrsHighDropdown.
-00010200: 0a20 2020 2064 6174 6146 696c 654e 616d  .    dataFileNam
-00010210: 6520 3d20 6170 702e 7365 6c65 6374 5f66  e = app.select_f
-00010220: 696c 6528 0a20 2020 2020 2020 2074 6974  ile(.        tit
-00010230: 6c65 3d22 5361 7665 2064 6174 6120 6173  le="Save data as
-00010240: 2e2e 2e22 2c0a 2020 2020 2020 2020 666f  ...",.        fo
-00010250: 6c64 6572 3d77 6f72 6b69 6e67 4469 722c  lder=workingDir,
-00010260: 0a20 2020 2020 2020 2066 696c 6574 7970  .        filetyp
-00010270: 6573 3d5b 5b22 4353 5622 2c20 222a 2e63  es=[["CSV", "*.c
-00010280: 7376 225d 5d2c 0a20 2020 2020 2020 2073  sv"]],.        s
-00010290: 6176 653d 5472 7565 2c0a 2020 2020 2020  ave=True,.      
-000102a0: 2020 6669 6c65 6e61 6d65 3d28 6f70 656e    filename=(open
-000102b0: 4669 6c65 5b6f 7065 6e46 696c 652e 7269  File[openFile.ri
-000102c0: 6e64 6578 2822 2f22 292b 313a 2d35 5d20  ndex("/")+1:-5] 
-000102d0: 2b20 225f 6461 7461 2229 2c0a 2020 2020  + "_data"),.    
-000102e0: 2920 2023 2047 6574 2066 696c 6520 6e61  )  # Get file na
-000102f0: 6d65 2061 6e64 2066 696c 6520 7361 7665  me and file save
-00010300: 206c 6f63 6174 696f 6e20 6672 6f6d 2075   location from u
-00010310: 7365 7220 696e 7075 7420 6672 6f6d 2061  ser input from a
-00010320: 7070 2070 6f70 7570 0a20 2020 200a 2020  pp popup.    .  
-00010330: 2020 7461 626c 6552 6f77 7320 3d20 5b0a    tableRows = [.
-00010340: 2020 2020 2020 2020 5b0a 2020 2020 2020          [.      
-00010350: 2020 2020 2020 2245 6e74 7279 222c 0a20        "Entry",. 
-00010360: 2020 2020 2020 2020 2020 2022 5061 636b             "Pack
-00010370: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-00010380: 5475 6265 2023 222c 0a20 2020 2020 2020  Tube #",.       
-00010390: 2020 2020 2022 5065 7269 6f64 2028 4c69       "Period (Li
-000103a0: 6e65 6172 2052 6567 7265 7373 696f 6e29  near Regression)
-000103b0: 2028 6872 7329 222c 0a20 2020 2020 2020   (hrs)",.       
-000103c0: 2020 2020 2022 5065 7269 6f64 2028 536f       "Period (So
-000103d0: 6b6f 6c6f 7665 2d42 7573 6865 6c6c 2920  kolove-Bushell) 
-000103e0: 2868 7273 2922 2c0a 2020 2020 2020 2020  (hrs)",.        
-000103f0: 2020 2020 2250 6572 696f 6420 284c 6f6d      "Period (Lom
-00010400: 622d 5363 6172 676c 6529 2028 6872 7329  b-Scargle) (hrs)
-00010410: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-00010420: 5065 7269 6f64 2028 5761 7665 6c65 742f  Period (Wavelet/
-00010430: 4357 5429 2028 6872 7329 222c 0a20 2020  CWT) (hrs)",.   
-00010440: 2020 2020 2020 2020 2022 4357 5420 536c           "CWT Sl
-00010450: 6f70 6520 2868 7273 2f68 7229 222c 0a20  ope (hrs/hr)",. 
-00010460: 2020 2020 2020 2020 2020 2022 4772 6f77             "Grow
-00010470: 7468 2052 6174 6520 286d 6d2f 6872 2922  th Rate (mm/hr)"
-00010480: 0a20 2020 2020 2020 205d 0a20 2020 205d  .        ].    ]
-00010490: 2020 2320 506f 7075 6c61 7465 2074 6162    # Populate tab
-000104a0: 6c65 2072 6f77 7320 7769 7468 2068 6561  le rows with hea
-000104b0: 6465 7273 2061 6e64 2061 2062 6c61 6e6b  ders and a blank
-000104c0: 2072 6f77 0a20 2020 206d 6178 5469 6d65   row.    maxTime
-000104d0: 4d61 726b 734c 656e 6774 6820 3d20 3020  MarksLength = 0 
-000104e0: 2023 2042 6c61 6e6b 2076 6172 6961 626c   # Blank variabl
-000104f0: 6520 666f 7220 6d6f 7374 2074 696d 6520  e for most time 
-00010500: 6d61 726b 7320 696e 2061 2074 7562 6520  marks in a tube 
-00010510: 696e 2066 696c 650a 2020 2020 666f 7220  in file.    for 
-00010520: 7475 6265 2069 6e20 7475 6265 734d 6173  tube in tubesMas
-00010530: 7465 723a 2020 2320 466f 7220 6561 6368  ter:  # For each
-00010540: 2074 7562 6520 696e 206d 6173 7465 7220   tube in master 
-00010550: 7475 6265 7320 6c69 7374 0a20 2020 2020  tubes list.     
-00010560: 2020 2069 6620 6c65 6e28 7475 6265 5b22     if len(tube["
-00010570: 7469 6d65 4d61 726b 7322 5d29 203e 206d  timeMarks"]) > m
-00010580: 6178 5469 6d65 4d61 726b 734c 656e 6774  axTimeMarksLengt
-00010590: 683a 2020 2320 4966 2074 6865 2074 7562  h:  # If the tub
-000105a0: 6520 636f 6e74 6169 6e73 206d 6f72 6520  e contains more 
-000105b0: 7469 6d65 206d 6172 6b73 2074 6861 6e20  time marks than 
-000105c0: 7468 6520 6375 7272 656e 7420 6d61 780a  the current max.
-000105d0: 2020 2020 2020 2020 2020 2020 6d61 7854              maxT
-000105e0: 696d 654d 6172 6b73 4c65 6e67 7468 203d  imeMarksLength =
-000105f0: 206c 656e 2874 7562 655b 2274 696d 654d   len(tube["timeM
-00010600: 6172 6b73 225d 290a 2020 2020 746f 7461  arks"]).    tota
-00010610: 6c4d 6172 6b48 6f75 7273 203d 2074 7562  lMarkHours = tub
-00010620: 6573 4d61 7374 6572 5b30 5d5b 226d 6172  esMaster[0]["mar
-00010630: 6b48 6f75 7273 225d 5b3a 6d61 7854 696d  kHours"][:maxTim
-00010640: 654d 6172 6b73 4c65 6e67 7468 5d0a 2020  eMarksLength].  
-00010650: 2020 6966 2065 7870 6572 696d 656e 7454    if experimentT
-00010660: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
-00010670: 4c6f 7744 726f 7064 6f77 6e2e 7661 6c75  LowDropdown.valu
-00010680: 6520 3d3d 2022 2220 616e 6420 6578 7065  e == "" and expe
-00010690: 7269 6d65 6e74 5461 6254 6162 6c65 5061  rimentTabTablePa
-000106a0: 7261 6d73 4872 7348 6967 6844 726f 7064  ramsHrsHighDropd
-000106b0: 6f77 6e2e 7661 6c75 6520 3d3d 2022 223a  own.value == "":
-000106c0: 0a20 2020 2020 2020 2066 6f72 2074 696d  .        for tim
-000106d0: 6520 696e 2074 6f74 616c 4d61 726b 486f  e in totalMarkHo
-000106e0: 7572 733a 0a20 2020 2020 2020 2020 2020  urs:.           
-000106f0: 2065 7870 6572 696d 656e 7454 6162 5461   experimentTabTa
-00010700: 626c 6550 6172 616d 7348 7273 4c6f 7744  bleParamsHrsLowD
-00010710: 726f 7064 6f77 6e2e 6170 7065 6e64 2874  ropdown.append(t
-00010720: 696d 6529 0a20 2020 2020 2020 2020 2020  ime).           
-00010730: 2065 7870 6572 696d 656e 7454 6162 5461   experimentTabTa
-00010740: 626c 6550 6172 616d 7348 7273 4869 6768  bleParamsHrsHigh
-00010750: 4472 6f70 646f 776e 2e61 7070 656e 6428  Dropdown.append(
-00010760: 7469 6d65 290a 2020 2020 2020 2020 6578  time).        ex
-00010770: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
-00010780: 5061 7261 6d73 4872 734c 6f77 4472 6f70  ParamsHrsLowDrop
-00010790: 646f 776e 2e76 616c 7565 203d 2073 7472  down.value = str
-000107a0: 2874 6f74 616c 4d61 726b 486f 7572 735b  (totalMarkHours[
-000107b0: 305d 290a 2020 2020 2020 2020 6578 7065  0]).        expe
-000107c0: 7269 6d65 6e74 5461 6254 6162 6c65 5061  rimentTabTablePa
-000107d0: 7261 6d73 4872 7348 6967 6844 726f 7064  ramsHrsHighDropd
-000107e0: 6f77 6e2e 7661 6c75 6520 3d20 7374 7228  own.value = str(
-000107f0: 746f 7461 6c4d 6172 6b48 6f75 7273 5b2d  totalMarkHours[-
-00010800: 315d 290a 2020 2020 6966 2066 6c6f 6174  1]).    if float
-00010810: 2865 7870 6572 696d 656e 7454 6162 5461  (experimentTabTa
-00010820: 626c 6550 6172 616d 7348 7273 4869 6768  bleParamsHrsHigh
-00010830: 4472 6f70 646f 776e 2e76 616c 7565 2920  Dropdown.value) 
-00010840: 3c3d 2066 6c6f 6174 2865 7870 6572 696d  <= float(experim
-00010850: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
-00010860: 7348 7273 4c6f 7744 726f 7064 6f77 6e2e  sHrsLowDropdown.
-00010870: 7661 6c75 6529 3a0a 2020 2020 2020 2020  value):.        
-00010880: 2020 2020 6578 7065 7269 6d65 6e74 5461      experimentTa
-00010890: 6254 6162 6c65 5061 7261 6d73 4872 7348  bTableParamsHrsH
-000108a0: 6967 6844 726f 7064 6f77 6e2e 7661 6c75  ighDropdown.valu
-000108b0: 6520 3d20 7374 7228 746f 7461 6c4d 6172  e = str(totalMar
-000108c0: 6b48 6f75 7273 5b74 6f74 616c 4d61 726b  kHours[totalMark
-000108d0: 486f 7572 732e 696e 6465 7828 666c 6f61  Hours.index(floa
-000108e0: 7428 6578 7065 7269 6d65 6e74 5461 6254  t(experimentTabT
-000108f0: 6162 6c65 5061 7261 6d73 4872 734c 6f77  ableParamsHrsLow
-00010900: 4472 6f70 646f 776e 2e76 616c 7565 2929  Dropdown.value))
-00010910: 2b31 5d29 0a20 2020 2066 6f72 2074 7562  +1]).    for tub
-00010920: 6520 696e 2074 7562 6573 4d61 7374 6572  e in tubesMaster
-00010930: 3a20 2023 2046 6f72 2065 6163 6820 7475  :  # For each tu
-00010940: 6265 2069 6e20 6d61 7374 6572 2074 7562  be in master tub
-00010950: 6520 6c69 7374 0a20 2020 2020 2020 2074  e list.        t
-00010960: 7562 6550 6572 696f 6473 203d 2063 616c  ubePeriods = cal
-00010970: 6375 6c61 7465 5065 7269 6f64 4461 7461  culatePeriodData
-00010980: 2874 7562 655b 2264 656e 7369 7479 5072  (tube["densityPr
-00010990: 6f66 696c 6522 5d2c 2074 7562 655b 226d  ofile"], tube["m
-000109a0: 6172 6b48 6f75 7273 225d 2c20 7475 6265  arkHours"], tube
-000109b0: 5b22 7469 6d65 4d61 726b 7322 5d2c 2074  ["timeMarks"], t
-000109c0: 7562 655b 2262 616e 644d 6172 6b73 225d  ube["bandMarks"]
-000109d0: 2c20 3134 2c20 3332 2c20 7475 6265 5b22  , 14, 32, tube["
-000109e0: 7475 6265 5261 6e67 6522 5d2c 2066 6c6f  tubeRange"], flo
-000109f0: 6174 2865 7870 6572 696d 656e 7454 6162  at(experimentTab
-00010a00: 5461 626c 6550 6172 616d 7348 7273 4c6f  TableParamsHrsLo
-00010a10: 7744 726f 7064 6f77 6e2e 7661 6c75 6529  wDropdown.value)
-00010a20: 2c20 666c 6f61 7428 6578 7065 7269 6d65  , float(experime
-00010a30: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
-00010a40: 4872 7348 6967 6844 726f 7064 6f77 6e2e  HrsHighDropdown.
-00010a50: 7661 6c75 6529 2920 2023 2043 616c 6375  value))  # Calcu
-00010a60: 6c61 7465 2070 6572 696f 6473 2061 6e64  late periods and
-00010a70: 2070 6572 696f 646f 6772 616d 7320 666f   periodograms fo
-00010a80: 7220 6375 7272 656e 7420 7475 6265 0a20  r current tube. 
-00010a90: 2020 2020 2020 2074 6162 6c65 526f 7773         tableRows
-00010aa0: 2e61 7070 656e 6428 0a20 2020 2020 2020  .append(.       
-00010ab0: 2020 2020 205b 0a20 2020 2020 2020 2020       [.         
-00010ac0: 2020 2020 2020 2022 2020 2220 2b20 7374         "  " + st
-00010ad0: 7228 7475 6265 734d 6173 7465 722e 696e  r(tubesMaster.in
-00010ae0: 6465 7828 7475 6265 2920 2b20 3129 2c0a  dex(tube) + 1),.
-00010af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010b00: 7374 7228 7475 6265 5b22 7365 744e 616d  str(tube["setNam
-00010b10: 6522 5d29 2c0a 2020 2020 2020 2020 2020  e"]),.          
-00010b20: 2020 2020 2020 2220 2022 202b 2073 7472        "  " + str
-00010b30: 2874 7562 655b 2274 7562 654e 756d 6265  (tube["tubeNumbe
-00010b40: 7222 5d20 2b20 3129 2c0a 2020 2020 2020  r"] + 1),.      
-00010b50: 2020 2020 2020 2020 2020 7374 7228 726f            str(ro
-00010b60: 756e 6428 7475 6265 5065 7269 6f64 735b  und(tubePeriods[
-00010b70: 2270 6572 696f 644c 696e 6561 7252 6567  "periodLinearReg
-00010b80: 7265 7373 696f 6e22 5d2c 2033 2929 2c0a  ression"], 3)),.
-00010b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ba0: 7374 7228 726f 756e 6428 7475 6265 5065  str(round(tubePe
-00010bb0: 7269 6f64 735b 2270 6572 696f 6453 6f6b  riods["periodSok
-00010bc0: 6f6c 6f76 6542 7573 6865 6c6c 225d 2c20  oloveBushell"], 
-00010bd0: 3329 292c 0a20 2020 2020 2020 2020 2020  3)),.           
-00010be0: 2020 2020 2073 7472 2872 6f75 6e64 2874       str(round(t
-00010bf0: 7562 6550 6572 696f 6473 5b22 7065 7269  ubePeriods["peri
-00010c00: 6f64 4c6f 6d62 5363 6172 676c 6522 5d2c  odLombScargle"],
-00010c10: 2033 2929 2c0a 2020 2020 2020 2020 2020   3)),.          
-00010c20: 2020 2020 2020 7374 7228 726f 756e 6428        str(round(
-00010c30: 7475 6265 5065 7269 6f64 735b 2270 6572  tubePeriods["per
-00010c40: 696f 6457 6176 656c 6574 225d 2c20 3329  iodWavelet"], 3)
-00010c50: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
-00010c60: 2020 2073 7472 2872 6f75 6e64 2874 7562     str(round(tub
-00010c70: 6550 6572 696f 6473 5b22 736c 6f70 6557  ePeriods["slopeW
-00010c80: 6176 656c 6574 225d 2c20 3329 292c 0a20  avelet"], 3)),. 
-00010c90: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00010ca0: 7472 2874 7562 655b 2267 726f 7774 6852  tr(tube["growthR
-00010cb0: 6174 6522 5d29 0a20 2020 2020 2020 2020  ate"]).         
-00010cc0: 2020 205d 0a20 2020 2020 2020 2029 2020     ].        )  
-00010cd0: 2320 4164 6420 726f 7720 746f 2065 7870  # Add row to exp
-00010ce0: 6572 696d 656e 7420 7461 626c 6520 6f66  eriment table of
-00010cf0: 205b 456e 7472 7920 6e75 6d62 6572 2c20   [Entry number, 
-00010d00: 5365 7420 6e75 6d62 6572 2c20 5475 6265  Set number, Tube
-00010d10: 206e 756d 6265 7220 696e 2073 6574 2c20   number in set, 
-00010d20: 5065 7269 6f64 735d 0a20 2020 2077 6974  Periods].    wit
-00010d30: 6820 6f70 656e 2864 6174 6146 696c 654e  h open(dataFileN
-00010d40: 616d 652c 2027 7727 2c20 6e65 776c 696e  ame, 'w', newlin
-00010d50: 653d 2727 2c20 656e 636f 6469 6e67 3d27  e='', encoding='
-00010d60: 7574 662d 3136 2729 2061 7320 6373 7666  utf-16') as csvf
-00010d70: 696c 653a 2020 2320 4f70 656e 2063 7376  ile:  # Open csv
-00010d80: 2066 696c 650a 2020 2020 2020 2020 726f   file.        ro
-00010d90: 7757 7269 7465 7220 3d20 6373 762e 7772  wWriter = csv.wr
-00010da0: 6974 6572 2863 7376 6669 6c65 2c20 6465  iter(csvfile, de
-00010db0: 6c69 6d69 7465 723d 272c 2729 2020 2320  limiter=',')  # 
-00010dc0: 5772 6974 6520 746f 2066 696c 6520 6465  Write to file de
-00010dd0: 6c69 6d69 7465 6420 6279 2022 2c22 0a20  limited by ",". 
-00010de0: 2020 2020 2020 2066 6f72 2072 6f77 2069         for row i
-00010df0: 6e20 7461 626c 6552 6f77 733a 0a20 2020  n tableRows:.   
-00010e00: 2020 2020 2020 2020 2072 6f77 5772 6974           rowWrit
-00010e10: 6572 2e77 7269 7465 726f 7728 726f 7729  er.writerow(row)
-00010e20: 2020 2320 5772 6974 6520 726f 7720 746f    # Write row to
-00010e30: 2066 696c 650a 0a0a 6465 6620 706f 7075   file...def popu
-00010e40: 6c61 7465 5374 6174 6973 7469 6361 6c41  lateStatisticalA
-00010e50: 6e61 6c79 7369 734c 6973 7473 2829 3a0a  nalysisLists():.
-00010e60: 2020 2020 2222 2250 6f70 756c 6174 6520      """Populate 
-00010e70: 7374 6174 6973 7469 6361 6c20 616e 616c  statistical anal
-00010e80: 7973 6973 206f 7074 696f 6e20 6c69 7374  ysis option list
-00010e90: 732e 2222 220a 2020 2020 0a20 2020 200a  s.""".    .    .
-00010ea0: 2020 2020 676c 6f62 616c 2074 7562 6573      global tubes
-00010eb0: 4d61 7374 6572 0a20 2020 2067 6c6f 6261  Master.    globa
-00010ec0: 6c20 6578 7065 7269 6d65 6e74 5461 6253  l experimentTabS
-00010ed0: 7461 7469 7374 6963 616c 416e 616c 7973  tatisticalAnalys
-00010ee0: 6973 5365 744c 6973 740a 2020 2020 676c  isSetList.    gl
-00010ef0: 6f62 616c 2065 7870 6572 696d 656e 7454  obal experimentT
-00010f00: 6162 5374 6174 6973 7469 6361 6c41 6e61  abStatisticalAna
-00010f10: 6c79 7369 7354 7562 654c 6973 740a 0a0a  lysisTubeList...
-00010f20: 2020 2020 2320 4964 656e 7469 6679 2077      # Identify w
-00010f30: 6869 6368 2069 6e66 6f72 6d61 7469 6f6e  hich information
-00010f40: 2074 6f20 7075 7420 696e 2077 6869 6368   to put in which
-00010f50: 206c 6973 7420 616e 6420 6861 7665 2073   list and have s
-00010f60: 656c 6563 7465 640a 2020 2020 7365 7473  elected.    sets
-00010f70: 546f 4469 7370 6c61 7920 3d20 5b5d 2020  ToDisplay = []  
-00010f80: 2320 426c 616e 6b20 6c69 7374 206f 6620  # Blank list of 
-00010f90: 7475 6265 2073 6574 730a 2020 2020 7475  tube sets.    tu
-00010fa0: 6265 7354 6f44 6973 706c 6179 203d 205b  besToDisplay = [
-00010fb0: 5d20 2023 2042 6c61 6e6b 206c 6973 7420  ]  # Blank list 
-00010fc0: 6f66 2074 7562 6573 2069 6e20 7365 6c65  of tubes in sele
-00010fd0: 6374 6564 2073 6574 730a 2020 2020 7365  cted sets.    se
-00010fe0: 7473 5365 6c65 6374 6564 203d 2065 7870  tsSelected = exp
-00010ff0: 6572 696d 656e 7454 6162 5374 6174 6973  erimentTabStatis
-00011000: 7469 6361 6c41 6e61 6c79 7369 7353 6574  ticalAnalysisSet
-00011010: 4c69 7374 2e76 616c 7565 2020 2320 5365  List.value  # Se
-00011020: 7420 6c69 7374 206f 6620 7365 6c65 6374  t list of select
-00011030: 6564 2073 6574 730a 2020 2020 6966 2073  ed sets.    if s
-00011040: 6574 7353 656c 6563 7465 6420 6973 204e  etsSelected is N
-00011050: 6f6e 653a 2020 2320 4966 206e 6f20 7365  one:  # If no se
-00011060: 7473 2061 7265 2073 656c 6563 7465 640a  ts are selected.
-00011070: 2020 2020 2020 2020 7365 7473 5365 6c65          setsSele
-00011080: 6374 6564 203d 205b 5d20 2023 2053 6574  cted = []  # Set
-00011090: 2073 6574 7353 656c 6563 7465 6420 746f   setsSelected to
-000110a0: 2062 6c61 6e6b 206c 6973 7420 696e 7374   blank list inst
-000110b0: 6561 6420 6f66 204e 6f6e 650a 2020 2020  ead of None.    
-000110c0: 7475 6265 7353 656c 6563 7465 6420 3d20  tubesSelected = 
-000110d0: 6578 7065 7269 6d65 6e74 5461 6253 7461  experimentTabSta
-000110e0: 7469 7374 6963 616c 416e 616c 7973 6973  tisticalAnalysis
-000110f0: 5475 6265 4c69 7374 2e76 616c 7565 2020  TubeList.value  
-00011100: 2320 5365 7420 6c69 7374 206f 6620 7365  # Set list of se
-00011110: 6c65 6374 6564 2074 7562 6573 0a20 2020  lected tubes.   
-00011120: 2069 6620 7475 6265 7353 656c 6563 7465   if tubesSelecte
-00011130: 6420 6973 204e 6f6e 653a 2020 2320 4966  d is None:  # If
-00011140: 206e 6f20 7475 6265 7320 6172 6520 7365   no tubes are se
-00011150: 6c65 6374 6564 0a20 2020 2020 2020 2074  lected.        t
-00011160: 7562 6573 5365 6c65 6374 6564 203d 205b  ubesSelected = [
-00011170: 5d20 2023 2053 6574 2074 7562 6573 5365  ]  # Set tubesSe
-00011180: 6c65 6374 6564 2074 6f20 626c 616e 6b20  lected to blank 
-00011190: 6c69 7374 2069 6e73 7465 6164 206f 6620  list instead of 
-000111a0: 4e6f 6e65 0a20 2020 2066 6f72 2074 7562  None.    for tub
-000111b0: 6520 696e 2074 7562 6573 4d61 7374 6572  e in tubesMaster
-000111c0: 3a20 2023 2046 6f72 2065 6163 6820 7475  :  # For each tu
-000111d0: 6265 2069 6e20 6d61 7374 6572 2074 7562  be in master tub
-000111e0: 6573 206c 6973 740a 2020 2020 2020 2020  es list.        
-000111f0: 6966 2074 7562 655b 2273 6574 4e61 6d65  if tube["setName
-00011200: 225d 206e 6f74 2069 6e20 7365 7473 546f  "] not in setsTo
-00011210: 4469 7370 6c61 793a 2020 2320 4966 2074  Display:  # If t
-00011220: 7562 6520 7365 7420 6e61 6d65 2069 7320  ube set name is 
-00011230: 6e6f 7420 696e 206c 6973 7420 6f66 2073  not in list of s
-00011240: 6574 206f 7074 696f 6e73 0a20 2020 2020  et options.     
-00011250: 2020 2020 2020 2073 6574 7354 6f44 6973         setsToDis
-00011260: 706c 6179 2e61 7070 656e 6428 7475 6265  play.append(tube
-00011270: 5b22 7365 744e 616d 6522 5d29 2020 2320  ["setName"])  # 
-00011280: 4164 6420 7475 6265 2073 6574 206e 616d  Add tube set nam
-00011290: 6520 746f 206c 6973 7420 6f66 2073 6574  e to list of set
-000112a0: 206f 7074 696f 6e73 0a20 2020 2020 2020   options.       
-000112b0: 2069 6620 7475 6265 5b22 7365 744e 616d   if tube["setNam
-000112c0: 6522 5d20 696e 2073 6574 7353 656c 6563  e"] in setsSelec
-000112d0: 7465 643a 2020 2320 4966 2074 7562 6520  ted:  # If tube 
-000112e0: 7365 7420 6e61 6d65 2069 7320 696e 206c  set name is in l
-000112f0: 6973 7420 6f66 2073 656c 6563 7465 6420  ist of selected 
-00011300: 7365 7473 0a20 2020 2020 2020 2020 2020  sets.           
-00011310: 2074 7562 6573 546f 4469 7370 6c61 792e   tubesToDisplay.
-00011320: 6170 7065 6e64 2874 7562 655b 2273 6574  append(tube["set
-00011330: 4e61 6d65 225d 202b 2022 207c 2022 202b  Name"] + " | " +
-00011340: 2073 7472 2874 7562 655b 2274 7562 654e   str(tube["tubeN
-00011350: 756d 6265 7222 5d20 2b20 3129 2920 2023  umber"] + 1))  #
-00011360: 2041 6464 2073 6574 2061 6e64 2074 7562   Add set and tub
-00011370: 6520 746f 206c 6973 7420 6f66 2074 7562  e to list of tub
-00011380: 6520 6f70 7469 6f6e 730a 2020 2020 0a20  e options.    . 
-00011390: 2020 2023 2041 6363 6f75 6e74 2066 6f72     # Account for
-000113a0: 206e 6577 2066 696c 6520 6f70 656e 730a   new file opens.
-000113b0: 2020 2020 6966 2073 6f72 7465 6428 6578      if sorted(ex
-000113c0: 7065 7269 6d65 6e74 5461 6253 7461 7469  perimentTabStati
-000113d0: 7374 6963 616c 416e 616c 7973 6973 5365  sticalAnalysisSe
-000113e0: 744c 6973 742e 6974 656d 7329 2021 3d20  tList.items) != 
-000113f0: 736f 7274 6564 2873 6574 7354 6f44 6973  sorted(setsToDis
-00011400: 706c 6179 293a 2020 2320 4966 2073 6574  play):  # If set
-00011410: 7320 696e 206c 6973 7420 646f 6e27 7420  s in list don't 
-00011420: 6d61 7463 6820 6375 7272 656e 7420 6f70  match current op
-00011430: 656e 2066 696c 650a 2020 2020 2020 2020  en file.        
-00011440: 7768 696c 6520 6c65 6e28 6578 7065 7269  while len(experi
-00011450: 6d65 6e74 5461 6253 7461 7469 7374 6963  mentTabStatistic
-00011460: 616c 416e 616c 7973 6973 5365 744c 6973  alAnalysisSetLis
-00011470: 742e 6974 656d 7329 203e 2030 3a20 2023  t.items) > 0:  #
-00011480: 2055 6e74 696c 2073 6574 206c 6973 7420   Until set list 
-00011490: 6973 2065 6d70 7479 0a20 2020 2020 2020  is empty.       
-000114a0: 2020 2020 2066 6f72 2069 7465 6d20 696e       for item in
-000114b0: 2065 7870 6572 696d 656e 7454 6162 5374   experimentTabSt
-000114c0: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
-000114d0: 7353 6574 4c69 7374 2e69 7465 6d73 3a20  sSetList.items: 
-000114e0: 2023 2046 6f72 2065 6163 6820 6974 656d   # For each item
-000114f0: 2069 6e20 7365 7420 6c69 7374 0a20 2020   in set list.   
-00011500: 2020 2020 2020 2020 2020 2020 2065 7870               exp
-00011510: 6572 696d 656e 7454 6162 5374 6174 6973  erimentTabStatis
-00011520: 7469 6361 6c41 6e61 6c79 7369 7353 6574  ticalAnalysisSet
-00011530: 4c69 7374 2e72 656d 6f76 6528 6974 656d  List.remove(item
-00011540: 2920 2023 2052 656d 6f76 6520 6974 656d  )  # Remove item
-00011550: 2066 726f 6d20 7365 7420 6c69 7374 0a20   from set list. 
-00011560: 2020 2020 2020 2066 6f72 2069 6e64 6578         for index
-00011570: 2c20 7365 744e 616d 6520 696e 2065 6e75  , setName in enu
-00011580: 6d65 7261 7465 2873 6574 7354 6f44 6973  merate(setsToDis
-00011590: 706c 6179 293a 2020 2320 466f 7220 6561  play):  # For ea
-000115a0: 6368 2073 6574 2074 6f20 6469 7370 6c61  ch set to displa
-000115b0: 790a 2020 2020 2020 2020 2020 2020 6578  y.            ex
-000115c0: 7065 7269 6d65 6e74 5461 6253 7461 7469  perimentTabStati
-000115d0: 7374 6963 616c 416e 616c 7973 6973 5365  sticalAnalysisSe
-000115e0: 744c 6973 742e 696e 7365 7274 2869 6e64  tList.insert(ind
-000115f0: 6578 2c20 7365 744e 616d 6529 2020 2320  ex, setName)  # 
-00011600: 4164 6420 7365 7420 6e61 6d65 2074 6f20  Add set name to 
-00011610: 7475 6265 206c 6973 740a 2020 2020 2020  tube list.      
-00011620: 2020 7365 7473 5365 6c65 6374 6564 203d    setsSelected =
-00011630: 205b 5d0a 2020 2020 0a20 2020 2023 4368   [].    .    #Ch
-00011640: 616e 6765 2065 6c65 6d65 6e74 7320 6f66  ange elements of
-00011650: 2073 6574 2061 6e64 2074 7562 6520 6c69   set and tube li
-00011660: 7374 7320 746f 2072 6566 6c65 6374 2075  sts to reflect u
-00011670: 7365 7220 7365 6c65 6374 696f 6e73 0a20  ser selections. 
-00011680: 2020 2069 6620 6c65 6e28 6578 7065 7269     if len(experi
-00011690: 6d65 6e74 5461 6253 7461 7469 7374 6963  mentTabStatistic
-000116a0: 616c 416e 616c 7973 6973 5365 744c 6973  alAnalysisSetLis
-000116b0: 742e 6974 656d 7329 203d 3d20 303a 2020  t.items) == 0:  
-000116c0: 2320 4966 2073 6574 206c 6973 7420 6973  # If set list is
-000116d0: 2065 6d70 7479 0a20 2020 2020 2020 2066   empty.        f
-000116e0: 6f72 2069 6e64 6578 2c20 7365 744e 616d  or index, setNam
-000116f0: 6520 696e 2065 6e75 6d65 7261 7465 2873  e in enumerate(s
-00011700: 6574 7354 6f44 6973 706c 6179 293a 2020  etsToDisplay):  
-00011710: 2320 466f 7220 6561 6368 2073 6574 2074  # For each set t
-00011720: 6f20 6469 7370 6c61 790a 2020 2020 2020  o display.      
-00011730: 2020 2020 2020 6578 7065 7269 6d65 6e74        experiment
-00011740: 5461 6253 7461 7469 7374 6963 616c 416e  TabStatisticalAn
-00011750: 616c 7973 6973 5365 744c 6973 742e 696e  alysisSetList.in
-00011760: 7365 7274 2869 6e64 6578 2c20 7365 744e  sert(index, setN
-00011770: 616d 6529 2020 2320 4164 6420 7365 7420  ame)  # Add set 
-00011780: 6e61 6d65 2074 6f20 7365 7420 6c69 7374  name to set list
-00011790: 0a20 2020 2077 6869 6c65 206c 656e 2865  .    while len(e
-000117a0: 7870 6572 696d 656e 7454 6162 5374 6174  xperimentTabStat
-000117b0: 6973 7469 6361 6c41 6e61 6c79 7369 7354  isticalAnalysisT
-000117c0: 7562 654c 6973 742e 6974 656d 7329 203e  ubeList.items) >
-000117d0: 2030 3a20 2023 2055 6e74 696c 2074 7562   0:  # Until tub
-000117e0: 6520 6c69 7374 2069 7320 656d 7074 790a  e list is empty.
-000117f0: 2020 2020 2020 2020 666f 7220 6974 656d          for item
-00011800: 2069 6e20 6578 7065 7269 6d65 6e74 5461   in experimentTa
-00011810: 6253 7461 7469 7374 6963 616c 416e 616c  bStatisticalAnal
-00011820: 7973 6973 5475 6265 4c69 7374 2e69 7465  ysisTubeList.ite
-00011830: 6d73 3a20 2023 2046 6f72 2065 6163 6820  ms:  # For each 
-00011840: 6974 656d 2069 6e20 7475 6265 206c 6973  item in tube lis
-00011850: 740a 2020 2020 2020 2020 2020 2020 6578  t.            ex
-00011860: 7065 7269 6d65 6e74 5461 6253 7461 7469  perimentTabStati
-00011870: 7374 6963 616c 416e 616c 7973 6973 5475  sticalAnalysisTu
-00011880: 6265 4c69 7374 2e72 656d 6f76 6528 6974  beList.remove(it
-00011890: 656d 2920 2023 2052 656d 6f76 6520 6974  em)  # Remove it
-000118a0: 656d 2066 726f 6d20 7475 6265 206c 6973  em from tube lis
-000118b0: 740a 2020 2020 666f 7220 696e 6465 782c  t.    for index,
-000118c0: 2074 7562 654e 616d 6520 696e 2065 6e75   tubeName in enu
-000118d0: 6d65 7261 7465 2874 7562 6573 546f 4469  merate(tubesToDi
-000118e0: 7370 6c61 7929 3a20 2023 2046 6f72 2065  splay):  # For e
-000118f0: 6163 6820 7475 6265 2074 6f20 6469 7370  ach tube to disp
-00011900: 6c61 790a 2020 2020 2020 2020 6578 7065  lay.        expe
-00011910: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
-00011920: 6963 616c 416e 616c 7973 6973 5475 6265  icalAnalysisTube
-00011930: 4c69 7374 2e69 6e73 6572 7428 696e 6465  List.insert(inde
-00011940: 782c 2074 7562 654e 616d 6529 2020 2320  x, tubeName)  # 
-00011950: 4164 6420 7475 6265 206e 616d 6520 746f  Add tube name to
-00011960: 2074 7562 6520 6c69 7374 0a20 2020 2065   tube list.    e
-00011970: 7870 6572 696d 656e 7454 6162 5374 6174  xperimentTabStat
-00011980: 6973 7469 6361 6c41 6e61 6c79 7369 7354  isticalAnalysisT
-00011990: 7562 654c 6973 742e 7661 6c75 6520 3d20  ubeList.value = 
-000119a0: 7475 6265 7353 656c 6563 7465 6420 2023  tubesSelected  #
-000119b0: 2050 7265 7365 6c65 6374 2075 7365 722d   Preselect user-
-000119c0: 7370 6563 6966 6965 6420 7475 6265 730a  specified tubes.
-000119d0: 0a0a 6465 6620 7065 7266 6f72 6d53 7461  ..def performSta
-000119e0: 7469 7374 6963 616c 416e 616c 7973 6973  tisticalAnalysis
-000119f0: 2829 3a0a 2020 2020 2222 2250 6572 666f  ():.    """Perfo
-00011a00: 726d 2073 7461 7469 7374 6963 616c 2061  rm statistical a
-00011a10: 6e61 6c61 7973 6973 206f 6620 7065 7269  nalaysis of peri
-00011a20: 6f64 7320 6f66 2073 656c 6563 7465 6420  ods of selected 
-00011a30: 7475 6265 7320 616e 6420 6469 7370 6c61  tubes and displa
-00011a40: 7920 7265 7375 6c74 732e 2222 220a 0a0a  y results."""...
-00011a50: 2020 2020 676c 6f62 616c 2074 7562 6573      global tubes
-00011a60: 4d61 7374 6572 0a20 2020 2067 6c6f 6261  Master.    globa
-00011a70: 6c20 6578 7065 7269 6d65 6e74 5461 6253  l experimentTabS
-00011a80: 7461 7469 7374 6963 616c 416e 616c 7973  tatisticalAnalys
-00011a90: 6973 5475 6265 4c69 7374 0a20 2020 2067  isTubeList.    g
-00011aa0: 6c6f 6261 6c20 6578 7065 7269 6d65 6e74  lobal experiment
-00011ab0: 5461 6253 7461 7469 7374 6963 616c 416e  TabStatisticalAn
-00011ac0: 616c 7973 6973 4d65 7468 6f64 4c69 7374  alysisMethodList
-00011ad0: 0a20 2020 2067 6c6f 6261 6c20 6578 7065  .    global expe
-00011ae0: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
-00011af0: 6963 616c 416e 616c 7973 6973 4f75 7470  icalAnalysisOutp
-00011b00: 7574 5465 7874 426f 780a 2020 2020 676c  utTextBox.    gl
-00011b10: 6f62 616c 2065 7870 6572 696d 656e 7454  obal experimentT
-00011b20: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
-00011b30: 4c6f 7744 726f 7064 6f77 6e0a 2020 2020  LowDropdown.    
-00011b40: 676c 6f62 616c 2065 7870 6572 696d 656e  global experimen
-00011b50: 7454 6162 5461 626c 6550 6172 616d 7348  tTabTableParamsH
-00011b60: 7273 4869 6768 4472 6f70 646f 776e 0a0a  rsHighDropdown..
-00011b70: 0a20 2020 2023 2047 6574 2073 656c 6563  .    # Get selec
-00011b80: 7465 6420 7475 6265 7320 616e 6420 6d65  ted tubes and me
-00011b90: 7468 6f64 2066 726f 6d20 6c69 7374 2062  thod from list b
-00011ba0: 6f78 6573 0a20 2020 2074 7562 6573 5365  oxes.    tubesSe
-00011bb0: 6c65 6374 6564 203d 2065 7870 6572 696d  lected = experim
-00011bc0: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
-00011bd0: 6c41 6e61 6c79 7369 7354 7562 654c 6973  lAnalysisTubeLis
-00011be0: 742e 7661 6c75 6520 2023 2053 6574 206c  t.value  # Set l
-00011bf0: 6973 7420 6f66 2073 656c 6563 7465 6420  ist of selected 
-00011c00: 7475 6265 7320 6672 6f6d 206f 7074 696f  tubes from optio
-00011c10: 6e73 206c 6973 740a 2020 2020 6d65 7468  ns list.    meth
-00011c20: 6f64 203d 2022 7065 7269 6f64 2220 2b20  od = "period" + 
-00011c30: 6578 7065 7269 6d65 6e74 5461 6253 7461  experimentTabSta
-00011c40: 7469 7374 6963 616c 416e 616c 7973 6973  tisticalAnalysis
-00011c50: 4d65 7468 6f64 4c69 7374 2e76 616c 7565  MethodList.value
-00011c60: 2e72 6570 6c61 6365 2822 2d22 2c20 2222  .replace("-", ""
-00011c70: 292e 7265 706c 6163 6528 2220 2843 5754  ).replace(" (CWT
-00011c80: 2922 2c20 2222 292e 7265 706c 6163 6528  )", "").replace(
-00011c90: 2220 222c 2022 2229 0a20 2020 2069 7357  " ", "").    isW
-00011ca0: 6176 656c 6574 203d 2046 616c 7365 0a20  avelet = False. 
-00011cb0: 2020 2069 6620 6578 7065 7269 6d65 6e74     if experiment
-00011cc0: 5461 6253 7461 7469 7374 6963 616c 416e  TabStatisticalAn
-00011cd0: 616c 7973 6973 4d65 7468 6f64 4c69 7374  alysisMethodList
-00011ce0: 2e76 616c 7565 203d 3d20 2257 6176 656c  .value == "Wavel
-00011cf0: 6574 2028 4357 5429 223a 0a20 2020 2020  et (CWT)":.     
-00011d00: 2020 2069 7357 6176 656c 6574 203d 2054     isWavelet = T
-00011d10: 7275 650a 2020 2020 6d61 7854 696d 654d  rue.    maxTimeM
-00011d20: 6172 6b73 4c65 6e67 7468 203d 2030 0a20  arksLength = 0. 
-00011d30: 2020 2066 6f72 2074 7562 6520 696e 2074     for tube in t
-00011d40: 7562 6573 4d61 7374 6572 3a0a 2020 2020  ubesMaster:.    
-00011d50: 2020 2020 6966 206c 656e 2874 7562 655b      if len(tube[
-00011d60: 2274 696d 654d 6172 6b73 225d 2920 3e20  "timeMarks"]) > 
-00011d70: 6d61 7854 696d 654d 6172 6b73 4c65 6e67  maxTimeMarksLeng
-00011d80: 7468 3a0a 2020 2020 2020 2020 2020 2020  th:.            
-00011d90: 6d61 7854 696d 654d 6172 6b73 4c65 6e67  maxTimeMarksLeng
-00011da0: 7468 203d 206c 656e 2874 7562 655b 2274  th = len(tube["t
-00011db0: 696d 654d 6172 6b73 225d 290a 2020 2020  imeMarks"]).    
-00011dc0: 746f 7461 6c4d 6172 6b48 6f75 7273 203d  totalMarkHours =
-00011dd0: 2074 7562 6573 4d61 7374 6572 5b30 5d5b   tubesMaster[0][
-00011de0: 226d 6172 6b48 6f75 7273 225d 5b3a 6d61  "markHours"][:ma
-00011df0: 7854 696d 654d 6172 6b73 4c65 6e67 7468  xTimeMarksLength
-00011e00: 5d0a 2020 2020 6966 2065 7870 6572 696d  ].    if experim
-00011e10: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
-00011e20: 7348 7273 4c6f 7744 726f 7064 6f77 6e2e  sHrsLowDropdown.
-00011e30: 7661 6c75 6520 3d3d 2022 2220 616e 6420  value == "" and 
-00011e40: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
-00011e50: 6c65 5061 7261 6d73 4872 7348 6967 6844  leParamsHrsHighD
-00011e60: 726f 7064 6f77 6e2e 7661 6c75 6520 3d3d  ropdown.value ==
-00011e70: 2022 223a 0a20 2020 2020 2020 2066 6f72   "":.        for
-00011e80: 2074 696d 6520 696e 2074 6f74 616c 4d61   time in totalMa
-00011e90: 726b 486f 7572 733a 0a20 2020 2020 2020  rkHours:.       
-00011ea0: 2020 2020 2065 7870 6572 696d 656e 7454       experimentT
-00011eb0: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
-00011ec0: 4c6f 7744 726f 7064 6f77 6e2e 6170 7065  LowDropdown.appe
-00011ed0: 6e64 2874 696d 6529 0a20 2020 2020 2020  nd(time).       
-00011ee0: 2020 2020 2065 7870 6572 696d 656e 7454       experimentT
-00011ef0: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
-00011f00: 4869 6768 4472 6f70 646f 776e 2e61 7070  HighDropdown.app
-00011f10: 656e 6428 7469 6d65 290a 2020 2020 2020  end(time).      
-00011f20: 2020 6578 7065 7269 6d65 6e74 5461 6254    experimentTabT
-00011f30: 6162 6c65 5061 7261 6d73 4872 734c 6f77  ableParamsHrsLow
-00011f40: 4472 6f70 646f 776e 2e76 616c 7565 203d  Dropdown.value =
-00011f50: 2074 6f74 616c 4d61 726b 486f 7572 735b   totalMarkHours[
-00011f60: 305d 0a20 2020 2020 2020 2065 7870 6572  0].        exper
-00011f70: 696d 656e 7454 6162 5461 626c 6550 6172  imentTabTablePar
-00011f80: 616d 7348 7273 4869 6768 4472 6f70 646f  amsHrsHighDropdo
-00011f90: 776e 2e76 616c 7565 203d 2073 7472 2874  wn.value = str(t
-00011fa0: 6f74 616c 4d61 726b 486f 7572 735b 2d31  otalMarkHours[-1
-00011fb0: 5d29 0a20 2020 2069 6620 666c 6f61 7428  ]).    if float(
-00011fc0: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
-00011fd0: 6c65 5061 7261 6d73 4872 7348 6967 6844  leParamsHrsHighD
-00011fe0: 726f 7064 6f77 6e2e 7661 6c75 6529 203c  ropdown.value) <
-00011ff0: 3d20 666c 6f61 7428 6578 7065 7269 6d65  = float(experime
-00012000: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
-00012010: 4872 734c 6f77 4472 6f70 646f 776e 2e76  HrsLowDropdown.v
-00012020: 616c 7565 293a 0a20 2020 2020 2020 2020  alue):.         
-00012030: 2020 2065 7870 6572 696d 656e 7454 6162     experimentTab
-00012040: 5461 626c 6550 6172 616d 7348 7273 4869  TableParamsHrsHi
-00012050: 6768 4472 6f70 646f 776e 2e76 616c 7565  ghDropdown.value
-00012060: 203d 2073 7472 2874 6f74 616c 4d61 726b   = str(totalMark
-00012070: 486f 7572 735b 746f 7461 6c4d 6172 6b48  Hours[totalMarkH
-00012080: 6f75 7273 2e69 6e64 6578 2866 6c6f 6174  ours.index(float
-00012090: 2865 7870 6572 696d 656e 7454 6162 5461  (experimentTabTa
-000120a0: 626c 6550 6172 616d 7348 7273 4c6f 7744  bleParamsHrsLowD
-000120b0: 726f 7064 6f77 6e2e 7661 6c75 6529 292b  ropdown.value))+
-000120c0: 315d 290a 0a20 2020 2023 4361 6c63 756c  1])..    #Calcul
-000120d0: 6174 6520 7065 7269 6f64 7320 6f66 2073  ate periods of s
-000120e0: 656c 6563 7465 6420 7475 6265 730a 2020  elected tubes.  
-000120f0: 2020 7365 6c65 6374 6564 5065 7269 6f64    selectedPeriod
-00012100: 7320 3d20 5b5d 2020 2320 426c 616e 6b20  s = []  # Blank 
-00012110: 6c69 7374 206f 6620 7065 7269 6f64 7320  list of periods 
-00012120: 666f 7220 616e 616c 7973 6973 0a20 2020  for analysis.   
-00012130: 2073 656c 6563 7465 6453 6c6f 7065 7320   selectedSlopes 
-00012140: 3d20 5b5d 0a20 2020 2066 6f72 2074 7562  = [].    for tub
-00012150: 6520 696e 2074 7562 6573 4d61 7374 6572  e in tubesMaster
-00012160: 3a20 2023 2046 6f72 2065 6163 6820 7475  :  # For each tu
-00012170: 6265 2069 6e20 6d61 7374 6572 2074 7562  be in master tub
-00012180: 6573 206c 6973 740a 2020 2020 2020 2020  es list.        
-00012190: 6966 2028 7475 6265 5b22 7365 744e 616d  if (tube["setNam
-000121a0: 6522 5d20 2b20 2220 7c20 2220 2b20 7374  e"] + " | " + st
-000121b0: 7228 7475 6265 5b22 7475 6265 4e75 6d62  r(tube["tubeNumb
-000121c0: 6572 225d 202b 2031 2929 2069 6e20 7475  er"] + 1)) in tu
-000121d0: 6265 7353 656c 6563 7465 643a 2020 2320  besSelected:  # 
-000121e0: 4966 2074 7562 6520 616e 6420 7365 7420  If tube and set 
-000121f0: 6e61 6d65 206d 6174 6368 2061 2073 656c  name match a sel
-00012200: 6563 7465 6420 7475 6265 206f 7074 696f  ected tube optio
-00012210: 6e0a 2020 2020 2020 2020 2020 2020 7065  n.            pe
-00012220: 7269 6f64 4461 7461 203d 2063 616c 6375  riodData = calcu
-00012230: 6c61 7465 5065 7269 6f64 4461 7461 2874  latePeriodData(t
-00012240: 7562 655b 2264 656e 7369 7479 5072 6f66  ube["densityProf
-00012250: 696c 6522 5d2c 2074 7562 655b 226d 6172  ile"], tube["mar
-00012260: 6b48 6f75 7273 225d 2c20 7475 6265 5b22  kHours"], tube["
-00012270: 7469 6d65 4d61 726b 7322 5d2c 2074 7562  timeMarks"], tub
-00012280: 655b 2262 616e 644d 6172 6b73 225d 2c20  e["bandMarks"], 
-00012290: 3134 2c20 3332 2c20 7475 6265 5b22 7475  14, 32, tube["tu
-000122a0: 6265 5261 6e67 6522 5d2c 2066 6c6f 6174  beRange"], float
-000122b0: 2865 7870 6572 696d 656e 7454 6162 5461  (experimentTabTa
-000122c0: 626c 6550 6172 616d 7348 7273 4c6f 7744  bleParamsHrsLowD
-000122d0: 726f 7064 6f77 6e2e 7661 6c75 6529 2c20  ropdown.value), 
-000122e0: 666c 6f61 7428 6578 7065 7269 6d65 6e74  float(experiment
-000122f0: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
-00012300: 7348 6967 6844 726f 7064 6f77 6e2e 7661  sHighDropdown.va
-00012310: 6c75 6529 290a 2020 2020 2020 2020 2020  lue)).          
-00012320: 2020 7365 6c65 6374 6564 5065 7269 6f64    selectedPeriod
-00012330: 732e 6170 7065 6e64 2870 6572 696f 6444  s.append(periodD
-00012340: 6174 615b 6d65 7468 6f64 5d29 2020 2320  ata[method])  # 
-00012350: 4164 6420 7365 6c65 6374 6564 2070 6572  Add selected per
-00012360: 696f 6420 746f 206c 6973 7420 6f66 2070  iod to list of p
-00012370: 6572 696f 6473 2066 6f72 2061 6e61 6c79  eriods for analy
-00012380: 7369 730a 2020 2020 2020 2020 2020 2020  sis.            
-00012390: 6966 2069 7357 6176 656c 6574 3a0a 2020  if isWavelet:.  
-000123a0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000123b0: 6c65 6374 6564 536c 6f70 6573 2e61 7070  lectedSlopes.app
-000123c0: 656e 6428 7065 7269 6f64 4461 7461 5b22  end(periodData["
-000123d0: 736c 6f70 6557 6176 656c 6574 225d 290a  slopeWavelet"]).
-000123e0: 2020 2020 0a20 2020 2023 2043 616c 6375      .    # Calcu
-000123f0: 6c61 7465 206d 6561 6e2c 2073 7461 6e64  late mean, stand
-00012400: 6172 6420 6465 7669 6174 696f 6e2c 2061  ard deviation, a
-00012410: 6e64 2073 7461 6e64 6172 6420 6572 726f  nd standard erro
-00012420: 7220 6f66 206d 6561 6e73 2061 6e64 2064  r of means and d
-00012430: 6973 706c 6179 2074 6865 6d0a 2020 2020  isplay them.    
-00012440: 6d65 616e 5065 7269 6f64 203d 206e 756d  meanPeriod = num
-00012450: 7079 2e6d 6561 6e28 7365 6c65 6374 6564  py.mean(selected
-00012460: 5065 7269 6f64 7329 2020 2320 4361 6c63  Periods)  # Calc
-00012470: 756c 6174 6520 6d65 616e 206f 6620 7365  ulate mean of se
-00012480: 6c65 6374 6564 2070 6572 696f 6473 0a20  lected periods. 
-00012490: 2020 206d 6561 6e53 6c6f 7065 203d 2022     meanSlope = "
-000124a0: 220a 2020 2020 6966 2069 7357 6176 656c  ".    if isWavel
-000124b0: 6574 3a0a 2020 2020 2020 2020 6d65 616e  et:.        mean
-000124c0: 536c 6f70 6520 3d20 2253 6c6f 7065 3a5c  Slope = "Slope:\
-000124d0: 6e22 202b 2073 7472 2872 6f75 6e64 286e  n" + str(round(n
-000124e0: 756d 7079 2e6d 6561 6e28 7365 6c65 6374  umpy.mean(select
-000124f0: 6564 536c 6f70 6573 292c 2033 2929 202b  edSlopes), 3)) +
-00012500: 2022 2068 7273 2f68 725c 6e5c 6e22 0a20   " hrs/hr\n\n". 
-00012510: 2020 2073 7461 6e64 6172 6444 6576 6961     standardDevia
-00012520: 7469 6f6e 203d 206e 756d 7079 2e73 7464  tion = numpy.std
-00012530: 2873 656c 6563 7465 6450 6572 696f 6473  (selectedPeriods
-00012540: 2920 2023 2043 616c 6375 6c61 7465 2073  )  # Calculate s
-00012550: 7461 6e64 6172 6420 6465 7669 6174 696f  tandard deviatio
-00012560: 6e20 6f66 2073 656c 6563 7465 6420 7065  n of selected pe
-00012570: 7269 6f64 730a 2020 2020 7374 616e 6461  riods.    standa
-00012580: 7264 4572 726f 724f 664d 6561 6e73 203d  rdErrorOfMeans =
-00012590: 2073 7461 6e64 6172 6444 6576 6961 7469   standardDeviati
-000125a0: 6f6e 202f 206e 756d 7079 2e73 7172 7428  on / numpy.sqrt(
-000125b0: 6c65 6e28 7365 6c65 6374 6564 5065 7269  len(selectedPeri
-000125c0: 6f64 7329 2920 2023 2043 616c 6375 6c61  ods))  # Calcula
-000125d0: 7465 2073 7461 6e64 6172 6420 6572 726f  te standard erro
-000125e0: 7220 6f66 2073 656c 6563 7465 6420 7065  r of selected pe
-000125f0: 7269 6f64 730a 2020 2020 6578 7065 7269  riods.    experi
-00012600: 6d65 6e74 5461 6253 7461 7469 7374 6963  mentTabStatistic
-00012610: 616c 416e 616c 7973 6973 4f75 7470 7574  alAnalysisOutput
-00012620: 5465 7874 426f 782e 7661 6c75 6520 3d20  TextBox.value = 
-00012630: 280a 2020 2020 2020 2020 226e 2028 2320  (.        "n (# 
-00012640: 7475 6265 7329 203d 2022 0a20 2020 2020  tubes) = ".     
-00012650: 2020 202b 2073 7472 286c 656e 2873 656c     + str(len(sel
-00012660: 6563 7465 6450 6572 696f 6473 2929 0a20  ectedPeriods)). 
-00012670: 2020 2020 2020 202b 2022 5c6e 5c6e 220a         + "\n\n".
-00012680: 2020 2020 2020 2020 2b20 224d 6561 6e20          + "Mean 
-00012690: 5065 7269 6f64 5c6e 2822 0a20 2020 2020  Period\n(".     
-000126a0: 2020 202b 2065 7870 6572 696d 656e 7454     + experimentT
-000126b0: 6162 5374 6174 6973 7469 6361 6c41 6e61  abStatisticalAna
-000126c0: 6c79 7369 734d 6574 686f 644c 6973 742e  lysisMethodList.
-000126d0: 7661 6c75 650a 2020 2020 2020 2020 2b20  value.        + 
-000126e0: 2229 3a5c 6e22 0a20 2020 2020 2020 202b  "):\n".        +
-000126f0: 2073 7472 2872 6f75 6e64 286d 6561 6e50   str(round(meanP
-00012700: 6572 696f 642c 2033 2929 0a20 2020 2020  eriod, 3)).     
-00012710: 2020 202b 2022 2068 7273 5c6e 5c6e 220a     + " hrs\n\n".
-00012720: 2020 2020 2020 2020 2b20 7374 7228 6d65          + str(me
-00012730: 616e 536c 6f70 6529 0a20 2020 2020 2020  anSlope).       
-00012740: 202b 2022 5374 616e 6461 7264 5c6e 4465   + "Standard\nDe
-00012750: 7669 6174 696f 6e3a 5c6e 220a 2020 2020  viation:\n".    
-00012760: 2020 2020 2b20 7374 7228 726f 756e 6428      + str(round(
-00012770: 7374 616e 6461 7264 4465 7669 6174 696f  standardDeviatio
-00012780: 6e2c 2033 2929 0a20 2020 2020 2020 202b  n, 3)).        +
-00012790: 2022 5c6e 5c6e 5374 616e 6461 7264 2045   "\n\nStandard E
-000127a0: 7272 6f72 5c6e 6f66 204d 6561 6e73 3a5c  rror\nof Means:\
-000127b0: 6e22 0a20 2020 2020 2020 202b 2073 7472  n".        + str
-000127c0: 2872 6f75 6e64 2873 7461 6e64 6172 6445  (round(standardE
-000127d0: 7272 6f72 4f66 4d65 616e 732c 2033 2929  rrorOfMeans, 3))
-000127e0: 0a20 2020 2029 2020 2320 506f 7075 6c61  .    )  # Popula
-000127f0: 7465 206f 7574 7075 7420 626f 7820 7769  te output box wi
-00012800: 7468 2061 6e61 6c79 7369 7320 7265 7375  th analysis resu
-00012810: 6c74 730a 0a0a 6465 6620 706f 7075 6c61  lts...def popula
-00012820: 7465 506c 6f74 7328 293a 0a20 2020 2022  tePlots():.    "
-00012830: 2222 506f 7075 6c61 7465 2064 656e 7369  ""Populate densi
-00012840: 746f 6d65 7472 7920 616e 6420 7065 7269  tometry and peri
-00012850: 6f64 6f67 7261 6d20 706c 6f74 7320 6261  odogram plots ba
-00012860: 7365 6420 6f6e 2073 656c 6563 7465 6420  sed on selected 
-00012870: 7475 6265 2e22 2222 0a0a 0a20 2020 2067  tube."""...    g
-00012880: 6c6f 6261 6c20 7475 6265 734d 6173 7465  lobal tubesMaste
-00012890: 720a 2020 2020 676c 6f62 616c 2065 7870  r.    global exp
-000128a0: 6572 696d 656e 7454 6162 506c 6f74 4672  erimentTabPlotFr
-000128b0: 616d 650a 2020 2020 676c 6f62 616c 2065  ame.    global e
-000128c0: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
-000128d0: 4361 6e76 6173 0a20 2020 2067 6c6f 6261  Canvas.    globa
-000128e0: 6c20 6578 7065 7269 6d65 6e74 5461 6250  l experimentTabP
-000128f0: 6c6f 7454 7562 6553 656c 6563 7469 6f6e  lotTubeSelection
-00012900: 5365 744c 6973 740a 2020 2020 676c 6f62  SetList.    glob
-00012910: 616c 2065 7870 6572 696d 656e 7454 6162  al experimentTab
-00012920: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
-00012930: 6e54 7562 654c 6973 740a 2020 2020 676c  nTubeList.    gl
-00012940: 6f62 616c 2065 7870 6572 696d 656e 7454  obal experimentT
-00012950: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
-00012960: 696f 6e4d 6574 686f 644c 6973 740a 2020  ionMethodList.  
-00012970: 2020 676c 6f62 616c 2065 7870 6572 696d    global experim
-00012980: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
-00012990: 7348 7273 4c6f 7744 726f 7064 6f77 6e0a  sHrsLowDropdown.
-000129a0: 2020 2020 676c 6f62 616c 2065 7870 6572      global exper
-000129b0: 696d 656e 7454 6162 5461 626c 6550 6172  imentTabTablePar
-000129c0: 616d 7348 7273 4869 6768 4472 6f70 646f  amsHrsHighDropdo
-000129d0: 776e 0a20 2020 2067 6c6f 6261 6c20 6361  wn.    global ca
-000129e0: 6e76 6173 0a20 2020 2067 6c6f 6261 6c20  nvas.    global 
-000129f0: 706c 6f74 496d 6167 6541 7272 6179 0a20  plotImageArray. 
-00012a00: 2020 2067 6c6f 6261 6c20 6170 7050 6172     global appPar
-00012a10: 616d 6574 6572 730a 0a20 2020 2023 2047  ameters..    # G
-00012a20: 6574 2073 656c 6563 7465 6420 7475 6265  et selected tube
-00012a30: 2061 6e64 206d 6574 686f 6420 696e 666f   and method info
-00012a40: 726d 6174 696f 6e0a 2020 2020 6d61 7854  rmation.    maxT
-00012a50: 696d 654d 6172 6b73 4c65 6e67 7468 203d  imeMarksLength =
-00012a60: 2030 0a20 2020 2066 6f72 2074 7562 6520   0.    for tube 
-00012a70: 696e 2074 7562 6573 4d61 7374 6572 3a0a  in tubesMaster:.
-00012a80: 2020 2020 2020 2020 6966 206c 656e 2874          if len(t
-00012a90: 7562 655b 2274 696d 654d 6172 6b73 225d  ube["timeMarks"]
-00012aa0: 2920 3e20 6d61 7854 696d 654d 6172 6b73  ) > maxTimeMarks
-00012ab0: 4c65 6e67 7468 3a0a 2020 2020 2020 2020  Length:.        
-00012ac0: 2020 2020 6d61 7854 696d 654d 6172 6b73      maxTimeMarks
-00012ad0: 4c65 6e67 7468 203d 206c 656e 2874 7562  Length = len(tub
-00012ae0: 655b 2274 696d 654d 6172 6b73 225d 290a  e["timeMarks"]).
-00012af0: 2020 2020 746f 7461 6c4d 6172 6b48 6f75      totalMarkHou
-00012b00: 7273 203d 2074 7562 6573 4d61 7374 6572  rs = tubesMaster
-00012b10: 5b30 5d5b 226d 6172 6b48 6f75 7273 225d  [0]["markHours"]
-00012b20: 5b3a 6d61 7854 696d 654d 6172 6b73 4c65  [:maxTimeMarksLe
-00012b30: 6e67 7468 5d0a 2020 2020 6966 2065 7870  ngth].    if exp
-00012b40: 6572 696d 656e 7454 6162 5461 626c 6550  erimentTabTableP
-00012b50: 6172 616d 7348 7273 4c6f 7744 726f 7064  aramsHrsLowDropd
-00012b60: 6f77 6e2e 7661 6c75 6520 3d3d 2022 2220  own.value == "" 
-00012b70: 616e 6420 6578 7065 7269 6d65 6e74 5461  and experimentTa
-00012b80: 6254 6162 6c65 5061 7261 6d73 4872 7348  bTableParamsHrsH
-00012b90: 6967 6844 726f 7064 6f77 6e2e 7661 6c75  ighDropdown.valu
-00012ba0: 6520 3d3d 2022 223a 0a20 2020 2020 2020  e == "":.       
-00012bb0: 2066 6f72 2074 696d 6520 696e 2074 6f74   for time in tot
-00012bc0: 616c 4d61 726b 486f 7572 733a 0a20 2020  alMarkHours:.   
-00012bd0: 2020 2020 2020 2020 2065 7870 6572 696d           experim
-00012be0: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
-00012bf0: 7348 7273 4c6f 7744 726f 7064 6f77 6e2e  sHrsLowDropdown.
-00012c00: 6170 7065 6e64 2874 696d 6529 0a20 2020  append(time).   
-00012c10: 2020 2020 2020 2020 2065 7870 6572 696d           experim
-00012c20: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
-00012c30: 7348 7273 4869 6768 4472 6f70 646f 776e  sHrsHighDropdown
-00012c40: 2e61 7070 656e 6428 7469 6d65 290a 2020  .append(time).  
-00012c50: 2020 2020 2020 6578 7065 7269 6d65 6e74        experiment
-00012c60: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
-00012c70: 734c 6f77 4472 6f70 646f 776e 2e76 616c  sLowDropdown.val
-00012c80: 7565 203d 2074 6f74 616c 4d61 726b 486f  ue = totalMarkHo
-00012c90: 7572 735b 305d 0a20 2020 2020 2020 2065  urs[0].        e
-00012ca0: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
-00012cb0: 6550 6172 616d 7348 7273 4869 6768 4472  eParamsHrsHighDr
-00012cc0: 6f70 646f 776e 2e76 616c 7565 203d 2073  opdown.value = s
-00012cd0: 7472 2874 6f74 616c 4d61 726b 486f 7572  tr(totalMarkHour
-00012ce0: 735b 2d31 5d29 0a20 2020 2069 6620 666c  s[-1]).    if fl
-00012cf0: 6f61 7428 6578 7065 7269 6d65 6e74 5461  oat(experimentTa
-00012d00: 6254 6162 6c65 5061 7261 6d73 4872 7348  bTableParamsHrsH
-00012d10: 6967 6844 726f 7064 6f77 6e2e 7661 6c75  ighDropdown.valu
-00012d20: 6529 203c 3d20 666c 6f61 7428 6578 7065  e) <= float(expe
-00012d30: 7269 6d65 6e74 5461 6254 6162 6c65 5061  rimentTabTablePa
-00012d40: 7261 6d73 4872 734c 6f77 4472 6f70 646f  ramsHrsLowDropdo
-00012d50: 776e 2e76 616c 7565 293a 0a20 2020 2020  wn.value):.     
-00012d60: 2020 2020 2020 2065 7870 6572 696d 656e         experimen
-00012d70: 7454 6162 5461 626c 6550 6172 616d 7348  tTabTableParamsH
-00012d80: 7273 4869 6768 4472 6f70 646f 776e 2e76  rsHighDropdown.v
-00012d90: 616c 7565 203d 2073 7472 2874 6f74 616c  alue = str(total
-00012da0: 4d61 726b 486f 7572 735b 746f 7461 6c4d  MarkHours[totalM
-00012db0: 6172 6b48 6f75 7273 2e69 6e64 6578 2866  arkHours.index(f
-00012dc0: 6c6f 6174 2865 7870 6572 696d 656e 7454  loat(experimentT
-00012dd0: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
-00012de0: 4c6f 7744 726f 7064 6f77 6e2e 7661 6c75  LowDropdown.valu
-00012df0: 6529 292b 315d 290a 2020 2020 0a20 2020  e))+1]).    .   
-00012e00: 206d 6574 686f 6420 3d20 4e6f 6e65 2020   method = None  
-00012e10: 2320 496e 6974 6961 6c69 7a65 206d 6574  # Initialize met
-00012e20: 686f 6420 7661 7269 6162 6c65 0a20 2020  hod variable.   
-00012e30: 206d 6174 6368 2065 7870 6572 696d 656e   match experimen
-00012e40: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
-00012e50: 6374 696f 6e4d 6574 686f 644c 6973 742e  ctionMethodList.
-00012e60: 7661 6c75 653a 2020 2320 4261 7365 6420  value:  # Based 
-00012e70: 6f6e 2070 6c6f 7420 6d65 7468 6f64 2073  on plot method s
-00012e80: 656c 6563 7465 640a 2020 2020 2020 2020  elected.        
-00012e90: 6361 7365 2022 536f 6b6f 6c6f 7665 2d42  case "Sokolove-B
-00012ea0: 7573 6865 6c6c 223a 2020 2320 4966 206d  ushell":  # If m
-00012eb0: 6574 686f 6420 6973 2053 6f6b 6f6c 6f76  ethod is Sokolov
-00012ec0: 652d 4275 7368 656c 6c0a 2020 2020 2020  e-Bushell.      
-00012ed0: 2020 2020 2020 6d65 7468 6f64 203d 205b        method = [
-00012ee0: 2270 6572 696f 646f 6772 616d 4368 6953  "periodogramChiS
-00012ef0: 7175 6172 6564 536f 6b6f 6c6f 7665 4275  quaredSokoloveBu
-00012f00: 7368 656c 6c22 2c20 2266 7265 7175 656e  shell", "frequen
-00012f10: 6369 6573 536f 6b6f 6c6f 7665 4275 7368  ciesSokoloveBush
-00012f20: 656c 6c22 5d20 2023 2053 6574 206d 6574  ell"]  # Set met
-00012f30: 686f 6420 746f 2053 420a 2020 2020 2020  hod to SB.      
-00012f40: 2020 6361 7365 2022 4c6f 6d62 2d53 6361    case "Lomb-Sca
-00012f50: 7267 6c65 223a 2020 2320 4966 206d 6574  rgle":  # If met
-00012f60: 686f 6420 6973 204c 6f6d 622d 5363 6172  hod is Lomb-Scar
-00012f70: 676c 650a 2020 2020 2020 2020 2020 2020  gle.            
-00012f80: 6d65 7468 6f64 203d 205b 2270 6572 696f  method = ["perio
-00012f90: 646f 6772 616d 506f 7765 7253 7065 6374  dogramPowerSpect
-00012fa0: 7275 6d4c 6f6d 6253 6361 7267 6c65 222c  rumLombScargle",
-00012fb0: 2022 6672 6571 7565 6e63 6965 734c 6f6d   "frequenciesLom
-00012fc0: 6253 6361 7267 6c65 225d 2020 2320 5365  bScargle"]  # Se
-00012fd0: 7420 6d65 7468 6f64 2074 6f20 4c53 0a20  t method to LS. 
-00012fe0: 2020 2020 2020 2063 6173 6520 2257 6176         case "Wav
-00012ff0: 656c 6574 2028 4357 5429 223a 2020 2320  elet (CWT)":  # 
-00013000: 4966 206d 6574 686f 6420 6973 2077 6176  If method is wav
-00013010: 656c 6574 0a20 2020 2020 2020 2020 2020  elet.           
-00013020: 206d 6574 686f 6420 3d20 5b22 616d 706c   method = ["ampl
-00013030: 6974 7564 6573 5761 7665 6c65 7422 2c20  itudesWavelet", 
-00013040: 2266 7265 7175 656e 6369 6573 5761 7665  "frequenciesWave
-00013050: 6c65 7422 2c20 2270 6572 696f 6473 5941  let", "periodsYA
-00013060: 7869 7357 6176 656c 6574 225d 0a20 2020  xisWavelet"].   
-00013070: 2074 7562 6573 5365 6c65 6374 6564 203d   tubesSelected =
-00013080: 2065 7870 6572 696d 656e 7454 6162 506c   experimentTabPl
-00013090: 6f74 5475 6265 5365 6c65 6374 696f 6e54  otTubeSelectionT
-000130a0: 7562 654c 6973 742e 7661 6c75 6520 2023  ubeList.value  #
-000130b0: 2053 6574 2073 656c 6563 7465 6420 7475   Set selected tu
-000130c0: 6265 206e 616d 6520 746f 2076 616c 7565  be name to value
-000130d0: 2066 726f 6d20 6c69 7374 2062 6f78 0a20   from list box. 
-000130e0: 2020 2074 7562 6554 6f50 6c6f 7420 3d20     tubeToPlot = 
-000130f0: 5b5d 2020 2320 456d 7074 7920 6c69 7374  []  # Empty list
-00013100: 2066 6f72 2064 6174 6120 6f66 2073 656c   for data of sel
-00013110: 6563 7465 6420 7475 6265 0a20 2020 2066  ected tube.    f
-00013120: 6f72 2074 7562 6520 696e 2074 7562 6573  or tube in tubes
-00013130: 4d61 7374 6572 3a20 2023 2046 6f72 2065  Master:  # For e
-00013140: 6163 6820 7475 6265 2069 6e20 676c 6f62  ach tube in glob
-00013150: 616c 206d 6173 7465 7220 7475 6265 7320  al master tubes 
-00013160: 6c69 7374 0a20 2020 2020 2020 2069 6620  list.        if 
-00013170: 2874 7562 655b 2273 6574 4e61 6d65 225d  (tube["setName"]
-00013180: 202b 2022 207c 2022 202b 2073 7472 2874   + " | " + str(t
-00013190: 7562 655b 2274 7562 654e 756d 6265 7222  ube["tubeNumber"
-000131a0: 5d20 2b20 3129 2920 3d3d 2074 7562 6573  ] + 1)) == tubes
-000131b0: 5365 6c65 6374 6564 3a20 2023 2049 6620  Selected:  # If 
-000131c0: 6d61 7463 6865 7320 6e61 6d65 206f 6620  matches name of 
-000131d0: 7365 6c65 6374 6564 2074 7562 650a 2020  selected tube.  
-000131e0: 2020 2020 2020 2020 2020 7475 6265 546f            tubeTo
-000131f0: 506c 6f74 203d 2074 7562 6520 2023 2053  Plot = tube  # S
-00013200: 6574 2074 7562 6520 746f 2070 6c6f 7420  et tube to plot 
-00013210: 746f 2074 6869 7320 7475 6265 0a20 2020  to this tube.   
-00013220: 200a 2020 2020 7065 7269 6f64 4461 7461   .    periodData
-00013230: 203d 2063 616c 6375 6c61 7465 5065 7269   = calculatePeri
-00013240: 6f64 4461 7461 2874 7562 6554 6f50 6c6f  odData(tubeToPlo
-00013250: 745b 2264 656e 7369 7479 5072 6f66 696c  t["densityProfil
-00013260: 6522 5d2c 2074 7562 6554 6f50 6c6f 745b  e"], tubeToPlot[
-00013270: 226d 6172 6b48 6f75 7273 225d 2c20 7475  "markHours"], tu
-00013280: 6265 546f 506c 6f74 5b22 7469 6d65 4d61  beToPlot["timeMa
-00013290: 726b 7322 5d2c 2074 7562 6554 6f50 6c6f  rks"], tubeToPlo
-000132a0: 745b 2262 616e 644d 6172 6b73 225d 2c20  t["bandMarks"], 
-000132b0: 3134 2c20 3332 2c20 7475 6265 546f 506c  14, 32, tubeToPl
-000132c0: 6f74 5b22 7475 6265 5261 6e67 6522 5d2c  ot["tubeRange"],
-000132d0: 2066 6c6f 6174 2865 7870 6572 696d 656e   float(experimen
-000132e0: 7454 6162 5461 626c 6550 6172 616d 7348  tTabTableParamsH
-000132f0: 7273 4c6f 7744 726f 7064 6f77 6e2e 7661  rsLowDropdown.va
-00013300: 6c75 6529 2c20 666c 6f61 7428 6578 7065  lue), float(expe
-00013310: 7269 6d65 6e74 5461 6254 6162 6c65 5061  rimentTabTablePa
-00013320: 7261 6d73 4872 7348 6967 6844 726f 7064  ramsHrsHighDropd
-00013330: 6f77 6e2e 7661 6c75 6529 2920 2023 2043  own.value))  # C
-00013340: 616c 6375 6c61 7465 2070 6572 696f 6420  alculate period 
-00013350: 6461 7461 2066 6f72 2074 696d 6520 7769  data for time wi
-00013360: 6e64 6f77 0a20 2020 2074 696d 654d 6172  ndow.    timeMar
-00013370: 6b73 203d 2070 6572 696f 6444 6174 615b  ks = periodData[
-00013380: 2274 696d 654d 6172 6b73 225d 0a20 2020  "timeMarks"].   
-00013390: 2062 616e 644d 6172 6b73 203d 2070 6572   bandMarks = per
-000133a0: 696f 6444 6174 615b 2262 616e 644d 6172  iodData["bandMar
-000133b0: 6b73 225d 0a20 2020 206d 6561 6e47 726f  ks"].    meanGro
-000133c0: 7774 6848 6f75 7273 5065 7250 6978 656c  wthHoursPerPixel
-000133d0: 203d 2031 2f70 6572 696f 6444 6174 615b   = 1/periodData[
-000133e0: 226d 6561 6e47 726f 7774 6850 6978 656c  "meanGrowthPixel
-000133f0: 7350 6572 486f 7572 225d 0a20 2020 2064  sPerHour"].    d
-00013400: 656e 7369 746f 6d65 7472 7958 5661 6c73  ensitometryXVals
-00013410: 486f 7572 7320 3d20 7065 7269 6f64 4461  Hours = periodDa
-00013420: 7461 5b22 6465 6e73 6974 6f6d 6574 7279  ta["densitometry
-00013430: 5848 6f75 7273 225d 0a0a 2020 2020 7469  XHours"]..    ti
-00013440: 6d65 4d61 726b 7348 6f75 7273 203d 205b  meMarksHours = [
-00013450: 5d20 2023 2042 6c61 6e6b 206c 6973 7420  ]  # Blank list 
-00013460: 666f 7220 636f 7272 6573 706f 6e64 696e  for correspondin
-00013470: 6720 7469 6d65 7320 6f66 2074 696d 6520  g times of time 
-00013480: 6d61 726b 730a 2020 2020 666f 7220 7850  marks.    for xP
-00013490: 6978 656c 2069 6e20 7469 6d65 4d61 726b  ixel in timeMark
-000134a0: 733a 2020 2320 466f 7220 7820 706f 7369  s:  # For x posi
-000134b0: 7469 6f6e 206f 6620 6561 6368 2074 696d  tion of each tim
-000134c0: 6520 6d61 726b 0a20 2020 2020 2020 2074  e mark.        t
-000134d0: 696d 654d 6172 6b73 486f 7572 732e 6170  imeMarksHours.ap
-000134e0: 7065 6e64 2872 6f75 6e64 2828 7850 6978  pend(round((xPix
-000134f0: 656c 202d 2074 696d 654d 6172 6b73 5b30  el - timeMarks[0
-00013500: 5d29 202a 206d 6561 6e47 726f 7774 6848  ]) * meanGrowthH
-00013510: 6f75 7273 5065 7250 6978 656c 2c20 3229  oursPerPixel, 2)
-00013520: 2920 2023 2041 6464 206e 6f72 6d61 6c69  )  # Add normali
-00013530: 7a65 6420 7469 6d65 206d 6172 6b20 7820  zed time mark x 
-00013540: 706f 7369 7469 6f6e 2063 6f6e 7665 7274  position convert
-00013550: 6564 2074 6f20 686f 7572 732c 2072 6f75  ed to hours, rou
-00013560: 6e64 6564 0a20 2020 2062 616e 644d 6172  nded.    bandMar
-00013570: 6b73 486f 7572 7320 3d20 5b5d 2020 2320  ksHours = []  # 
-00013580: 426c 616e 6b20 6c69 7374 2066 6f72 2063  Blank list for c
-00013590: 6f72 7265 7370 6f6e 6469 6e67 2074 696d  orresponding tim
-000135a0: 6573 206f 6620 6261 6e64 206d 6172 6b73  es of band marks
-000135b0: 0a20 2020 2066 6f72 2078 5069 7865 6c20  .    for xPixel 
-000135c0: 696e 2062 616e 644d 6172 6b73 3a20 2023  in bandMarks:  #
-000135d0: 2046 6f72 2078 2070 6f73 6974 696f 6e20   For x position 
-000135e0: 6f66 2065 6163 6820 6261 6e64 206d 6172  of each band mar
-000135f0: 6b0a 2020 2020 2020 2020 6261 6e64 4d61  k.        bandMa
-00013600: 726b 7348 6f75 7273 2e61 7070 656e 6428  rksHours.append(
-00013610: 726f 756e 6428 2878 5069 7865 6c29 202a  round((xPixel) *
-00013620: 206d 6561 6e47 726f 7774 6848 6f75 7273   meanGrowthHours
-00013630: 5065 7250 6978 656c 2c20 3229 2920 2023  PerPixel, 2))  #
-00013640: 2041 6464 206e 6f72 6d61 6c69 7a65 6420   Add normalized 
-00013650: 6261 6e64 206d 6172 6b20 7820 706f 7369  band mark x posi
-00013660: 7469 6f6e 2063 6f6e 7665 7274 6564 2074  tion converted t
-00013670: 6f20 686f 7572 732c 2072 6f75 6e64 6564  o hours, rounded
-00013680: 0a20 2020 2064 656e 7369 746f 6d65 7472  .    densitometr
-00013690: 7959 5661 6c73 203d 2070 6572 696f 6444  yYVals = periodD
-000136a0: 6174 615b 2264 656e 7369 7479 5072 6f66  ata["densityProf
-000136b0: 696c 6522 5d20 2023 2053 6574 2079 2076  ile"]  # Set y v
-000136c0: 616c 7565 7320 6f66 2064 656e 7369 746f  alues of densito
-000136d0: 6d65 7472 7920 746f 2070 6f72 7469 6f6e  metry to portion
-000136e0: 206f 6620 6465 6e73 6974 6f6d 6574 7279   of densitometry
-000136f0: 2077 6974 6869 6e20 7469 6d65 2077 696e   within time win
-00013700: 646f 770a 2020 2020 2320 4372 6561 7465  dow.    # Create
-00013710: 2070 6572 696f 646f 6772 616d 2070 6c6f   periodogram plo
-00013720: 7420 6461 7461 0a20 2020 2073 6c6f 7065  t data.    slope
-00013730: 436f 6566 6620 3d20 7065 7269 6f64 4461  Coeff = periodDa
-00013740: 7461 5b22 736c 6f70 6543 6f65 6666 225d  ta["slopeCoeff"]
-00013750: 2020 2320 5365 7420 736c 6f70 6520 636f    # Set slope co
-00013760: 6566 6669 6369 656e 740a 2020 2020 6377  efficient.    cw
-00013770: 7458 4178 6973 203d 205b 305d 0a20 2020  tXAxis = [0].   
-00013780: 2063 7774 5941 7869 7320 3d20 5b30 5d0a   cwtYAxis = [0].
-00013790: 2020 2020 6377 745a 4178 6973 203d 205b      cwtZAxis = [
-000137a0: 305d 0a20 2020 2070 6572 696f 646f 6772  0].    periodogr
-000137b0: 616d 5856 616c 7320 3d20 5b5d 2020 2320  amXVals = []  # 
-000137c0: 426c 616e 6b20 6c69 7374 2066 6f72 2078  Blank list for x
-000137d0: 2076 616c 7565 7320 6f66 2070 6572 696f   values of perio
-000137e0: 646f 6772 616d 0a20 2020 2070 6572 696f  dogram.    perio
-000137f0: 646f 6772 616d 5956 616c 7320 3d20 5b5d  dogramYVals = []
-00013800: 2020 2320 426c 616e 6b20 6c69 7374 2066    # Blank list f
-00013810: 6f72 2079 2076 616c 7565 7320 6f66 2070  or y values of p
-00013820: 6572 696f 646f 6772 616d 0a20 2020 2069  eriodogram.    i
-00013830: 6620 6d65 7468 6f64 203d 3d20 5b22 616d  f method == ["am
-00013840: 706c 6974 7564 6573 5761 7665 6c65 7422  plitudesWavelet"
-00013850: 2c20 2266 7265 7175 656e 6369 6573 5761  , "frequenciesWa
-00013860: 7665 6c65 7422 2c20 2270 6572 696f 6473  velet", "periods
-00013870: 5941 7869 7357 6176 656c 6574 225d 3a0a  YAxisWavelet"]:.
-00013880: 2020 2020 2020 2020 6377 7459 4178 6973          cwtYAxis
-00013890: 203d 2070 6572 696f 6444 6174 615b 6d65   = periodData[me
-000138a0: 7468 6f64 5b32 5d5d 0a20 2020 2020 2020  thod[2]].       
-000138b0: 2063 7774 5841 7869 7320 3d20 7065 7269   cwtXAxis = peri
-000138c0: 6f64 4461 7461 5b22 6465 6e73 6974 6f6d  odData["densitom
-000138d0: 6574 7279 5848 6f75 7273 225d 0a20 2020  etryXHours"].   
-000138e0: 2020 2020 2063 7774 5a41 7869 7320 3d20       cwtZAxis = 
-000138f0: 7065 7269 6f64 4461 7461 5b6d 6574 686f  periodData[metho
-00013900: 645b 305d 5d0a 2020 2020 656c 7365 3a0a  d[0]].    else:.
-00013910: 2020 2020 2020 2020 6361 6c63 756c 6174          calculat
-00013920: 6564 5065 7269 6f64 6f67 7261 6d46 7265  edPeriodogramFre
-00013930: 7175 656e 6369 6573 203d 2070 6572 696f  quencies = perio
-00013940: 6444 6174 615b 6d65 7468 6f64 5b31 5d5d  dData[method[1]]
-00013950: 2020 2320 5365 7420 6c69 7374 2063 616c    # Set list cal
-00013960: 6375 6c61 7465 6420 7065 7269 6f64 6f67  culated periodog
-00013970: 7261 6d20 6672 6571 7565 6e63 6965 730a  ram frequencies.
-00013980: 2020 2020 2020 2020 6361 6c63 756c 6174          calculat
-00013990: 6564 5065 7269 6f64 6f67 7261 6d59 5661  edPeriodogramYVa
-000139a0: 6c73 203d 2070 6572 696f 6444 6174 615b  ls = periodData[
-000139b0: 6d65 7468 6f64 5b30 5d5d 2020 2320 5365  method[0]]  # Se
-000139c0: 7420 6c69 7374 206f 6620 6361 6c63 756c  t list of calcul
-000139d0: 6174 6564 2070 6572 696f 646f 6772 616d  ated periodogram
-000139e0: 2079 2076 616c 7565 730a 2020 2020 2020   y values.      
-000139f0: 2020 666f 7220 6672 6571 7565 6e63 7920    for frequency 
-00013a00: 696e 2072 616e 6765 286c 656e 2863 616c  in range(len(cal
-00013a10: 6375 6c61 7465 6450 6572 696f 646f 6772  culatedPeriodogr
-00013a20: 616d 4672 6571 7565 6e63 6965 7329 293a  amFrequencies)):
-00013a30: 2020 2320 466f 7220 6561 6368 2066 7265    # For each fre
-00013a40: 7175 656e 6379 2069 6e20 7065 7269 6f64  quency in period
-00013a50: 6f67 7261 6d20 6672 6571 7565 6e63 6965  ogram frequencie
-00013a60: 730a 2020 2020 2020 2020 2020 2020 6966  s.            if
-00013a70: 206d 6574 686f 6420 3d3d 205b 2270 6572   method == ["per
-00013a80: 696f 646f 6772 616d 4368 6953 7175 6172  iodogramChiSquar
-00013a90: 6564 536f 6b6f 6c6f 7665 4275 7368 656c  edSokoloveBushel
-00013aa0: 6c22 2c20 2266 7265 7175 656e 6369 6573  l", "frequencies
-00013ab0: 536f 6b6f 6c6f 7665 4275 7368 656c 6c22  SokoloveBushell"
-00013ac0: 5d3a 2020 2320 4966 206d 6574 686f 6420  ]:  # If method 
-00013ad0: 6973 2034 2028 536f 6b6f 6c6f 7665 2d42  is 4 (Sokolove-B
-00013ae0: 7573 6865 6c6c 290a 2020 2020 2020 2020  ushell).        
-00013af0: 2020 2020 2020 2020 7065 7269 6f64 203d          period =
-00013b00: 2031 202f 2063 616c 6375 6c61 7465 6450   1 / calculatedP
-00013b10: 6572 696f 646f 6772 616d 4672 6571 7565  eriodogramFreque
-00013b20: 6e63 6965 735b 6672 6571 7565 6e63 795d  ncies[frequency]
-00013b30: 2020 2320 5365 7420 7065 7269 6f64 2074    # Set period t
-00013b40: 6f20 7065 7269 6f64 2066 6f72 2053 2d42  o period for S-B
-00013b50: 2066 7265 7175 656e 6379 0a20 2020 2020   frequency.     
-00013b60: 2020 2020 2020 2065 6c69 6620 6d65 7468         elif meth
-00013b70: 6f64 203d 3d20 5b22 7065 7269 6f64 6f67  od == ["periodog
-00013b80: 7261 6d50 6f77 6572 5370 6563 7472 756d  ramPowerSpectrum
-00013b90: 4c6f 6d62 5363 6172 676c 6522 2c20 2266  LombScargle", "f
-00013ba0: 7265 7175 656e 6369 6573 4c6f 6d62 5363  requenciesLombSc
-00013bb0: 6172 676c 6522 5d3a 2020 2320 4966 206d  argle"]:  # If m
-00013bc0: 6574 686f 6420 6973 204c 6f6d 622d 5363  ethod is Lomb-Sc
-00013bd0: 6172 676c 650a 2020 2020 2020 2020 2020  argle.          
-00013be0: 2020 2020 2020 7065 7269 6f64 203d 2028        period = (
-00013bf0: 3220 2a20 6e75 6d70 792e 7069 2920 2f20  2 * numpy.pi) / 
-00013c00: 6361 6c63 756c 6174 6564 5065 7269 6f64  calculatedPeriod
-00013c10: 6f67 7261 6d46 7265 7175 656e 6369 6573  ogramFrequencies
-00013c20: 5b66 7265 7175 656e 6379 5d20 2023 2053  [frequency]  # S
-00013c30: 6574 2070 6572 696f 6420 746f 2070 6572  et period to per
-00013c40: 696f 6420 666f 7220 4c2d 5320 616e 6775  iod for L-S angu
-00013c50: 6c61 7220 6672 6571 7565 6e63 790a 2020  lar frequency.  
-00013c60: 2020 2020 2020 2020 2020 7856 616c 203d            xVal =
-00013c70: 2070 6572 696f 6420 2a20 6d65 616e 4772   period * meanGr
-00013c80: 6f77 7468 486f 7572 7350 6572 5069 7865  owthHoursPerPixe
-00013c90: 6c20 2a20 736c 6f70 6543 6f65 6666 2020  l * slopeCoeff  
-00013ca0: 2320 5365 7420 7820 7661 6c75 6520 696e  # Set x value in
-00013cb0: 2068 6f75 7273 2074 6f20 7072 6f64 7563   hours to produc
-00013cc0: 7420 6f66 2070 6572 696f 6420 696e 2070  t of period in p
-00013cd0: 6978 656c 732c 2073 6c6f 7065 2063 6f65  ixels, slope coe
-00013ce0: 6666 6963 6965 6e74 2c20 616e 6420 7261  fficient, and ra
-00013cf0: 7469 6f20 6f66 2068 6f75 7273 2074 6f20  tio of hours to 
-00013d00: 7069 7865 6c73 2074 6f20 6765 7420 6163  pixels to get ac
-00013d10: 7475 616c 2070 6572 696f 6420 696e 2068  tual period in h
-00013d20: 6f75 7273 0a20 2020 2020 2020 2020 2020  ours.           
-00013d30: 2069 6620 7856 616c 203e 3d20 3134 2061   if xVal >= 14 a
-00013d40: 6e64 2078 5661 6c20 3c3d 2033 323a 2020  nd xVal <= 32:  
-00013d50: 2320 4966 2078 2076 616c 7565 2069 6e20  # If x value in 
-00013d60: 686f 7572 7320 6973 2077 6974 6869 6e20  hours is within 
-00013d70: 7065 7269 6f64 2072 616e 6765 0a20 2020  period range.   
-00013d80: 2020 2020 2020 2020 2020 2020 2070 6572               per
-00013d90: 696f 646f 6772 616d 5856 616c 732e 6170  iodogramXVals.ap
-00013da0: 7065 6e64 2878 5661 6c29 2020 2320 4164  pend(xVal)  # Ad
-00013db0: 6420 7820 7661 6c75 6520 746f 206c 6973  d x value to lis
-00013dc0: 7420 6f66 2070 6572 696f 646f 6772 616d  t of periodogram
-00013dd0: 2078 2076 616c 7565 730a 2020 2020 2020   x values.      
-00013de0: 2020 2020 2020 2020 2020 6966 206d 6574            if met
-00013df0: 686f 6420 3d3d 205b 2270 6572 696f 646f  hod == ["periodo
-00013e00: 6772 616d 4368 6953 7175 6172 6564 536f  gramChiSquaredSo
-00013e10: 6b6f 6c6f 7665 4275 7368 656c 6c22 2c20  koloveBushell", 
-00013e20: 2266 7265 7175 656e 6369 6573 536f 6b6f  "frequenciesSoko
-00013e30: 6c6f 7665 4275 7368 656c 6c22 5d3a 2020  loveBushell"]:  
-00013e40: 2320 4966 206d 6574 686f 6420 6973 2034  # If method is 4
-00013e50: 2028 536f 6b6f 6c6f 7665 2d42 7573 6865   (Sokolove-Bushe
-00013e60: 6c6c 290a 2020 2020 2020 2020 2020 2020  ll).            
-00013e70: 2020 2020 2020 2020 7065 7269 6f64 6f67          periodog
-00013e80: 7261 6d59 5661 6c73 2e61 7070 656e 6428  ramYVals.append(
-00013e90: 6361 6c63 756c 6174 6564 5065 7269 6f64  calculatedPeriod
-00013ea0: 6f67 7261 6d59 5661 6c73 5b66 7265 7175  ogramYVals[frequ
-00013eb0: 656e 6379 5d29 2020 2320 4164 6420 636f  ency])  # Add co
-00013ec0: 7272 6573 706f 6e64 696e 6720 7920 7661  rresponding y va
-00013ed0: 6c75 6520 746f 206c 6973 7420 6f66 2070  lue to list of p
-00013ee0: 6572 696f 646f 6772 616d 2079 2076 616c  eriodogram y val
-00013ef0: 7565 730a 2020 2020 2020 2020 2020 2020  ues.            
-00013f00: 2020 2020 656c 6966 206d 6574 686f 6420      elif method 
-00013f10: 3d3d 205b 2270 6572 696f 646f 6772 616d  == ["periodogram
-00013f20: 506f 7765 7253 7065 6374 7275 6d4c 6f6d  PowerSpectrumLom
-00013f30: 6253 6361 7267 6c65 222c 2022 6672 6571  bScargle", "freq
-00013f40: 7565 6e63 6965 734c 6f6d 6253 6361 7267  uenciesLombScarg
-00013f50: 6c65 225d 3a20 2023 2049 6620 6d65 7468  le"]:  # If meth
-00013f60: 6f64 2069 7320 4c6f 6d62 2d53 6361 7267  od is Lomb-Scarg
-00013f70: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
-00013f80: 2020 2020 2020 2020 7065 7269 6f64 6f67          periodog
-00013f90: 7261 6d59 5661 6c73 2e61 7070 656e 6428  ramYVals.append(
-00013fa0: 6361 6c63 756c 6174 6564 5065 7269 6f64  calculatedPeriod
-00013fb0: 6f67 7261 6d59 5661 6c73 5b66 7265 7175  ogramYVals[frequ
-00013fc0: 656e 6379 5d2f 3130 3030 3029 2020 2320  ency]/10000)  # 
-00013fd0: 4164 6420 636f 7272 6573 706f 6e64 696e  Add correspondin
-00013fe0: 6720 7920 7661 6c75 6520 746f 206c 6973  g y value to lis
-00013ff0: 7420 6f66 2070 6572 696f 646f 6772 616d  t of periodogram
-00014000: 2079 2076 616c 7565 730a 2020 2020 0a20   y values.    . 
-00014010: 2020 2023 2043 7265 6174 6520 6465 6e73     # Create dens
-00014020: 6974 6f6d 6574 7279 2061 6e64 2070 6572  itometry and per
-00014030: 696f 646f 6772 616d 2070 6c6f 7473 0a20  iodogram plots. 
-00014040: 2020 2070 6c74 2e72 6350 6172 616d 735b     plt.rcParams[
-00014050: 2266 6f6e 742e 6661 6d69 6c79 225d 203d  "font.family"] =
-00014060: 2022 4172 6961 6c22 0a20 2020 2067 7269   "Arial".    gri
-00014070: 6453 7065 634c 6179 6f75 7420 3d20 6772  dSpecLayout = gr
-00014080: 6964 7370 6563 2e47 7269 6453 7065 6328  idspec.GridSpec(
-00014090: 322c 322c 2077 6964 7468 5f72 6174 696f  2,2, width_ratio
-000140a0: 733d 5b32 302c 315d 2c20 6865 6967 6874  s=[20,1], height
-000140b0: 5f72 6174 696f 733d 5b31 2c31 5d2c 2068  _ratios=[1,1], h
-000140c0: 7370 6163 653d 302e 3535 2920 2023 2053  space=0.55)  # S
-000140d0: 7065 6369 6669 6361 7469 6f6e 2066 6f72  pecification for
-000140e0: 2067 7269 6420 6f66 206d 756c 7469 2d70   grid of multi-p
-000140f0: 6c6f 7420 6669 6775 7265 0a20 2020 206e  lot figure.    n
-00014100: 756d 5069 7865 6c73 466f 7246 6967 7572  umPixelsForFigur
-00014110: 6544 6f77 6e6c 6f61 6420 3d20 312f 706c  eDownload = 1/pl
-00014120: 742e 7263 5061 7261 6d73 5b27 6669 6775  t.rcParams['figu
-00014130: 7265 2e64 7069 275d 2020 2320 5365 7420  re.dpi']  # Set 
-00014140: 6e75 6d62 6572 206f 6620 7069 7865 6c73  number of pixels
-00014150: 2066 6f72 2066 6967 7572 6520 646f 776e   for figure down
-00014160: 6c6f 6164 0a20 2020 2074 7562 6544 6f75  load.    tubeDou
-00014170: 626c 6546 6967 7572 6520 3d20 706c 742e  bleFigure = plt.
-00014180: 6669 6775 7265 2866 6967 7369 7a65 3d28  figure(figsize=(
-00014190: 696e 7428 7363 7265 656e 5769 6474 682a  int(screenWidth*
-000141a0: 302e 3529 2a6e 756d 5069 7865 6c73 466f  0.5)*numPixelsFo
-000141b0: 7246 6967 7572 6544 6f77 6e6c 6f61 642c  rFigureDownload,
-000141c0: 2069 6e74 2861 7070 4865 6967 6874 2a30   int(appHeight*0
-000141d0: 2e34 292a 6e75 6d50 6978 656c 7346 6f72  .4)*numPixelsFor
-000141e0: 4669 6775 7265 446f 776e 6c6f 6164 2929  FigureDownload))
-000141f0: 2020 2320 4372 6561 7465 2066 6967 7572    # Create figur
-00014200: 6520 746f 2063 6f6e 7461 696e 2062 6f74  e to contain bot
-00014210: 6820 706c 6f74 730a 2020 2020 7475 6265  h plots.    tube
-00014220: 446f 7562 6c65 4669 6775 7265 506c 6f74  DoubleFigurePlot
-00014230: 7320 3d20 5b4e 6f6e 652c 204e 6f6e 652c  s = [None, None,
-00014240: 204e 6f6e 655d 2020 2320 426c 616e 6b20   None]  # Blank 
-00014250: 6c69 7374 206f 6620 706c 6f74 7320 696e  list of plots in
-00014260: 2066 6967 7572 650a 2020 2020 7475 6265   figure.    tube
-00014270: 446f 7562 6c65 4669 6775 7265 506c 6f74  DoubleFigurePlot
-00014280: 735b 305d 203d 2074 7562 6544 6f75 626c  s[0] = tubeDoubl
-00014290: 6546 6967 7572 652e 6164 645f 7375 6270  eFigure.add_subp
-000142a0: 6c6f 7428 6772 6964 5370 6563 4c61 796f  lot(gridSpecLayo
-000142b0: 7574 5b30 2c30 5d29 2020 2320 5365 7420  ut[0,0])  # Set 
-000142c0: 7570 2066 6972 7374 2070 6c6f 7420 696e  up first plot in
-000142d0: 2066 6967 7572 650a 2020 2020 7475 6265   figure.    tube
-000142e0: 446f 7562 6c65 4669 6775 7265 506c 6f74  DoubleFigurePlot
-000142f0: 735b 315d 203d 2074 7562 6544 6f75 626c  s[1] = tubeDoubl
-00014300: 6546 6967 7572 652e 6164 645f 7375 6270  eFigure.add_subp
-00014310: 6c6f 7428 6772 6964 5370 6563 4c61 796f  lot(gridSpecLayo
-00014320: 7574 5b31 2c30 5d29 2020 2320 5365 7420  ut[1,0])  # Set 
-00014330: 7570 2073 6563 6f6e 6420 706c 6f74 2069  up second plot i
-00014340: 6e20 6669 6775 7265 200a 2020 2020 7475  n figure .    tu
-00014350: 6265 446f 7562 6c65 4669 6775 7265 506c  beDoubleFigurePl
-00014360: 6f74 735b 325d 203d 2074 7562 6544 6f75  ots[2] = tubeDou
-00014370: 626c 6546 6967 7572 652e 6164 645f 7375  bleFigure.add_su
-00014380: 6270 6c6f 7428 6772 6964 5370 6563 4c61  bplot(gridSpecLa
-00014390: 796f 7574 5b31 2c31 5d29 2020 2320 5365  yout[1,1])  # Se
-000143a0: 7420 7570 2073 6563 6f6e 6420 706c 6f74  t up second plot
-000143b0: 2069 6e20 6669 6775 7265 200a 2020 2020   in figure .    
-000143c0: 7475 6265 446f 7562 6c65 4669 6775 7265  tubeDoubleFigure
-000143d0: 506c 6f74 735b 325d 2e73 6574 5f76 6973  Plots[2].set_vis
-000143e0: 6962 6c65 2846 616c 7365 290a 2020 2020  ible(False).    
-000143f0: 6465 6e73 6974 6f6d 6574 7279 5841 7869  densitometryXAxi
-00014400: 734c 6162 656c 7320 3d20 6d61 7470 6c6f  sLabels = matplo
-00014410: 746c 6962 2e74 6963 6b65 722e 4669 7865  tlib.ticker.Fixe
-00014420: 644c 6f63 6174 6f72 286c 6973 7428 7261  dLocator(list(ra
-00014430: 6e67 6528 302c 2033 3031 2c20 3132 2929  nge(0, 301, 12))
-00014440: 2920 2023 2053 6574 2064 656e 7369 746f  )  # Set densito
-00014450: 6d65 7472 7920 7820 6178 6973 206d 616a  metry x axis maj
-00014460: 6f72 206c 6162 656c 7320 746f 2065 7665  or labels to eve
-00014470: 7279 2031 3220 686f 7572 730a 2020 2020  ry 12 hours.    
-00014480: 6465 6e73 6974 6f6d 6574 7279 5941 7869  densitometryYAxi
-00014490: 734c 6162 656c 7320 3d20 6d61 7470 6c6f  sLabels = matplo
-000144a0: 746c 6962 2e74 6963 6b65 722e 4669 7865  tlib.ticker.Fixe
-000144b0: 644c 6f63 6174 6f72 285b 302c 2036 302c  dLocator([0, 60,
-000144c0: 2031 3230 2c20 3138 302c 2032 3430 2c20   120, 180, 240, 
-000144d0: 3235 355d 2920 2023 2053 6574 2064 656e  255])  # Set den
-000144e0: 7369 746f 6d65 7472 7920 7920 6178 6973  sitometry y axis
-000144f0: 206d 616a 6f72 206c 6162 656c 730a 2020   major labels.  
-00014500: 2020 6465 6e73 6974 6f6d 6574 7279 5841    densitometryXA
-00014510: 7869 734d 696e 6f72 4c61 6265 6c73 203d  xisMinorLabels =
-00014520: 206d 6174 706c 6f74 6c69 622e 7469 636b   matplotlib.tick
-00014530: 6572 2e46 6978 6564 4c6f 6361 746f 7228  er.FixedLocator(
-00014540: 6c69 7374 2872 616e 6765 2830 2c20 3330  list(range(0, 30
-00014550: 312c 2036 2929 2920 2023 2053 6574 2064  1, 6)))  # Set d
-00014560: 656e 7369 746f 6d65 7472 7920 7820 6178  ensitometry x ax
-00014570: 6973 206d 696e 6f72 206c 6162 656c 7320  is minor labels 
-00014580: 746f 2065 7665 7279 2033 2068 6f75 7273  to every 3 hours
-00014590: 0a20 2020 2070 6572 696f 646f 6772 616d  .    periodogram
-000145a0: 5841 7869 734c 6162 656c 7320 3d20 6d61  XAxisLabels = ma
-000145b0: 7470 6c6f 746c 6962 2e74 6963 6b65 722e  tplotlib.ticker.
-000145c0: 4669 7865 644c 6f63 6174 6f72 286c 6973  FixedLocator(lis
-000145d0: 7428 7261 6e67 6528 7065 7269 6f64 4461  t(range(periodDa
-000145e0: 7461 5b22 6d69 6e50 6572 696f 6422 5d2c  ta["minPeriod"],
-000145f0: 2070 6572 696f 6444 6174 615b 226d 6178   periodData["max
-00014600: 5065 7269 6f64 225d 202b 2031 2929 2920  Period"] + 1))) 
-00014610: 2023 2053 6574 2070 6572 696f 646f 6772   # Set periodogr
-00014620: 616d 2078 2061 7869 7320 6d61 6a6f 7220  am x axis major 
-00014630: 6c61 6265 6c73 2074 6f20 6561 6368 2068  labels to each h
-00014640: 6f75 7220 696e 2072 616e 6765 206f 6620  our in range of 
-00014650: 686f 7572 730a 2020 2020 6377 7458 4178  hours.    cwtXAx
-00014660: 6973 4c61 6265 6c73 203d 206d 6174 706c  isLabels = matpl
-00014670: 6f74 6c69 622e 7469 636b 6572 2e46 6978  otlib.ticker.Fix
-00014680: 6564 4c6f 6361 746f 7228 6c69 7374 2872  edLocator(list(r
-00014690: 616e 6765 2869 6e74 286e 756d 7079 2e6d  ange(int(numpy.m
-000146a0: 696e 2863 7774 5841 7869 7329 292c 2069  in(cwtXAxis)), i
-000146b0: 6e74 286e 756d 7079 2e6d 6178 2863 7774  nt(numpy.max(cwt
-000146c0: 5841 7869 7329 292c 2031 3229 2929 0a20  XAxis)), 12))). 
-000146d0: 2020 2074 7562 6544 6f75 626c 6546 6967     tubeDoubleFig
-000146e0: 7572 6550 6c6f 7473 5b30 5d2e 706c 6f74  urePlots[0].plot
-000146f0: 2864 656e 7369 746f 6d65 7472 7958 5661  (densitometryXVa
-00014700: 6c73 486f 7572 732c 2064 656e 7369 746f  lsHours, densito
-00014710: 6d65 7472 7959 5661 6c73 2c20 6c61 6265  metryYVals, labe
-00014720: 6c3d 2244 656e 7369 7479 5c6e 7072 6f66  l="Density\nprof
-00014730: 696c 6522 2c20 636f 6c6f 723d 6170 7050  ile", color=appP
-00014740: 6172 616d 6574 6572 735b 2263 6f6c 6f72  arameters["color
-00014750: 4772 6170 6822 5d29 2020 2320 4372 6561  Graph"])  # Crea
-00014760: 7465 2066 6972 7374 2070 6c6f 7420 6f66  te first plot of
-00014770: 2064 656e 7369 746f 6d65 7472 790a 2020   densitometry.  
-00014780: 2020 7475 6265 446f 7562 6c65 4669 6775    tubeDoubleFigu
-00014790: 7265 506c 6f74 735b 305d 2e6d 6172 6769  rePlots[0].margi
-000147a0: 6e73 2830 290a 2020 2020 7475 6265 446f  ns(0).    tubeDo
-000147b0: 7562 6c65 4669 6775 7265 506c 6f74 735b  ubleFigurePlots[
-000147c0: 305d 2e78 6178 6973 2e73 6574 5f6d 616a  0].xaxis.set_maj
-000147d0: 6f72 5f6c 6f63 6174 6f72 2864 656e 7369  or_locator(densi
-000147e0: 746f 6d65 7472 7958 4178 6973 4c61 6265  tometryXAxisLabe
-000147f0: 6c73 2920 2023 2053 6574 2078 2061 7869  ls)  # Set x axi
-00014800: 7320 6d61 6a6f 7220 7469 636b 206c 6162  s major tick lab
-00014810: 656c 7320 6f66 2064 656e 7369 746f 6d65  els of densitome
-00014820: 7472 7920 706c 6f74 0a20 2020 2074 7562  try plot.    tub
-00014830: 6544 6f75 626c 6546 6967 7572 6550 6c6f  eDoubleFigurePlo
-00014840: 7473 5b30 5d2e 7961 7869 732e 7365 745f  ts[0].yaxis.set_
-00014850: 6d61 6a6f 725f 6c6f 6361 746f 7228 6465  major_locator(de
-00014860: 6e73 6974 6f6d 6574 7279 5941 7869 734c  nsitometryYAxisL
-00014870: 6162 656c 7329 2020 2320 5365 7420 7920  abels)  # Set y 
-00014880: 6178 6973 206d 616a 6f72 2074 6963 6b20  axis major tick 
-00014890: 6c61 6265 6c73 206f 6620 6465 6e73 6974  labels of densit
-000148a0: 6f6d 6574 7279 2070 6c6f 740a 2020 2020  ometry plot.    
-000148b0: 7475 6265 446f 7562 6c65 4669 6775 7265  tubeDoubleFigure
-000148c0: 506c 6f74 735b 305d 2e78 6178 6973 2e73  Plots[0].xaxis.s
-000148d0: 6574 5f6d 696e 6f72 5f6c 6f63 6174 6f72  et_minor_locator
-000148e0: 2864 656e 7369 746f 6d65 7472 7958 4178  (densitometryXAx
-000148f0: 6973 4d69 6e6f 724c 6162 656c 7329 2020  isMinorLabels)  
-00014900: 2320 5365 7420 7820 6178 6973 206d 696e  # Set x axis min
-00014910: 6f72 2074 6963 6b20 6c61 6265 6c73 206f  or tick labels o
-00014920: 6620 6465 6e73 6974 6f6d 6574 7279 2070  f densitometry p
-00014930: 6c6f 740a 2020 2020 7475 6265 446f 7562  lot.    tubeDoub
-00014940: 6c65 4669 6775 7265 506c 6f74 735b 305d  leFigurePlots[0]
-00014950: 2e73 6574 280a 2020 2020 2020 2020 786c  .set(.        xl
-00014960: 6162 656c 3d22 5469 6d65 2028 6872 7329  abel="Time (hrs)
-00014970: 222c 200a 2020 2020 2020 2020 796c 6162  ", .        ylab
-00014980: 656c 3d22 4465 6e73 6974 7922 2c20 0a20  el="Density", . 
-00014990: 2020 2020 2020 2074 6974 6c65 3d22 4465         title="De
-000149a0: 6e73 6974 6f6d 6574 7279 220a 2020 2020  nsitometry".    
-000149b0: 2920 2023 2053 6574 2064 656e 7369 746f  )  # Set densito
-000149c0: 6d65 7472 7920 706c 6f74 206c 6162 656c  metry plot label
-000149d0: 730a 2020 2020 7475 6265 446f 7562 6c65  s.    tubeDouble
-000149e0: 4669 6775 7265 506c 6f74 735b 305d 2e76  FigurePlots[0].v
-000149f0: 6c69 6e65 7328 0a20 2020 2020 2020 2074  lines(.        t
-00014a00: 696d 654d 6172 6b73 486f 7572 732c 0a20  imeMarksHours,. 
-00014a10: 2020 2020 2020 206e 756d 7079 2e6d 696e         numpy.min
-00014a20: 2864 656e 7369 746f 6d65 7472 7959 5661  (densitometryYVa
-00014a30: 6c73 292c 0a20 2020 2020 2020 206e 756d  ls),.        num
-00014a40: 7079 2e6d 6178 2864 656e 7369 746f 6d65  py.max(densitome
-00014a50: 7472 7959 5661 6c73 292c 0a20 2020 2020  tryYVals),.     
-00014a60: 2020 2063 6f6c 6f72 733d 6170 7050 6172     colors=appPar
-00014a70: 616d 6574 6572 735b 2263 6f6c 6f72 5665  ameters["colorVe
-00014a80: 7274 225d 2c0a 2020 2020 2020 2020 6c61  rt"],.        la
-00014a90: 6265 6c3d 2254 696d 6520 4d61 726b 7322  bel="Time Marks"
-00014aa0: 2c0a 2020 2020 2920 2023 2053 6574 2064  ,.    )  # Set d
-00014ab0: 656e 7369 746f 6d65 7472 7920 706c 6f74  ensitometry plot
-00014ac0: 2076 6572 7469 6361 6c20 6c69 6e65 7320   vertical lines 
-00014ad0: 666f 7220 7469 6d65 206d 6172 6b73 0a20  for time marks. 
-00014ae0: 2020 2074 7562 6544 6f75 626c 6546 6967     tubeDoubleFig
-00014af0: 7572 6550 6c6f 7473 5b30 5d2e 766c 696e  urePlots[0].vlin
-00014b00: 6573 280a 2020 2020 2020 2020 6261 6e64  es(.        band
-00014b10: 4d61 726b 7348 6f75 7273 2c20 0a20 2020  MarksHours, .   
-00014b20: 2020 2020 206e 756d 7079 2e6d 696e 2864       numpy.min(d
-00014b30: 656e 7369 746f 6d65 7472 7959 5661 6c73  ensitometryYVals
-00014b40: 292c 200a 2020 2020 2020 2020 6e75 6d70  ), .        nump
-00014b50: 792e 6d61 7828 6465 6e73 6974 6f6d 6574  y.max(densitomet
-00014b60: 7279 5956 616c 7329 2c20 0a20 2020 2020  ryYVals), .     
-00014b70: 2020 2063 6f6c 6f72 733d 6170 7050 6172     colors=appPar
-00014b80: 616d 6574 6572 735b 2263 6f6c 6f72 4261  ameters["colorBa
-00014b90: 6e64 225d 2c20 0a20 2020 2020 2020 206c  nd"], .        l
-00014ba0: 6162 656c 3d22 4261 6e64 2050 6561 6b73  abel="Band Peaks
-00014bb0: 220a 2020 2020 2920 2023 2053 6574 2064  ".    )  # Set d
-00014bc0: 656e 7369 746f 6d65 7472 7920 706c 6f74  ensitometry plot
-00014bd0: 2076 6572 7469 6361 6c20 6c69 6e65 7320   vertical lines 
-00014be0: 666f 7220 6261 6e64 206d 6172 6b73 0a20  for band marks. 
-00014bf0: 2020 2074 7562 6544 6f75 626c 6546 6967     tubeDoubleFig
-00014c00: 7572 6550 6c6f 7473 5b30 5d2e 6c65 6765  urePlots[0].lege
-00014c10: 6e64 286e 636f 6c3d 312c 206c 6f63 3d22  nd(ncol=1, loc="
-00014c20: 7570 7065 7220 7269 6768 7422 2c20 666f  upper right", fo
-00014c30: 6e74 7369 7a65 3d22 736d 616c 6c22 2c20  ntsize="small", 
-00014c40: 6262 6f78 5f74 6f5f 616e 6368 6f72 3d28  bbox_to_anchor=(
-00014c50: 312e 332c 2031 2929 2020 2320 5365 7420  1.3, 1))  # Set 
-00014c60: 6c65 6765 6e64 2066 6f72 2064 656e 7369  legend for densi
-00014c70: 746f 6d65 7472 7920 706c 6f74 0a20 2020  tometry plot.   
-00014c80: 2069 6620 6d65 7468 6f64 203d 3d20 5b22   if method == ["
-00014c90: 7065 7269 6f64 6f67 7261 6d43 6869 5371  periodogramChiSq
-00014ca0: 7561 7265 6453 6f6b 6f6c 6f76 6542 7573  uaredSokoloveBus
-00014cb0: 6865 6c6c 222c 2022 6672 6571 7565 6e63  hell", "frequenc
-00014cc0: 6965 7353 6f6b 6f6c 6f76 6542 7573 6865  iesSokoloveBushe
-00014cd0: 6c6c 225d 3a20 2023 2049 6620 7573 696e  ll"]:  # If usin
-00014ce0: 6720 532d 4220 7065 7269 6f64 6f67 7261  g S-B periodogra
-00014cf0: 6d0a 2020 2020 2020 2020 7475 6265 446f  m.        tubeDo
-00014d00: 7562 6c65 4669 6775 7265 506c 6f74 735b  ubleFigurePlots[
-00014d10: 315d 2e70 6c6f 7428 7065 7269 6f64 6f67  1].plot(periodog
-00014d20: 7261 6d58 5661 6c73 2c20 7065 7269 6f64  ramXVals, period
-00014d30: 6f67 7261 6d59 5661 6c73 2c20 6c61 6265  ogramYVals, labe
-00014d40: 6c3d 2243 6869 2053 7175 6172 6564 222c  l="Chi Squared",
-00014d50: 2063 6f6c 6f72 3d61 7070 5061 7261 6d65   color=appParame
-00014d60: 7465 7273 5b22 636f 6c6f 7247 7261 7068  ters["colorGraph
-00014d70: 225d 2920 2023 2043 7265 6174 6520 7365  "])  # Create se
-00014d80: 636f 6e64 2070 6c6f 7420 6f66 2053 2d42  cond plot of S-B
-00014d90: 2070 6572 696f 646f 6772 616d 0a20 2020   periodogram.   
-00014da0: 2065 6c69 6620 6d65 7468 6f64 203d 3d20   elif method == 
-00014db0: 5b22 7065 7269 6f64 6f67 7261 6d50 6f77  ["periodogramPow
-00014dc0: 6572 5370 6563 7472 756d 4c6f 6d62 5363  erSpectrumLombSc
-00014dd0: 6172 676c 6522 2c20 2266 7265 7175 656e  argle", "frequen
-00014de0: 6369 6573 4c6f 6d62 5363 6172 676c 6522  ciesLombScargle"
-00014df0: 5d3a 2020 2320 4966 2075 7369 6e67 204c  ]:  # If using L
-00014e00: 2d53 2070 6572 696f 646f 6772 616d 0a20  -S periodogram. 
-00014e10: 2020 2020 2020 2074 7562 6544 6f75 626c         tubeDoubl
-00014e20: 6546 6967 7572 6550 6c6f 7473 5b31 5d2e  eFigurePlots[1].
-00014e30: 706c 6f74 2870 6572 696f 646f 6772 616d  plot(periodogram
-00014e40: 5856 616c 732c 2070 6572 696f 646f 6772  XVals, periodogr
-00014e50: 616d 5956 616c 732c 206c 6162 656c 3d22  amYVals, label="
-00014e60: 5370 6563 7472 616c 2044 656e 7369 7479  Spectral Density
-00014e70: 222c 2063 6f6c 6f72 3d61 7070 5061 7261  ", color=appPara
-00014e80: 6d65 7465 7273 5b22 636f 6c6f 7247 7261  meters["colorGra
-00014e90: 7068 225d 2920 2023 2043 7265 6174 6520  ph"])  # Create 
-00014ea0: 7365 636f 6e64 2070 6c6f 7420 6f73 204c  second plot os L
-00014eb0: 2d53 2070 6572 696f 646f 6772 616d 0a20  -S periodogram. 
-00014ec0: 2020 2065 6c73 653a 2020 2320 4966 2075     else:  # If u
-00014ed0: 7369 6e67 2077 6176 656c 6574 206d 6574  sing wavelet met
-00014ee0: 686f 640a 2020 2020 2020 2020 7475 6265  hod.        tube
-00014ef0: 446f 7562 6c65 4669 6775 7265 506c 6f74  DoubleFigurePlot
-00014f00: 735b 315d 2e69 6d73 686f 7728 6377 745a  s[1].imshow(cwtZ
-00014f10: 4178 6973 2c20 636d 6170 3d61 7070 5061  Axis, cmap=appPa
-00014f20: 7261 6d65 7465 7273 5b22 6865 6174 6d61  rameters["heatma
-00014f30: 7022 5d2c 2065 7874 656e 743d 2863 7774  p"], extent=(cwt
-00014f40: 5841 7869 735b 305d 2c20 6377 7458 4178  XAxis[0], cwtXAx
-00014f50: 6973 5b2d 315d 2c20 6377 7459 4178 6973  is[-1], cwtYAxis
-00014f60: 5b30 5d2c 2063 7774 5941 7869 735b 2d31  [0], cwtYAxis[-1
-00014f70: 5d29 2c20 6173 7065 6374 3d22 6175 746f  ]), aspect="auto
-00014f80: 2229 232c 2061 7370 6563 743d 6178 3061  ")#, aspect=ax0a
-00014f90: 7370 6563 740a 2020 2020 2020 2020 7475  spect.        tu
-00014fa0: 6265 446f 7562 6c65 4669 6775 7265 2e63  beDoubleFigure.c
-00014fb0: 6f6c 6f72 6261 7228 6d61 7470 6c6f 746c  olorbar(matplotl
-00014fc0: 6962 2e63 6d2e 5363 616c 6172 4d61 7070  ib.cm.ScalarMapp
-00014fd0: 6162 6c65 286e 6f72 6d3d 6d61 7470 6c6f  able(norm=matplo
-00014fe0: 746c 6962 2e63 6f6c 6f72 732e 4e6f 726d  tlib.colors.Norm
-00014ff0: 616c 697a 6528 6e75 6d70 792e 6d69 6e28  alize(numpy.min(
-00015000: 6377 745a 4178 6973 292c 206e 756d 7079  cwtZAxis), numpy
-00015010: 2e6d 6178 2863 7774 5a41 7869 7329 292c  .max(cwtZAxis)),
-00015020: 2063 6d61 703d 6170 7050 6172 616d 6574   cmap=appParamet
-00015030: 6572 735b 2268 6561 746d 6170 225d 292c  ers["heatmap"]),
-00015040: 2061 783d 7475 6265 446f 7562 6c65 4669   ax=tubeDoubleFi
-00015050: 6775 7265 506c 6f74 735b 325d 2c20 6672  gurePlots[2], fr
-00015060: 6163 7469 6f6e 3d30 2e35 2c20 7368 7269  action=0.5, shri
-00015070: 6e6b 3d30 2e38 2c20 6173 7065 6374 3d35  nk=0.8, aspect=5
-00015080: 2c20 7061 643d 302c 206c 6f63 6174 696f  , pad=0, locatio
-00015090: 6e3d 226c 6566 7422 2c20 616e 6368 6f72  n="left", anchor
-000150a0: 3d28 302c 2031 2929 2e73 6574 5f6c 6162  =(0, 1)).set_lab
-000150b0: 656c 2822 416d 706c 6974 7564 6522 2c20  el("Amplitude", 
-000150c0: 7369 7a65 3d38 2c20 6c61 6265 6c70 6164  size=8, labelpad
-000150d0: 3d2d 3530 290a 2020 2020 6966 206d 6574  =-50).    if met
-000150e0: 686f 6420 3d3d 205b 2261 6d70 6c69 7475  hod == ["amplitu
-000150f0: 6465 7357 6176 656c 6574 222c 2022 6672  desWavelet", "fr
-00015100: 6571 7565 6e63 6965 7357 6176 656c 6574  equenciesWavelet
-00015110: 222c 2022 7065 7269 6f64 7359 4178 6973  ", "periodsYAxis
-00015120: 5761 7665 6c65 7422 5d3a 0a20 2020 2020  Wavelet"]:.     
-00015130: 2020 2074 7562 6544 6f75 626c 6546 6967     tubeDoubleFig
-00015140: 7572 6550 6c6f 7473 5b31 5d2e 7861 7869  urePlots[1].xaxi
-00015150: 732e 7365 745f 6d61 6a6f 725f 6c6f 6361  s.set_major_loca
-00015160: 746f 7228 6377 7458 4178 6973 4c61 6265  tor(cwtXAxisLabe
-00015170: 6c73 290a 2020 2020 2020 2020 7475 6265  ls).        tube
-00015180: 446f 7562 6c65 4669 6775 7265 506c 6f74  DoubleFigurePlot
-00015190: 735b 315d 2e73 6574 280a 2020 2020 2020  s[1].set(.      
-000151a0: 2020 2020 2020 786c 6162 656c 3d22 5469        xlabel="Ti
-000151b0: 6d65 2028 6872 7329 222c 0a20 2020 2020  me (hrs)",.     
-000151c0: 2020 2020 2020 2074 6974 6c65 3d22 436f         title="Co
-000151d0: 6e74 696e 756f 7573 2057 6176 656c 6574  ntinuous Wavelet
-000151e0: 2054 7261 6e73 666f 726d 222c 0a20 2020   Transform",.   
-000151f0: 2020 2020 2029 0a20 2020 2065 6c73 653a       ).    else:
-00015200: 0a20 2020 2020 2020 2074 7562 6544 6f75  .        tubeDou
-00015210: 626c 6546 6967 7572 6550 6c6f 7473 5b31  bleFigurePlots[1
-00015220: 5d2e 7861 7869 732e 7365 745f 6d61 6a6f  ].xaxis.set_majo
-00015230: 725f 6c6f 6361 746f 7228 7065 7269 6f64  r_locator(period
-00015240: 6f67 7261 6d58 4178 6973 4c61 6265 6c73  ogramXAxisLabels
-00015250: 2920 2023 2053 6574 2078 2061 7869 7320  )  # Set x axis 
-00015260: 6d61 6a6f 7220 6c61 6265 6c73 2066 6f72  major labels for
-00015270: 2070 6572 696f 646f 6772 616d 2070 6c6f   periodogram plo
-00015280: 740a 2020 2020 2020 2020 7475 6265 446f  t.        tubeDo
-00015290: 7562 6c65 4669 6775 7265 506c 6f74 735b  ubleFigurePlots[
-000152a0: 315d 2e73 6574 280a 2020 2020 2020 2020  1].set(.        
-000152b0: 2020 2020 786c 6162 656c 3d22 5065 7269      xlabel="Peri
-000152c0: 6f64 2028 6872 7329 222c 0a20 2020 2020  od (hrs)",.     
-000152d0: 2020 2020 2020 2074 6974 6c65 3d22 5065         title="Pe
-000152e0: 7269 6f64 6f67 7261 6d22 0a20 2020 2020  riodogram".     
-000152f0: 2020 2029 2020 2320 5365 7420 6c61 6265     )  # Set labe
-00015300: 6c73 2066 6f72 2070 6572 696f 646f 6772  ls for periodogr
-00015310: 616d 2070 6c6f 740a 2020 2020 6966 206d  am plot.    if m
-00015320: 6574 686f 6420 3d3d 205b 2270 6572 696f  ethod == ["perio
-00015330: 646f 6772 616d 4368 6953 7175 6172 6564  dogramChiSquared
-00015340: 536f 6b6f 6c6f 7665 4275 7368 656c 6c22  SokoloveBushell"
-00015350: 2c20 2266 7265 7175 656e 6369 6573 536f  , "frequenciesSo
-00015360: 6b6f 6c6f 7665 4275 7368 656c 6c22 5d3a  koloveBushell"]:
-00015370: 2020 2320 4966 2075 7369 6e67 2053 2d42    # If using S-B
-00015380: 2070 6572 696f 646f 6772 616d 0a20 2020   periodogram.   
-00015390: 2020 2020 2074 7562 6544 6f75 626c 6546       tubeDoubleF
-000153a0: 6967 7572 6550 6c6f 7473 5b31 5d2e 7365  igurePlots[1].se
-000153b0: 7428 796c 6162 656c 3d22 4368 6920 5371  t(ylabel="Chi Sq
-000153c0: 7561 7265 6422 2920 2023 2053 6574 2079  uared")  # Set y
-000153d0: 206c 6162 656c 2066 6f72 2053 2d42 2070   label for S-B p
-000153e0: 6572 696f 646f 6772 616d 0a20 2020 2065  eriodogram.    e
-000153f0: 6c69 6620 6d65 7468 6f64 203d 3d20 5b22  lif method == ["
-00015400: 7065 7269 6f64 6f67 7261 6d50 6f77 6572  periodogramPower
-00015410: 5370 6563 7472 756d 4c6f 6d62 5363 6172  SpectrumLombScar
-00015420: 676c 6522 2c20 2266 7265 7175 656e 6369  gle", "frequenci
-00015430: 6573 4c6f 6d62 5363 6172 676c 6522 5d3a  esLombScargle"]:
-00015440: 2020 2320 4966 2075 7369 6e67 204c 2d53    # If using L-S
-00015450: 2070 6572 696f 646f 6772 616d 0a20 2020   periodogram.   
-00015460: 2020 2020 2074 7562 6544 6f75 626c 6546       tubeDoubleF
-00015470: 6967 7572 6550 6c6f 7473 5b31 5d2e 7365  igurePlots[1].se
-00015480: 7428 796c 6162 656c 3d22 5370 6563 7472  t(ylabel="Spectr
-00015490: 616c 2044 656e 7369 7479 5c6e 2878 2024  al Density\n(x $
-000154a0: 5c6d 6174 6872 6567 756c 6172 7b31 305e  \mathregular{10^
-000154b0: 7b2d 347d 7d24 2922 2920 2023 2053 6574  {-4}}$)")  # Set
-000154c0: 2079 206c 6162 656c 2066 6f72 204c 2d53   y label for L-S
-000154d0: 2070 6572 696f 646f 6772 616d 0a20 2020   periodogram.   
-000154e0: 2065 6c73 653a 2020 2320 4966 2075 7369   else:  # If usi
-000154f0: 6e67 2077 6176 656c 6574 206d 6574 686f  ng wavelet metho
-00015500: 640a 2020 2020 2020 2020 7475 6265 446f  d.        tubeDo
-00015510: 7562 6c65 4669 6775 7265 506c 6f74 735b  ubleFigurePlots[
-00015520: 315d 2e73 6574 2879 6c61 6265 6c3d 2250  1].set(ylabel="P
-00015530: 6572 696f 6420 2868 7273 2922 290a 2020  eriod (hrs)").  
-00015540: 2020 6966 206d 6574 686f 6420 213d 205b    if method != [
-00015550: 2261 6d70 6c69 7475 6465 7357 6176 656c  "amplitudesWavel
-00015560: 6574 222c 2022 6672 6571 7565 6e63 6965  et", "frequencie
-00015570: 7357 6176 656c 6574 222c 2022 7065 7269  sWavelet", "peri
-00015580: 6f64 7359 4178 6973 5761 7665 6c65 7422  odsYAxisWavelet"
-00015590: 5d3a 0a20 2020 2020 2020 2074 7562 6544  ]:.        tubeD
-000155a0: 6f75 626c 6546 6967 7572 6550 6c6f 7473  oubleFigurePlots
-000155b0: 5b31 5d2e 6c65 6765 6e64 2866 6f6e 7473  [1].legend(fonts
-000155c0: 697a 653d 2273 6d61 6c6c 2229 2020 2320  ize="small")  # 
-000155d0: 5365 7420 6c65 6765 6e64 2066 6f72 2070  Set legend for p
-000155e0: 6572 696f 646f 6772 616d 2070 6c6f 740a  eriodogram plot.
-000155f0: 2020 2020 7475 6265 446f 7562 6c65 4669      tubeDoubleFi
-00015600: 6775 7265 506c 6f74 735b 305d 2e74 6974  gurePlots[0].tit
-00015610: 6c65 2e73 6574 5f73 697a 6528 3132 290a  le.set_size(12).
-00015620: 2020 2020 7475 6265 446f 7562 6c65 4669      tubeDoubleFi
-00015630: 6775 7265 506c 6f74 735b 315d 2e74 6974  gurePlots[1].tit
-00015640: 6c65 2e73 6574 5f73 697a 6528 3132 290a  le.set_size(12).
-00015650: 2020 2020 6178 3070 6f73 203d 2074 7562      ax0pos = tub
-00015660: 6544 6f75 626c 6546 6967 7572 6550 6c6f  eDoubleFigurePlo
-00015670: 7473 5b30 5d2e 6765 745f 706f 7369 7469  ts[0].get_positi
-00015680: 6f6e 2829 0a20 2020 2061 7831 706f 7320  on().    ax1pos 
-00015690: 3d20 7475 6265 446f 7562 6c65 4669 6775  = tubeDoubleFigu
-000156a0: 7265 506c 6f74 735b 315d 2e67 6574 5f70  rePlots[1].get_p
-000156b0: 6f73 6974 696f 6e28 290a 2020 2020 6178  osition().    ax
-000156c0: 3270 6f73 203d 2074 7562 6544 6f75 626c  2pos = tubeDoubl
-000156d0: 6546 6967 7572 6550 6c6f 7473 5b32 5d2e  eFigurePlots[2].
-000156e0: 6765 745f 706f 7369 7469 6f6e 2829 0a20  get_position(). 
-000156f0: 2020 2074 7562 6544 6f75 626c 6546 6967     tubeDoubleFig
-00015700: 7572 6550 6c6f 7473 5b30 5d2e 7365 745f  urePlots[0].set_
-00015710: 706f 7369 7469 6f6e 285b 6178 3070 6f73  position([ax0pos
-00015720: 2e78 302c 2061 7830 706f 732e 7930 2b30  .x0, ax0pos.y0+0
-00015730: 2e31 2c20 6178 3070 6f73 2e77 6964 7468  .1, ax0pos.width
-00015740: 2c20 6178 3070 6f73 2e68 6569 6768 7420  , ax0pos.height 
-00015750: 2a20 302e 385d 290a 2020 2020 7475 6265  * 0.8]).    tube
-00015760: 446f 7562 6c65 4669 6775 7265 506c 6f74  DoubleFigurePlot
-00015770: 735b 315d 2e73 6574 5f70 6f73 6974 696f  s[1].set_positio
-00015780: 6e28 5b61 7831 706f 732e 7830 2c20 6178  n([ax1pos.x0, ax
-00015790: 3170 6f73 2e79 302b 302e 312c 2061 7831  1pos.y0+0.1, ax1
-000157a0: 706f 732e 7769 6474 682c 2061 7831 706f  pos.width, ax1po
-000157b0: 732e 6865 6967 6874 202a 2030 2e38 5d29  s.height * 0.8])
-000157c0: 0a20 2020 2074 7562 6544 6f75 626c 6546  .    tubeDoubleF
-000157d0: 6967 7572 6550 6c6f 7473 5b32 5d2e 7365  igurePlots[2].se
-000157e0: 745f 706f 7369 7469 6f6e 285b 6178 3270  t_position([ax2p
-000157f0: 6f73 2e78 302c 2061 7832 706f 732e 7930  os.x0, ax2pos.y0
-00015800: 2b30 2e31 2c20 6178 3270 6f73 2e77 6964  +0.1, ax2pos.wid
-00015810: 7468 2c20 6178 3270 6f73 2e68 6569 6768  th, ax2pos.heigh
-00015820: 7420 2a20 302e 385d 290a 0a20 2020 2069  t * 0.8])..    i
-00015830: 6620 6361 6e76 6173 2069 7320 6e6f 7420  f canvas is not 
-00015840: 4e6f 6e65 3a0a 2020 2020 2020 2020 6361  None:.        ca
-00015850: 6e76 6173 2e67 6574 5f74 6b5f 7769 6467  nvas.get_tk_widg
-00015860: 6574 2829 2e70 6163 6b5f 666f 7267 6574  et().pack_forget
-00015870: 2829 2020 2320 436c 6561 7220 706c 6f74  ()  # Clear plot
-00015880: 2063 616e 7661 730a 2020 2020 6361 6e76   canvas.    canv
-00015890: 6173 203d 2046 6967 7572 6543 616e 7661  as = FigureCanva
-000158a0: 7354 6b41 6767 2874 7562 6544 6f75 626c  sTkAgg(tubeDoubl
-000158b0: 6546 6967 7572 652c 206d 6173 7465 723d  eFigure, master=
-000158c0: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
-000158d0: 7443 616e 7661 7329 2020 2320 506f 7075  tCanvas)  # Popu
-000158e0: 6c61 7465 2070 6c6f 7420 6361 6e76 6173  late plot canvas
-000158f0: 2077 6974 6820 6669 6775 7265 0a20 2020   with figure.   
-00015900: 2063 616e 7661 732e 6472 6177 2829 2020   canvas.draw()  
-00015910: 2320 4472 6177 2066 6967 7572 6520 6f6e  # Draw figure on
-00015920: 746f 2063 616e 7661 730a 2020 2020 6361  to canvas.    ca
-00015930: 6e76 6173 2e67 6574 5f74 6b5f 7769 6467  nvas.get_tk_widg
-00015940: 6574 2829 2e70 6163 6b28 2920 2023 2050  et().pack()  # P
-00015950: 6163 6b20 706c 6f74 2063 616e 7661 730a  ack plot canvas.
-00015960: 2020 2020 706c 6f74 496d 6167 6541 7272      plotImageArr
-00015970: 6179 203d 2074 7562 6544 6f75 626c 6546  ay = tubeDoubleF
-00015980: 6967 7572 650a 0a0a 6465 6620 706f 7075  igure...def popu
-00015990: 6c61 7465 506c 6f74 5475 6265 5365 6c65  latePlotTubeSele
-000159a0: 6374 696f 6e4c 6973 7473 2829 3a0a 2020  ctionLists():.  
-000159b0: 2020 2222 2250 6f70 756c 6174 6520 706c    """Populate pl
-000159c0: 6f74 7469 6e67 206f 7074 696f 6e20 6c69  otting option li
-000159d0: 7374 7322 2222 0a0a 0a20 2020 2067 6c6f  sts"""...    glo
-000159e0: 6261 6c20 7475 6265 734d 6173 7465 720a  bal tubesMaster.
-000159f0: 2020 2020 676c 6f62 616c 2065 7870 6572      global exper
-00015a00: 696d 656e 7454 6162 506c 6f74 5475 6265  imentTabPlotTube
-00015a10: 5365 6c65 6374 696f 6e53 6574 4c69 7374  SelectionSetList
-00015a20: 0a20 2020 2067 6c6f 6261 6c20 6578 7065  .    global expe
-00015a30: 7269 6d65 6e74 5461 6250 6c6f 7454 7562  rimentTabPlotTub
-00015a40: 6553 656c 6563 7469 6f6e 5475 6265 4c69  eSelectionTubeLi
-00015a50: 7374 0a0a 0a20 2020 2023 4765 7420 696e  st...    #Get in
-00015a60: 666f 726d 6174 696f 6e20 666f 7220 7365  formation for se
-00015a70: 6c65 6374 6564 2073 6574 2061 6e64 2074  lected set and t
-00015a80: 7562 650a 2020 2020 7365 7473 546f 4469  ube.    setsToDi
-00015a90: 7370 6c61 7920 3d20 5b5d 2020 2320 426c  splay = []  # Bl
-00015aa0: 616e 6b20 6c69 7374 206f 6620 7475 6265  ank list of tube
-00015ab0: 2073 6574 730a 2020 2020 7475 6265 7354   sets.    tubesT
-00015ac0: 6f44 6973 706c 6179 203d 205b 5d20 2023  oDisplay = []  #
-00015ad0: 2042 6c61 6e6b 206c 6973 7420 6f66 2074   Blank list of t
-00015ae0: 7562 6573 0a20 2020 2073 6574 7353 656c  ubes.    setsSel
-00015af0: 6563 7465 6420 3d20 6578 7065 7269 6d65  ected = experime
-00015b00: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00015b10: 6563 7469 6f6e 5365 744c 6973 742e 7661  ectionSetList.va
-00015b20: 6c75 6520 2023 2053 6574 2073 656c 6563  lue  # Set selec
-00015b30: 7465 6420 7365 740a 2020 2020 6966 2073  ted set.    if s
-00015b40: 6574 7353 656c 6563 7465 6420 6973 204e  etsSelected is N
-00015b50: 6f6e 653a 2020 2320 4966 206e 6f20 7365  one:  # If no se
-00015b60: 7420 7365 6c65 6374 6564 0a20 2020 2020  t selected.     
-00015b70: 2020 2073 6574 7353 656c 6563 7465 6420     setsSelected 
-00015b80: 3d20 2222 2020 2320 5365 7420 7365 6c65  = ""  # Set sele
-00015b90: 6374 6564 2073 6574 2074 6f20 626c 616e  cted set to blan
-00015ba0: 6b20 7374 7269 6e67 2069 6e73 7465 6164  k string instead
-00015bb0: 206f 6620 4e6f 6e65 0a20 2020 2074 7562   of None.    tub
-00015bc0: 6553 656c 6563 7465 6420 3d20 6578 7065  eSelected = expe
-00015bd0: 7269 6d65 6e74 5461 6250 6c6f 7454 7562  rimentTabPlotTub
-00015be0: 6553 656c 6563 7469 6f6e 5475 6265 4c69  eSelectionTubeLi
-00015bf0: 7374 2e76 616c 7565 2020 2320 5365 7420  st.value  # Set 
-00015c00: 7365 6c65 6374 6564 2074 7562 650a 2020  selected tube.  
-00015c10: 2020 6966 2074 7562 6553 656c 6563 7465    if tubeSelecte
-00015c20: 6420 6973 204e 6f6e 653a 2020 2320 4966  d is None:  # If
-00015c30: 206e 6f20 7475 6265 2073 656c 6563 7465   no tube selecte
-00015c40: 640a 2020 2020 2020 2020 7475 6265 5365  d.        tubeSe
-00015c50: 6c65 6374 6564 203d 2022 2220 2023 2053  lected = ""  # S
-00015c60: 6574 2073 656c 6563 7465 6420 7365 7420  et selected set 
-00015c70: 746f 2062 6c61 6e6b 2073 7472 696e 6720  to blank string 
-00015c80: 696e 7374 6561 6420 6f66 204e 6f6e 650a  instead of None.
-00015c90: 2020 2020 666f 7220 7475 6265 2069 6e20      for tube in 
-00015ca0: 7475 6265 734d 6173 7465 723a 2020 2320  tubesMaster:  # 
-00015cb0: 466f 7220 6561 6368 2074 7562 6520 696e  For each tube in
-00015cc0: 206d 6173 7465 7220 7475 6265 7320 6c69   master tubes li
-00015cd0: 7374 0a20 2020 2020 2020 2069 6620 7475  st.        if tu
-00015ce0: 6265 5b22 7365 744e 616d 6522 5d20 6e6f  be["setName"] no
-00015cf0: 7420 696e 2073 6574 7354 6f44 6973 706c  t in setsToDispl
-00015d00: 6179 3a20 2023 2049 6620 7365 7420 6e61  ay:  # If set na
-00015d10: 6d65 206f 6620 7475 6265 2069 7320 6e6f  me of tube is no
-00015d20: 7420 696e 206c 6973 7420 6f66 2073 6574  t in list of set
-00015d30: 206f 7074 696f 6e73 0a20 2020 2020 2020   options.       
-00015d40: 2020 2020 2073 6574 7354 6f44 6973 706c       setsToDispl
-00015d50: 6179 2e61 7070 656e 6428 7475 6265 5b22  ay.append(tube["
-00015d60: 7365 744e 616d 6522 5d29 2020 2320 4164  setName"])  # Ad
-00015d70: 6420 7475 6265 2073 6574 206e 616d 6520  d tube set name 
-00015d80: 746f 206c 6973 7420 6f66 2073 6574 206f  to list of set o
-00015d90: 7074 696f 6e73 0a20 2020 2020 2020 2069  ptions.        i
-00015da0: 6620 7475 6265 5b22 7365 744e 616d 6522  f tube["setName"
-00015db0: 5d20 696e 2073 6574 7353 656c 6563 7465  ] in setsSelecte
-00015dc0: 643a 2020 2320 4966 2074 7562 6520 7365  d:  # If tube se
-00015dd0: 7420 6e61 6d65 2069 7320 696e 206c 6973  t name is in lis
-00015de0: 7420 6f66 2073 656c 6563 7465 6420 7365  t of selected se
-00015df0: 7473 0a20 2020 2020 2020 2020 2020 2074  ts.            t
-00015e00: 7562 6573 546f 4469 7370 6c61 792e 6170  ubesToDisplay.ap
-00015e10: 7065 6e64 2874 7562 655b 2273 6574 4e61  pend(tube["setNa
-00015e20: 6d65 225d 202b 2022 207c 2022 202b 2073  me"] + " | " + s
-00015e30: 7472 2874 7562 655b 2274 7562 654e 756d  tr(tube["tubeNum
-00015e40: 6265 7222 5d20 2b20 3129 2920 2023 2041  ber"] + 1))  # A
-00015e50: 6464 2073 6574 2061 6e64 2074 7562 6520  dd set and tube 
-00015e60: 746f 206c 6973 7420 6f66 2074 7562 6520  to list of tube 
-00015e70: 6f70 7469 6f6e 730a 2020 2020 0a20 2020  options.    .   
-00015e80: 2023 2041 6363 6f75 6e74 2066 6f72 206e   # Account for n
-00015e90: 6577 2066 696c 6520 6f70 656e 730a 2020  ew file opens.  
-00015ea0: 2020 6966 2073 6f72 7465 6428 6578 7065    if sorted(expe
-00015eb0: 7269 6d65 6e74 5461 6250 6c6f 7454 7562  rimentTabPlotTub
-00015ec0: 6553 656c 6563 7469 6f6e 5365 744c 6973  eSelectionSetLis
-00015ed0: 742e 6974 656d 7329 2021 3d20 736f 7274  t.items) != sort
-00015ee0: 6564 2873 6574 7354 6f44 6973 706c 6179  ed(setsToDisplay
-00015ef0: 293a 2020 2320 4966 2073 6574 7320 696e  ):  # If sets in
-00015f00: 206c 6973 7420 646f 6e27 7420 6d61 7463   list don't matc
-00015f10: 6820 6375 7272 656e 7420 6f70 656e 2066  h current open f
-00015f20: 696c 650a 2020 2020 2020 2020 7768 696c  ile.        whil
-00015f30: 6520 6c65 6e28 6578 7065 7269 6d65 6e74  e len(experiment
-00015f40: 5461 6250 6c6f 7454 7562 6553 656c 6563  TabPlotTubeSelec
-00015f50: 7469 6f6e 5365 744c 6973 742e 6974 656d  tionSetList.item
-00015f60: 7329 203e 2030 3a20 2023 2055 6e74 696c  s) > 0:  # Until
-00015f70: 2073 6574 206c 6973 7420 6973 2065 6d70   set list is emp
-00015f80: 7479 0a20 2020 2020 2020 2020 2020 2066  ty.            f
-00015f90: 6f72 2069 7465 6d20 696e 2065 7870 6572  or item in exper
-00015fa0: 696d 656e 7454 6162 506c 6f74 5475 6265  imentTabPlotTube
-00015fb0: 5365 6c65 6374 696f 6e53 6574 4c69 7374  SelectionSetList
-00015fc0: 2e69 7465 6d73 3a20 2023 2046 6f72 2065  .items:  # For e
-00015fd0: 6163 6820 6974 656d 2069 6e20 7365 7420  ach item in set 
-00015fe0: 6c69 7374 0a20 2020 2020 2020 2020 2020  list.           
-00015ff0: 2020 2020 2065 7870 6572 696d 656e 7454       experimentT
-00016000: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
-00016010: 696f 6e53 6574 4c69 7374 2e72 656d 6f76  ionSetList.remov
-00016020: 6528 6974 656d 2920 2023 2052 656d 6f76  e(item)  # Remov
-00016030: 6520 6974 656d 2066 726f 6d20 7365 7420  e item from set 
-00016040: 6c69 7374 0a20 2020 2020 2020 2066 6f72  list.        for
-00016050: 2069 6e64 6578 2c20 7365 744e 616d 6520   index, setName 
-00016060: 696e 2065 6e75 6d65 7261 7465 2873 6574  in enumerate(set
-00016070: 7354 6f44 6973 706c 6179 293a 2020 2320  sToDisplay):  # 
-00016080: 466f 7220 6561 6368 2073 6574 2074 6f20  For each set to 
-00016090: 6469 7370 6c61 790a 2020 2020 2020 2020  display.        
-000160a0: 2020 2020 6578 7065 7269 6d65 6e74 5461      experimentTa
-000160b0: 6250 6c6f 7454 7562 6553 656c 6563 7469  bPlotTubeSelecti
-000160c0: 6f6e 5365 744c 6973 742e 696e 7365 7274  onSetList.insert
-000160d0: 2869 6e64 6578 2c20 7365 744e 616d 6529  (index, setName)
-000160e0: 2020 2320 4164 6420 7365 7420 6e61 6d65    # Add set name
-000160f0: 2074 6f20 7475 6265 206c 6973 740a 2020   to tube list.  
-00016100: 2020 2020 2020 7365 7473 5365 6c65 6374        setsSelect
-00016110: 6564 203d 205b 5d0a 2020 2020 0a20 2020  ed = [].    .   
-00016120: 2023 4368 616e 6765 2065 6c65 6d65 6e74   #Change element
-00016130: 7320 6f66 2073 6574 2061 6e64 2074 7562  s of set and tub
-00016140: 6520 6c69 7374 7320 746f 2072 6566 6c65  e lists to refle
-00016150: 6374 2075 7365 7220 7365 6c65 6374 696f  ct user selectio
-00016160: 6e73 0a20 2020 2069 6620 6c65 6e28 6578  ns.    if len(ex
-00016170: 7065 7269 6d65 6e74 5461 6250 6c6f 7454  perimentTabPlotT
-00016180: 7562 6553 656c 6563 7469 6f6e 5365 744c  ubeSelectionSetL
-00016190: 6973 742e 6974 656d 7329 203d 3d20 303a  ist.items) == 0:
-000161a0: 2020 2320 4966 2073 6574 206c 6973 7420    # If set list 
-000161b0: 6973 2065 6d70 7479 0a20 2020 2020 2020  is empty.       
-000161c0: 2066 6f72 2069 6e64 6578 2c20 7365 744e   for index, setN
-000161d0: 616d 6520 696e 2065 6e75 6d65 7261 7465  ame in enumerate
-000161e0: 2873 6574 7354 6f44 6973 706c 6179 293a  (setsToDisplay):
-000161f0: 2020 2320 466f 7220 6561 6368 2073 6574    # For each set
-00016200: 2074 6f20 6469 7370 6c61 790a 2020 2020   to display.    
-00016210: 2020 2020 2020 2020 6578 7065 7269 6d65          experime
-00016220: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00016230: 6563 7469 6f6e 5365 744c 6973 742e 696e  ectionSetList.in
-00016240: 7365 7274 2869 6e64 6578 2c20 7365 744e  sert(index, setN
-00016250: 616d 6529 2020 2320 4164 6420 7365 7420  ame)  # Add set 
-00016260: 6e61 6d65 2074 6f20 7365 7420 6c69 7374  name to set list
-00016270: 0a20 2020 2077 6869 6c65 206c 656e 2865  .    while len(e
-00016280: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
-00016290: 5475 6265 5365 6c65 6374 696f 6e54 7562  TubeSelectionTub
-000162a0: 654c 6973 742e 6974 656d 7329 203e 2030  eList.items) > 0
-000162b0: 3a20 2023 2055 6e74 696c 2074 7562 6520  :  # Until tube 
-000162c0: 6c69 7374 2069 7320 656d 7074 790a 2020  list is empty.  
-000162d0: 2020 2020 2020 666f 7220 6974 656d 2069        for item i
-000162e0: 6e20 6578 7065 7269 6d65 6e74 5461 6250  n experimentTabP
-000162f0: 6c6f 7454 7562 6553 656c 6563 7469 6f6e  lotTubeSelection
-00016300: 5475 6265 4c69 7374 2e69 7465 6d73 3a20  TubeList.items: 
-00016310: 2023 2046 6f72 2065 6163 6820 6974 656d   # For each item
-00016320: 2069 6e20 7475 6265 206c 6973 740a 2020   in tube list.  
-00016330: 2020 2020 2020 2020 2020 6578 7065 7269            experi
-00016340: 6d65 6e74 5461 6250 6c6f 7454 7562 6553  mentTabPlotTubeS
-00016350: 656c 6563 7469 6f6e 5475 6265 4c69 7374  electionTubeList
-00016360: 2e72 656d 6f76 6528 6974 656d 2920 2023  .remove(item)  #
-00016370: 2052 656d 6f76 6520 6974 656d 2066 726f   Remove item fro
-00016380: 6d20 7475 6265 206c 6973 740a 2020 2020  m tube list.    
-00016390: 666f 7220 696e 6465 782c 2074 7562 654e  for index, tubeN
-000163a0: 616d 6520 696e 2065 6e75 6d65 7261 7465  ame in enumerate
-000163b0: 2874 7562 6573 546f 4469 7370 6c61 7929  (tubesToDisplay)
-000163c0: 3a20 2023 2046 6f72 2065 6163 6820 7475  :  # For each tu
-000163d0: 6265 2074 6f20 6469 7370 6c61 790a 2020  be to display.  
-000163e0: 2020 2020 2020 6578 7065 7269 6d65 6e74        experiment
-000163f0: 5461 6250 6c6f 7454 7562 6553 656c 6563  TabPlotTubeSelec
-00016400: 7469 6f6e 5475 6265 4c69 7374 2e69 6e73  tionTubeList.ins
-00016410: 6572 7428 696e 6465 782c 2074 7562 654e  ert(index, tubeN
-00016420: 616d 6529 2020 2320 4164 6420 7475 6265  ame)  # Add tube
-00016430: 206e 616d 6520 746f 2074 7562 6520 6c69   name to tube li
-00016440: 7374 0a20 2020 2065 7870 6572 696d 656e  st.    experimen
-00016450: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
-00016460: 6374 696f 6e54 7562 654c 6973 742e 7661  ctionTubeList.va
-00016470: 6c75 6520 3d20 7475 6265 5365 6c65 6374  lue = tubeSelect
-00016480: 6564 2020 2320 5072 6573 656c 6563 7420  ed  # Preselect 
-00016490: 7573 6572 2d73 7065 6369 6669 6564 2074  user-specified t
-000164a0: 7562 6573 0a0a 0a64 6566 2073 6176 6553  ubes...def saveS
-000164b0: 7461 7469 7374 6963 616c 416e 616c 7973  tatisticalAnalys
-000164c0: 6973 4461 7461 2829 3a0a 2020 2020 2222  isData():.    ""
-000164d0: 2253 6176 6520 7374 6174 6973 7469 6361  "Save statistica
-000164e0: 6c20 616e 616c 7973 6973 206f 7574 7075  l analysis outpu
-000164f0: 7420 6173 2063 7376 2e22 2222 0a20 2020  t as csv.""".   
-00016500: 200a 2020 2020 0a20 2020 2067 6c6f 6261   .    .    globa
-00016510: 6c20 776f 726b 696e 6744 6972 0a20 2020  l workingDir.   
-00016520: 2067 6c6f 6261 6c20 6578 7065 7269 6d65   global experime
-00016530: 6e74 5461 6253 7461 7469 7374 6963 616c  ntTabStatistical
-00016540: 416e 616c 7973 6973 5365 744c 6973 740a  AnalysisSetList.
-00016550: 2020 2020 676c 6f62 616c 2065 7870 6572      global exper
-00016560: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
-00016570: 6361 6c41 6e61 6c79 7369 7354 7562 654c  calAnalysisTubeL
-00016580: 6973 740a 2020 2020 676c 6f62 616c 2065  ist.    global e
-00016590: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
-000165a0: 6550 6172 616d 7348 7273 4c6f 7744 726f  eParamsHrsLowDro
-000165b0: 7064 6f77 6e0a 2020 2020 676c 6f62 616c  pdown.    global
-000165c0: 2065 7870 6572 696d 656e 7454 6162 5461   experimentTabTa
-000165d0: 626c 6550 6172 616d 7348 7273 4869 6768  bleParamsHrsHigh
-000165e0: 4472 6f70 646f 776e 0a20 2020 2067 6c6f  Dropdown.    glo
-000165f0: 6261 6c20 7475 6265 734d 6173 7465 720a  bal tubesMaster.
-00016600: 2020 2020 0a0a 2020 2020 2320 4765 7420      ..    # Get 
-00016610: 696e 666f 726d 6174 696f 6e20 6f66 2073  information of s
-00016620: 656c 6563 7465 6420 7475 6265 730a 2020  elected tubes.  
-00016630: 2020 7365 744e 616d 6573 5365 6c65 6374    setNamesSelect
-00016640: 6564 203d 2065 7870 6572 696d 656e 7454  ed = experimentT
-00016650: 6162 5374 6174 6973 7469 6361 6c41 6e61  abStatisticalAna
-00016660: 6c79 7369 7353 6574 4c69 7374 2e76 616c  lysisSetList.val
-00016670: 7565 0a20 2020 2074 7562 6573 5365 6c65  ue.    tubesSele
-00016680: 6374 6564 203d 2065 7870 6572 696d 656e  cted = experimen
-00016690: 7454 6162 5374 6174 6973 7469 6361 6c41  tTabStatisticalA
-000166a0: 6e61 6c79 7369 7354 7562 654c 6973 742e  nalysisTubeList.
-000166b0: 7661 6c75 650a 2020 2020 6669 6c65 526f  value.    fileRo
-000166c0: 7773 203d 205b 5d20 2023 2042 6c61 6e6b  ws = []  # Blank
-000166d0: 206c 6973 7420 6f66 2070 6572 696f 6473   list of periods
-000166e0: 2066 6f72 2061 6e61 6c79 7369 730a 2020   for analysis.  
-000166f0: 2020 666f 7220 7475 6265 2069 6e20 7475    for tube in tu
-00016700: 6265 734d 6173 7465 723a 2020 2320 466f  besMaster:  # Fo
-00016710: 7220 6561 6368 2074 7562 6520 696e 206d  r each tube in m
-00016720: 6173 7465 7220 7475 6265 7320 6c69 7374  aster tubes list
-00016730: 0a20 2020 2020 2020 2069 6620 2874 7562  .        if (tub
-00016740: 655b 2273 6574 4e61 6d65 225d 202b 2022  e["setName"] + "
-00016750: 207c 2022 202b 2073 7472 2874 7562 655b   | " + str(tube[
-00016760: 2274 7562 654e 756d 6265 7222 5d20 2b20  "tubeNumber"] + 
-00016770: 3129 2920 696e 2074 7562 6573 5365 6c65  1)) in tubesSele
-00016780: 6374 6564 3a20 2023 2049 6620 7475 6265  cted:  # If tube
-00016790: 2061 6e64 2073 6574 206e 616d 6520 6d61   and set name ma
-000167a0: 7463 6820 6120 7365 6c65 6374 6564 2074  tch a selected t
-000167b0: 7562 6520 6f70 7469 6f6e 0a20 2020 2020  ube option.     
-000167c0: 2020 2020 2020 2070 6572 696f 6473 203d         periods =
-000167d0: 2063 616c 6375 6c61 7465 5065 7269 6f64   calculatePeriod
-000167e0: 4461 7461 2874 7562 655b 2264 656e 7369  Data(tube["densi
-000167f0: 7479 5072 6f66 696c 6522 5d2c 2074 7562  tyProfile"], tub
-00016800: 655b 226d 6172 6b48 6f75 7273 225d 2c20  e["markHours"], 
-00016810: 7475 6265 5b22 7469 6d65 4d61 726b 7322  tube["timeMarks"
-00016820: 5d2c 2074 7562 655b 2262 616e 644d 6172  ], tube["bandMar
-00016830: 6b73 225d 2c20 3134 2c20 3332 2c20 7475  ks"], 14, 32, tu
-00016840: 6265 5b22 7475 6265 5261 6e67 6522 5d2c  be["tubeRange"],
-00016850: 2066 6c6f 6174 2865 7870 6572 696d 656e   float(experimen
-00016860: 7454 6162 5461 626c 6550 6172 616d 7348  tTabTableParamsH
-00016870: 7273 4c6f 7744 726f 7064 6f77 6e2e 7661  rsLowDropdown.va
-00016880: 6c75 6529 2c20 666c 6f61 7428 6578 7065  lue), float(expe
-00016890: 7269 6d65 6e74 5461 6254 6162 6c65 5061  rimentTabTablePa
-000168a0: 7261 6d73 4872 7348 6967 6844 726f 7064  ramsHrsHighDropd
-000168b0: 6f77 6e2e 7661 6c75 6529 290a 2020 2020  own.value)).    
-000168c0: 2020 2020 2020 2020 6669 6c65 526f 7720          fileRow 
-000168d0: 3d20 5b74 7562 655b 2273 6574 4e61 6d65  = [tube["setName
-000168e0: 225d 2c20 7374 7228 7475 6265 5b22 7475  "], str(tube["tu
-000168f0: 6265 4e75 6d62 6572 225d 2b31 292c 2072  beNumber"]+1), r
-00016900: 6f75 6e64 2870 6572 696f 6473 5b22 7065  ound(periods["pe
-00016910: 7269 6f64 4c69 6e65 6172 5265 6772 6573  riodLinearRegres
-00016920: 7369 6f6e 225d 2c20 3329 2c20 726f 756e  sion"], 3), roun
-00016930: 6428 7065 7269 6f64 735b 2270 6572 696f  d(periods["perio
-00016940: 6453 6f6b 6f6c 6f76 6542 7573 6865 6c6c  dSokoloveBushell
-00016950: 225d 2c20 3329 2c20 726f 756e 6428 7065  "], 3), round(pe
-00016960: 7269 6f64 735b 2270 6572 696f 644c 6f6d  riods["periodLom
-00016970: 6253 6361 7267 6c65 225d 2c20 3329 2c20  bScargle"], 3), 
-00016980: 726f 756e 6428 7065 7269 6f64 735b 2270  round(periods["p
-00016990: 6572 696f 6457 6176 656c 6574 225d 2c20  eriodWavelet"], 
-000169a0: 3329 5d20 2023 204c 6973 7420 6f66 2073  3)]  # List of s
-000169b0: 6574 206e 616d 652c 2074 7562 6520 6e61  et name, tube na
-000169c0: 6d65 2c20 616e 6420 616c 6c20 7468 7265  me, and all thre
-000169d0: 6520 7065 7269 6f64 7320 666f 7220 6561  e periods for ea
-000169e0: 6368 2074 7562 650a 2020 2020 2020 2020  ch tube.        
-000169f0: 2020 2020 6669 6c65 526f 7773 2e61 7070      fileRows.app
-00016a00: 656e 6428 6669 6c65 526f 7729 2020 2320  end(fileRow)  # 
-00016a10: 4164 6420 7365 6c65 6374 6564 2070 6572  Add selected per
-00016a20: 696f 6420 746f 206c 6973 7420 6f66 2070  iod to list of p
-00016a30: 6572 696f 6473 2066 6f72 2061 6e61 6c79  eriods for analy
-00016a40: 7369 730a 2020 2020 0a20 2020 2023 4372  sis.    .    #Cr
-00016a50: 6561 7465 2066 696c 6520 636f 6e74 656e  eate file conten
-00016a60: 7473 0a20 2020 2070 6572 696f 6473 4d61  ts.    periodsMa
-00016a70: 6e75 616c 203d 205b 5d20 2023 2042 6c61  nual = []  # Bla
-00016a80: 6e6b 206c 6973 7420 666f 7220 6d61 6e75  nk list for manu
-00016a90: 616c 2070 6572 696f 6473 0a20 2020 2070  al periods.    p
-00016aa0: 6572 696f 6473 536f 6b6f 6c6f 7665 4275  eriodsSokoloveBu
-00016ab0: 7368 656c 6c3d 205b 5d20 2023 2042 6c61  shell= []  # Bla
-00016ac0: 6e6b 206c 6973 7420 666f 7220 532d 4220  nk list for S-B 
-00016ad0: 7065 7269 6f64 730a 2020 2020 7065 7269  periods.    peri
-00016ae0: 6f64 734c 6f6d 6253 6361 7267 6c65 203d  odsLombScargle =
-00016af0: 205b 5d20 2023 2042 6c61 6e6b 206c 6973   []  # Blank lis
-00016b00: 7420 666f 7220 4c2d 5320 7065 7269 6f64  t for L-S period
-00016b10: 730a 2020 2020 666f 7220 726f 7720 696e  s.    for row in
-00016b20: 2066 696c 6552 6f77 733a 2020 2320 466f   fileRows:  # Fo
-00016b30: 7220 6561 6368 2066 696c 6520 726f 770a  r each file row.
-00016b40: 2020 2020 2020 2020 7065 7269 6f64 734d          periodsM
-00016b50: 616e 7561 6c2e 6170 7065 6e64 2872 6f77  anual.append(row
-00016b60: 5b32 5d29 2020 2320 4164 6420 6d61 6e75  [2])  # Add manu
-00016b70: 616c 2070 6572 696f 6420 746f 206c 6973  al period to lis
-00016b80: 7420 6f66 206d 616e 7561 6c20 7065 7269  t of manual peri
-00016b90: 6f64 730a 2020 2020 2020 2020 7065 7269  ods.        peri
-00016ba0: 6f64 7353 6f6b 6f6c 6f76 6542 7573 6865  odsSokoloveBushe
-00016bb0: 6c6c 2e61 7070 656e 6428 726f 775b 335d  ll.append(row[3]
-00016bc0: 2920 2023 2041 6464 2053 2d42 2070 6572  )  # Add S-B per
-00016bd0: 696f 6420 746f 206c 6973 7420 6f66 2053  iod to list of S
-00016be0: 2d42 2070 6572 696f 6473 0a20 2020 2020  -B periods.     
-00016bf0: 2020 2070 6572 696f 6473 4c6f 6d62 5363     periodsLombSc
-00016c00: 6172 676c 652e 6170 7065 6e64 2872 6f77  argle.append(row
-00016c10: 5b34 5d29 2020 2320 4164 6420 4c2d 5320  [4])  # Add L-S 
-00016c20: 7065 7269 6f64 2074 6f20 6c69 7374 206f  period to list o
-00016c30: 6620 4c2d 5320 7065 7269 6f64 730a 2020  f L-S periods.  
-00016c40: 2020 6669 6c65 526f 7773 2e61 7070 656e    fileRows.appen
-00016c50: 6428 5b22 4d65 616e 222c 2022 6e20 3d20  d(["Mean", "n = 
-00016c60: 222b 7374 7228 6c65 6e28 7065 7269 6f64  "+str(len(period
-00016c70: 734d 616e 7561 6c29 292c 206e 756d 7079  sManual)), numpy
-00016c80: 2e6d 6561 6e28 7065 7269 6f64 734d 616e  .mean(periodsMan
-00016c90: 7561 6c29 2c20 6e75 6d70 792e 6d65 616e  ual), numpy.mean
-00016ca0: 2870 6572 696f 6473 536f 6b6f 6c6f 7665  (periodsSokolove
-00016cb0: 4275 7368 656c 6c29 2c20 6e75 6d70 792e  Bushell), numpy.
-00016cc0: 6d65 616e 2870 6572 696f 6473 4c6f 6d62  mean(periodsLomb
-00016cd0: 5363 6172 676c 6529 5d29 2020 2320 4164  Scargle)])  # Ad
-00016ce0: 6420 726f 7720 746f 2066 696c 6520 666f  d row to file fo
-00016cf0: 7220 6d65 616e 7320 6f66 2065 6163 6820  r means of each 
-00016d00: 7065 7269 6f64 2074 7970 650a 2020 2020  period type.    
-00016d10: 6669 6c65 526f 7773 2e61 7070 656e 6428  fileRows.append(
-00016d20: 5b22 5374 616e 6461 7264 2044 6576 6961  ["Standard Devia
-00016d30: 7469 6f6e 222c 2022 222c 206e 756d 7079  tion", "", numpy
-00016d40: 2e73 7464 2870 6572 696f 6473 4d61 6e75  .std(periodsManu
-00016d50: 616c 292c 206e 756d 7079 2e73 7464 2870  al), numpy.std(p
-00016d60: 6572 696f 6473 536f 6b6f 6c6f 7665 4275  eriodsSokoloveBu
-00016d70: 7368 656c 6c29 2c20 6e75 6d70 792e 7374  shell), numpy.st
-00016d80: 6428 7065 7269 6f64 734c 6f6d 6253 6361  d(periodsLombSca
-00016d90: 7267 6c65 295d 2920 2023 2041 6464 2072  rgle)])  # Add r
-00016da0: 6f77 2074 6f20 6669 6c65 2066 6f72 2073  ow to file for s
-00016db0: 7461 6e64 6172 6420 6465 7669 6174 696f  tandard deviatio
-00016dc0: 6e73 206f 6620 6561 6368 2070 6572 696f  ns of each perio
-00016dd0: 6420 7479 7065 0a20 2020 2066 696c 6552  d type.    fileR
-00016de0: 6f77 732e 6170 7065 6e64 285b 2253 7461  ows.append(["Sta
-00016df0: 6e64 6172 6420 4572 726f 7220 6f66 204d  ndard Error of M
-00016e00: 6561 6e73 222c 2022 222c 206e 756d 7079  eans", "", numpy
-00016e10: 2e73 7464 2870 6572 696f 6473 4d61 6e75  .std(periodsManu
-00016e20: 616c 292f 6e75 6d70 792e 7371 7274 286c  al)/numpy.sqrt(l
-00016e30: 656e 2870 6572 696f 6473 4d61 6e75 616c  en(periodsManual
-00016e40: 2929 2c20 6e75 6d70 792e 7374 6428 7065  )), numpy.std(pe
-00016e50: 7269 6f64 7353 6f6b 6f6c 6f76 6542 7573  riodsSokoloveBus
-00016e60: 6865 6c6c 292f 6e75 6d70 792e 7371 7274  hell)/numpy.sqrt
-00016e70: 286c 656e 2870 6572 696f 6473 536f 6b6f  (len(periodsSoko
-00016e80: 6c6f 7665 4275 7368 656c 6c29 292c 206e  loveBushell)), n
-00016e90: 756d 7079 2e73 7464 2870 6572 696f 6473  umpy.std(periods
-00016ea0: 4c6f 6d62 5363 6172 676c 6529 2f6e 756d  LombScargle)/num
-00016eb0: 7079 2e73 7172 7428 6c65 6e28 7065 7269  py.sqrt(len(peri
-00016ec0: 6f64 734c 6f6d 6253 6361 7267 6c65 2929  odsLombScargle))
-00016ed0: 5d29 2020 2320 4164 6420 726f 7720 746f  ])  # Add row to
-00016ee0: 2066 696c 6520 666f 7220 7374 616e 6461   file for standa
-00016ef0: 7264 2065 7272 6f72 7320 6f66 206d 6561  rd errors of mea
-00016f00: 6e73 206f 6620 6561 6368 2070 6572 696f  ns of each perio
-00016f10: 6420 7479 7065 0a20 2020 2064 6174 6146  d type.    dataF
-00016f20: 696c 654e 616d 6520 3d20 6170 702e 7365  ileName = app.se
-00016f30: 6c65 6374 5f66 696c 6528 0a20 2020 2020  lect_file(.     
-00016f40: 2020 2074 6974 6c65 3d22 5361 7665 2070     title="Save p
-00016f50: 6572 696f 6420 6461 7461 2061 732e 2e2e  eriod data as...
-00016f60: 222c 0a20 2020 2020 2020 2066 6f6c 6465  ",.        folde
-00016f70: 723d 776f 726b 696e 6744 6972 2c0a 2020  r=workingDir,.  
-00016f80: 2020 2020 2020 6669 6c65 7479 7065 733d        filetypes=
-00016f90: 5b5b 2243 5356 222c 2022 2a2e 6373 7622  [["CSV", "*.csv"
-00016fa0: 5d5d 2c0a 2020 2020 2020 2020 7361 7665  ]],.        save
-00016fb0: 3d54 7275 652c 0a20 2020 2020 2020 2066  =True,.        f
-00016fc0: 696c 656e 616d 653d 2822 5f22 2e6a 6f69  ilename=("_".joi
-00016fd0: 6e28 7365 744e 616d 6573 5365 6c65 6374  n(setNamesSelect
-00016fe0: 6564 2920 2b20 225f 7065 7269 6f64 5f64  ed) + "_period_d
-00016ff0: 6174 6122 292c 0a20 2020 2029 2020 2320  ata"),.    )  # 
-00017000: 4765 7420 7573 6572 2073 656c 6563 7469  Get user selecti
-00017010: 6f6e 206f 6620 6669 6c65 206e 616d 6520  on of file name 
-00017020: 616e 6420 6c6f 6361 7469 6f6e 2077 6974  and location wit
-00017030: 6820 6170 7020 706f 7075 700a 2020 2020  h app popup.    
-00017040: 7769 7468 206f 7065 6e28 6461 7461 4669  with open(dataFi
-00017050: 6c65 4e61 6d65 2c20 2777 272c 206e 6577  leName, 'w', new
-00017060: 6c69 6e65 3d27 272c 2065 6e63 6f64 696e  line='', encodin
-00017070: 673d 2775 7466 2d31 3627 2920 6173 2064  g='utf-16') as d
-00017080: 6174 6146 696c 653a 2020 2320 4f70 656e  ataFile:  # Open
-00017090: 2075 7365 722d 7370 6563 6966 6965 6420   user-specified 
-000170a0: 6373 7620 6669 6c65 206c 6f63 6174 696f  csv file locatio
-000170b0: 6e0a 2020 2020 2020 2020 726f 7757 7269  n.        rowWri
-000170c0: 7465 7220 3d20 6373 762e 7772 6974 6572  ter = csv.writer
-000170d0: 2864 6174 6146 696c 652c 2064 656c 696d  (dataFile, delim
-000170e0: 6974 6572 3d27 2c27 2920 2023 2057 7269  iter=',')  # Wri
-000170f0: 7465 2072 6f77 7320 6465 6c69 6d69 7465  te rows delimite
-00017100: 6420 6279 2022 2c22 0a20 2020 2020 2020  d by ",".       
-00017110: 2072 6f77 5772 6974 6572 2e77 7269 7465   rowWriter.write
-00017120: 726f 7728 5b22 5061 636b 204e 616d 6522  row(["Pack Name"
-00017130: 2c20 2254 7562 6520 2322 2c20 22cf 8420  , "Tube #", ".. 
-00017140: 2868 7273 2920 284c 696e 6561 7220 5265  (hrs) (Linear Re
-00017150: 6772 6573 7369 6f6e 2922 2c20 22cf 8420  gression)", ".. 
-00017160: 2868 7273 2920 2853 6f6b 6f6c 6f76 652d  (hrs) (Sokolove-
-00017170: 4275 7368 656c 6c29 222c 2022 cf84 2028  Bushell)", ".. (
-00017180: 6872 7329 2028 4c6f 6d62 2d53 6361 7267  hrs) (Lomb-Scarg
-00017190: 6c65 2922 5d29 2020 2320 5772 6974 6520  le)"])  # Write 
-000171a0: 7469 746c 6520 726f 770a 2020 2020 2020  title row.      
-000171b0: 2020 666f 7220 6669 6c65 526f 7720 696e    for fileRow in
-000171c0: 2066 696c 6552 6f77 733a 2020 2320 466f   fileRows:  # Fo
-000171d0: 7220 6561 6368 2066 696c 6520 726f 770a  r each file row.
-000171e0: 2020 2020 2020 2020 2020 2020 726f 7757              rowW
-000171f0: 7269 7465 722e 7772 6974 6572 6f77 2866  riter.writerow(f
-00017200: 696c 6552 6f77 2920 2023 2057 7269 7465  ileRow)  # Write
-00017210: 2072 6f77 2074 6f20 6669 6c65 0a0a 0a64   row to file...d
-00017220: 6566 2073 6176 6550 6c6f 7428 293a 0a20  ef savePlot():. 
-00017230: 2020 2022 2222 5361 7665 2070 6c6f 7420     """Save plot 
-00017240: 6173 2069 6d61 6765 2e22 2222 0a0a 0a20  as image."""... 
-00017250: 2020 2067 6c6f 6261 6c20 706c 6f74 496d     global plotIm
-00017260: 6167 6541 7272 6179 0a20 2020 2067 6c6f  ageArray.    glo
-00017270: 6261 6c20 776f 726b 696e 6744 6972 0a20  bal workingDir. 
-00017280: 2020 2067 6c6f 6261 6c20 6578 7065 7269     global experi
-00017290: 6d65 6e74 5461 6250 6c6f 7454 7562 6553  mentTabPlotTubeS
-000172a0: 656c 6563 7469 6f6e 5365 744c 6973 740a  electionSetList.
-000172b0: 2020 2020 676c 6f62 616c 2065 7870 6572      global exper
-000172c0: 696d 656e 7454 6162 506c 6f74 5475 6265  imentTabPlotTube
-000172d0: 5365 6c65 6374 696f 6e54 7562 654c 6973  SelectionTubeLis
-000172e0: 740a 2020 2020 0a0a 2020 2020 6966 2070  t.    ..    if p
-000172f0: 6c6f 7449 6d61 6765 4172 7261 7920 6973  lotImageArray is
-00017300: 206e 6f74 204e 6f6e 653a 2020 2320 4966   not None:  # If
-00017310: 2070 6c6f 7473 2068 6176 6520 616c 7265   plots have alre
-00017320: 6164 7920 6265 656e 2063 7265 6174 6564  ady been created
-00017330: 0a20 2020 2020 2020 2074 7562 654e 756d  .        tubeNum
-00017340: 6265 7220 3d20 6578 7065 7269 6d65 6e74  ber = experiment
-00017350: 5461 6250 6c6f 7454 7562 6553 656c 6563  TabPlotTubeSelec
-00017360: 7469 6f6e 5475 6265 4c69 7374 2e76 616c  tionTubeList.val
-00017370: 7565 5b65 7870 6572 696d 656e 7454 6162  ue[experimentTab
-00017380: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
-00017390: 6e54 7562 654c 6973 742e 7661 6c75 652e  nTubeList.value.
-000173a0: 7269 6e64 6578 2822 7c22 292b 323a 5d20  rindex("|")+2:] 
-000173b0: 2023 2047 6574 2074 7562 6520 6e75 6d62   # Get tube numb
-000173c0: 6572 2066 726f 6d20 7475 6265 206e 616d  er from tube nam
-000173d0: 6520 696e 2074 7562 6520 6c69 7374 2073  e in tube list s
-000173e0: 656c 6563 7469 6f6e 0a20 2020 2020 2020  election.       
-000173f0: 206d 6574 686f 6420 3d20 6578 7065 7269   method = experi
-00017400: 6d65 6e74 5461 6250 6c6f 7454 7562 6553  mentTabPlotTubeS
-00017410: 656c 6563 7469 6f6e 4d65 7468 6f64 4c69  electionMethodLi
-00017420: 7374 2e76 616c 7565 2e72 6570 6c61 6365  st.value.replace
-00017430: 2822 5761 7665 6c65 7420 2843 5754 2922  ("Wavelet (CWT)"
-00017440: 2c20 2243 5754 2229 2020 2320 4765 7420  , "CWT")  # Get 
-00017450: 6d65 7468 6f64 2066 726f 6d20 7365 6c65  method from sele
-00017460: 6374 696f 6e20 696e 206d 6574 686f 6420  ction in method 
-00017470: 6c69 7374 0a20 2020 2020 2020 2070 6c6f  list.        plo
-00017480: 7446 696c 654e 616d 6520 3d20 6170 702e  tFileName = app.
-00017490: 7365 6c65 6374 5f66 696c 6528 0a20 2020  select_file(.   
-000174a0: 2020 2020 2020 2020 2074 6974 6c65 3d22           title="
-000174b0: 5361 7665 2070 6c6f 7420 6173 2e2e 2e22  Save plot as..."
-000174c0: 2c0a 2020 2020 2020 2020 2020 2020 666f  ,.            fo
-000174d0: 6c64 6572 3d77 6f72 6b69 6e67 4469 722c  lder=workingDir,
-000174e0: 0a20 2020 2020 2020 2020 2020 2066 696c  .            fil
-000174f0: 6574 7970 6573 3d5b 5b22 5356 4722 2c20  etypes=[["SVG", 
-00017500: 222a 2e73 7667 225d 2c20 5b22 504e 4722  "*.svg"], ["PNG"
-00017510: 2c20 222a 2e70 6e67 225d 2c20 5b22 4a50  , "*.png"], ["JP
-00017520: 4722 2c20 222a 2e6a 7067 225d 2c20 5b22  G", "*.jpg"], ["
-00017530: 4a50 4547 222c 2022 2a2e 6a70 6567 225d  JPEG", "*.jpeg"]
-00017540: 2c20 5b22 5449 4646 222c 2022 2a2e 7469  , ["TIFF", "*.ti
-00017550: 6622 5d5d 2c0a 2020 2020 2020 2020 2020  f"]],.          
-00017560: 2020 7361 7665 3d54 7275 652c 0a20 2020    save=True,.   
-00017570: 2020 2020 2020 2020 2066 696c 656e 616d           filenam
-00017580: 653d 2865 7870 6572 696d 656e 7454 6162  e=(experimentTab
-00017590: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
-000175a0: 6e53 6574 4c69 7374 2e76 616c 7565 202b  nSetList.value +
-000175b0: 2022 5f74 7562 6522 202b 2074 7562 654e   "_tube" + tubeN
-000175c0: 756d 6265 7220 2b20 225f 2220 2b20 6d65  umber + "_" + me
-000175d0: 7468 6f64 292c 0a20 2020 2020 2020 2029  thod),.        )
-000175e0: 2020 2320 4765 7420 6669 6c65 206e 616d    # Get file nam
-000175f0: 6520 616e 6420 7361 7665 206c 6f63 6174  e and save locat
-00017600: 696f 6e20 6672 6f6d 2075 7365 7220 7669  ion from user vi
-00017610: 6120 6170 7020 706f 7075 700a 2020 2020  a app popup.    
-00017620: 2020 2020 6e65 7746 6967 7572 6520 3d20      newFigure = 
-00017630: 636f 7079 2e64 6565 7063 6f70 7928 706c  copy.deepcopy(pl
-00017640: 6f74 496d 6167 6541 7272 6179 290a 2020  otImageArray).  
-00017650: 2020 2020 2020 6e65 7746 6967 7572 652e        newFigure.
-00017660: 7365 745f 6470 6928 3132 3030 290a 2020  set_dpi(1200).  
-00017670: 2020 2020 2020 6e65 7746 6967 7572 652e        newFigure.
-00017680: 7361 7665 6669 6728 706c 6f74 4669 6c65  savefig(plotFile
-00017690: 4e61 6d65 2c20 6470 693d 3132 3030 290a  Name, dpi=1200).
-000176a0: 0a0a 6465 6620 7361 7665 4465 6e73 6974  ..def saveDensit
-000176b0: 6f6d 6574 7279 4461 7461 2829 3a0a 2020  ometryData():.  
-000176c0: 2020 2222 2253 6176 6520 6465 6e73 6974    """Save densit
-000176d0: 6f6d 6574 7279 2064 6174 6120 6173 2063  ometry data as c
-000176e0: 7376 2e22 2222 0a20 2020 200a 2020 2020  sv.""".    .    
-000176f0: 0a20 2020 2067 6c6f 6261 6c20 776f 726b  .    global work
-00017700: 696e 6744 6972 0a20 2020 2067 6c6f 6261  ingDir.    globa
-00017710: 6c20 6578 7065 7269 6d65 6e74 5461 6250  l experimentTabP
-00017720: 6c6f 7454 7562 6553 656c 6563 7469 6f6e  lotTubeSelection
-00017730: 5365 744c 6973 740a 2020 2020 676c 6f62  SetList.    glob
-00017740: 616c 2065 7870 6572 696d 656e 7454 6162  al experimentTab
-00017750: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
-00017760: 6e54 7562 654c 6973 740a 2020 2020 676c  nTubeList.    gl
-00017770: 6f62 616c 2065 7870 6572 696d 656e 7454  obal experimentT
-00017780: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
-00017790: 4c6f 7744 726f 7064 6f77 6e0a 2020 2020  LowDropdown.    
-000177a0: 676c 6f62 616c 2065 7870 6572 696d 656e  global experimen
-000177b0: 7454 6162 5461 626c 6550 6172 616d 7348  tTabTableParamsH
-000177c0: 7273 4869 6768 4472 6f70 646f 776e 0a20  rsHighDropdown. 
-000177d0: 2020 2067 6c6f 6261 6c20 7475 6265 734d     global tubesM
-000177e0: 6173 7465 720a 2020 2020 0a0a 2020 2020  aster.    ..    
-000177f0: 7365 744e 616d 6520 3d20 6578 7065 7269  setName = experi
-00017800: 6d65 6e74 5461 6250 6c6f 7454 7562 6553  mentTabPlotTubeS
-00017810: 656c 6563 7469 6f6e 5365 744c 6973 742e  electionSetList.
-00017820: 7661 6c75 6520 2023 2047 6574 2073 6574  value  # Get set
-00017830: 206e 616d 6520 6672 6f6d 2073 656c 6563   name from selec
-00017840: 7469 6f6e 2069 6e20 7365 7420 6c69 7374  tion in set list
-00017850: 200a 2020 2020 7475 6265 4e75 6d62 6572   .    tubeNumber
-00017860: 203d 2069 6e74 2865 7870 6572 696d 656e   = int(experimen
-00017870: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
-00017880: 6374 696f 6e54 7562 654c 6973 742e 7661  ctionTubeList.va
-00017890: 6c75 655b 6578 7065 7269 6d65 6e74 5461  lue[experimentTa
-000178a0: 6250 6c6f 7454 7562 6553 656c 6563 7469  bPlotTubeSelecti
-000178b0: 6f6e 5475 6265 4c69 7374 2e76 616c 7565  onTubeList.value
-000178c0: 2e72 696e 6465 7828 227c 2229 2b32 3a5d  .rindex("|")+2:]
-000178d0: 2920 2023 2047 6574 2074 7562 6520 6e75  )  # Get tube nu
-000178e0: 6d62 6572 2066 726f 6d20 7365 6c65 6374  mber from select
-000178f0: 6564 2074 7562 6520 6e61 6d65 2069 6e20  ed tube name in 
-00017900: 7475 6265 206c 6973 740a 2020 2020 6465  tube list.    de
-00017910: 6e73 6974 6f6d 6574 7279 4669 6c65 4e61  nsitometryFileNa
-00017920: 6d65 203d 2061 7070 2e73 656c 6563 745f  me = app.select_
-00017930: 6669 6c65 280a 2020 2020 2020 2020 7469  file(.        ti
-00017940: 746c 653d 2253 6176 6520 6465 6e73 6974  tle="Save densit
-00017950: 6f6d 6574 7279 2061 732e 2e2e 222c 0a20  ometry as...",. 
-00017960: 2020 2020 2020 2066 6f6c 6465 723d 776f         folder=wo
-00017970: 726b 696e 6744 6972 2c0a 2020 2020 2020  rkingDir,.      
-00017980: 2020 6669 6c65 7479 7065 733d 5b5b 2243    filetypes=[["C
-00017990: 5356 222c 2022 2a2e 6373 7622 5d5d 2c0a  SV", "*.csv"]],.
-000179a0: 2020 2020 2020 2020 7361 7665 3d54 7275          save=Tru
-000179b0: 652c 0a20 2020 2020 2020 2066 696c 656e  e,.        filen
-000179c0: 616d 653d 2873 6574 4e61 6d65 202b 2022  ame=(setName + "
-000179d0: 5f74 7562 6522 202b 2073 7472 2874 7562  _tube" + str(tub
-000179e0: 654e 756d 6265 7229 202b 2022 5f64 656e  eNumber) + "_den
-000179f0: 7369 746f 6d65 7472 795f 6461 7461 2229  sitometry_data")
-00017a00: 2c0a 2020 2020 2920 2023 2047 6574 2066  ,.    )  # Get f
-00017a10: 696c 6520 6e61 6d65 2061 6e64 2066 696c  ile name and fil
-00017a20: 6520 7361 7665 206c 6f63 6174 696f 6e20  e save location 
-00017a30: 6672 6f6d 2075 7365 7220 696e 7075 7420  from user input 
-00017a40: 6672 6f6d 2061 7070 2070 6f70 7570 0a20  from app popup. 
-00017a50: 2020 2064 656e 7369 7479 5072 6f66 696c     densityProfil
-00017a60: 6520 3d20 5b5d 2020 2320 426c 616e 6b20  e = []  # Blank 
-00017a70: 6c69 7374 2066 6f72 2064 656e 7369 7479  list for density
-00017a80: 2070 726f 6669 6c65 0a20 2020 2074 696d   profile.    tim
-00017a90: 654d 6172 6b73 203d 205b 5d20 2023 2042  eMarks = []  # B
-00017aa0: 6c61 6e6b 206c 6973 7420 666f 7220 7469  lank list for ti
-00017ab0: 6d65 206d 6172 6b73 0a20 2020 2062 616e  me marks.    ban
-00017ac0: 644d 6172 6b73 203d 205b 5d20 2023 2042  dMarks = []  # B
-00017ad0: 6c61 6e6b 206c 6973 7420 666f 7220 6261  lank list for ba
-00017ae0: 6e6b 206d 6172 6b73 0a20 2020 206d 6172  nk marks.    mar
-00017af0: 6b48 6f75 7273 203d 205b 5d20 2023 2042  kHours = []  # B
-00017b00: 6c61 6e6b 206c 6973 7420 666f 7220 6d61  lank list for ma
-00017b10: 726b 2068 6f75 7273 0a20 2020 2074 7562  rk hours.    tub
-00017b20: 6552 616e 6765 203d 205b 5d0a 2020 2020  eRange = [].    
-00017b30: 666f 7220 7475 6265 2069 6e20 7475 6265  for tube in tube
-00017b40: 734d 6173 7465 723a 2020 2320 466f 7220  sMaster:  # For 
-00017b50: 6561 6368 2074 7562 6520 696e 2067 6c6f  each tube in glo
-00017b60: 6261 6c20 6d61 7374 6572 2074 7562 6573  bal master tubes
-00017b70: 206c 6973 740a 2020 2020 2020 2020 6966   list.        if
-00017b80: 2074 7562 655b 2273 6574 4e61 6d65 225d   tube["setName"]
-00017b90: 203d 3d20 7365 744e 616d 6520 616e 6420   == setName and 
-00017ba0: 7475 6265 5b22 7475 6265 4e75 6d62 6572  tube["tubeNumber
-00017bb0: 225d 203d 3d20 7475 6265 4e75 6d62 6572  "] == tubeNumber
-00017bc0: 2d31 3a20 2023 2049 6620 7475 6265 206d  -1:  # If tube m
-00017bd0: 6174 6368 6573 2073 656c 6563 7465 6420  atches selected 
-00017be0: 7475 6265 0a20 2020 2020 2020 2020 2020  tube.           
-00017bf0: 2064 656e 7369 7479 5072 6f66 696c 6520   densityProfile 
-00017c00: 3d20 7475 6265 5b22 6465 6e73 6974 7950  = tube["densityP
-00017c10: 726f 6669 6c65 225d 2020 2320 5365 7420  rofile"]  # Set 
-00017c20: 6465 6e73 6974 7920 7072 6f66 696c 6520  density profile 
-00017c30: 746f 2063 7572 7265 6e74 2074 7562 6527  to current tube'
-00017c40: 7320 6465 6e73 6974 7920 7072 6f66 696c  s density profil
-00017c50: 650a 2020 2020 2020 2020 2020 2020 7469  e.            ti
-00017c60: 6d65 4d61 726b 7320 3d20 7475 6265 5b22  meMarks = tube["
-00017c70: 7469 6d65 4d61 726b 7322 5d0a 2020 2020  timeMarks"].    
-00017c80: 2020 2020 2020 2020 6d61 726b 486f 7572          markHour
-00017c90: 7320 3d20 7475 6265 5b22 6d61 726b 486f  s = tube["markHo
-00017ca0: 7572 7322 5d0a 2020 2020 2020 2020 2020  urs"].          
-00017cb0: 2020 6261 6e64 4d61 726b 7320 3d20 7475    bandMarks = tu
-00017cc0: 6265 5b22 6261 6e64 4d61 726b 7322 5d0a  be["bandMarks"].
-00017cd0: 2020 2020 2020 2020 2020 2020 7475 6265              tube
-00017ce0: 5261 6e67 6520 3d20 7475 6265 5b22 7475  Range = tube["tu
-00017cf0: 6265 5261 6e67 6522 5d0a 2020 2020 7065  beRange"].    pe
-00017d00: 7269 6f64 4461 7461 203d 2063 616c 6375  riodData = calcu
-00017d10: 6c61 7465 5065 7269 6f64 4461 7461 2864  latePeriodData(d
-00017d20: 656e 7369 7479 5072 6f66 696c 652c 206d  ensityProfile, m
-00017d30: 6172 6b48 6f75 7273 2c20 7469 6d65 4d61  arkHours, timeMa
-00017d40: 726b 732c 2062 616e 644d 6172 6b73 2c20  rks, bandMarks, 
-00017d50: 3134 2c20 3332 2c20 7475 6265 5261 6e67  14, 32, tubeRang
-00017d60: 652c 2066 6c6f 6174 2865 7870 6572 696d  e, float(experim
-00017d70: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
-00017d80: 7348 7273 4c6f 7744 726f 7064 6f77 6e2e  sHrsLowDropdown.
-00017d90: 7661 6c75 6529 2c20 666c 6f61 7428 6578  value), float(ex
-00017da0: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
-00017db0: 5061 7261 6d73 4872 7348 6967 6844 726f  ParamsHrsHighDro
-00017dc0: 7064 6f77 6e2e 7661 6c75 6529 290a 2020  pdown.value)).  
-00017dd0: 2020 6465 6e73 6974 6f6d 6574 7279 5856    densitometryXV
-00017de0: 616c 7348 6f75 7273 203d 2070 6572 696f  alsHours = perio
-00017df0: 6444 6174 615b 2264 656e 7369 746f 6d65  dData["densitome
-00017e00: 7472 7958 486f 7572 7322 5d0a 2020 2020  tryXHours"].    
-00017e10: 6465 6e73 6974 6f6d 6574 7279 436c 6970  densitometryClip
-00017e20: 7065 6420 3d20 7065 7269 6f64 4461 7461  ped = periodData
-00017e30: 5b22 6465 6e73 6974 7950 726f 6669 6c65  ["densityProfile
-00017e40: 225d 0a20 2020 2064 656e 7369 7479 5072  "].    densityPr
-00017e50: 6f66 696c 654e 6f54 696d 654d 6172 6b73  ofileNoTimeMarks
-00017e60: 203d 2070 6572 696f 6444 6174 615b 2264   = periodData["d
-00017e70: 656e 7369 7479 4e6f 5469 6d65 4d61 726b  ensityNoTimeMark
-00017e80: 7322 5d0a 2020 2020 6465 6e73 6974 7950  s"].    densityP
-00017e90: 726f 6669 6c65 536d 6f6f 7468 203d 2073  rofileSmooth = s
-00017ea0: 6176 676f 6c5f 6669 6c74 6572 2864 656e  avgol_filter(den
-00017eb0: 7369 7479 5072 6f66 696c 654e 6f54 696d  sityProfileNoTim
-00017ec0: 654d 6172 6b73 2c20 7769 6e64 6f77 5f6c  eMarks, window_l
-00017ed0: 656e 6774 683d 3330 2c20 706f 6c79 6f72  ength=30, polyor
-00017ee0: 6465 723d 342c 206d 6f64 653d 2269 6e74  der=4, mode="int
-00017ef0: 6572 7022 2920 2023 2043 7265 6174 6520  erp")  # Create 
-00017f00: 6c69 7374 2066 6f72 2053 6176 6974 7a6b  list for Savitzk
-00017f10: 792d 476f 6c61 7920 736d 6f6f 7468 6564  y-Golay smoothed
-00017f20: 2064 656e 7369 7479 2070 726f 6669 6c65   density profile
-00017f30: 206f 6620 6d61 726b 732d 636f 7272 6563   of marks-correc
-00017f40: 7465 6420 6461 7461 7365 7420 2352 4947  ted dataset #RIG
-00017f50: 4854 4845 5245 0a0a 2020 2020 7769 7468  HTHERE..    with
-00017f60: 206f 7065 6e28 6465 6e73 6974 6f6d 6574   open(densitomet
-00017f70: 7279 4669 6c65 4e61 6d65 2c20 2777 272c  ryFileName, 'w',
-00017f80: 206e 6577 6c69 6e65 3d27 272c 2065 6e63   newline='', enc
-00017f90: 6f64 696e 673d 2775 7466 2d31 3627 2920  oding='utf-16') 
-00017fa0: 6173 2063 7376 6669 6c65 3a20 2023 204f  as csvfile:  # O
-00017fb0: 7065 6e20 6373 7620 6669 6c65 0a20 2020  pen csv file.   
-00017fc0: 2020 2020 2072 6f77 5772 6974 6572 203d       rowWriter =
-00017fd0: 2063 7376 2e77 7269 7465 7228 6373 7666   csv.writer(csvf
-00017fe0: 696c 652c 2064 656c 696d 6974 6572 3d27  ile, delimiter='
-00017ff0: 2c27 2920 2023 2057 7269 7465 2074 6f20  ,')  # Write to 
-00018000: 6669 6c65 2064 656c 696d 6974 6564 2062  file delimited b
-00018010: 7920 222c 220a 2020 2020 2020 2020 726f  y ",".        ro
-00018020: 7757 7269 7465 722e 7772 6974 6572 6f77  wWriter.writerow
-00018030: 285b 2254 696d 6520 2868 7273 2922 2c20  (["Time (hrs)", 
-00018040: 2244 656e 7369 7479 2050 726f 6669 6c65  "Density Profile
-00018050: 222c 2022 496e 7465 7270 6f6c 6174 6564  ", "Interpolated
-00018060: 2044 656e 7369 7479 2050 726f 6669 6c65   Density Profile
-00018070: 2028 4e6f 2054 696d 6520 4d61 726b 7329   (No Time Marks)
-00018080: 225d 2920 2023 2057 7269 7465 2074 6974  "])  # Write tit
-00018090: 6c65 2072 6f77 2074 6f20 6669 6c65 0a20  le row to file. 
-000180a0: 2020 2020 2020 2066 6f72 2069 6e64 6578         for index
-000180b0: 2069 6e20 7261 6e67 6528 6c65 6e28 6465   in range(len(de
-000180c0: 6e73 6974 6f6d 6574 7279 436c 6970 7065  nsitometryClippe
-000180d0: 6429 293a 0a20 2020 2020 2020 2020 2020  d)):.           
-000180e0: 206e 6577 4c69 6e65 203d 205b 6465 6e73   newLine = [dens
-000180f0: 6974 6f6d 6574 7279 5856 616c 7348 6f75  itometryXValsHou
-00018100: 7273 5b69 6e64 6578 5d2c 2064 656e 7369  rs[index], densi
-00018110: 746f 6d65 7472 7943 6c69 7070 6564 5b69  tometryClipped[i
-00018120: 6e64 6578 5d2c 2064 656e 7369 7479 5072  ndex], densityPr
-00018130: 6f66 696c 6553 6d6f 6f74 685b 696e 6465  ofileSmooth[inde
-00018140: 785d 5d0a 2020 2020 2020 2020 2020 2020  x]].            
-00018150: 236e 6577 4c69 6e65 203d 205b 6465 6e73  #newLine = [dens
-00018160: 6974 6f6d 6574 7279 5856 616c 7348 6f75  itometryXValsHou
-00018170: 7273 5b69 6e64 6578 5d2c 2064 656e 7369  rs[index], densi
-00018180: 746f 6d65 7472 7943 6c69 7070 6564 5b69  tometryClipped[i
-00018190: 6e64 6578 5d5d 0a20 2020 2020 2020 2020  ndex]].         
-000181a0: 2020 2072 6f77 5772 6974 6572 2e77 7269     rowWriter.wri
-000181b0: 7465 726f 7728 6e65 774c 696e 6529 2020  terow(newLine)  
-000181c0: 2320 5772 6974 6520 726f 7720 746f 2066  # Write row to f
-000181d0: 696c 650a 0a0a 6465 6620 7361 7665 5065  ile...def savePe
-000181e0: 7269 6f64 6f67 7261 6d44 6174 6128 293a  riodogramData():
-000181f0: 0a20 2020 2022 2222 5361 7665 2070 6572  .    """Save per
-00018200: 696f 646f 6772 616d 2064 6174 6120 6173  iodogram data as
-00018210: 2063 7376 2e22 2222 0a20 2020 200a 2020   csv.""".    .  
-00018220: 2020 0a20 2020 2067 6c6f 6261 6c20 776f    .    global wo
-00018230: 726b 696e 6744 6972 0a20 2020 2067 6c6f  rkingDir.    glo
-00018240: 6261 6c20 6578 7065 7269 6d65 6e74 5461  bal experimentTa
-00018250: 6250 6c6f 7454 7562 6553 656c 6563 7469  bPlotTubeSelecti
-00018260: 6f6e 5365 744c 6973 740a 2020 2020 676c  onSetList.    gl
-00018270: 6f62 616c 2065 7870 6572 696d 656e 7454  obal experimentT
-00018280: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
-00018290: 696f 6e54 7562 654c 6973 740a 2020 2020  ionTubeList.    
-000182a0: 676c 6f62 616c 2065 7870 6572 696d 656e  global experimen
-000182b0: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
-000182c0: 6374 696f 6e4d 6574 686f 644c 6973 740a  ctionMethodList.
-000182d0: 2020 2020 676c 6f62 616c 2065 7870 6572      global exper
-000182e0: 696d 656e 7454 6162 5461 626c 6550 6172  imentTabTablePar
-000182f0: 616d 7348 7273 4c6f 7744 726f 7064 6f77  amsHrsLowDropdow
-00018300: 6e0a 2020 2020 676c 6f62 616c 2065 7870  n.    global exp
-00018310: 6572 696d 656e 7454 6162 5461 626c 6550  erimentTabTableP
-00018320: 6172 616d 7348 7273 4869 6768 4472 6f70  aramsHrsHighDrop
-00018330: 646f 776e 0a20 2020 2067 6c6f 6261 6c20  down.    global 
-00018340: 7475 6265 734d 6173 7465 720a 0a0a 2020  tubesMaster...  
-00018350: 2020 7365 744e 616d 6520 3d20 6578 7065    setName = expe
-00018360: 7269 6d65 6e74 5461 6250 6c6f 7454 7562  rimentTabPlotTub
-00018370: 6553 656c 6563 7469 6f6e 5365 744c 6973  eSelectionSetLis
-00018380: 742e 7661 6c75 6520 2023 2047 6574 2073  t.value  # Get s
-00018390: 6574 206e 616d 6520 6672 6f6d 2073 656c  et name from sel
-000183a0: 6563 7469 6f6e 2069 6e20 7365 7420 6c69  ection in set li
-000183b0: 7374 0a20 2020 2074 7562 654e 756d 6265  st.    tubeNumbe
-000183c0: 7220 3d20 696e 7428 6578 7065 7269 6d65  r = int(experime
-000183d0: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-000183e0: 6563 7469 6f6e 5475 6265 4c69 7374 2e76  ectionTubeList.v
-000183f0: 616c 7565 5b65 7870 6572 696d 656e 7454  alue[experimentT
-00018400: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
-00018410: 696f 6e54 7562 654c 6973 742e 7661 6c75  ionTubeList.valu
-00018420: 652e 7269 6e64 6578 2822 7c22 292b 323a  e.rindex("|")+2:
-00018430: 5d29 2020 2320 4765 7420 7475 6265 206e  ])  # Get tube n
-00018440: 756d 6265 7220 6672 6f6d 2073 656c 6563  umber from selec
-00018450: 7465 6420 7475 6265 206e 616d 6520 696e  ted tube name in
-00018460: 2074 7562 6520 6c69 7374 0a20 2020 206d   tube list.    m
-00018470: 6574 686f 6420 3d20 6578 7065 7269 6d65  ethod = experime
-00018480: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00018490: 6563 7469 6f6e 4d65 7468 6f64 4c69 7374  ectionMethodList
-000184a0: 2e76 616c 7565 2020 2320 4765 7420 6d65  .value  # Get me
-000184b0: 7468 6f64 2066 726f 6d20 7365 6c65 6374  thod from select
-000184c0: 696f 6e20 696e 206d 6574 686f 6420 6c69  ion in method li
-000184d0: 7374 0a20 2020 2070 6572 696f 646f 6772  st.    periodogr
-000184e0: 616d 6d65 7472 7946 696c 654e 616d 6520  ammetryFileName 
-000184f0: 3d20 6170 702e 7365 6c65 6374 5f66 696c  = app.select_fil
-00018500: 6528 0a20 2020 2020 2020 2074 6974 6c65  e(.        title
-00018510: 3d22 5361 7665 2064 6174 6120 6173 2e2e  ="Save data as..
-00018520: 2e22 2c0a 2020 2020 2020 2020 666f 6c64  .",.        fold
-00018530: 6572 3d77 6f72 6b69 6e67 4469 722c 0a20  er=workingDir,. 
-00018540: 2020 2020 2020 2066 696c 6574 7970 6573         filetypes
-00018550: 3d5b 5b22 4353 5622 2c20 222a 2e63 7376  =[["CSV", "*.csv
-00018560: 225d 5d2c 0a20 2020 2020 2020 2073 6176  "]],.        sav
-00018570: 653d 5472 7565 2c0a 2020 2020 2020 2020  e=True,.        
-00018580: 6669 6c65 6e61 6d65 3d28 7365 744e 616d  filename=(setNam
-00018590: 6520 2b20 225f 7475 6265 2220 2b20 7374  e + "_tube" + st
-000185a0: 7228 7475 6265 4e75 6d62 6572 2920 2b20  r(tubeNumber) + 
-000185b0: 225f 2220 2b20 6d65 7468 6f64 2e73 7472  "_" + method.str
-000185c0: 6970 2829 202b 2022 5f64 6174 6122 292c  ip() + "_data"),
-000185d0: 0a20 2020 2029 2020 2320 4765 7420 6669  .    )  # Get fi
-000185e0: 6c65 206e 616d 6520 616e 6420 7361 7665  le name and save
-000185f0: 206c 6f63 6174 696f 6e20 6672 6f6d 2075   location from u
-00018600: 7365 7220 696e 7075 7420 6672 6f6d 2061  ser input from a
-00018610: 7070 2070 6f70 7570 0a20 2020 206d 6574  pp popup.    met
-00018620: 686f 6420 3d20 4e6f 6e65 2020 2320 496e  hod = None  # In
-00018630: 6974 6961 6c69 7a65 206d 6574 686f 6420  itialize method 
-00018640: 7661 7269 6162 6c65 0a20 2020 206d 6174  variable.    mat
-00018650: 6368 2065 7870 6572 696d 656e 7454 6162  ch experimentTab
-00018660: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
-00018670: 6e4d 6574 686f 644c 6973 742e 7661 6c75  nMethodList.valu
-00018680: 653a 2020 2320 4261 7365 6420 6f6e 2070  e:  # Based on p
-00018690: 6c6f 7420 6d65 7468 6f64 2073 656c 6563  lot method selec
-000186a0: 7465 640a 2020 2020 2020 2020 6361 7365  ted.        case
-000186b0: 2022 536f 6b6f 6c6f 7665 2d42 7573 6865   "Sokolove-Bushe
-000186c0: 6c6c 223a 2020 2320 4966 206d 6574 686f  ll":  # If metho
-000186d0: 6420 6973 2053 6f6b 6f6c 6f76 652d 4275  d is Sokolove-Bu
-000186e0: 7368 656c 6c0a 2020 2020 2020 2020 2020  shell.          
-000186f0: 2020 6d65 7468 6f64 203d 205b 2270 6572    method = ["per
-00018700: 696f 646f 6772 616d 4368 6953 7175 6172  iodogramChiSquar
-00018710: 6564 536f 6b6f 6c6f 7665 4275 7368 656c  edSokoloveBushel
-00018720: 6c22 2c20 2266 7265 7175 656e 6369 6573  l", "frequencies
-00018730: 536f 6b6f 6c6f 7665 4275 7368 656c 6c22  SokoloveBushell"
-00018740: 5d20 2023 2053 6574 206d 6574 686f 6420  ]  # Set method 
-00018750: 746f 2034 2066 6f72 2069 6e64 6578 2069  to 4 for index i
-00018760: 6e20 7065 7269 6f64 2064 6174 610a 2020  n period data.  
-00018770: 2020 2020 2020 6361 7365 2022 4c6f 6d62        case "Lomb
-00018780: 2d53 6361 7267 6c65 223a 2020 2320 4966  -Scargle":  # If
-00018790: 206d 6574 686f 6420 6973 204c 6f6d 622d   method is Lomb-
-000187a0: 5363 6172 676c 650a 2020 2020 2020 2020  Scargle.        
-000187b0: 2020 2020 6d65 7468 6f64 203d 205b 2270      method = ["p
-000187c0: 6572 696f 646f 6772 616d 506f 7765 7253  eriodogramPowerS
-000187d0: 7065 6374 7275 6d4c 6f6d 6253 6361 7267  pectrumLombScarg
-000187e0: 6c65 222c 2022 6672 6571 7565 6e63 6965  le", "frequencie
-000187f0: 734c 6f6d 6253 6361 7267 6c65 225d 2020  sLombScargle"]  
-00018800: 2320 5365 7420 6d65 7468 6f64 2074 6f20  # Set method to 
-00018810: 3620 666f 7220 696e 6465 7820 696e 2070  6 for index in p
-00018820: 6572 696f 6420 6461 7461 0a20 2020 2020  eriod data.     
-00018830: 2020 2063 6173 6520 2257 6176 656c 6574     case "Wavelet
-00018840: 2028 4357 5429 223a 2020 2320 4966 206d   (CWT)":  # If m
-00018850: 6574 686f 6420 6973 2077 6176 656c 6574  ethod is wavelet
-00018860: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-00018870: 686f 6420 3d20 5b22 616d 706c 6974 7564  hod = ["amplitud
-00018880: 6573 5761 7665 6c65 7422 2c20 2266 7265  esWavelet", "fre
-00018890: 7175 656e 6369 6573 5761 7665 6c65 7422  quenciesWavelet"
-000188a0: 2c20 2270 6572 696f 6473 5941 7869 7357  , "periodsYAxisW
-000188b0: 6176 656c 6574 225d 0a20 2020 2074 7562  avelet"].    tub
-000188c0: 6554 6f50 6c6f 7420 3d20 5b5d 2020 2320  eToPlot = []  # 
-000188d0: 426c 616e 6b20 6c69 7374 2066 6f72 2074  Blank list for t
-000188e0: 7562 6520 6461 7461 206f 6620 7475 6265  ube data of tube
-000188f0: 2074 6f20 706c 6f74 0a20 2020 2066 6f72   to plot.    for
-00018900: 2074 7562 6520 696e 2074 7562 6573 4d61   tube in tubesMa
-00018910: 7374 6572 3a20 2023 2046 6f72 2065 6163  ster:  # For eac
-00018920: 6820 7475 6265 2069 6e20 676c 6f62 616c  h tube in global
-00018930: 206d 6173 7465 7220 7475 6265 7320 6c69   master tubes li
-00018940: 7374 0a20 2020 2020 2020 2069 6620 7475  st.        if tu
-00018950: 6265 5b22 7365 744e 616d 6522 5d20 3d3d  be["setName"] ==
-00018960: 2073 6574 4e61 6d65 2061 6e64 2074 7562   setName and tub
-00018970: 655b 2274 7562 654e 756d 6265 7222 5d20  e["tubeNumber"] 
-00018980: 3d3d 2074 7562 654e 756d 6265 722d 313a  == tubeNumber-1:
-00018990: 2020 2320 4966 2074 7562 6520 6d61 7463    # If tube matc
-000189a0: 6865 7320 7365 6c65 6374 6564 2074 7562  hes selected tub
-000189b0: 6520 6e61 6d65 0a20 2020 2020 2020 2020  e name.         
-000189c0: 2020 2074 7562 6554 6f50 6c6f 7420 3d20     tubeToPlot = 
-000189d0: 7475 6265 2020 2320 5365 7420 7475 6265  tube  # Set tube
-000189e0: 2074 6f20 6375 7272 656e 7420 7475 6265   to current tube
-000189f0: 0a20 2020 2070 6572 696f 6444 6174 6120  .    periodData 
-00018a00: 3d20 6361 6c63 756c 6174 6550 6572 696f  = calculatePerio
-00018a10: 6444 6174 6128 7475 6265 546f 506c 6f74  dData(tubeToPlot
-00018a20: 5b22 6465 6e73 6974 7950 726f 6669 6c65  ["densityProfile
-00018a30: 225d 2c20 7475 6265 546f 506c 6f74 5b22  "], tubeToPlot["
-00018a40: 6d61 726b 486f 7572 7322 5d2c 2074 7562  markHours"], tub
-00018a50: 6554 6f50 6c6f 745b 2274 696d 654d 6172  eToPlot["timeMar
-00018a60: 6b73 225d 2c20 7475 6265 546f 506c 6f74  ks"], tubeToPlot
-00018a70: 5b22 6261 6e64 4d61 726b 7322 5d2c 2031  ["bandMarks"], 1
-00018a80: 342c 2033 322c 2074 7562 6554 6f50 6c6f  4, 32, tubeToPlo
-00018a90: 745b 2274 7562 6552 616e 6765 225d 2c20  t["tubeRange"], 
-00018aa0: 666c 6f61 7428 6578 7065 7269 6d65 6e74  float(experiment
-00018ab0: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
-00018ac0: 734c 6f77 4472 6f70 646f 776e 2e76 616c  sLowDropdown.val
-00018ad0: 7565 292c 2066 6c6f 6174 2865 7870 6572  ue), float(exper
-00018ae0: 696d 656e 7454 6162 5461 626c 6550 6172  imentTabTablePar
-00018af0: 616d 7348 7273 4869 6768 4472 6f70 646f  amsHrsHighDropdo
-00018b00: 776e 2e76 616c 7565 2929 2020 2320 4361  wn.value))  # Ca
-00018b10: 6c63 756c 6174 6520 7065 7269 6f64 2064  lculate period d
-00018b20: 6174 6120 666f 7220 7365 6c65 6374 6564  ata for selected
-00018b30: 2074 7562 650a 2020 2020 7065 7269 6f64   tube.    period
-00018b40: 6f67 7261 6d58 5661 6c73 203d 205b 5d20  ogramXVals = [] 
-00018b50: 2023 2042 6c61 6e6b 206c 6973 7420 666f   # Blank list fo
-00018b60: 7220 7820 6178 6973 2076 616c 7565 7320  r x axis values 
-00018b70: 6f66 2070 6572 696f 646f 6772 616d 2070  of periodogram p
-00018b80: 6c6f 740a 2020 2020 7065 7269 6f64 6f67  lot.    periodog
-00018b90: 7261 6d59 5661 6c73 203d 205b 5d20 2023  ramYVals = []  #
-00018ba0: 2042 6c61 6e6b 206c 6973 7420 666f 7220   Blank list for 
-00018bb0: 7920 6178 6973 2076 616c 7565 7320 6f66  y axis values of
-00018bc0: 2070 6572 696f 646f 6772 616d 2070 6c6f   periodogram plo
-00018bd0: 740a 2020 2020 7065 7269 6f64 6f67 7261  t.    periodogra
-00018be0: 6d46 7265 7175 656e 6369 6573 203d 205b  mFrequencies = [
-00018bf0: 5d20 2023 2042 6c61 6e6b 206c 6973 7420  ]  # Blank list 
-00018c00: 6f66 2070 6572 696f 646f 6772 616d 2066  of periodogram f
-00018c10: 7265 7175 656e 6369 6573 0a20 2020 2063  requencies.    c
-00018c20: 616c 6375 6c61 7465 6450 6572 696f 646f  alculatedPeriodo
-00018c30: 6772 616d 4672 6571 7565 6e63 6965 7320  gramFrequencies 
-00018c40: 3d20 7065 7269 6f64 4461 7461 5b6d 6574  = periodData[met
-00018c50: 686f 645b 315d 5d20 2023 204c 6973 7420  hod[1]]  # List 
-00018c60: 6f66 2063 616c 6375 6c61 7465 6420 7065  of calculated pe
-00018c70: 7269 6f64 6f67 7261 6d20 6672 6571 7565  riodogram freque
-00018c80: 6e63 6965 730a 2020 2020 6361 6c63 756c  ncies.    calcul
-00018c90: 6174 6564 5065 7269 6f64 6f67 7261 6d59  atedPeriodogramY
-00018ca0: 5661 6c73 203d 2070 6572 696f 6444 6174  Vals = periodDat
-00018cb0: 615b 6d65 7468 6f64 5b30 5d5d 2020 2320  a[method[0]]  # 
-00018cc0: 4c69 7374 206f 6620 6361 6c63 756c 6174  List of calculat
-00018cd0: 6564 2070 6572 696f 646f 6772 616d 2079  ed periodogram y
-00018ce0: 2076 616c 7565 730a 2020 2020 6361 6c63   values.    calc
-00018cf0: 756c 6174 6564 4357 5458 5661 6c73 203d  ulatedCWTXVals =
-00018d00: 2070 6572 696f 6444 6174 615b 2264 656e   periodData["den
-00018d10: 7369 746f 6d65 7472 7958 486f 7572 7322  sitometryXHours"
-00018d20: 5d0a 2020 2020 6361 6c63 756c 6174 6564  ].    calculated
-00018d30: 4357 5459 5661 6c73 203d 2070 6572 696f  CWTYVals = perio
-00018d40: 6444 6174 615b 2270 6572 696f 6473 5941  dData["periodsYA
-00018d50: 7869 7357 6176 656c 6574 225d 0a20 2020  xisWavelet"].   
-00018d60: 2063 616c 6375 6c61 7465 6443 5754 416d   calculatedCWTAm
-00018d70: 706c 6974 7564 6573 203d 2070 6572 696f  plitudes = perio
-00018d80: 6444 6174 615b 2261 6d70 6c69 7475 6465  dData["amplitude
-00018d90: 7357 6176 656c 6574 225d 0a20 2020 2073  sWavelet"].    s
-00018da0: 6c6f 7065 436f 6566 6620 3d20 7065 7269  lopeCoeff = peri
-00018db0: 6f64 4461 7461 5b22 736c 6f70 6543 6f65  odData["slopeCoe
-00018dc0: 6666 225d 2020 2320 4361 6c63 756c 6174  ff"]  # Calculat
-00018dd0: 6564 2073 6c6f 7065 2063 6f65 6666 6963  ed slope coeffic
-00018de0: 6965 6e74 0a20 2020 206d 6561 6e47 726f  ient.    meanGro
-00018df0: 7774 6848 6f75 7273 5065 7250 6978 656c  wthHoursPerPixel
-00018e00: 203d 2031 202f 2070 6572 696f 6444 6174   = 1 / periodDat
-00018e10: 615b 226d 6561 6e47 726f 7774 6850 6978  a["meanGrowthPix
-00018e20: 656c 7350 6572 486f 7572 225d 0a20 2020  elsPerHour"].   
-00018e30: 2066 6f72 2069 6e64 6578 2069 6e20 7261   for index in ra
-00018e40: 6e67 6528 302c 206c 656e 2863 616c 6375  nge(0, len(calcu
-00018e50: 6c61 7465 6450 6572 696f 646f 6772 616d  latedPeriodogram
-00018e60: 4672 6571 7565 6e63 6965 7329 293a 2020  Frequencies)):  
-00018e70: 2320 466f 7220 6561 6368 2063 616c 6375  # For each calcu
-00018e80: 6c61 7465 6420 7065 7269 6f64 6f67 7261  lated periodogra
-00018e90: 6d20 6672 6571 7565 6e63 790a 2020 2020  m frequency.    
-00018ea0: 2020 2020 6966 206d 6574 686f 6420 3d3d      if method ==
-00018eb0: 205b 2270 6572 696f 646f 6772 616d 4368   ["periodogramCh
-00018ec0: 6953 7175 6172 6564 536f 6b6f 6c6f 7665  iSquaredSokolove
-00018ed0: 4275 7368 656c 6c22 2c20 2266 7265 7175  Bushell", "frequ
-00018ee0: 656e 6369 6573 536f 6b6f 6c6f 7665 4275  enciesSokoloveBu
-00018ef0: 7368 656c 6c22 5d3a 2020 2320 4966 2075  shell"]:  # If u
-00018f00: 7369 6e67 2053 2d42 2070 6572 696f 646f  sing S-B periodo
-00018f10: 6772 616d 0a20 2020 2020 2020 2020 2020  gram.           
-00018f20: 2070 6572 696f 6420 3d20 3120 2f20 6361   period = 1 / ca
-00018f30: 6c63 756c 6174 6564 5065 7269 6f64 6f67  lculatedPeriodog
-00018f40: 7261 6d46 7265 7175 656e 6369 6573 5b69  ramFrequencies[i
-00018f50: 6e64 6578 5d20 2023 2053 6574 2070 6572  ndex]  # Set per
-00018f60: 696f 6420 666f 7220 532d 4220 7065 7269  iod for S-B peri
-00018f70: 6f64 6f67 7261 6d20 6672 6571 7565 6e63  odogram frequenc
-00018f80: 790a 2020 2020 2020 2020 656c 6966 206d  y.        elif m
-00018f90: 6574 686f 6420 3d3d 205b 2270 6572 696f  ethod == ["perio
-00018fa0: 646f 6772 616d 506f 7765 7253 7065 6374  dogramPowerSpect
-00018fb0: 7275 6d4c 6f6d 6253 6361 7267 6c65 222c  rumLombScargle",
-00018fc0: 2022 6672 6571 7565 6e63 6965 734c 6f6d   "frequenciesLom
-00018fd0: 6253 6361 7267 6c65 225d 3a20 2023 2049  bScargle"]:  # I
-00018fe0: 6620 7573 696e 6720 4c2d 5320 7065 7269  f using L-S peri
-00018ff0: 6f64 6f67 7261 6d0a 2020 2020 2020 2020  odogram.        
-00019000: 2020 2020 7065 7269 6f64 203d 2028 3220      period = (2 
-00019010: 2a20 6e75 6d70 792e 7069 2920 2f20 6361  * numpy.pi) / ca
-00019020: 6c63 756c 6174 6564 5065 7269 6f64 6f67  lculatedPeriodog
-00019030: 7261 6d46 7265 7175 656e 6369 6573 5b69  ramFrequencies[i
-00019040: 6e64 6578 5d20 2023 2053 6574 2070 6572  ndex]  # Set per
-00019050: 696f 6420 666f 7220 4c2d 5320 7065 7269  iod for L-S peri
-00019060: 6f64 6f67 7261 6d20 616e 6775 6c61 7220  odogram angular 
-00019070: 6672 6571 7565 6e63 790a 2020 2020 2020  frequency.      
-00019080: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00019090: 2020 2020 7065 7269 6f64 203d 2030 0a20      period = 0. 
-000190a0: 2020 2020 2020 2078 5661 6c20 3d20 7065         xVal = pe
-000190b0: 7269 6f64 202a 206d 6561 6e47 726f 7774  riod * meanGrowt
-000190c0: 6848 6f75 7273 5065 7250 6978 656c 202a  hHoursPerPixel *
-000190d0: 2073 6c6f 7065 436f 6566 6620 2023 2053   slopeCoeff  # S
-000190e0: 6574 2078 2076 616c 7565 2074 6f20 7072  et x value to pr
-000190f0: 6f64 7563 7420 6f66 2070 6572 696f 6420  oduct of period 
-00019100: 696e 2070 6978 656c 732c 206d 6561 6e20  in pixels, mean 
-00019110: 6772 6f77 7468 2072 6174 6520 6973 2068  growth rate is h
-00019120: 6f75 7273 2f70 6978 656c 2c20 616e 6420  ours/pixel, and 
-00019130: 736c 6f70 6520 636f 6566 6669 6369 656e  slope coefficien
-00019140: 7420 2870 6572 696f 6420 696e 2068 6f75  t (period in hou
-00019150: 7273 290a 2020 2020 2020 2020 6966 2078  rs).        if x
-00019160: 5661 6c20 3e3d 2031 3420 616e 6420 7856  Val >= 14 and xV
-00019170: 616c 203c 3d20 3332 3a20 2023 2049 6620  al <= 32:  # If 
-00019180: 7820 7661 6c75 6520 6973 2077 6974 6869  x value is withi
-00019190: 6e20 7769 6e64 6f77 206f 6620 7465 7374  n window of test
-000191a0: 6564 2070 6572 696f 6473 0a20 2020 2020  ed periods.     
-000191b0: 2020 2020 2020 2070 6572 696f 646f 6772         periodogr
-000191c0: 616d 5856 616c 732e 6170 7065 6e64 2878  amXVals.append(x
-000191d0: 5661 6c29 2020 2320 4164 6420 7820 7661  Val)  # Add x va
-000191e0: 6c75 6520 746f 2070 6572 696f 646f 6772  lue to periodogr
-000191f0: 616d 2078 2076 616c 7565 730a 2020 2020  am x values.    
-00019200: 2020 2020 2020 2020 7065 7269 6f64 6f67          periodog
-00019210: 7261 6d59 5661 6c73 2e61 7070 656e 6428  ramYVals.append(
-00019220: 6361 6c63 756c 6174 6564 5065 7269 6f64  calculatedPeriod
-00019230: 6f67 7261 6d59 5661 6c73 5b69 6e64 6578  ogramYVals[index
-00019240: 5d29 2020 2320 4164 6420 7920 7661 6c75  ])  # Add y valu
-00019250: 6520 746f 2070 6572 696f 646f 6772 616d  e to periodogram
-00019260: 2079 2076 616c 7565 730a 2020 2020 2020   y values.      
-00019270: 2020 2020 2020 7065 7269 6f64 6f67 7261        periodogra
-00019280: 6d46 7265 7175 656e 6369 6573 2e61 7070  mFrequencies.app
-00019290: 656e 6428 6361 6c63 756c 6174 6564 5065  end(calculatedPe
-000192a0: 7269 6f64 6f67 7261 6d46 7265 7175 656e  riodogramFrequen
-000192b0: 6369 6573 5b69 6e64 6578 5d29 2020 2320  cies[index])  # 
-000192c0: 4164 6420 6672 6571 7565 6e63 7920 746f  Add frequency to
-000192d0: 2070 6572 696f 646f 6772 616d 2066 7265   periodogram fre
-000192e0: 7175 656e 6369 6573 0a20 2020 2077 6974  quencies.    wit
-000192f0: 6820 6f70 656e 2870 6572 696f 646f 6772  h open(periodogr
-00019300: 616d 6d65 7472 7946 696c 654e 616d 652c  ammetryFileName,
-00019310: 2027 7727 2c20 6e65 776c 696e 653d 2727   'w', newline=''
-00019320: 2c20 656e 636f 6469 6e67 3d27 7574 662d  , encoding='utf-
-00019330: 3136 2729 2061 7320 6373 7666 696c 653a  16') as csvfile:
-00019340: 2020 2320 4f70 656e 2066 696c 6520 746f    # Open file to
-00019350: 2073 6176 6520 6461 7461 0a20 2020 2020   save data.     
-00019360: 2020 2072 6f77 5772 6974 6572 203d 2063     rowWriter = c
-00019370: 7376 2e77 7269 7465 7228 6373 7666 696c  sv.writer(csvfil
-00019380: 652c 2064 656c 696d 6974 6572 3d27 2c27  e, delimiter=','
-00019390: 2920 2023 2057 7269 7465 2063 7376 2064  )  # Write csv d
-000193a0: 656c 696d 6974 6564 2062 7920 222c 220a  elimited by ",".
-000193b0: 2020 2020 2020 2020 6966 206d 6574 686f          if metho
-000193c0: 6420 3d3d 205b 2270 6572 696f 646f 6772  d == ["periodogr
-000193d0: 616d 4368 6953 7175 6172 6564 536f 6b6f  amChiSquaredSoko
-000193e0: 6c6f 7665 4275 7368 656c 6c22 2c20 2266  loveBushell", "f
-000193f0: 7265 7175 656e 6369 6573 536f 6b6f 6c6f  requenciesSokolo
-00019400: 7665 4275 7368 656c 6c22 5d3a 2020 2320  veBushell"]:  # 
-00019410: 4966 2075 7369 6e67 2053 2d42 2070 6572  If using S-B per
-00019420: 696f 646f 6772 616d 0a20 2020 2020 2020  iodogram.       
-00019430: 2020 2020 2072 6f77 5772 6974 6572 2e77       rowWriter.w
-00019440: 7269 7465 726f 7728 5b22 4672 6571 7565  riterow(["Freque
-00019450: 6e63 7922 2c20 2250 6572 696f 6420 2868  ncy", "Period (h
-00019460: 7273 2922 2c20 2243 6869 2053 7175 6172  rs)", "Chi Squar
-00019470: 6564 225d 2920 2023 2057 7269 7465 2053  ed"])  # Write S
-00019480: 2d42 2070 6572 696f 646f 6772 616d 2074  -B periodogram t
-00019490: 6974 6c65 2072 6f77 0a20 2020 2020 2020  itle row.       
-000194a0: 2065 6c69 6620 6d65 7468 6f64 203d 3d20   elif method == 
-000194b0: 5b22 7065 7269 6f64 6f67 7261 6d50 6f77  ["periodogramPow
-000194c0: 6572 5370 6563 7472 756d 4c6f 6d62 5363  erSpectrumLombSc
-000194d0: 6172 676c 6522 2c20 2266 7265 7175 656e  argle", "frequen
-000194e0: 6369 6573 4c6f 6d62 5363 6172 676c 6522  ciesLombScargle"
-000194f0: 5d3a 2020 2320 4966 2075 7369 6e67 204c  ]:  # If using L
-00019500: 2d53 2070 6572 696f 646f 6772 616d 0a20  -S periodogram. 
-00019510: 2020 2020 2020 2020 2020 2072 6f77 5772             rowWr
-00019520: 6974 6572 2e77 7269 7465 726f 7728 5b22  iter.writerow(["
-00019530: 416e 6775 6c61 7220 4672 6571 7565 6e63  Angular Frequenc
-00019540: 7922 2c20 2250 6572 696f 6420 2868 7273  y", "Period (hrs
-00019550: 2922 2c20 2253 7065 6374 7261 6c20 4465  )", "Spectral De
-00019560: 6e73 6974 7922 5d29 2020 2320 5772 6974  nsity"])  # Writ
-00019570: 6520 4c2d 5320 7065 7269 6f64 6f67 7261  e L-S periodogra
-00019580: 6d20 7469 746c 6520 726f 770a 2020 2020  m title row.    
-00019590: 2020 2020 656c 7365 3a20 2023 2049 6620      else:  # If 
-000195a0: 7573 696e 6720 7761 7665 6c65 7420 6d65  using wavelet me
-000195b0: 7468 6f64 0a20 2020 2020 2020 2020 2020  thod.           
-000195c0: 2068 6561 6465 7252 6f77 203d 205b 2250   headerRow = ["P
-000195d0: 6572 696f 6420 2868 7273 2922 5d0a 2020  eriod (hrs)"].  
-000195e0: 2020 2020 2020 2020 2020 666f 7220 7469            for ti
-000195f0: 6d65 2069 6e20 6361 6c63 756c 6174 6564  me in calculated
-00019600: 4357 5458 5661 6c73 3a0a 2020 2020 2020  CWTXVals:.      
-00019610: 2020 2020 2020 2020 2020 6865 6164 6572            header
-00019620: 526f 772e 6170 7065 6e64 2874 696d 6529  Row.append(time)
-00019630: 0a20 2020 2020 2020 2020 2020 2072 6f77  .            row
-00019640: 5772 6974 6572 2e77 7269 7465 726f 7728  Writer.writerow(
-00019650: 6865 6164 6572 526f 7729 0a20 2020 2020  headerRow).     
-00019660: 2020 2069 6620 6d65 7468 6f64 2021 3d20     if method != 
-00019670: 5b22 616d 706c 6974 7564 6573 5761 7665  ["amplitudesWave
-00019680: 6c65 7422 2c20 2266 7265 7175 656e 6369  let", "frequenci
-00019690: 6573 5761 7665 6c65 7422 2c20 2270 6572  esWavelet", "per
-000196a0: 696f 6473 5941 7869 7357 6176 656c 6574  iodsYAxisWavelet
-000196b0: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
-000196c0: 666f 7220 696e 6465 7820 696e 2072 616e  for index in ran
-000196d0: 6765 2830 2c20 6c65 6e28 7065 7269 6f64  ge(0, len(period
-000196e0: 6f67 7261 6d58 5661 6c73 2929 3a20 2023  ogramXVals)):  #
-000196f0: 2046 6f72 2065 6163 6820 7065 7269 6f64   For each period
-00019700: 6f67 7261 6d20 7820 7661 6c75 650a 2020  ogram x value.  
-00019710: 2020 2020 2020 2020 2020 2020 2020 6e65                ne
-00019720: 774c 696e 6520 3d20 5b70 6572 696f 646f  wLine = [periodo
-00019730: 6772 616d 4672 6571 7565 6e63 6965 735b  gramFrequencies[
-00019740: 696e 6465 785d 2c20 7065 7269 6f64 6f67  index], periodog
-00019750: 7261 6d58 5661 6c73 5b69 6e64 6578 5d2c  ramXVals[index],
-00019760: 2070 6572 696f 646f 6772 616d 5956 616c   periodogramYVal
-00019770: 735b 696e 6465 785d 5d20 2023 2053 6574  s[index]]  # Set
-00019780: 206c 696e 6520 746f 2063 6f6e 7461 696e   line to contain
-00019790: 2066 7265 7175 656e 6379 2c20 7065 7269   frequency, peri
-000197a0: 6f64 2c20 616e 6420 7363 6f72 650a 2020  od, and score.  
-000197b0: 2020 2020 2020 2020 2020 2020 2020 726f                ro
-000197c0: 7757 7269 7465 722e 7772 6974 6572 6f77  wWriter.writerow
-000197d0: 286e 6577 4c69 6e65 2920 2023 2057 7269  (newLine)  # Wri
-000197e0: 7465 206c 696e 6520 746f 2066 696c 650a  te line to file.
-000197f0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00019800: 2020 2020 2020 2020 2020 666f 7220 696e            for in
-00019810: 6465 7820 696e 2072 616e 6765 2830 2c20  dex in range(0, 
-00019820: 6c65 6e28 6361 6c63 756c 6174 6564 4357  len(calculatedCW
-00019830: 5459 5661 6c73 2929 3a0a 2020 2020 2020  TYVals)):.      
-00019840: 2020 2020 2020 2020 2020 6e65 774c 696e            newLin
-00019850: 6520 3d20 5b63 616c 6375 6c61 7465 6443  e = [calculatedC
-00019860: 5754 5956 616c 735b 696e 6465 785d 5d0a  WTYVals[index]].
-00019870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019880: 666f 7220 7661 6c75 6520 696e 2063 616c  for value in cal
-00019890: 6375 6c61 7465 6443 5754 416d 706c 6974  culatedCWTAmplit
-000198a0: 7564 6573 5b69 6e64 6578 2c20 3a5d 3a0a  udes[index, :]:.
-000198b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000198c0: 2020 2020 6e65 774c 696e 652e 6170 7065      newLine.appe
-000198d0: 6e64 2876 616c 7565 290a 2020 2020 2020  nd(value).      
-000198e0: 2020 2020 2020 2020 2020 726f 7757 7269            rowWri
-000198f0: 7465 722e 7772 6974 6572 6f77 286e 6577  ter.writerow(new
-00019900: 4c69 6e65 290a 0a0a 6465 6620 7361 7665  Line)...def save
-00019910: 5475 6265 7354 6f46 696c 6528 7365 744e  TubesToFile(setN
-00019920: 616d 6529 3a0a 2020 2020 2222 2253 746f  ame):.    """Sto
-00019930: 7265 2074 7562 6573 2066 726f 6d20 696d  re tubes from im
-00019940: 6167 6520 696e 206d 6173 7465 7220 7475  age in master tu
-00019950: 6265 7320 6c69 7374 2c20 616e 6420 7361  bes list, and sa
-00019960: 7665 206d 6173 7465 7220 7475 6265 7320  ve master tubes 
-00019970: 6c69 7374 2074 6f20 6669 6c65 2e22 2222  list to file."""
-00019980: 0a0a 0a20 2020 2067 6c6f 6261 6c20 7475  ...    global tu
-00019990: 6265 426f 756e 6473 0a20 2020 2067 6c6f  beBounds.    glo
-000199a0: 6261 6c20 7469 6d65 4d61 726b 4c69 6e65  bal timeMarkLine
-000199b0: 730a 2020 2020 676c 6f62 616c 2062 616e  s.    global ban
-000199c0: 644c 696e 6573 0a20 2020 2067 6c6f 6261  dLines.    globa
-000199d0: 6c20 7475 6265 734d 6173 7465 720a 2020  l tubesMaster.  
-000199e0: 2020 676c 6f62 616c 2064 656e 7369 7479    global density
-000199f0: 5072 6f66 696c 6573 0a20 2020 2067 6c6f  Profiles.    glo
-00019a00: 6261 6c20 6d61 726b 486f 7572 730a 2020  bal markHours.  
-00019a10: 2020 676c 6f62 616c 2069 6d61 6765 4e61    global imageNa
-00019a20: 6d65 0a20 2020 2067 6c6f 6261 6c20 6669  me.    global fi
-00019a30: 6e61 6c49 6d61 6765 0a20 2020 2067 6c6f  nalImage.    glo
-00019a40: 6261 6c20 7475 6265 4c65 6e67 7468 0a20  bal tubeLength. 
-00019a50: 2020 2067 6c6f 6261 6c20 6f70 656e 4669     global openFi
-00019a60: 6c65 0a0a 0a20 2020 2073 6574 4e61 6d65  le...    setName
-00019a70: 7349 6e46 696c 6520 3d20 5b5d 2020 2320  sInFile = []  # 
-00019a80: 426c 616e 6b20 6c69 7374 2066 6f72 2065  Blank list for e
-00019a90: 7869 7374 696e 6720 7365 7420 6e61 6d65  xisting set name
-00019aa0: 7320 616c 7265 6164 7920 696e 2066 696c  s already in fil
-00019ab0: 650a 2020 2020 666f 7220 7475 6265 2069  e.    for tube i
-00019ac0: 6e20 7475 6265 734d 6173 7465 723a 2020  n tubesMaster:  
-00019ad0: 2320 466f 7220 6561 6368 2074 7562 6520  # For each tube 
-00019ae0: 616c 7265 6164 7920 696e 2066 696c 650a  already in file.
-00019af0: 2020 2020 2020 2020 7365 744e 616d 6573          setNames
-00019b00: 496e 4669 6c65 2e61 7070 656e 6428 7475  InFile.append(tu
-00019b10: 6265 5b22 7365 744e 616d 6522 5d29 2020  be["setName"])  
-00019b20: 2320 4164 6420 7365 7420 6e61 6d65 2066  # Add set name f
-00019b30: 6f72 2074 7562 6520 746f 206c 6973 7420  or tube to list 
-00019b40: 6f66 2073 6574 206e 616d 6573 2061 6c72  of set names alr
-00019b50: 6561 6479 2069 6e20 6669 6c65 0a20 2020  eady in file.   
-00019b60: 2069 6620 7365 744e 616d 6520 696e 2073   if setName in s
-00019b70: 6574 4e61 6d65 7349 6e46 696c 653a 2020  etNamesInFile:  
-00019b80: 2320 4966 2063 7572 7265 6e74 2073 6574  # If current set
-00019b90: 206e 616d 6520 616c 7265 6164 7920 696e   name already in
-00019ba0: 2066 696c 650a 2020 2020 2020 2020 7365   file.        se
-00019bb0: 744e 616d 6520 3d20 7365 744e 616d 6520  tName = setName 
-00019bc0: 2b20 225f 3122 2020 2320 4164 6420 225f  + "_1"  # Add "_
-00019bd0: 3122 2074 6f20 7365 7420 6e61 6d65 0a20  1" to set name. 
-00019be0: 2020 2073 6574 4e61 6d65 2e72 6570 6c61     setName.repla
-00019bf0: 6365 2822 2522 2c20 2222 2920 2023 2044  ce("%", "")  # D
-00019c00: 656c 6574 6520 616e 7920 2520 2875 7365  elete any % (use
-00019c10: 6420 6173 2064 656c 696d 6974 6572 2069  d as delimiter i
-00019c20: 6e20 6669 6c65 290a 2020 2020 746f 7054  n file).    topT
-00019c30: 7562 6554 696d 654d 6172 6b73 203d 205b  ubeTimeMarks = [
-00019c40: 5d20 2023 2042 6c61 6e6b 206c 6973 7420  ]  # Blank list 
-00019c50: 6f66 2074 696d 6520 6d61 726b 2078 2076  of time mark x v
-00019c60: 616c 7565 730a 2020 2020 666f 7220 6c69  alues.    for li
-00019c70: 6e65 2069 6e20 7469 6d65 4d61 726b 4c69  ne in timeMarkLi
-00019c80: 6e65 733a 2020 2320 466f 7220 6561 6368  nes:  # For each
-00019c90: 206c 696e 6520 696e 206c 6973 7420 6f66   line in list of
-00019ca0: 2074 696d 6520 6d61 726b 730a 2020 2020   time marks.    
-00019cb0: 2020 2020 6966 206c 696e 655b 325d 203d      if line[2] =
-00019cc0: 3d20 303a 2020 2320 4966 206c 696e 6520  = 0:  # If line 
-00019cd0: 6973 2069 6e20 6375 7272 656e 7420 7475  is in current tu
-00019ce0: 6265 0a20 2020 2020 2020 2020 2020 2074  be.            t
-00019cf0: 6f70 5475 6265 5469 6d65 4d61 726b 732e  opTubeTimeMarks.
-00019d00: 6170 7065 6e64 286c 696e 655b 305d 2920  append(line[0]) 
-00019d10: 2023 2041 6464 206c 696e 6520 7820 746f   # Add line x to
-00019d20: 2074 696d 654d 6172 6b73 0a20 2020 2074   timeMarks.    t
-00019d30: 6f70 5475 6265 5469 6d65 4d61 726b 732e  opTubeTimeMarks.
-00019d40: 736f 7274 2829 2020 2320 536f 7274 2074  sort()  # Sort t
-00019d50: 696d 6520 6d61 726b 7320 6c6f 7720 746f  ime marks low to
-00019d60: 2068 6967 682f 6c65 6674 2074 6f20 7269   high/left to ri
-00019d70: 6768 740a 2020 2020 6966 2074 7562 654c  ght.    if tubeL
-00019d80: 656e 6774 6820 3d3d 2022 223a 0a20 2020  ength == "":.   
-00019d90: 2020 2020 206d 6d50 6572 5069 7865 6c49       mmPerPixelI
-00019da0: 6e49 6d61 6765 203d 2022 4e2f 4122 0a20  nImage = "N/A". 
-00019db0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00019dc0: 206d 6d50 6572 5069 7865 6c49 6e49 6d61   mmPerPixelInIma
-00019dd0: 6765 203d 2069 6e74 2874 7562 654c 656e  ge = int(tubeLen
-00019de0: 6774 6829 202f 2028 746f 7054 7562 6554  gth) / (topTubeT
-00019df0: 696d 654d 6172 6b73 5b2d 315d 202d 2074  imeMarks[-1] - t
-00019e00: 6f70 5475 6265 5469 6d65 4d61 726b 735b  opTubeTimeMarks[
-00019e10: 305d 290a 2020 2020 666f 7220 7475 6265  0]).    for tube
-00019e20: 2069 6e20 7261 6e67 6528 302c 206c 656e   in range(0, len
-00019e30: 2874 7562 6542 6f75 6e64 7329 293a 2020  (tubeBounds)):  
-00019e40: 2320 466f 7220 6561 6368 2074 7562 6520  # For each tube 
-00019e50: 696e 2074 7562 6542 6f75 6e64 730a 2020  in tubeBounds.  
-00019e60: 2020 2020 2020 7475 6265 5261 6e67 6520        tubeRange 
-00019e70: 3d20 7475 6265 426f 756e 6473 5b74 7562  = tubeBounds[tub
-00019e80: 655d 2020 2320 5920 626f 756e 6473 206f  e]  # Y bounds o
-00019e90: 6620 7475 6265 0a20 2020 2020 2020 2064  f tube.        d
-00019ea0: 656e 7369 7479 5072 6f66 696c 6520 3d20  ensityProfile = 
-00019eb0: 6465 6e73 6974 7950 726f 6669 6c65 735b  densityProfiles[
-00019ec0: 7475 6265 5d20 2023 2044 656e 7369 7479  tube]  # Density
-00019ed0: 2070 726f 6669 6c65 206f 6620 7475 6265   profile of tube
-00019ee0: 0a20 2020 2020 2020 2074 696d 654d 6172  .        timeMar
-00019ef0: 6b73 203d 205b 5d20 2023 2042 6c61 6e6b  ks = []  # Blank
-00019f00: 206c 6973 7420 6f66 2074 696d 6520 6d61   list of time ma
-00019f10: 726b 2078 2076 616c 7565 730a 2020 2020  rk x values.    
-00019f20: 2020 2020 666f 7220 6c69 6e65 2069 6e20      for line in 
-00019f30: 7469 6d65 4d61 726b 4c69 6e65 733a 2020  timeMarkLines:  
-00019f40: 2320 466f 7220 6561 6368 206c 696e 6520  # For each line 
-00019f50: 696e 206c 6973 7420 6f66 2074 696d 6520  in list of time 
-00019f60: 6d61 726b 730a 2020 2020 2020 2020 2020  marks.          
-00019f70: 2020 6966 206c 696e 655b 325d 203d 3d20    if line[2] == 
-00019f80: 7475 6265 3a20 2023 2049 6620 6c69 6e65  tube:  # If line
-00019f90: 2069 7320 696e 2063 7572 7265 6e74 2074   is in current t
-00019fa0: 7562 650a 2020 2020 2020 2020 2020 2020  ube.            
-00019fb0: 2020 2020 7469 6d65 4d61 726b 732e 6170      timeMarks.ap
-00019fc0: 7065 6e64 286c 696e 655b 305d 2920 2023  pend(line[0])  #
-00019fd0: 2041 6464 206c 696e 6520 7820 746f 2074   Add line x to t
-00019fe0: 696d 654d 6172 6b73 0a20 2020 2020 2020  imeMarks.       
-00019ff0: 2074 696d 654d 6172 6b73 2e73 6f72 7428   timeMarks.sort(
-0001a000: 2920 2023 2053 6f72 7420 7469 6d65 206d  )  # Sort time m
-0001a010: 6172 6b73 206c 6f77 2074 6f20 6869 6768  arks low to high
-0001a020: 2f6c 6566 7420 746f 2072 6967 6874 0a20  /left to right. 
-0001a030: 2020 2020 2020 2062 616e 644d 6172 6b73         bandMarks
-0001a040: 203d 205b 5d20 2023 2042 6c61 6e6b 206c   = []  # Blank l
-0001a050: 6973 7420 6f66 2062 616e 6420 6d61 726b  ist of band mark
-0001a060: 2078 2076 616c 7565 730a 2020 2020 2020   x values.      
-0001a070: 2020 666f 7220 6c69 6e65 2069 6e20 6261    for line in ba
-0001a080: 6e64 4c69 6e65 733a 2020 2320 466f 7220  ndLines:  # For 
-0001a090: 6561 6368 206c 696e 6520 696e 206c 6973  each line in lis
-0001a0a0: 7420 6f66 2062 616e 6420 6d61 726b 730a  t of band marks.
-0001a0b0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-0001a0c0: 696e 655b 325d 203d 3d20 7475 6265 3a20  ine[2] == tube: 
-0001a0d0: 2023 2049 6620 6c69 6e65 2069 7320 696e   # If line is in
-0001a0e0: 2063 7572 7265 6e74 2074 7562 650a 2020   current tube.  
-0001a0f0: 2020 2020 2020 2020 2020 2020 2020 6261                ba
-0001a100: 6e64 4d61 726b 732e 6170 7065 6e64 286c  ndMarks.append(l
-0001a110: 696e 655b 305d 2920 2023 2041 6464 206c  ine[0])  # Add l
-0001a120: 696e 6520 7820 746f 2062 616e 644d 6172  ine x to bandMar
-0001a130: 6b73 0a20 2020 2020 2020 2062 616e 644d  ks.        bandM
-0001a140: 6172 6b73 2e73 6f72 7428 2920 2023 2053  arks.sort()  # S
-0001a150: 6f72 7420 6261 6e64 206d 6172 6b73 206c  ort band marks l
-0001a160: 6f77 2074 6f20 6869 6768 2f6c 6566 7420  ow to high/left 
-0001a170: 746f 2072 6967 6874 0a20 2020 2020 2020  to right.       
-0001a180: 2069 6d61 6765 5374 7269 6e67 203d 206e   imageString = n
-0001a190: 756d 7079 2e61 7272 6179 2866 696e 616c  umpy.array(final
-0001a1a0: 496d 6167 652e 636f 6e76 6572 7428 224c  Image.convert("L
-0001a1b0: 2229 292e 746f 6c69 7374 2829 236e 756d  ")).tolist()#num
-0001a1c0: 7079 2e61 7272 6179 3273 7472 696e 6728  py.array2string(
-0001a1d0: 6e75 6d70 792e 6172 7261 7928 6669 6e61  numpy.array(fina
-0001a1e0: 6c49 6d61 6765 2e63 6f6e 7665 7274 2822  lImage.convert("
-0001a1f0: 4c22 2929 2c20 7365 7061 7261 746f 723d  L")), separator=
-0001a200: 222c 2229 2e73 7472 6970 2829 2e72 6570  ",").strip().rep
-0001a210: 6c61 6365 2822 5c6e 222c 2022 2229 2020  lace("\n", "")  
-0001a220: 2320 436f 6e76 6572 7420 6e75 6d70 7920  # Convert numpy 
-0001a230: 696d 6167 6520 6172 7261 7920 746f 2073  image array to s
-0001a240: 7472 696e 6720 666f 7220 7374 6f72 6167  tring for storag
-0001a250: 6520 746f 2066 696c 650a 2020 2020 2020  e to file.      
-0001a260: 2020 7469 6d65 4761 7073 203d 205b 5d20    timeGaps = [] 
-0001a270: 2023 204c 6973 7420 6f66 2074 696d 6520   # List of time 
-0001a280: 6761 7073 2069 6e20 7069 7865 6c73 2070  gaps in pixels p
-0001a290: 6572 2068 6f75 720a 2020 2020 2020 2020  er hour.        
-0001a2a0: 666f 7220 6d61 726b 2069 6e20 7261 6e67  for mark in rang
-0001a2b0: 6528 302c 206c 656e 2874 696d 654d 6172  e(0, len(timeMar
-0001a2c0: 6b73 2920 2d20 3129 3a20 2023 2046 6f72  ks) - 1):  # For
-0001a2d0: 2065 6163 6820 3220 636f 6e73 6563 7574   each 2 consecut
-0001a2e0: 6976 6520 7469 6d65 206d 6172 6b73 2061  ive time marks a
-0001a2f0: 6e64 2063 6f72 7265 7370 6f6e 6469 6e67  nd corresponding
-0001a300: 2068 6f75 7220 7661 6c75 6573 0a20 2020   hour values.   
-0001a310: 2020 2020 2020 2020 2074 696d 6547 6170           timeGap
-0001a320: 732e 6170 7065 6e64 2828 7469 6d65 4d61  s.append((timeMa
-0001a330: 726b 735b 6d61 726b 202b 2031 5d20 2d20  rks[mark + 1] - 
-0001a340: 7469 6d65 4d61 726b 735b 6d61 726b 5d29  timeMarks[mark])
-0001a350: 2f20 286d 6172 6b48 6f75 7273 5b6d 6172  / (markHours[mar
-0001a360: 6b20 2b20 315d 202d 206d 6172 6b48 6f75  k + 1] - markHou
-0001a370: 7273 5b6d 6172 6b5d 2929 2020 2320 4164  rs[mark]))  # Ad
-0001a380: 6420 6c65 6e67 7468 206f 6620 6761 7020  d length of gap 
-0001a390: 696e 2070 6978 656c 7320 7065 7220 686f  in pixels per ho
-0001a3a0: 7572 2074 6f20 6c69 7374 206f 6620 7469  ur to list of ti
-0001a3b0: 6d65 2067 6170 730a 2020 2020 2020 2020  me gaps.        
-0001a3c0: 6d65 616e 4772 6f77 7468 5069 7865 6c73  meanGrowthPixels
-0001a3d0: 5065 7248 6f75 7220 3d20 6e75 6d70 792e  PerHour = numpy.
-0001a3e0: 6d65 616e 2874 696d 6547 6170 7329 2020  mean(timeGaps)  
-0001a3f0: 2320 4d65 616e 2074 696d 6520 6761 7020  # Mean time gap 
-0001a400: 696e 2070 6978 656c 7320 7065 7220 686f  in pixels per ho
-0001a410: 7572 0a20 2020 2020 2020 2069 6620 6d6d  ur.        if mm
-0001a420: 5065 7250 6978 656c 496e 496d 6167 6520  PerPixelInImage 
-0001a430: 3d3d 2022 4e2f 4122 3a0a 2020 2020 2020  == "N/A":.      
-0001a440: 2020 2020 2020 6772 6f77 7468 5261 7465        growthRate
-0001a450: 203d 2022 4e2f 4122 0a20 2020 2020 2020   = "N/A".       
-0001a460: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001a470: 2020 2067 726f 7774 6852 6174 6520 3d20     growthRate = 
-0001a480: 726f 756e 6428 6d6d 5065 7250 6978 656c  round(mmPerPixel
-0001a490: 496e 496d 6167 6520 2a20 6d65 616e 4772  InImage * meanGr
-0001a4a0: 6f77 7468 5069 7865 6c73 5065 7248 6f75  owthPixelsPerHou
-0001a4b0: 722c 2032 2923 6d6d 2070 6572 2068 6f75  r, 2)#mm per hou
-0001a4c0: 720a 2020 2020 2020 2020 7475 6265 734d  r.        tubesM
-0001a4d0: 6173 7465 722e 6170 7065 6e64 280a 2020  aster.append(.  
-0001a4e0: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
-0001a4f0: 2020 2020 2020 2020 2020 2020 2273 6574              "set
-0001a500: 4e61 6d65 223a 2073 6574 4e61 6d65 2c0a  Name": setName,.
-0001a510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a520: 2269 6d61 6765 4e61 6d65 223a 2069 6d61  "imageName": ima
-0001a530: 6765 4e61 6d65 2c0a 2020 2020 2020 2020  geName,.        
-0001a540: 2020 2020 2020 2020 2269 6d61 6765 4461          "imageDa
-0001a550: 7461 223a 2069 6d61 6765 5374 7269 6e67  ta": imageString
-0001a560: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001a570: 2020 2274 7562 654e 756d 6265 7222 3a20    "tubeNumber": 
-0001a580: 7475 6265 2c0a 2020 2020 2020 2020 2020  tube,.          
-0001a590: 2020 2020 2020 226d 6172 6b48 6f75 7273        "markHours
-0001a5a0: 223a 206d 6172 6b48 6f75 7273 2c0a 2020  ": markHours,.  
-0001a5b0: 2020 2020 2020 2020 2020 2020 2020 2264                "d
-0001a5c0: 656e 7369 7479 5072 6f66 696c 6522 3a20  ensityProfile": 
-0001a5d0: 6465 6e73 6974 7950 726f 6669 6c65 2c0a  densityProfile,.
-0001a5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a5f0: 2267 726f 7774 6852 6174 6522 3a20 6772  "growthRate": gr
-0001a600: 6f77 7468 5261 7465 2c0a 2020 2020 2020  owthRate,.      
-0001a610: 2020 2020 2020 2020 2020 2274 7562 6552            "tubeR
-0001a620: 616e 6765 223a 2074 7562 6552 616e 6765  ange": tubeRange
-0001a630: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001a640: 2020 2274 696d 654d 6172 6b73 223a 2074    "timeMarks": t
-0001a650: 696d 654d 6172 6b73 2c0a 2020 2020 2020  imeMarks,.      
-0001a660: 2020 2020 2020 2020 2020 2262 616e 644d            "bandM
-0001a670: 6172 6b73 223a 2062 616e 644d 6172 6b73  arks": bandMarks
-0001a680: 0a20 2020 2020 2020 2020 2020 207d 0a20  .            }. 
-0001a690: 2020 2020 2020 2029 2020 2320 4164 6420         )  # Add 
-0001a6a0: 7475 6265 2069 6e66 6f20 746f 206d 6173  tube info to mas
-0001a6b0: 7465 7220 7475 6265 7320 6c69 7374 0a20  ter tubes list. 
-0001a6c0: 2020 2073 6176 6545 7870 6572 696d 656e     saveExperimen
-0001a6d0: 7446 696c 6528 2920 2023 2053 6176 6520  tFile()  # Save 
-0001a6e0: 7475 6265 7320 746f 2066 696c 650a 2020  tubes to file.  
-0001a6f0: 2020 6361 6e63 656c 496d 6167 6541 6e61    cancelImageAna
-0001a700: 6c79 7369 7328 2920 2023 2052 6573 6574  lysis()  # Reset
-0001a710: 2069 6d61 6765 2061 6e61 6c79 7369 730a   image analysis.
-0001a720: 2020 2020 706f 7075 6c61 7465 4578 7065      populateExpe
-0001a730: 7269 6d65 6e74 4461 7461 5461 626c 6528  rimentDataTable(
-0001a740: 2920 2023 2050 6f70 756c 6174 6520 6578  )  # Populate ex
-0001a750: 7065 7269 6d65 6e74 2064 6174 6120 7461  periment data ta
-0001a760: 626c 650a 0a0a 6465 6620 7072 6f63 6565  ble...def procee
-0001a770: 6448 616e 646c 6572 2829 3a0a 2020 2020  dHandler():.    
-0001a780: 2222 2248 616e 646c 6520 636c 6963 6b73  """Handle clicks
-0001a790: 206f 6e20 7072 6f63 6565 6420 6275 7474   on proceed butt
-0001a7a0: 6f6e 2062 6173 6564 206f 6e20 616e 616c  on based on anal
-0001a7b0: 7973 6973 2073 7461 7465 2e22 2222 0a0a  ysis state."""..
-0001a7c0: 0a20 2020 2067 6c6f 6261 6c20 616e 616c  .    global anal
-0001a7d0: 5374 6174 650a 2020 2020 676c 6f62 616c  State.    global
-0001a7e0: 2074 7562 6542 6f75 6e64 730a 2020 2020   tubeBounds.    
-0001a7f0: 676c 6f62 616c 206d 6172 6b48 6f75 7273  global markHours
-0001a800: 0a20 2020 2067 6c6f 6261 6c20 7469 6d65  .    global time
-0001a810: 4d61 726b 4c69 6e65 730a 2020 2020 676c  MarkLines.    gl
-0001a820: 6f62 616c 2062 616e 644c 696e 6573 0a0a  obal bandLines..
-0001a830: 0a20 2020 206d 6174 6368 2061 6e61 6c53  .    match analS
-0001a840: 7461 7465 3a20 2023 2042 6173 6564 206f  tate:  # Based o
-0001a850: 6e20 616e 616c 7973 6973 2073 7461 7465  n analysis state
-0001a860: 0a20 2020 2020 2020 2063 6173 6520 323a  .        case 2:
-0001a870: 2020 2320 416e 616c 7973 6973 2073 7461    # Analysis sta
-0001a880: 7465 2032 2028 7475 6265 2062 6f75 6e64  te 2 (tube bound
-0001a890: 7329 0a20 2020 2020 2020 2020 2020 2069  s).            i
-0001a8a0: 6465 6e74 6966 7952 6163 6554 7562 6542  dentifyRaceTubeB
-0001a8b0: 6f75 6e64 7328 290a 2020 2020 2020 2020  ounds().        
-0001a8c0: 6361 7365 2035 3a20 2023 2041 6e61 6c79  case 5:  # Analy
-0001a8d0: 7369 7320 7374 6174 6520 3520 2874 696d  sis state 5 (tim
-0001a8e0: 6520 6d61 726b 7329 0a20 2020 2020 2020  e marks).       
-0001a8f0: 2020 2020 2069 6465 6e74 6966 7942 616e       identifyBan
-0001a900: 6469 6e67 2829 0a20 2020 2020 2020 2063  ding().        c
-0001a910: 6173 6520 373a 2020 2320 416e 616c 7973  ase 7:  # Analys
-0001a920: 6973 2073 7461 7465 2037 2028 6261 6e64  is state 7 (band
-0001a930: 206c 6f63 6174 696f 6e73 290a 2020 2020   locations).    
-0001a940: 2020 2020 2020 2020 6472 6177 4c69 6e65          drawLine
-0001a950: 7328 5472 7565 290a 2020 2020 2020 2020  s(True).        
-0001a960: 2020 2020 616e 616c 5374 6174 6520 3d20      analState = 
-0001a970: 3820 2023 2053 6574 2061 6e61 6c79 7369  8  # Set analysi
-0001a980: 7320 7374 6174 6520 746f 2038 0a20 2020  s state to 8.   
-0001a990: 2020 2020 2020 2020 2066 6f72 2074 7562           for tub
-0001a9a0: 6520 696e 2072 616e 6765 2830 2c20 6c65  e in range(0, le
-0001a9b0: 6e28 7475 6265 426f 756e 6473 2929 3a20  n(tubeBounds)): 
-0001a9c0: 2023 2046 6f72 2065 6163 6820 7475 6265   # For each tube
-0001a9d0: 2069 6e20 7475 6265 426f 756e 6473 0a20   in tubeBounds. 
-0001a9e0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0001a9f0: 7562 6552 616e 6765 203d 2074 7562 6542  ubeRange = tubeB
-0001aa00: 6f75 6e64 735b 7475 6265 5d20 2023 2059  ounds[tube]  # Y
-0001aa10: 2062 6f75 6e64 7320 6f66 2074 7562 650a   bounds of tube.
-0001aa20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001aa30: 6465 6e73 6974 7950 726f 6669 6c65 203d  densityProfile =
-0001aa40: 2064 656e 7369 7479 5072 6f66 696c 6573   densityProfiles
-0001aa50: 5b74 7562 655d 2020 2320 4465 6e73 6974  [tube]  # Densit
-0001aa60: 7920 7072 6f66 696c 6520 6f66 2074 7562  y profile of tub
-0001aa70: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-0001aa80: 2020 7469 6d65 4d61 726b 7320 3d20 5b5d    timeMarks = []
-0001aa90: 2020 2320 426c 616e 6b20 6c69 7374 206f    # Blank list o
-0001aaa0: 6620 7469 6d65 206d 6172 6b20 7820 7661  f time mark x va
-0001aab0: 6c75 6573 0a20 2020 2020 2020 2020 2020  lues.           
-0001aac0: 2020 2020 2066 6f72 206c 696e 6520 696e       for line in
-0001aad0: 2074 696d 654d 6172 6b4c 696e 6573 3a20   timeMarkLines: 
-0001aae0: 2023 2046 6f72 2065 6163 6820 6c69 6e65   # For each line
-0001aaf0: 2069 6e20 6c69 7374 206f 6620 7469 6d65   in list of time
-0001ab00: 206d 6172 6b73 0a20 2020 2020 2020 2020   marks.         
-0001ab10: 2020 2020 2020 2020 2020 2069 6620 6c69             if li
-0001ab20: 6e65 5b32 5d20 3d3d 2074 7562 653a 2020  ne[2] == tube:  
-0001ab30: 2320 4966 206c 696e 6520 6973 2069 6e20  # If line is in 
-0001ab40: 6375 7272 656e 7420 7475 6265 0a20 2020  current tube.   
-0001ab50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ab60: 2020 2020 2074 696d 654d 6172 6b73 2e61       timeMarks.a
-0001ab70: 7070 656e 6428 6c69 6e65 5b30 5d29 2020  ppend(line[0])  
-0001ab80: 2320 4164 6420 6c69 6e65 2078 2074 6f20  # Add line x to 
-0001ab90: 7469 6d65 4d61 726b 730a 2020 2020 2020  timeMarks.      
-0001aba0: 2020 2020 2020 2020 2020 7469 6d65 4d61            timeMa
-0001abb0: 726b 732e 736f 7274 2829 2020 2320 536f  rks.sort()  # So
-0001abc0: 7274 2074 696d 6520 6d61 726b 7320 6c6f  rt time marks lo
-0001abd0: 7720 746f 2068 6967 682f 6c65 6674 2074  w to high/left t
-0001abe0: 6f20 7269 6768 740a 2020 2020 2020 2020  o right.        
-0001abf0: 2020 2020 2020 2020 6261 6e64 4d61 726b          bandMark
-0001ac00: 7320 3d20 5b5d 2020 2320 426c 616e 6b20  s = []  # Blank 
-0001ac10: 6c69 7374 206f 6620 6261 6e64 206d 6172  list of band mar
-0001ac20: 6b20 7820 7661 6c75 6573 0a20 2020 2020  k x values.     
-0001ac30: 2020 2020 2020 2020 2020 2066 6f72 206c             for l
-0001ac40: 696e 6520 696e 2062 616e 644c 696e 6573  ine in bandLines
-0001ac50: 3a20 2023 2046 6f72 2065 6163 6820 6c69  :  # For each li
-0001ac60: 6e65 2069 6e20 6c69 7374 206f 6620 6261  ne in list of ba
-0001ac70: 6e64 206d 6172 6b73 0a20 2020 2020 2020  nd marks.       
-0001ac80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0001ac90: 6c69 6e65 5b32 5d20 3d3d 2074 7562 653a  line[2] == tube:
-0001aca0: 2020 2320 4966 206c 696e 6520 6973 2069    # If line is i
-0001acb0: 6e20 6375 7272 656e 7420 7475 6265 0a20  n current tube. 
-0001acc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001acd0: 2020 2020 2020 2062 616e 644d 6172 6b73         bandMarks
-0001ace0: 2e61 7070 656e 6428 6c69 6e65 5b30 5d29  .append(line[0])
-0001acf0: 2020 2320 4164 6420 6c69 6e65 2078 2074    # Add line x t
-0001ad00: 6f20 6261 6e64 4d61 726b 730a 2020 2020  o bandMarks.    
-0001ad10: 2020 2020 2020 2020 2020 2020 6261 6e64              band
-0001ad20: 4d61 726b 732e 736f 7274 2829 2020 2320  Marks.sort()  # 
-0001ad30: 536f 7274 2062 616e 6420 6d61 726b 7320  Sort band marks 
-0001ad40: 6c6f 7720 746f 2068 6967 682f 6c65 6674  low to high/left
-0001ad50: 2074 6f20 7269 6768 740a 2020 2020 2020   to right.      
-0001ad60: 2020 2020 2020 2020 2020 7065 7269 6f64            period
-0001ad70: 7320 3d20 6361 6c63 756c 6174 6550 6572  s = calculatePer
-0001ad80: 696f 6444 6174 6128 6465 6e73 6974 7950  iodData(densityP
-0001ad90: 726f 6669 6c65 2c20 6d61 726b 486f 7572  rofile, markHour
-0001ada0: 732c 2074 696d 654d 6172 6b73 2c20 6261  s, timeMarks, ba
-0001adb0: 6e64 4d61 726b 732c 2031 342c 2033 322c  ndMarks, 14, 32,
-0001adc0: 2074 7562 6552 616e 6765 2c20 6d61 726b   tubeRange, mark
-0001add0: 486f 7572 735b 305d 2c20 6d61 726b 486f  Hours[0], markHo
-0001ade0: 7572 735b 6c65 6e28 7469 6d65 4d61 726b  urs[len(timeMark
-0001adf0: 7329 2d31 5d29 2020 2320 4361 6c63 756c  s)-1])  # Calcul
-0001ae00: 6174 6520 7065 7269 6f64 2064 6174 6120  ate period data 
-0001ae10: 6f66 2074 7562 650a 2020 2020 2020 2020  of tube.        
-0001ae20: 2020 2020 2020 2020 7072 656c 696d 436f          prelimCo
-0001ae30: 6e74 656e 7473 5b74 7562 6520 2b20 325d  ntents[tube + 2]
-0001ae40: 5b32 5d20 3d20 7374 7228 726f 756e 6428  [2] = str(round(
-0001ae50: 7065 7269 6f64 735b 2270 6572 696f 644c  periods["periodL
-0001ae60: 696e 6561 7252 6567 7265 7373 696f 6e22  inearRegression"
-0001ae70: 5d2c 2032 2929 2020 2320 4164 6420 6d61  ], 2))  # Add ma
-0001ae80: 6e75 616c 6c79 2063 616c 6375 6c61 7465  nually calculate
-0001ae90: 6420 7065 7269 6f64 2028 726f 756e 6465  d period (rounde
-0001aea0: 6429 2074 6f20 7072 656c 696d 696e 6172  d) to preliminar
-0001aeb0: 7920 6461 7461 206c 6973 740a 2020 2020  y data list.    
-0001aec0: 2020 2020 2020 2020 7570 6461 7465 5072          updatePr
-0001aed0: 656c 696d 696e 6172 7944 6174 6144 6973  eliminaryDataDis
-0001aee0: 706c 6179 2829 2020 2320 5570 6461 7465  play()  # Update
-0001aef0: 2070 7265 6c69 6d69 6e61 7279 2064 6174   preliminary dat
-0001af00: 6120 7465 7874 2062 6f78 0a20 2020 2020  a text box.     
-0001af10: 2020 2020 2020 2070 726f 6365 6564 4275         proceedBu
-0001af20: 7474 6f6e 2e64 6973 6162 6c65 2829 2020  tton.disable()  
-0001af30: 2320 4469 7361 626c 6520 7072 6f63 6565  # Disable procee
-0001af40: 6420 6275 7474 6f6e 0a20 2020 2020 2020  d button.       
-0001af50: 2020 2020 2073 6176 6554 7562 6573 546f       saveTubesTo
-0001af60: 4669 6c65 4275 7474 6f6e 2e65 6e61 626c  FileButton.enabl
-0001af70: 6528 2920 2023 2045 6e61 626c 6520 7361  e()  # Enable sa
-0001af80: 7665 2074 7562 6573 2062 7574 746f 6e0a  ve tubes button.
-0001af90: 0a0a 6465 6620 6b65 7942 696e 6448 616e  ..def keyBindHan
-0001afa0: 646c 6572 286b 6579 7329 3a20 2023 2053  dler(keys):  # S
-0001afb0: 6869 6674 2c20 436f 6d6d 616e 642f 4374  hift, Command/Ct
-0001afc0: 726c 2c20 532c 204f 2c20 502c 2044 2c20  rl, S, O, P, D, 
-0001afd0: 482c 2043 0a20 2020 2022 2222 4861 6e64  H, C.    """Hand
-0001afe0: 6c65 2075 7365 7320 6f66 206d 756c 7469  le uses of multi
-0001aff0: 6b65 7920 686f 746b 6579 7320 746f 2070  key hotkeys to p
-0001b000: 6572 666f 726d 2070 726f 6772 616d 2066  erform program f
-0001b010: 756e 6374 696f 6e73 2222 220a 0a20 2020  unctions"""..   
-0001b020: 200a 2020 2020 676c 6f62 616c 206b 6579   .    global key
-0001b030: 5072 6573 7365 730a 0a20 2020 200a 2020  Presses..    .  
-0001b040: 2020 6d61 7463 6820 6b65 7973 3a20 2023    match keys:  #
-0001b050: 2042 6173 6564 206f 6e20 6c69 7374 206f   Based on list o
-0001b060: 6620 7072 6573 7365 6420 6b65 7973 0a20  f pressed keys. 
-0001b070: 2020 2020 2020 2063 6173 6520 5b30 2c20         case [0, 
-0001b080: 312c 2031 2c20 302c 2030 2c20 302c 2030  1, 1, 0, 0, 0, 0
-0001b090: 2c20 305d 3a20 2023 2049 6620 636f 6d6d  , 0]:  # If comm
-0001b0a0: 616e 642c 2073 2070 7265 7373 6564 0a20  and, s pressed. 
-0001b0b0: 2020 2020 2020 2020 2020 2073 6176 6545             saveE
-0001b0c0: 7870 6572 696d 656e 7446 696c 6528 2920  xperimentFile() 
-0001b0d0: 2023 2053 6176 6520 6578 7065 7269 6d65   # Save experime
-0001b0e0: 6e74 0a20 2020 2020 2020 2020 2020 206b  nt.            k
-0001b0f0: 6579 5072 6573 7365 7320 3d20 5b30 2c20  eyPresses = [0, 
-0001b100: 302c 2030 2c20 302c 2030 2c20 302c 2030  0, 0, 0, 0, 0, 0
-0001b110: 2c20 305d 2020 2320 5265 7365 7420 6b65  , 0]  # Reset ke
-0001b120: 7920 7072 6573 7320 6c69 7374 0a20 2020  y press list.   
-0001b130: 2020 2020 2063 6173 6520 5b31 2c20 312c       case [1, 1,
-0001b140: 2031 2c20 302c 2030 2c20 302c 2030 2c20   1, 0, 0, 0, 0, 
-0001b150: 305d 3a20 2023 2049 6620 7368 6966 742c  0]:  # If shift,
-0001b160: 2063 6f6d 6d61 6e64 2c20 7320 7072 6573   command, s pres
-0001b170: 7365 640a 2020 2020 2020 2020 2020 2020  sed.            
-0001b180: 7361 7665 4578 7065 7269 6d65 6e74 4669  saveExperimentFi
-0001b190: 6c65 4173 2829 2020 2320 5361 7665 2061  leAs()  # Save a
-0001b1a0: 730a 2020 2020 2020 2020 2020 2020 6b65  s.            ke
-0001b1b0: 7950 7265 7373 6573 203d 205b 302c 2030  yPresses = [0, 0
-0001b1c0: 2c20 302c 2030 2c20 302c 2030 2c20 302c  , 0, 0, 0, 0, 0,
-0001b1d0: 2030 5d20 2023 2052 6573 6574 206b 6579   0]  # Reset key
-0001b1e0: 2070 7265 7373 206c 6973 740a 2020 2020   press list.    
-0001b1f0: 2020 2020 6361 7365 205b 302c 2031 2c20      case [0, 1, 
-0001b200: 302c 2031 2c20 302c 2030 2c20 302c 2030  0, 1, 0, 0, 0, 0
-0001b210: 5d3a 2020 2320 4966 2063 6f6d 6d61 6e64  ]:  # If command
-0001b220: 2c20 6f20 7072 6573 7365 640a 2020 2020  , o pressed.    
-0001b230: 2020 2020 2020 2020 6f70 656e 4578 7065          openExpe
-0001b240: 7269 6d65 6e74 4669 6c65 2829 2020 2320  rimentFile()  # 
-0001b250: 4f70 656e 2065 7870 6572 696d 656e 7420  Open experiment 
-0001b260: 6669 6c65 0a20 2020 2020 2020 2020 2020  file.           
-0001b270: 206b 6579 5072 6573 7365 7320 3d20 5b30   keyPresses = [0
-0001b280: 2c20 302c 2030 2c20 302c 2030 2c20 302c  , 0, 0, 0, 0, 0,
-0001b290: 2030 2c20 305d 2020 2320 5265 7365 7420   0, 0]  # Reset 
-0001b2a0: 6b65 7920 7072 6573 7320 6c69 7374 0a20  key press list. 
-0001b2b0: 2020 2020 2020 2063 6173 6520 5b30 2c20         case [0, 
-0001b2c0: 312c 2030 2c20 302c 2030 2c20 312c 2030  1, 0, 0, 0, 1, 0
-0001b2d0: 2c20 305d 3a20 2023 2049 6620 636f 6d6d  , 0]:  # If comm
-0001b2e0: 616e 642c 2064 2070 7265 7373 6564 0a20  and, d pressed. 
-0001b2f0: 2020 2020 2020 2020 2020 2073 6574 576f             setWo
-0001b300: 726b 696e 6744 6972 6563 746f 7279 2829  rkingDirectory()
-0001b310: 2020 2320 5365 7420 776f 726b 696e 6720    # Set working 
-0001b320: 6469 7265 6374 6f72 790a 2020 2020 2020  directory.      
-0001b330: 2020 2020 2020 6b65 7950 7265 7373 6573        keyPresses
-0001b340: 203d 205b 302c 2030 2c20 302c 2030 2c20   = [0, 0, 0, 0, 
-0001b350: 302c 2030 2c20 302c 2030 5d20 2023 2052  0, 0, 0, 0]  # R
-0001b360: 6573 6574 206b 6579 2070 7265 7373 206c  eset key press l
-0001b370: 6973 740a 2020 2020 2020 2020 6361 7365  ist.        case
-0001b380: 205b 302c 2031 2c20 302c 2030 2c20 302c   [0, 1, 0, 0, 0,
-0001b390: 2030 2c20 312c 2030 5d3a 2020 2320 4966   0, 1, 0]:  # If
-0001b3a0: 2063 6f6d 6d61 6e64 2c20 6820 7072 6573   command, h pres
-0001b3b0: 7365 640a 2020 2020 2020 2020 2020 2020  sed.            
-0001b3c0: 6865 6c70 4d61 696e 2829 2020 2320 4f70  helpMain()  # Op
-0001b3d0: 656e 206d 6169 6e20 6865 6c70 2070 6167  en main help pag
-0001b3e0: 650a 2020 2020 2020 2020 2020 2020 6b65  e.            ke
-0001b3f0: 7950 7265 7373 6573 203d 205b 302c 2030  yPresses = [0, 0
-0001b400: 2c20 302c 2030 2c20 302c 2030 2c20 302c  , 0, 0, 0, 0, 0,
-0001b410: 2030 5d20 2023 2052 6573 6574 206b 6579   0]  # Reset key
-0001b420: 2070 7265 7373 206c 6973 740a 2020 2020   press list.    
-0001b430: 2020 2020 6361 7365 205b 302c 2031 2c20      case [0, 1, 
-0001b440: 302c 2030 2c20 312c 2030 2c20 302c 2030  0, 0, 1, 0, 0, 0
-0001b450: 5d3a 2020 2320 4966 2063 6f6d 6d61 6e64  ]:  # If command
-0001b460: 2c20 7020 7072 6573 7365 640a 2020 2020  , p pressed.    
-0001b470: 2020 2020 2020 2020 6772 6170 6869 6373          graphics
-0001b480: 5072 6566 6572 656e 6365 7350 726f 6d70  PreferencesPromp
-0001b490: 7428 2920 2023 204f 7065 6e20 6772 6170  t()  # Open grap
-0001b4a0: 6869 6373 2073 6574 7469 6e67 730a 2020  hics settings.  
-0001b4b0: 2020 2020 2020 2020 2020 6b65 7950 7265            keyPre
-0001b4c0: 7373 6573 203d 205b 302c 2030 2c20 302c  sses = [0, 0, 0,
-0001b4d0: 2030 2c20 302c 2030 2c20 302c 2030 5d20   0, 0, 0, 0, 0] 
-0001b4e0: 2023 2052 6573 6574 206b 6579 2070 7265   # Reset key pre
-0001b4f0: 7373 206c 6973 740a 2020 2020 2020 2020  ss list.        
-0001b500: 6361 7365 205b 302c 2031 2c20 302c 2030  case [0, 1, 0, 0
-0001b510: 2c20 302c 2030 2c20 302c 2031 5d3a 2020  , 0, 0, 0, 1]:  
-0001b520: 2320 4966 2063 6f6d 6d61 6e64 2c20 7020  # If command, p 
-0001b530: 7072 6573 7365 640a 2020 2020 2020 2020  pressed.        
-0001b540: 2020 2020 636c 6f73 6545 7870 6572 696d      closeExperim
-0001b550: 656e 7446 696c 6528 2920 2023 204f 7065  entFile()  # Ope
-0001b560: 6e20 6772 6170 6869 6373 2073 6574 7469  n graphics setti
-0001b570: 6e67 730a 2020 2020 2020 2020 2020 2020  ngs.            
-0001b580: 6b65 7950 7265 7373 6573 203d 205b 302c  keyPresses = [0,
-0001b590: 2030 2c20 302c 2030 2c20 302c 2030 2c20   0, 0, 0, 0, 0, 
-0001b5a0: 302c 2030 5d20 2023 2052 6573 6574 206b  0, 0]  # Reset k
-0001b5b0: 6579 2070 7265 7373 206c 6973 740a 0a0a  ey press list...
-0001b5c0: 6465 6620 6b65 7950 7265 7373 286b 6579  def keyPress(key
-0001b5d0: 5072 6573 7365 6429 3a0a 2020 2020 2222  Pressed):.    ""
-0001b5e0: 2248 616e 646c 6520 6561 6368 206b 6579  "Handle each key
-0001b5f0: 2070 7265 7373 2072 6567 6973 7465 7265   press registere
-0001b600: 6420 6279 2061 7070 206f 626a 6563 742e  d by app object.
-0001b610: 2222 220a 2020 2020 0a20 2020 200a 2020  """.    .    .  
-0001b620: 2020 676c 6f62 616c 206b 6579 5072 6573    global keyPres
-0001b630: 7365 730a 0a20 2020 200a 2020 2020 6d61  ses..    .    ma
-0001b640: 7463 6820 5b73 7472 286b 6579 5072 6573  tch [str(keyPres
-0001b650: 7365 642e 6b65 7929 2c20 7374 7228 6b65  sed.key), str(ke
-0001b660: 7950 7265 7373 6564 2e6b 6579 636f 6465  yPressed.keycode
-0001b670: 295d 3a20 2023 2042 6173 6564 206f 6e20  )]:  # Based on 
-0001b680: 6b65 7920 616e 6420 6b65 7963 6f64 6520  key and keycode 
-0001b690: 6f66 206b 6579 2070 7265 7373 6564 0a20  of key pressed. 
-0001b6a0: 2020 2020 2020 2063 6173 6520 5b22 222c         case ["",
-0001b6b0: 2022 3934 3337 3832 3134 3222 5d3a 2020   "943782142"]:  
-0001b6c0: 2320 5368 6966 740a 2020 2020 2020 2020  # Shift.        
-0001b6d0: 2020 2020 6b65 7950 7265 7373 6573 5b30      keyPresses[0
-0001b6e0: 5d20 3d20 310a 2020 2020 2020 2020 6361  ] = 1.        ca
-0001b6f0: 7365 205b 2222 2c20 2239 3232 3831 3036  se ["", "9228106
-0001b700: 3232 225d 3a20 2023 2043 6f6d 6d61 6e64  22"]:  # Command
-0001b710: 200a 2020 2020 2020 2020 2020 2020 6b65   .            ke
-0001b720: 7950 7265 7373 6573 5b31 5d20 3d20 310a  yPresses[1] = 1.
-0001b730: 2020 2020 2020 2020 6361 7365 205b 2222          case [""
-0001b740: 2c20 2239 3839 3931 3934 3836 225d 3a20  , "989919486"]: 
-0001b750: 2023 2043 6f6e 7472 6f6c 200a 2020 2020   # Control .    
-0001b760: 2020 2020 2020 2020 6b65 7950 7265 7373          keyPress
-0001b770: 6573 5b31 5d20 3d20 310a 2020 2020 2020  es[1] = 1.      
-0001b780: 2020 6361 7365 205b 2273 222c 2022 3136    case ["s", "16
-0001b790: 3737 3733 3331 225d 207c 205b 2253 222c  777331"] | ["S",
-0001b7a0: 2022 3230 3937 3136 3033 225d 3a20 2023   "20971603"]:  #
-0001b7b0: 2053 0a20 2020 2020 2020 2020 2020 206b   S.            k
-0001b7c0: 6579 5072 6573 7365 735b 325d 203d 2031  eyPresses[2] = 1
-0001b7d0: 0a20 2020 2020 2020 2063 6173 6520 5b22  .        case ["
-0001b7e0: 6f22 2c20 2235 3230 3039 3338 3037 225d  o", "520093807"]
-0001b7f0: 207c 205b 224f 222c 2022 3532 3432 3838   | ["O", "524288
-0001b800: 3037 3922 5d3a 2020 2320 4f0a 2020 2020  079"]:  # O.    
-0001b810: 2020 2020 2020 2020 6b65 7950 7265 7373          keyPress
-0001b820: 6573 5b33 5d20 3d20 310a 2020 2020 2020  es[3] = 1.      
-0001b830: 2020 6361 7365 205b 2270 222c 2022 3538    case ["p", "58
-0001b840: 3732 3032 3637 3222 5d20 7c20 5b22 5022  7202672"] | ["P"
-0001b850: 2c20 2235 3931 3339 3639 3434 225d 3a20  , "591396944"]: 
-0001b860: 2023 2050 0a20 2020 2020 2020 2020 2020   # P.           
-0001b870: 206b 6579 5072 6573 7365 735b 345d 203d   keyPresses[4] =
-0001b880: 2031 0a20 2020 2020 2020 2063 6173 6520   1.        case 
-0001b890: 5b22 6422 2c20 2233 3335 3534 3533 3222  ["d", "33554532"
-0001b8a0: 5d20 7c20 5b22 4422 2c20 2233 3737 3438  ] | ["D", "37748
-0001b8b0: 3830 3422 5d3a 2020 2320 440a 2020 2020  804"]:  # D.    
-0001b8c0: 2020 2020 2020 2020 6b65 7950 7265 7373          keyPress
-0001b8d0: 6573 5b35 5d20 3d20 310a 2020 2020 2020  es[5] = 1.      
-0001b8e0: 2020 6361 7365 205b 2268 222c 2022 3637    case ["h", "67
-0001b8f0: 3130 3839 3638 225d 207c 205b 2248 222c  108968"] | ["H",
-0001b900: 2022 3731 3330 3332 3430 225d 3a20 2023   "71303240"]:  #
-0001b910: 2048 0a20 2020 2020 2020 2020 2020 206b   H.            k
-0001b920: 6579 5072 6573 7365 735b 365d 203d 2031  eyPresses[6] = 1
-0001b930: 0a20 2020 2020 2020 2063 6173 6520 5b27  .        case ['
-0001b940: 6327 2c20 2731 3334 3231 3738 3237 275d  c', '134217827']
-0001b950: 207c 205b 2743 272c 2027 3133 3834 3132   | ['C', '138412
-0001b960: 3039 3927 5d3a 2020 2320 430a 2020 2020  099']:  # C.    
-0001b970: 2020 2020 2020 2020 6b65 7950 7265 7373          keyPress
-0001b980: 6573 5b37 5d20 3d20 310a 2020 2020 6b65  es[7] = 1.    ke
-0001b990: 7942 696e 6448 616e 646c 6572 286b 6579  yBindHandler(key
-0001b9a0: 5072 6573 7365 7329 0a0a 0a64 6566 206b  Presses)...def k
-0001b9b0: 6579 5265 6c65 6173 6528 6b65 7952 656c  eyRelease(keyRel
-0001b9c0: 6561 7365 6429 3a0a 2020 2020 2222 2248  eased):.    """H
-0001b9d0: 616e 646c 6520 6561 6368 206b 6579 2072  andle each key r
-0001b9e0: 656c 6561 7365 2072 6567 6973 7465 7265  elease registere
-0001b9f0: 6420 6279 2061 7070 206f 626a 6563 742e  d by app object.
-0001ba00: 2222 220a 2020 2020 0a20 2020 200a 2020  """.    .    .  
-0001ba10: 2020 676c 6f62 616c 206b 6579 5072 6573    global keyPres
-0001ba20: 7365 730a 0a20 2020 200a 2020 2020 6d61  ses..    .    ma
-0001ba30: 7463 6820 5b73 7472 286b 6579 5265 6c65  tch [str(keyRele
-0001ba40: 6173 6564 2e6b 6579 292c 2073 7472 286b  ased.key), str(k
-0001ba50: 6579 5265 6c65 6173 6564 2e6b 6579 636f  eyReleased.keyco
-0001ba60: 6465 295d 3a20 2023 2042 6173 6564 206f  de)]:  # Based o
-0001ba70: 6e20 6b65 7920 616e 6420 6b65 7963 6f64  n key and keycod
-0001ba80: 6520 6f66 206b 6579 2072 656c 6561 7365  e of key release
-0001ba90: 640a 2020 2020 2020 2020 6361 7365 205b  d.        case [
-0001baa0: 2222 2c20 2239 3433 3738 3231 3432 225d  "", "943782142"]
-0001bab0: 3a20 2023 2053 6869 6674 0a20 2020 2020  :  # Shift.     
-0001bac0: 2020 2020 2020 206b 6579 5072 6573 7365         keyPresse
-0001bad0: 735b 305d 203d 2030 0a20 2020 2020 2020  s[0] = 0.       
-0001bae0: 2063 6173 6520 5b22 222c 2022 3932 3238   case ["", "9228
-0001baf0: 3130 3632 3222 5d3a 2020 2320 436f 6d6d  10622"]:  # Comm
-0001bb00: 616e 640a 2020 2020 2020 2020 2020 2020  and.            
-0001bb10: 6b65 7950 7265 7373 6573 5b31 5d20 3d20  keyPresses[1] = 
-0001bb20: 300a 2020 2020 2020 2020 6361 7365 205b  0.        case [
-0001bb30: 2222 2c20 2239 3839 3931 3934 3836 225d  "", "989919486"]
-0001bb40: 3a20 2023 2043 6f6e 7472 6f6c 0a20 2020  :  # Control.   
-0001bb50: 2020 2020 2020 2020 206b 6579 5072 6573           keyPres
-0001bb60: 7365 735b 315d 203d 2030 0a20 2020 2020  ses[1] = 0.     
-0001bb70: 2020 2063 6173 6520 5b22 7322 2c20 2231     case ["s", "1
-0001bb80: 3637 3737 3333 3122 5d20 7c20 5b22 5322  6777331"] | ["S"
-0001bb90: 2c20 2232 3039 3731 3630 3322 5d3a 2020  , "20971603"]:  
-0001bba0: 2320 530a 2020 2020 2020 2020 2020 2020  # S.            
-0001bbb0: 6b65 7950 7265 7373 6573 5b32 5d20 3d20  keyPresses[2] = 
-0001bbc0: 300a 2020 2020 2020 2020 6361 7365 205b  0.        case [
-0001bbd0: 226f 222c 2022 3532 3030 3933 3830 3722  "o", "520093807"
-0001bbe0: 5d20 7c20 5b22 4f22 2c20 2235 3234 3238  ] | ["O", "52428
-0001bbf0: 3830 3739 225d 3a20 2023 204f 0a20 2020  8079"]:  # O.   
-0001bc00: 2020 2020 2020 2020 206b 6579 5072 6573           keyPres
-0001bc10: 7365 735b 335d 203d 2030 0a20 2020 2020  ses[3] = 0.     
-0001bc20: 2020 2063 6173 6520 5b22 7022 2c20 2235     case ["p", "5
-0001bc30: 3837 3230 3236 3732 225d 207c 205b 2250  87202672"] | ["P
-0001bc40: 222c 2022 3539 3133 3936 3934 3422 5d3a  ", "591396944"]:
-0001bc50: 2020 2320 500a 2020 2020 2020 2020 2020    # P.          
-0001bc60: 2020 6b65 7950 7265 7373 6573 5b34 5d20    keyPresses[4] 
-0001bc70: 3d20 300a 2020 2020 2020 2020 6361 7365  = 0.        case
-0001bc80: 205b 2264 222c 2022 3333 3535 3435 3332   ["d", "33554532
-0001bc90: 225d 207c 205b 2244 222c 2022 3337 3734  "] | ["D", "3774
-0001bca0: 3838 3034 225d 3a20 2023 2044 0a20 2020  8804"]:  # D.   
-0001bcb0: 2020 2020 2020 2020 206b 6579 5072 6573           keyPres
-0001bcc0: 7365 735b 355d 203d 2030 0a20 2020 2020  ses[5] = 0.     
-0001bcd0: 2020 2063 6173 6520 5b22 6822 2c20 2236     case ["h", "6
-0001bce0: 3731 3038 3936 3822 5d20 7c20 5b22 4822  7108968"] | ["H"
-0001bcf0: 2c20 2237 3133 3033 3234 3022 5d3a 2020  , "71303240"]:  
-0001bd00: 2320 480a 2020 2020 2020 2020 2020 2020  # H.            
-0001bd10: 6b65 7950 7265 7373 6573 5b36 5d20 3d20  keyPresses[6] = 
-0001bd20: 300a 2020 2020 2020 2020 6361 7365 205b  0.        case [
-0001bd30: 2763 272c 2027 3133 3432 3137 3832 3727  'c', '134217827'
-0001bd40: 5d20 7c20 5b27 4327 2c20 2731 3338 3431  ] | ['C', '13841
-0001bd50: 3230 3939 275d 3a20 2023 2043 0a20 2020  2099']:  # C.   
-0001bd60: 2020 2020 2020 2020 206b 6579 5072 6573           keyPres
-0001bd70: 7365 735b 375d 203d 2031 0a0a 0a64 6566  ses[7] = 1...def
-0001bd80: 2068 656c 704d 6169 6e28 293a 0a20 2020   helpMain():.   
-0001bd90: 2022 2222 4469 7265 6374 2075 7365 7220   """Direct user 
-0001bda0: 746f 206d 6169 6e20 6865 6c70 2070 6167  to main help pag
-0001bdb0: 652f 646f 6375 6d65 6e74 6174 696f 6e20  e/documentation 
-0001bdc0: 666f 7220 6170 702e 2222 220a 0a20 2020  for app."""..   
-0001bdd0: 200a 2020 2020 7765 6262 726f 7773 6572   .    webbrowser
-0001bde0: 2e6f 7065 6e28 0a20 2020 2020 2020 2022  .open(.        "
-0001bdf0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0001be00: 6f6d 2f50 656c 6861 6d2d 4c61 622f 7268  om/Pelham-Lab/rh
-0001be10: 7974 686d 6964 6961 222c 206e 6577 3d30  ythmidia", new=0
-0001be20: 2c20 6175 746f 7261 6973 653d 5472 7565  , autoraise=True
-0001be30: 0a20 2020 2029 0a0a 0a64 6566 2069 6e76  .    )...def inv
-0001be40: 6572 7443 6f6c 6f72 2868 6578 293a 0a20  ertColor(hex):. 
-0001be50: 2020 2022 2222 496e 7665 7274 2063 6f6c     """Invert col
-0001be60: 6f72 2067 6976 656e 2061 7320 6865 7820  or given as hex 
-0001be70: 636f 6465 2061 6e64 2072 6574 7572 6e20  code and return 
-0001be80: 6865 7820 636f 6465 206f 6620 696e 7665  hex code of inve
-0001be90: 7274 6564 2063 6f6c 6f72 2e22 2222 0a0a  rted color."""..
-0001bea0: 2020 2020 0a20 2020 2068 6578 203d 2068      .    hex = h
-0001beb0: 6578 2e6c 7374 7269 7028 2723 2729 0a20  ex.lstrip('#'). 
-0001bec0: 2020 2072 6762 203d 2020 7475 706c 6528     rgb =  tuple(
-0001bed0: 3235 3520 2d20 696e 7428 6865 785b 693a  255 - int(hex[i:
-0001bee0: 6920 2b20 6c65 6e28 6865 7829 202f 2f20  i + len(hex) // 
-0001bef0: 335d 2c20 3136 2920 666f 7220 6920 696e  3], 16) for i in
-0001bf00: 2072 616e 6765 2830 2c20 6c65 6e28 6865   range(0, len(he
-0001bf10: 7829 2c20 6c65 6e28 6865 7829 2f2f 3329  x), len(hex)//3)
-0001bf20: 290a 2020 2020 6f75 7420 3d20 2723 2530  ).    out = '#%0
-0001bf30: 3278 2530 3278 2530 3278 2720 2520 7267  2x%02x%02x' % rg
-0001bf40: 620a 2020 2020 7265 7475 726e 206f 7574  b.    return out
-0001bf50: 0a0a 0a64 6566 2067 7261 7068 6963 7350  ...def graphicsP
-0001bf60: 7265 6665 7265 6e63 6573 5072 6f6d 7074  referencesPrompt
-0001bf70: 2829 3a0a 2020 2020 2222 2250 7265 7365  ():.    """Prese
-0001bf80: 6e74 2070 6f70 7570 2077 696e 646f 7720  nt popup window 
-0001bf90: 666f 7220 6368 616e 6769 6e67 2067 7261  for changing gra
-0001bfa0: 7068 6963 7320 7072 6566 6572 656e 6365  phics preference
-0001bfb0: 732e 2222 220a 0a0a 2020 2020 676c 6f62  s."""...    glob
-0001bfc0: 616c 2061 7070 5061 7261 6d65 7465 7273  al appParameters
-0001bfd0: 0a0a 2020 2020 0a20 2020 2067 7261 7068  ..    .    graph
-0001bfe0: 6963 7350 7265 6665 7265 6e63 6573 5769  icsPreferencesWi
-0001bff0: 6e64 6f77 203d 2057 696e 646f 7728 6170  ndow = Window(ap
-0001c000: 702c 2074 6974 6c65 3d22 4772 6170 6869  p, title="Graphi
-0001c010: 6373 2050 7265 6665 7265 6e63 6573 222c  cs Preferences",
-0001c020: 206c 6179 6f75 743d 2267 7269 6422 2c20   layout="grid", 
-0001c030: 7769 6474 683d 3337 352c 2068 6569 6768  width=375, heigh
-0001c040: 743d 3330 3029 2020 2320 4372 6561 7465  t=300)  # Create
-0001c050: 2070 6f70 7570 2077 696e 646f 770a 2020   popup window.  
-0001c060: 2020 6772 6170 6869 6373 5072 6566 6572    graphicsPrefer
-0001c070: 656e 6365 7357 696e 646f 772e 7368 6f77  encesWindow.show
-0001c080: 2829 2020 2320 4469 7370 6c61 7920 706f  ()  # Display po
-0001c090: 7075 7020 7769 6e64 6f77 0a0a 2020 2020  pup window..    
-0001c0a0: 6368 616e 6765 4772 6170 6843 6f6c 6f72  changeGraphColor
-0001c0b0: 4275 7474 6f6e 203d 2050 7573 6842 7574  Button = PushBut
-0001c0c0: 746f 6e28 6772 6170 6869 6373 5072 6566  ton(graphicsPref
-0001c0d0: 6572 656e 6365 7357 696e 646f 772c 2067  erencesWindow, g
-0001c0e0: 7269 643d 5b30 2c30 5d2c 2074 6578 743d  rid=[0,0], text=
-0001c0f0: 2247 7261 7068 2043 6f6c 6f72 222c 2068  "Graph Color", h
-0001c100: 6569 6768 743d 302c 2077 6964 7468 3d32  eight=0, width=2
-0001c110: 302c 2063 6f6d 6d61 6e64 3d63 6f6c 6f72  0, command=color
-0001c120: 5069 636b 4861 6e64 6c65 722c 2061 7267  PickHandler, arg
-0001c130: 733d 5b30 5d29 0a20 2020 2063 6861 6e67  s=[0]).    chang
-0001c140: 6547 7261 7068 436f 6c6f 7242 7574 746f  eGraphColorButto
-0001c150: 6e2e 7465 7874 5f73 697a 6520 3d20 3133  n.text_size = 13
-0001c160: 0a20 2020 2063 6861 6e67 6547 7261 7068  .    changeGraph
-0001c170: 436f 6c6f 7242 7574 746f 6e2e 666f 6e74  ColorButton.font
-0001c180: 203d 2022 4172 6961 6c20 626f 6c64 220a   = "Arial bold".
-0001c190: 2020 2020 6368 616e 6765 4772 6170 6843      changeGraphC
-0001c1a0: 6f6c 6f72 5465 7874 426f 7820 3d20 5465  olorTextBox = Te
-0001c1b0: 7874 426f 7828 6772 6170 6869 6373 5072  xtBox(graphicsPr
-0001c1c0: 6566 6572 656e 6365 7357 696e 646f 772c  eferencesWindow,
-0001c1d0: 2067 7269 643d 5b32 2c30 5d2c 2074 6578   grid=[2,0], tex
-0001c1e0: 743d 6170 7050 6172 616d 6574 6572 735b  t=appParameters[
-0001c1f0: 2263 6f6c 6f72 4772 6170 6822 5d2c 2077  "colorGraph"], w
-0001c200: 6964 7468 3d37 290a 2020 2020 6368 616e  idth=7).    chan
-0001c210: 6765 486f 7269 7a6f 6e74 616c 4c69 6e65  geHorizontalLine
-0001c220: 436f 6c6f 7242 7574 746f 6e20 3d20 5075  ColorButton = Pu
-0001c230: 7368 4275 7474 6f6e 2867 7261 7068 6963  shButton(graphic
-0001c240: 7350 7265 6665 7265 6e63 6573 5769 6e64  sPreferencesWind
-0001c250: 6f77 2c20 6772 6964 3d5b 302c 315d 2c20  ow, grid=[0,1], 
-0001c260: 7465 7874 3d22 486f 7269 7a6f 6e74 616c  text="Horizontal
-0001c270: 204c 696e 6520 436f 6c6f 7222 2c20 6865   Line Color", he
-0001c280: 6967 6874 3d30 2c20 7769 6474 683d 3230  ight=0, width=20
-0001c290: 2c20 636f 6d6d 616e 643d 636f 6c6f 7250  , command=colorP
-0001c2a0: 6963 6b48 616e 646c 6572 2c20 6172 6773  ickHandler, args
-0001c2b0: 3d5b 315d 290a 2020 2020 6368 616e 6765  =[1]).    change
-0001c2c0: 486f 7269 7a6f 6e74 616c 4c69 6e65 436f  HorizontalLineCo
-0001c2d0: 6c6f 7242 7574 746f 6e2e 7465 7874 5f73  lorButton.text_s
-0001c2e0: 697a 6520 3d20 3133 0a20 2020 2063 6861  ize = 13.    cha
-0001c2f0: 6e67 6548 6f72 697a 6f6e 7461 6c4c 696e  ngeHorizontalLin
-0001c300: 6543 6f6c 6f72 4275 7474 6f6e 2e66 6f6e  eColorButton.fon
-0001c310: 7420 3d20 2241 7269 616c 2062 6f6c 6422  t = "Arial bold"
-0001c320: 0a20 2020 2063 6861 6e67 6548 6f72 697a  .    changeHoriz
-0001c330: 6f6e 7461 6c4c 696e 6543 6f6c 6f72 5465  ontalLineColorTe
-0001c340: 7874 426f 7820 3d20 5465 7874 426f 7828  xtBox = TextBox(
-0001c350: 6772 6170 6869 6373 5072 6566 6572 656e  graphicsPreferen
-0001c360: 6365 7357 696e 646f 772c 2067 7269 643d  cesWindow, grid=
-0001c370: 5b32 2c31 5d2c 2074 6578 743d 6170 7050  [2,1], text=appP
-0001c380: 6172 616d 6574 6572 735b 2263 6f6c 6f72  arameters["color
-0001c390: 486f 7269 7a22 5d2c 2077 6964 7468 3d37  Horiz"], width=7
-0001c3a0: 290a 2020 2020 6368 616e 6765 5665 7274  ).    changeVert
-0001c3b0: 6963 616c 4c69 6e65 436f 6c6f 7242 7574  icalLineColorBut
-0001c3c0: 746f 6e20 3d20 5075 7368 4275 7474 6f6e  ton = PushButton
-0001c3d0: 2867 7261 7068 6963 7350 7265 6665 7265  (graphicsPrefere
-0001c3e0: 6e63 6573 5769 6e64 6f77 2c20 6772 6964  ncesWindow, grid
-0001c3f0: 3d5b 302c 325d 2c20 7465 7874 3d22 5469  =[0,2], text="Ti
-0001c400: 6d65 204d 6172 6b20 436f 6c6f 7222 2c20  me Mark Color", 
-0001c410: 6865 6967 6874 3d30 2c20 7769 6474 683d  height=0, width=
-0001c420: 3230 2c20 636f 6d6d 616e 643d 636f 6c6f  20, command=colo
-0001c430: 7250 6963 6b48 616e 646c 6572 2c20 6172  rPickHandler, ar
-0001c440: 6773 3d5b 325d 290a 2020 2020 6368 616e  gs=[2]).    chan
-0001c450: 6765 5665 7274 6963 616c 4c69 6e65 436f  geVerticalLineCo
-0001c460: 6c6f 7242 7574 746f 6e2e 7465 7874 5f73  lorButton.text_s
-0001c470: 697a 6520 3d20 3133 0a20 2020 2063 6861  ize = 13.    cha
-0001c480: 6e67 6556 6572 7469 6361 6c4c 696e 6543  ngeVerticalLineC
-0001c490: 6f6c 6f72 4275 7474 6f6e 2e66 6f6e 7420  olorButton.font 
-0001c4a0: 3d20 2241 7269 616c 2062 6f6c 6422 0a20  = "Arial bold". 
-0001c4b0: 2020 2063 6861 6e67 6556 6572 7469 6361     changeVertica
-0001c4c0: 6c4c 696e 6543 6f6c 6f72 5465 7874 426f  lLineColorTextBo
-0001c4d0: 7820 3d20 5465 7874 426f 7828 6772 6170  x = TextBox(grap
-0001c4e0: 6869 6373 5072 6566 6572 656e 6365 7357  hicsPreferencesW
-0001c4f0: 696e 646f 772c 2067 7269 643d 5b32 2c32  indow, grid=[2,2
-0001c500: 5d2c 2074 6578 743d 6170 7050 6172 616d  ], text=appParam
-0001c510: 6574 6572 735b 2263 6f6c 6f72 5665 7274  eters["colorVert
-0001c520: 225d 2c20 7769 6474 683d 3729 0a20 2020  "], width=7).   
-0001c530: 2063 6861 6e67 6542 616e 644c 696e 6543   changeBandLineC
-0001c540: 6f6c 6f72 4275 7474 6f6e 203d 2050 7573  olorButton = Pus
-0001c550: 6842 7574 746f 6e28 6772 6170 6869 6373  hButton(graphics
-0001c560: 5072 6566 6572 656e 6365 7357 696e 646f  PreferencesWindo
-0001c570: 772c 2067 7269 643d 5b30 2c33 5d2c 2074  w, grid=[0,3], t
-0001c580: 6578 743d 2242 616e 6420 4d61 726b 2043  ext="Band Mark C
-0001c590: 6f6c 6f72 222c 2068 6569 6768 743d 302c  olor", height=0,
-0001c5a0: 2077 6964 7468 3d32 302c 2063 6f6d 6d61   width=20, comma
-0001c5b0: 6e64 3d63 6f6c 6f72 5069 636b 4861 6e64  nd=colorPickHand
-0001c5c0: 6c65 722c 2061 7267 733d 5b33 5d29 0a20  ler, args=[3]). 
-0001c5d0: 2020 2063 6861 6e67 6542 616e 644c 696e     changeBandLin
-0001c5e0: 6543 6f6c 6f72 4275 7474 6f6e 2e74 6578  eColorButton.tex
-0001c5f0: 745f 7369 7a65 203d 2031 330a 2020 2020  t_size = 13.    
-0001c600: 6368 616e 6765 4261 6e64 4c69 6e65 436f  changeBandLineCo
-0001c610: 6c6f 7242 7574 746f 6e2e 666f 6e74 203d  lorButton.font =
-0001c620: 2022 4172 6961 6c20 626f 6c64 220a 2020   "Arial bold".  
-0001c630: 2020 6368 616e 6765 4261 6e64 4c69 6e65    changeBandLine
-0001c640: 436f 6c6f 7254 6578 7442 6f78 203d 2054  ColorTextBox = T
-0001c650: 6578 7442 6f78 2867 7261 7068 6963 7350  extBox(graphicsP
-0001c660: 7265 6665 7265 6e63 6573 5769 6e64 6f77  referencesWindow
-0001c670: 2c20 6772 6964 3d5b 322c 335d 2c20 7465  , grid=[2,3], te
-0001c680: 7874 3d61 7070 5061 7261 6d65 7465 7273  xt=appParameters
-0001c690: 5b22 636f 6c6f 7242 616e 6422 5d2c 2077  ["colorBand"], w
-0001c6a0: 6964 7468 3d37 290a 2020 2020 6368 616e  idth=7).    chan
-0001c6b0: 6765 4865 6174 6d61 7047 7261 6469 656e  geHeatmapGradien
-0001c6c0: 744c 6162 656c 203d 2054 6578 7428 6772  tLabel = Text(gr
-0001c6d0: 6170 6869 6373 5072 6566 6572 656e 6365  aphicsPreference
-0001c6e0: 7357 696e 646f 772c 2067 7269 643d 5b30  sWindow, grid=[0
-0001c6f0: 2c34 5d2c 2074 6578 743d 2248 6561 746d  ,4], text="Heatm
-0001c700: 6170 2047 7261 6469 656e 743a 222c 2073  ap Gradient:", s
-0001c710: 697a 653d 3133 2c20 666f 6e74 3d22 4172  ize=13, font="Ar
-0001c720: 6961 6c20 626f 6c64 222c 2063 6f6c 6f72  ial bold", color
-0001c730: 3d22 7768 6974 6522 290a 2020 2020 6368  ="white").    ch
-0001c740: 616e 6765 4865 6174 6d61 7047 7261 6469  angeHeatmapGradi
-0001c750: 656e 7444 726f 7064 6f77 6e20 3d20 436f  entDropdown = Co
-0001c760: 6d62 6f28 6772 6170 6869 6373 5072 6566  mbo(graphicsPref
-0001c770: 6572 656e 6365 7357 696e 646f 772c 2067  erencesWindow, g
-0001c780: 7269 643d 5b32 2c34 5d2c 206f 7074 696f  rid=[2,4], optio
-0001c790: 6e73 3d5b 2256 6972 6964 6973 222c 2022  ns=["Viridis", "
-0001c7a0: 506c 6173 6d61 222c 2022 496e 6665 726e  Plasma", "Infern
-0001c7b0: 6f22 2c20 224d 6167 6d61 222c 2022 4369  o", "Magma", "Ci
-0001c7c0: 7669 6469 7322 5d2c 2073 656c 6563 7465  vidis"], selecte
-0001c7d0: 643d 6170 7050 6172 616d 6574 6572 735b  d=appParameters[
-0001c7e0: 2268 6561 746d 6170 225d 2c20 636f 6d6d  "heatmap"], comm
-0001c7f0: 616e 643d 636f 6c6f 7250 6963 6b48 616e  and=colorPickHan
-0001c800: 646c 6572 290a 2020 2020 6368 616e 6765  dler).    change
-0001c810: 4865 6174 6d61 7047 7261 6469 656e 7444  HeatmapGradientD
-0001c820: 726f 7064 6f77 6e2e 7365 6c65 6374 5f64  ropdown.select_d
-0001c830: 6566 6175 6c74 2829 0a0a 2020 2020 6368  efault()..    ch
-0001c840: 616e 6765 4772 6170 6843 6f6c 6f72 5465  angeGraphColorTe
-0001c850: 7874 426f 782e 7465 7874 5f63 6f6c 6f72  xtBox.text_color
-0001c860: 203d 2061 7070 5061 7261 6d65 7465 7273   = appParameters
-0001c870: 5b22 636f 6c6f 7247 7261 7068 225d 0a20  ["colorGraph"]. 
-0001c880: 2020 2063 6861 6e67 6547 7261 7068 436f     changeGraphCo
-0001c890: 6c6f 7254 6578 7442 6f78 2e62 6720 3d20  lorTextBox.bg = 
-0001c8a0: 696e 7665 7274 436f 6c6f 7228 6170 7050  invertColor(appP
-0001c8b0: 6172 616d 6574 6572 735b 2263 6f6c 6f72  arameters["color
-0001c8c0: 4772 6170 6822 5d29 0a20 2020 2063 6861  Graph"]).    cha
-0001c8d0: 6e67 6548 6f72 697a 6f6e 7461 6c4c 696e  ngeHorizontalLin
-0001c8e0: 6543 6f6c 6f72 5465 7874 426f 782e 7465  eColorTextBox.te
-0001c8f0: 7874 5f63 6f6c 6f72 203d 2061 7070 5061  xt_color = appPa
-0001c900: 7261 6d65 7465 7273 5b22 636f 6c6f 7248  rameters["colorH
-0001c910: 6f72 697a 225d 0a20 2020 2063 6861 6e67  oriz"].    chang
-0001c920: 6548 6f72 697a 6f6e 7461 6c4c 696e 6543  eHorizontalLineC
-0001c930: 6f6c 6f72 5465 7874 426f 782e 6267 203d  olorTextBox.bg =
-0001c940: 2069 6e76 6572 7443 6f6c 6f72 2861 7070   invertColor(app
-0001c950: 5061 7261 6d65 7465 7273 5b22 636f 6c6f  Parameters["colo
-0001c960: 7248 6f72 697a 225d 290a 2020 2020 6368  rHoriz"]).    ch
-0001c970: 616e 6765 5665 7274 6963 616c 4c69 6e65  angeVerticalLine
-0001c980: 436f 6c6f 7254 6578 7442 6f78 2e74 6578  ColorTextBox.tex
-0001c990: 745f 636f 6c6f 7220 3d20 6170 7050 6172  t_color = appPar
-0001c9a0: 616d 6574 6572 735b 2263 6f6c 6f72 5665  ameters["colorVe
-0001c9b0: 7274 225d 0a20 2020 2063 6861 6e67 6556  rt"].    changeV
-0001c9c0: 6572 7469 6361 6c4c 696e 6543 6f6c 6f72  erticalLineColor
-0001c9d0: 5465 7874 426f 782e 6267 203d 2069 6e76  TextBox.bg = inv
-0001c9e0: 6572 7443 6f6c 6f72 2861 7070 5061 7261  ertColor(appPara
-0001c9f0: 6d65 7465 7273 5b22 636f 6c6f 7256 6572  meters["colorVer
-0001ca00: 7422 5d29 0a20 2020 2063 6861 6e67 6542  t"]).    changeB
-0001ca10: 616e 644c 696e 6543 6f6c 6f72 5465 7874  andLineColorText
-0001ca20: 426f 782e 7465 7874 5f63 6f6c 6f72 203d  Box.text_color =
-0001ca30: 2061 7070 5061 7261 6d65 7465 7273 5b22   appParameters["
-0001ca40: 636f 6c6f 7242 616e 6422 5d0a 2020 2020  colorBand"].    
-0001ca50: 6368 616e 6765 4261 6e64 4c69 6e65 436f  changeBandLineCo
-0001ca60: 6c6f 7254 6578 7442 6f78 2e62 6720 3d20  lorTextBox.bg = 
-0001ca70: 696e 7665 7274 436f 6c6f 7228 6170 7050  invertColor(appP
-0001ca80: 6172 616d 6574 6572 735b 2263 6f6c 6f72  arameters["color
-0001ca90: 4261 6e64 225d 290a 0a20 2020 2067 7261  Band"])..    gra
-0001caa0: 7068 6963 7350 7265 6665 7265 6e63 6573  phicsPreferences
-0001cab0: 5769 6e64 6f77 2e72 6570 6561 7428 3230  Window.repeat(20
-0001cac0: 302c 2067 7261 7068 6963 7350 7265 6665  0, graphicsPrefe
-0001cad0: 7265 6e63 6573 5072 6f6d 7074 5570 6461  rencesPromptUpda
-0001cae0: 7465 2c20 6172 6773 3d5b 5b63 6861 6e67  te, args=[[chang
-0001caf0: 6547 7261 7068 436f 6c6f 7254 6578 7442  eGraphColorTextB
-0001cb00: 6f78 2c20 6368 616e 6765 486f 7269 7a6f  ox, changeHorizo
-0001cb10: 6e74 616c 4c69 6e65 436f 6c6f 7254 6578  ntalLineColorTex
-0001cb20: 7442 6f78 2c20 6368 616e 6765 5665 7274  tBox, changeVert
-0001cb30: 6963 616c 4c69 6e65 436f 6c6f 7254 6578  icalLineColorTex
-0001cb40: 7442 6f78 2c20 6368 616e 6765 4261 6e64  tBox, changeBand
-0001cb50: 4c69 6e65 436f 6c6f 7254 6578 7442 6f78  LineColorTextBox
-0001cb60: 5d5d 290a 0a0a 6465 6620 6469 7370 6c61  ]])...def displa
-0001cb70: 7945 6469 7444 6174 6150 6f70 7570 2829  yEditDataPopup()
-0001cb80: 3a0a 0a20 2020 2067 6c6f 6261 6c20 7475  :..    global tu
-0001cb90: 6265 734d 6173 7465 720a 2020 2020 676c  besMaster.    gl
-0001cba0: 6f62 616c 2065 6469 7444 6174 6153 6574  obal editDataSet
-0001cbb0: 4c69 7374 0a0a 0a20 2020 2065 6469 7454  List...    editT
-0001cbc0: 7562 6573 5769 6e64 6f77 203d 2057 696e  ubesWindow = Win
-0001cbd0: 646f 7728 6170 702c 2074 6974 6c65 3d22  dow(app, title="
-0001cbe0: 4564 6974 2044 6174 6122 2c20 6c61 796f  Edit Data", layo
-0001cbf0: 7574 3d22 6175 746f 222c 2077 6964 7468  ut="auto", width
-0001cc00: 3d34 3030 2c20 6865 6967 6874 3d33 3030  =400, height=300
-0001cc10: 2920 2023 2043 7265 6174 6520 706f 7075  )  # Create popu
-0001cc20: 7020 7769 6e64 6f77 0a20 2020 2065 6469  p window.    edi
-0001cc30: 7454 7562 6573 5769 6e64 6f77 2e73 686f  tTubesWindow.sho
-0001cc40: 7728 7761 6974 3d54 7275 6529 0a0a 2020  w(wait=True)..  
-0001cc50: 2020 6564 6974 4461 7461 5365 744c 6973    editDataSetLis
-0001cc60: 7446 7261 6d65 203d 2042 6f78 2865 6469  tFrame = Box(edi
-0001cc70: 7454 7562 6573 5769 6e64 6f77 2c20 7769  tTubesWindow, wi
-0001cc80: 6474 683d 3135 302c 2068 6569 6768 743d  dth=150, height=
-0001cc90: 2266 696c 6c22 2c20 616c 6967 6e3d 226c  "fill", align="l
-0001cca0: 6566 7422 290a 2020 2020 6564 6974 4461  eft").    editDa
-0001ccb0: 7461 5365 744c 6973 7454 6974 6c65 203d  taSetListTitle =
-0001ccc0: 2054 6578 7428 6564 6974 4461 7461 5365   Text(editDataSe
-0001ccd0: 744c 6973 7446 7261 6d65 2c20 7465 7874  tListFrame, text
-0001cce0: 3d22 5061 636b 733a 222c 2061 6c69 676e  ="Packs:", align
-0001ccf0: 3d22 746f 7022 2c20 666f 6e74 3d22 4172  ="top", font="Ar
-0001cd00: 6961 6c20 626f 6c64 2229 0a20 2020 2065  ial bold").    e
-0001cd10: 6469 7444 6174 6153 6574 4c69 7374 203d  ditDataSetList =
-0001cd20: 204c 6973 7442 6f78 280a 2020 2020 2020   ListBox(.      
-0001cd30: 2020 6564 6974 4461 7461 5365 744c 6973    editDataSetLis
-0001cd40: 7446 7261 6d65 2c0a 2020 2020 2020 2020  tFrame,.        
-0001cd50: 7363 726f 6c6c 6261 723d 5472 7565 2c0a  scrollbar=True,.
-0001cd60: 2020 2020 2020 2020 7769 6474 683d 3135          width=15
-0001cd70: 302c 0a20 2020 2020 2020 2068 6569 6768  0,.        heigh
-0001cd80: 743d 2266 696c 6c22 2c0a 2020 2020 2020  t="fill",.      
-0001cd90: 2020 616c 6967 6e3d 2274 6f70 220a 2020    align="top".  
-0001cda0: 2020 290a 2020 2020 6564 6974 4461 7461    ).    editData
-0001cdb0: 4275 7474 6f6e 7346 7261 6d65 203d 2042  ButtonsFrame = B
-0001cdc0: 6f78 2865 6469 7454 7562 6573 5769 6e64  ox(editTubesWind
-0001cdd0: 6f77 2c20 616c 6967 6e3d 226c 6566 7422  ow, align="left"
-0001cde0: 290a 2020 2020 6564 6974 4461 7461 5265  ).    editDataRe
-0001cdf0: 6e61 6d65 4275 7474 6f6e 203d 2050 7573  nameButton = Pus
-0001ce00: 6842 7574 746f 6e28 0a20 2020 2020 2020  hButton(.       
-0001ce10: 2065 6469 7444 6174 6142 7574 746f 6e73   editDataButtons
-0001ce20: 4672 616d 652c 0a20 2020 2020 2020 2074  Frame,.        t
-0001ce30: 6578 743d 2252 656e 616d 6522 2c0a 2020  ext="Rename",.  
-0001ce40: 2020 2020 2020 7061 6479 3d32 2c0a 2020        pady=2,.  
-0001ce50: 2020 2020 2020 636f 6d6d 616e 643d 6564        command=ed
-0001ce60: 6974 4461 7461 5265 6e61 6d65 5072 6f6d  itDataRenameProm
-0001ce70: 7074 2c0a 2020 2020 2020 2020 7769 6474  pt,.        widt
-0001ce80: 683d 2266 696c 6c22 0a20 2020 2029 0a20  h="fill".    ). 
-0001ce90: 2020 2065 6469 7444 6174 6152 656d 6f76     editDataRemov
-0001cea0: 6542 7574 746f 6e20 3d20 5075 7368 4275  eButton = PushBu
-0001ceb0: 7474 6f6e 280a 2020 2020 2020 2020 6564  tton(.        ed
-0001cec0: 6974 4461 7461 4275 7474 6f6e 7346 7261  itDataButtonsFra
-0001ced0: 6d65 2c0a 2020 2020 2020 2020 7465 7874  me,.        text
-0001cee0: 3d22 5265 6d6f 7665 222c 0a20 2020 2020  ="Remove",.     
-0001cef0: 2020 2070 6164 793d 322c 0a20 2020 2020     pady=2,.     
-0001cf00: 2020 2063 6f6d 6d61 6e64 3d6c 616d 6264     command=lambd
-0001cf10: 613a 6564 6974 4461 7461 506f 7075 7055  a:editDataPopupU
-0001cf20: 7064 6174 6528 6163 7469 6f6e 3d22 7265  pdate(action="re
-0001cf30: 6d6f 7665 2229 2c0a 2020 2020 2020 2020  move"),.        
-0001cf40: 7769 6474 683d 2266 696c 6c22 0a20 2020  width="fill".   
-0001cf50: 2029 0a20 2020 2065 6469 7444 6174 6154   ).    editDataT
-0001cf60: 696d 6573 6865 6574 4275 7474 6f6e 203d  imesheetButton =
-0001cf70: 2050 7573 6842 7574 746f 6e28 0a20 2020   PushButton(.   
-0001cf80: 2020 2020 2065 6469 7444 6174 6142 7574       editDataBut
-0001cf90: 746f 6e73 4672 616d 652c 0a20 2020 2020  tonsFrame,.     
-0001cfa0: 2020 2074 6578 743d 2253 6176 6520 5469     text="Save Ti
-0001cfb0: 6d65 2044 6174 6122 2c0a 2020 2020 2020  me Data",.      
-0001cfc0: 2020 7061 6479 3d32 2c0a 2020 2020 2020    pady=2,.      
-0001cfd0: 2020 636f 6d6d 616e 643d 6c61 6d62 6461    command=lambda
-0001cfe0: 3a65 6469 7444 6174 6150 6f70 7570 5570  :editDataPopupUp
-0001cff0: 6461 7465 2861 6374 696f 6e3d 2274 696d  date(action="tim
-0001d000: 6573 2229 2c0a 2020 2020 2020 2020 7769  es"),.        wi
-0001d010: 6474 683d 2266 696c 6c22 0a20 2020 2029  dth="fill".    )
-0001d020: 0a0a 2020 2020 6564 6974 4461 7461 506f  ..    editDataPo
-0001d030: 7075 7055 7064 6174 6528 290a 0a0a 6465  pupUpdate()...de
-0001d040: 6620 6564 6974 4461 7461 5265 6e61 6d65  f editDataRename
-0001d050: 5072 6f6d 7074 2829 3a0a 2020 2020 0a20  Prompt():.    . 
-0001d060: 2020 2067 6c6f 6261 6c20 6564 6974 4461     global editDa
-0001d070: 7461 5365 744c 6973 740a 2020 2020 0a20  taSetList.    . 
-0001d080: 2020 2073 6574 4e61 6d65 203d 2065 6469     setName = edi
-0001d090: 7444 6174 6153 6574 4c69 7374 2e76 616c  tDataSetList.val
-0001d0a0: 7565 0a20 2020 2069 6620 7365 744e 616d  ue.    if setNam
-0001d0b0: 653a 0a20 2020 2020 2020 2072 656e 616d  e:.        renam
-0001d0c0: 6550 6f70 7570 203d 2057 696e 646f 7728  ePopup = Window(
-0001d0d0: 6170 702c 2074 6974 6c65 3d22 5265 6e61  app, title="Rena
-0001d0e0: 6d65 2070 6163 6b2e 2e2e 222c 2077 6964  me pack...", wid
-0001d0f0: 7468 3d32 3030 2c20 6865 6967 6874 3d31  th=200, height=1
-0001d100: 3230 2920 2023 2050 6f70 7570 2077 696e  20)  # Popup win
-0001d110: 646f 770a 2020 2020 2020 2020 7265 6e61  dow.        rena
-0001d120: 6d65 506f 7075 702e 7368 6f77 2877 6169  mePopup.show(wai
-0001d130: 743d 5472 7565 2920 2023 2053 686f 7720  t=True)  # Show 
-0001d140: 7769 6e64 6f77 2061 7320 706f 7075 700a  window as popup.
-0001d150: 2020 2020 2020 2020 7265 6e61 6d65 5465          renameTe
-0001d160: 7874 203d 2054 6578 7428 7265 6e61 6d65  xt = Text(rename
-0001d170: 506f 7075 702c 2074 6578 743d 2252 656e  Popup, text="Ren
-0001d180: 616d 6520 7061 636b 2022 2b73 6574 4e61  ame pack "+setNa
-0001d190: 6d65 2b22 2074 6f3a 222c 2061 6c69 676e  me+" to:", align
-0001d1a0: 3d22 746f 7022 2c20 666f 6e74 3d22 4172  ="top", font="Ar
-0001d1b0: 6961 6c20 626f 6c64 2229 0a20 2020 2020  ial bold").     
-0001d1c0: 2020 2072 656e 616d 6554 6578 7442 6f78     renameTextBox
-0001d1d0: 203d 2054 6578 7442 6f78 2872 656e 616d   = TextBox(renam
-0001d1e0: 6550 6f70 7570 2920 2023 2054 6578 7420  ePopup)  # Text 
-0001d1f0: 626f 7820 666f 7220 6e65 7720 6e61 6d65  box for new name
-0001d200: 206f 6620 7475 6265 2073 6574 0a20 2020   of tube set.   
-0001d210: 2020 2020 2072 656e 616d 6554 6578 7442       renameTextB
-0001d220: 6f78 2e66 6f63 7573 2829 2020 2320 466f  ox.focus()  # Fo
-0001d230: 6375 7320 6e61 6d65 2074 6578 7420 626f  cus name text bo
-0001d240: 780a 2020 2020 2020 2020 7265 6e61 6d65  x.        rename
-0001d250: 4275 7474 6f6e 203d 2050 7573 6842 7574  Button = PushBut
-0001d260: 746f 6e28 7265 6e61 6d65 506f 7075 702c  ton(renamePopup,
-0001d270: 2074 6578 743d 2243 6f6e 6669 726d 222c   text="Confirm",
-0001d280: 2063 6f6d 6d61 6e64 3d6c 616d 6264 613a   command=lambda:
-0001d290: 205b 6564 6974 4461 7461 506f 7075 7055   [editDataPopupU
-0001d2a0: 7064 6174 6528 6163 7469 6f6e 3d22 7265  pdate(action="re
-0001d2b0: 6e61 6d65 222c 206e 6577 4e61 6d65 3d72  name", newName=r
-0001d2c0: 656e 616d 6554 6578 7442 6f78 2e76 616c  enameTextBox.val
-0001d2d0: 7565 292c 2072 656e 616d 6550 6f70 7570  ue), renamePopup
-0001d2e0: 2e64 6573 7472 6f79 2829 5d29 2020 2320  .destroy()])  # 
-0001d2f0: 4275 7474 6f6e 2074 6f20 7361 7665 2074  Button to save t
-0001d300: 7562 6573 2074 6f20 6669 6c65 2061 6e64  ubes to file and
-0001d310: 2063 6c6f 7365 2070 6f70 7570 0a20 2020   close popup.   
-0001d320: 2020 2020 2072 656e 616d 6542 7574 746f       renameButto
-0001d330: 6e2e 7465 7874 5f73 697a 6520 3d20 3133  n.text_size = 13
-0001d340: 0a20 2020 2020 2020 2072 656e 616d 6542  .        renameB
-0001d350: 7574 746f 6e2e 666f 6e74 203d 2022 4172  utton.font = "Ar
-0001d360: 6961 6c20 626f 6c64 220a 0a0a 6465 6620  ial bold"...def 
-0001d370: 6564 6974 4461 7461 506f 7075 7055 7064  editDataPopupUpd
-0001d380: 6174 6528 6163 7469 6f6e 3d4e 6f6e 652c  ate(action=None,
-0001d390: 206e 6577 4e61 6d65 3d4e 6f6e 6529 3a0a   newName=None):.
-0001d3a0: 2020 2020 0a20 2020 2067 6c6f 6261 6c20      .    global 
-0001d3b0: 7475 6265 734d 6173 7465 720a 2020 2020  tubesMaster.    
-0001d3c0: 676c 6f62 616c 2065 6469 7444 6174 6153  global editDataS
-0001d3d0: 6574 4c69 7374 0a20 2020 2067 6c6f 6261  etList.    globa
-0001d3e0: 6c20 6f70 656e 4669 6c65 0a20 2020 2070  l openFile.    p
-0001d3f0: 7269 6e74 2873 7472 286f 7065 6e46 696c  rint(str(openFil
-0001d400: 6529 290a 0a20 2020 2073 6574 4e61 6d65  e))..    setName
-0001d410: 203d 2065 6469 7444 6174 6153 6574 4c69   = editDataSetLi
-0001d420: 7374 2e76 616c 7565 0a20 2020 206d 6174  st.value.    mat
-0001d430: 6368 2061 6374 696f 6e3a 0a20 2020 2020  ch action:.     
-0001d440: 2020 2063 6173 6520 2272 656e 616d 6522     case "rename"
-0001d450: 3a0a 2020 2020 2020 2020 2020 2020 666f  :.            fo
-0001d460: 7220 7475 6265 2069 6e20 7475 6265 734d  r tube in tubesM
-0001d470: 6173 7465 723a 0a20 2020 2020 2020 2020  aster:.         
-0001d480: 2020 2020 2020 2069 6620 7475 6265 5b22         if tube["
-0001d490: 7365 744e 616d 6522 5d20 3d3d 2073 6574  setName"] == set
-0001d4a0: 4e61 6d65 3a0a 2020 2020 2020 2020 2020  Name:.          
-0001d4b0: 2020 2020 2020 2020 2020 7475 6265 5b22            tube["
-0001d4c0: 7365 744e 616d 6522 5d20 3d20 6e65 774e  setName"] = newN
-0001d4d0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-0001d4e0: 7361 7665 4578 7065 7269 6d65 6e74 4669  saveExperimentFi
-0001d4f0: 6c65 2829 0a20 2020 2020 2020 2063 6173  le().        cas
-0001d500: 6520 2272 656d 6f76 6522 3a0a 2020 2020  e "remove":.    
-0001d510: 2020 2020 2020 2020 6966 206e 6f74 206e          if not n
-0001d520: 6577 4e61 6d65 3a0a 2020 2020 2020 2020  ewName:.        
-0001d530: 2020 2020 2020 2020 756e 7469 6c20 3d20          until = 
-0001d540: 4661 6c73 650a 2020 2020 2020 2020 2020  False.          
-0001d550: 2020 2020 2020 7768 696c 6520 756e 7469        while unti
-0001d560: 6c20 6973 2046 616c 7365 3a0a 2020 2020  l is False:.    
-0001d570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d580: 666f 7220 696e 6465 782c 2074 7562 6520  for index, tube 
-0001d590: 696e 2065 6e75 6d65 7261 7465 2874 7562  in enumerate(tub
-0001d5a0: 6573 4d61 7374 6572 293a 0a20 2020 2020  esMaster):.     
-0001d5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d5c0: 2020 2069 6620 7475 6265 5b22 7365 744e     if tube["setN
-0001d5d0: 616d 6522 5d20 3d3d 2073 6574 4e61 6d65  ame"] == setName
-0001d5e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001d5f0: 2020 2020 2020 2020 2020 2020 2020 7475                tu
-0001d600: 6265 734d 6173 7465 722e 706f 7028 696e  besMaster.pop(in
-0001d610: 6465 7829 0a20 2020 2020 2020 2020 2020  dex).           
-0001d620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d630: 2062 7265 616b 0a20 2020 2020 2020 2020   break.         
-0001d640: 2020 2020 2020 2020 2020 2063 6f75 6e74             count
-0001d650: 203d 2030 0a20 2020 2020 2020 2020 2020   = 0.           
-0001d660: 2020 2020 2020 2020 2066 6f72 2074 7562           for tub
-0001d670: 6520 696e 2074 7562 6573 4d61 7374 6572  e in tubesMaster
-0001d680: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001d690: 2020 2020 2020 2020 2020 6966 2074 7562            if tub
-0001d6a0: 655b 2273 6574 4e61 6d65 225d 203d 3d20  e["setName"] == 
-0001d6b0: 7365 744e 616d 653a 0a20 2020 2020 2020  setName:.       
-0001d6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d6d0: 2020 2020 2063 6f75 6e74 202b 3d20 310a       count += 1.
-0001d6e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d6f0: 2020 2020 6966 2063 6f75 6e74 203d 3d20      if count == 
-0001d700: 303a 0a20 2020 2020 2020 2020 2020 2020  0:.             
-0001d710: 2020 2020 2020 2020 2020 2075 6e74 696c             until
-0001d720: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-0001d730: 2020 2020 7361 7665 4578 7065 7269 6d65      saveExperime
-0001d740: 6e74 4669 6c65 2829 0a20 2020 2020 2020  ntFile().       
-0001d750: 2063 6173 6520 2274 696d 6573 223a 0a20   case "times":. 
-0001d760: 2020 2020 2020 2020 2020 2074 696d 654d             timeM
-0001d770: 6172 6b73 4669 6c65 4e61 6d65 203d 2061  arksFileName = a
-0001d780: 7070 2e73 656c 6563 745f 6669 6c65 280a  pp.select_file(.
-0001d790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d7a0: 7469 746c 653d 2253 6176 6520 7469 6d65  title="Save time
-0001d7b0: 2064 6174 6120 6173 2e2e 2e22 2c0a 2020   data as...",.  
-0001d7c0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-0001d7d0: 6c64 6572 3d77 6f72 6b69 6e67 4469 722c  lder=workingDir,
-0001d7e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001d7f0: 2066 696c 6574 7970 6573 3d5b 5b22 4353   filetypes=[["CS
-0001d800: 5622 2c20 222a 2e63 7376 225d 5d2c 0a20  V", "*.csv"]],. 
-0001d810: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001d820: 6176 653d 5472 7565 2c0a 2020 2020 2020  ave=True,.      
-0001d830: 2020 2020 2020 2020 2020 6669 6c65 6e61            filena
-0001d840: 6d65 3d28 7365 744e 616d 6520 2b20 225f  me=(setName + "_
-0001d850: 7469 6d65 5f6d 6172 6b73 5f6d 6574 6164  time_marks_metad
-0001d860: 6174 6122 292c 0a20 2020 2020 2020 2020  ata"),.         
-0001d870: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-0001d880: 206d 6172 6b48 6f75 7273 203d 204e 6f6e   markHours = Non
-0001d890: 650a 2020 2020 2020 2020 2020 2020 666f  e.            fo
-0001d8a0: 7220 7475 6265 2069 6e20 7475 6265 734d  r tube in tubesM
-0001d8b0: 6173 7465 723a 0a20 2020 2020 2020 2020  aster:.         
-0001d8c0: 2020 2020 2020 2069 6620 7475 6265 5b22         if tube["
-0001d8d0: 7365 744e 616d 6522 5d20 3d3d 2073 6574  setName"] == set
-0001d8e0: 4e61 6d65 3a0a 2020 2020 2020 2020 2020  Name:.          
-0001d8f0: 2020 2020 2020 2020 2020 6d61 726b 486f            markHo
-0001d900: 7572 7320 3d20 7475 6265 5b22 6d61 726b  urs = tube["mark
-0001d910: 486f 7572 7322 5d5b 3a6c 656e 2874 7562  Hours"][:len(tub
-0001d920: 655b 2274 696d 654d 6172 6b73 225d 295d  e["timeMarks"])]
-0001d930: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001d940: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
-0001d950: 2020 2020 2020 206e 6169 7665 486f 7572         naiveHour
-0001d960: 7320 3d20 5b5d 0a20 2020 2020 2020 2020  s = [].         
-0001d970: 2020 2066 6f72 2069 6e64 6578 2069 6e20     for index in 
-0001d980: 7261 6e67 6528 6c65 6e28 6d61 726b 486f  range(len(markHo
-0001d990: 7572 7329 293a 0a20 2020 2020 2020 2020  urs)):.         
-0001d9a0: 2020 2020 2020 206e 6169 7665 486f 7572         naiveHour
-0001d9b0: 732e 6170 7065 6e64 286d 6172 6b48 6f75  s.append(markHou
-0001d9c0: 7273 5b30 5d20 2b20 3234 202a 2069 6e64  rs[0] + 24 * ind
-0001d9d0: 6578 290a 2020 2020 2020 2020 2020 2020  ex).            
-0001d9e0: 7769 7468 206f 7065 6e28 7469 6d65 4d61  with open(timeMa
-0001d9f0: 726b 7346 696c 654e 616d 652c 2027 7727  rksFileName, 'w'
-0001da00: 2c20 6e65 776c 696e 653d 2727 2c20 656e  , newline='', en
-0001da10: 636f 6469 6e67 3d27 7574 662d 3136 2729  coding='utf-16')
-0001da20: 2061 7320 6373 7666 696c 653a 2020 2320   as csvfile:  # 
-0001da30: 4f70 656e 2063 7376 2066 696c 650a 2020  Open csv file.  
-0001da40: 2020 2020 2020 2020 2020 2020 2020 726f                ro
-0001da50: 7757 7269 7465 7220 3d20 6373 762e 7772  wWriter = csv.wr
-0001da60: 6974 6572 2863 7376 6669 6c65 2c20 6465  iter(csvfile, de
-0001da70: 6c69 6d69 7465 723d 272c 2729 2020 2320  limiter=',')  # 
-0001da80: 5772 6974 6520 746f 2066 696c 6520 6465  Write to file de
-0001da90: 6c69 6d69 7465 6420 6279 2022 2c22 0a20  limited by ",". 
-0001daa0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001dab0: 6f77 5772 6974 6572 2e77 7269 7465 726f  owWriter.writero
-0001dac0: 7728 5b73 6574 4e61 6d65 2c20 2222 2c20  w([setName, "", 
-0001dad0: 2222 5d29 0a20 2020 2020 2020 2020 2020  ""]).           
-0001dae0: 2020 2020 2072 6f77 5772 6974 6572 2e77       rowWriter.w
-0001daf0: 7269 7465 726f 7728 5b22 4d61 726b 2023  riterow(["Mark #
-0001db00: 222c 2022 486f 7572 7322 2c20 222b 2f2d  ", "Hours", "+/-
-0001db10: 2032 3420 486f 7572 2053 6368 6564 756c   24 Hour Schedul
-0001db20: 6522 5d29 2020 2320 5772 6974 6520 7469  e"])  # Write ti
-0001db30: 746c 6520 726f 7720 746f 2066 696c 650a  tle row to file.
-0001db40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001db50: 666f 7220 696e 6465 782c 2068 6f75 7273  for index, hours
-0001db60: 2069 6e20 656e 756d 6572 6174 6528 6d61   in enumerate(ma
-0001db70: 726b 486f 7572 7329 3a0a 2020 2020 2020  rkHours):.      
-0001db80: 2020 2020 2020 2020 2020 2020 2020 6465                de
-0001db90: 7669 6174 696f 6e20 3d20 686f 7572 7320  viation = hours 
-0001dba0: 2d20 6e61 6976 6548 6f75 7273 5b69 6e64  - naiveHours[ind
-0001dbb0: 6578 5d0a 2020 2020 2020 2020 2020 2020  ex].            
-0001dbc0: 2020 2020 2020 2020 6e65 774c 696e 6520          newLine 
-0001dbd0: 3d20 5b73 7472 2869 6e64 6578 202b 2031  = [str(index + 1
-0001dbe0: 292c 2073 7472 2868 6f75 7273 292c 2073  ), str(hours), s
-0001dbf0: 7472 2864 6576 6961 7469 6f6e 295d 0a20  tr(deviation)]. 
-0001dc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001dc10: 2020 2072 6f77 5772 6974 6572 2e77 7269     rowWriter.wri
-0001dc20: 7465 726f 7728 6e65 774c 696e 6529 2020  terow(newLine)  
-0001dc30: 2320 5772 6974 6520 726f 7720 746f 2066  # Write row to f
-0001dc40: 696c 650a 0a20 2020 2023 4765 7420 696e  ile..    #Get in
-0001dc50: 666f 726d 6174 696f 6e20 666f 7220 7365  formation for se
-0001dc60: 7473 2069 6e20 6669 6c65 0a20 2020 2073  ts in file.    s
-0001dc70: 6574 7354 6f44 6973 706c 6179 203d 205b  etsToDisplay = [
-0001dc80: 5d20 2023 2042 6c61 6e6b 206c 6973 7420  ]  # Blank list 
-0001dc90: 6f66 2074 7562 6520 7365 7473 0a20 2020  of tube sets.   
-0001dca0: 2066 6f72 2074 7562 6520 696e 2074 7562   for tube in tub
-0001dcb0: 6573 4d61 7374 6572 3a20 2023 2046 6f72  esMaster:  # For
-0001dcc0: 2065 6163 6820 7475 6265 2069 6e20 6d61   each tube in ma
-0001dcd0: 7374 6572 2074 7562 6573 206c 6973 740a  ster tubes list.
-0001dce0: 2020 2020 2020 2020 6966 2074 7562 655b          if tube[
-0001dcf0: 2273 6574 4e61 6d65 225d 206e 6f74 2069  "setName"] not i
-0001dd00: 6e20 7365 7473 546f 4469 7370 6c61 793a  n setsToDisplay:
-0001dd10: 2020 2320 4966 2073 6574 206e 616d 6520    # If set name 
-0001dd20: 6f66 2074 7562 6520 6973 206e 6f74 2069  of tube is not i
-0001dd30: 6e20 6c69 7374 206f 6620 7365 7420 6f70  n list of set op
-0001dd40: 7469 6f6e 730a 2020 2020 2020 2020 2020  tions.          
-0001dd50: 2020 7365 7473 546f 4469 7370 6c61 792e    setsToDisplay.
-0001dd60: 6170 7065 6e64 2874 7562 655b 2273 6574  append(tube["set
-0001dd70: 4e61 6d65 225d 2920 2023 2041 6464 2074  Name"])  # Add t
-0001dd80: 7562 6520 7365 7420 6e61 6d65 2074 6f20  ube set name to 
-0001dd90: 6c69 7374 206f 6620 7365 7420 6f70 7469  list of set opti
-0001dda0: 6f6e 730a 2020 2020 0a20 2020 2023 4368  ons.    .    #Ch
-0001ddb0: 616e 6765 2065 6c65 6d65 6e74 7320 6f66  ange elements of
-0001ddc0: 2073 6574 206c 6973 7420 746f 2072 6566   set list to ref
-0001ddd0: 6c65 6374 2075 7365 7220 7365 6c65 6374  lect user select
-0001dde0: 696f 6e73 0a20 2020 2077 6869 6c65 206c  ions.    while l
-0001ddf0: 656e 2865 6469 7444 6174 6153 6574 4c69  en(editDataSetLi
-0001de00: 7374 2e69 7465 6d73 2920 3e20 303a 2020  st.items) > 0:  
-0001de10: 2320 556e 7469 6c20 7475 6265 206c 6973  # Until tube lis
-0001de20: 7420 6973 2065 6d70 7479 0a20 2020 2020  t is empty.     
-0001de30: 2020 2066 6f72 2069 7465 6d20 696e 2065     for item in e
-0001de40: 6469 7444 6174 6153 6574 4c69 7374 2e69  ditDataSetList.i
-0001de50: 7465 6d73 3a20 2023 2046 6f72 2065 6163  tems:  # For eac
-0001de60: 6820 6974 656d 2069 6e20 7475 6265 206c  h item in tube l
-0001de70: 6973 740a 2020 2020 2020 2020 2020 2020  ist.            
-0001de80: 6564 6974 4461 7461 5365 744c 6973 742e  editDataSetList.
-0001de90: 7265 6d6f 7665 2869 7465 6d29 2020 2320  remove(item)  # 
-0001dea0: 5265 6d6f 7665 2069 7465 6d20 6672 6f6d  Remove item from
-0001deb0: 2074 7562 6520 6c69 7374 0a20 2020 2069   tube list.    i
-0001dec0: 6620 6c65 6e28 6564 6974 4461 7461 5365  f len(editDataSe
-0001ded0: 744c 6973 742e 6974 656d 7329 203d 3d20  tList.items) == 
-0001dee0: 303a 2020 2320 4966 2073 6574 206c 6973  0:  # If set lis
-0001def0: 7420 6973 2065 6d70 7479 0a20 2020 2020  t is empty.     
-0001df00: 2020 2066 6f72 2069 6e64 6578 2c20 7365     for index, se
-0001df10: 744e 616d 6520 696e 2065 6e75 6d65 7261  tName in enumera
-0001df20: 7465 2873 6574 7354 6f44 6973 706c 6179  te(setsToDisplay
-0001df30: 293a 2020 2320 466f 7220 6561 6368 2073  ):  # For each s
-0001df40: 6574 2074 6f20 6469 7370 6c61 790a 2020  et to display.  
-0001df50: 2020 2020 2020 2020 2020 6564 6974 4461            editDa
-0001df60: 7461 5365 744c 6973 742e 696e 7365 7274  taSetList.insert
-0001df70: 2869 6e64 6578 2c20 7365 744e 616d 6529  (index, setName)
-0001df80: 2020 2320 4164 6420 7365 7420 6e61 6d65    # Add set name
-0001df90: 2074 6f20 7365 7420 6c69 7374 0a0a 0a64   to set list...d
-0001dfa0: 6566 2063 6f6c 6f72 5069 636b 4861 6e64  ef colorPickHand
-0001dfb0: 6c65 7228 6275 7474 6f6e 293a 0a20 2020  ler(button):.   
-0001dfc0: 2022 2222 5072 6f6d 7074 2075 7365 7220   """Prompt user 
-0001dfd0: 746f 2070 6963 6b20 6120 6e65 7720 636f  to pick a new co
-0001dfe0: 6c6f 7220 7768 656e 2061 2062 7574 746f  lor when a butto
-0001dff0: 6e20 746f 2063 6861 6e67 6520 6120 636f  n to change a co
-0001e000: 6c6f 7220 7072 6566 6572 656e 6365 2069  lor preference i
-0001e010: 7320 636c 6963 6b65 642e 2222 220a 2020  s clicked.""".  
-0001e020: 2020 0a20 2020 200a 2020 2020 676c 6f62    .    .    glob
-0001e030: 616c 2061 7070 5061 7261 6d65 7465 7273  al appParameters
-0001e040: 0a0a 2020 2020 0a20 2020 206e 6577 436f  ..    .    newCo
-0001e050: 6c6f 7220 3d20 2222 0a20 2020 206d 6174  lor = "".    mat
-0001e060: 6368 2062 7574 746f 6e3a 0a20 2020 2020  ch button:.     
-0001e070: 2020 2063 6173 6520 303a 0a20 2020 2020     case 0:.     
-0001e080: 2020 2020 2020 206e 6577 436f 6c6f 7220         newColor 
-0001e090: 3d20 6170 702e 7365 6c65 6374 5f63 6f6c  = app.select_col
-0001e0a0: 6f72 2863 6f6c 6f72 3d61 7070 5061 7261  or(color=appPara
-0001e0b0: 6d65 7465 7273 5b22 636f 6c6f 7247 7261  meters["colorGra
-0001e0c0: 7068 225d 290a 2020 2020 2020 2020 2020  ph"]).          
-0001e0d0: 2020 6170 7050 6172 616d 6574 6572 735b    appParameters[
-0001e0e0: 2263 6f6c 6f72 4772 6170 6822 5d20 3d20  "colorGraph"] = 
-0001e0f0: 6e65 7743 6f6c 6f72 0a20 2020 2020 2020  newColor.       
-0001e100: 2020 2020 2075 7064 6174 6541 7070 5061       updateAppPa
-0001e110: 7261 6d65 7465 7273 2829 0a20 2020 2020  rameters().     
-0001e120: 2020 2063 6173 6520 313a 0a20 2020 2020     case 1:.     
-0001e130: 2020 2020 2020 206e 6577 436f 6c6f 7220         newColor 
-0001e140: 3d20 6170 702e 7365 6c65 6374 5f63 6f6c  = app.select_col
-0001e150: 6f72 2863 6f6c 6f72 3d61 7070 5061 7261  or(color=appPara
-0001e160: 6d65 7465 7273 5b22 636f 6c6f 7248 6f72  meters["colorHor
-0001e170: 697a 225d 290a 2020 2020 2020 2020 2020  iz"]).          
-0001e180: 2020 6170 7050 6172 616d 6574 6572 735b    appParameters[
-0001e190: 2263 6f6c 6f72 486f 7269 7a22 5d20 3d20  "colorHoriz"] = 
-0001e1a0: 6e65 7743 6f6c 6f72 0a20 2020 2020 2020  newColor.       
-0001e1b0: 2020 2020 2075 7064 6174 6541 7070 5061       updateAppPa
-0001e1c0: 7261 6d65 7465 7273 2829 0a20 2020 2020  rameters().     
-0001e1d0: 2020 2063 6173 6520 323a 0a20 2020 2020     case 2:.     
-0001e1e0: 2020 2020 2020 206e 6577 436f 6c6f 7220         newColor 
-0001e1f0: 3d20 6170 702e 7365 6c65 6374 5f63 6f6c  = app.select_col
-0001e200: 6f72 2863 6f6c 6f72 3d61 7070 5061 7261  or(color=appPara
-0001e210: 6d65 7465 7273 5b22 636f 6c6f 7256 6572  meters["colorVer
-0001e220: 7422 5d29 0a20 2020 2020 2020 2020 2020  t"]).           
-0001e230: 2061 7070 5061 7261 6d65 7465 7273 5b22   appParameters["
-0001e240: 636f 6c6f 7256 6572 7422 5d20 3d20 6e65  colorVert"] = ne
-0001e250: 7743 6f6c 6f72 0a20 2020 2020 2020 2020  wColor.         
-0001e260: 2020 2075 7064 6174 6541 7070 5061 7261     updateAppPara
-0001e270: 6d65 7465 7273 2829 0a20 2020 2020 2020  meters().       
-0001e280: 2063 6173 6520 333a 0a20 2020 2020 2020   case 3:.       
-0001e290: 2020 2020 206e 6577 436f 6c6f 7220 3d20       newColor = 
-0001e2a0: 6170 702e 7365 6c65 6374 5f63 6f6c 6f72  app.select_color
-0001e2b0: 2863 6f6c 6f72 3d61 7070 5061 7261 6d65  (color=appParame
-0001e2c0: 7465 7273 5b22 636f 6c6f 7242 616e 6422  ters["colorBand"
-0001e2d0: 5d29 0a20 2020 2020 2020 2020 2020 2061  ]).            a
-0001e2e0: 7070 5061 7261 6d65 7465 7273 5b22 636f  ppParameters["co
-0001e2f0: 6c6f 7242 616e 6422 5d20 3d20 6e65 7743  lorBand"] = newC
-0001e300: 6f6c 6f72 0a20 2020 2020 2020 2020 2020  olor.           
-0001e310: 2075 7064 6174 6541 7070 5061 7261 6d65   updateAppParame
-0001e320: 7465 7273 2829 0a20 2020 2020 2020 2063  ters().        c
-0001e330: 6173 6520 5f3a 0a20 2020 2020 2020 2020  ase _:.         
-0001e340: 2020 2061 7070 5061 7261 6d65 7465 7273     appParameters
-0001e350: 5b22 6865 6174 6d61 7022 5d20 3d20 6275  ["heatmap"] = bu
-0001e360: 7474 6f6e 2e6c 6f77 6572 2829 0a20 2020  tton.lower().   
-0001e370: 2020 2020 2020 2020 2075 7064 6174 6541           updateA
-0001e380: 7070 5061 7261 6d65 7465 7273 2829 0a20  ppParameters(). 
-0001e390: 2020 2020 2020 2020 2020 2070 6f70 756c             popul
-0001e3a0: 6174 6550 6c6f 7473 2829 0a20 2020 2020  atePlots().     
-0001e3b0: 2020 2020 2020 2072 6574 7572 6e0a 2020         return.  
-0001e3c0: 2020 6472 6177 4c69 6e65 7328 5472 7565    drawLines(True
-0001e3d0: 290a 0a0a 6465 6620 6772 6170 6869 6373  )...def graphics
-0001e3e0: 5072 6566 6572 656e 6365 7350 726f 6d70  PreferencesPromp
-0001e3f0: 7455 7064 6174 6528 7465 7874 7329 3a0a  tUpdate(texts):.
-0001e400: 2020 2020 2222 2255 7064 6174 6520 6772      """Update gr
-0001e410: 6170 6869 6373 2070 7265 6665 7265 6e63  aphics preferenc
-0001e420: 6573 2077 696e 646f 772e 2222 220a 2020  es window.""".  
-0001e430: 2020 0a20 2020 200a 2020 2020 676c 6f62    .    .    glob
-0001e440: 616c 2061 7070 5061 7261 6d65 7465 7273  al appParameters
-0001e450: 0a20 2020 200a 2020 2020 0a20 2020 2074  .    .    .    t
-0001e460: 6578 7473 5b30 5d2e 7465 7874 5f63 6f6c  exts[0].text_col
-0001e470: 6f72 203d 2061 7070 5061 7261 6d65 7465  or = appParamete
-0001e480: 7273 5b22 636f 6c6f 7247 7261 7068 225d  rs["colorGraph"]
-0001e490: 0a20 2020 2074 6578 7473 5b30 5d2e 7661  .    texts[0].va
-0001e4a0: 6c75 6520 3d20 6170 7050 6172 616d 6574  lue = appParamet
-0001e4b0: 6572 735b 2263 6f6c 6f72 4772 6170 6822  ers["colorGraph"
-0001e4c0: 5d0a 2020 2020 7465 7874 735b 305d 2e62  ].    texts[0].b
-0001e4d0: 6720 3d20 696e 7665 7274 436f 6c6f 7228  g = invertColor(
-0001e4e0: 6170 7050 6172 616d 6574 6572 735b 2263  appParameters["c
-0001e4f0: 6f6c 6f72 4772 6170 6822 5d29 0a20 2020  olorGraph"]).   
-0001e500: 2074 6578 7473 5b31 5d2e 7465 7874 5f63   texts[1].text_c
-0001e510: 6f6c 6f72 203d 2061 7070 5061 7261 6d65  olor = appParame
-0001e520: 7465 7273 5b22 636f 6c6f 7248 6f72 697a  ters["colorHoriz
-0001e530: 225d 0a20 2020 2074 6578 7473 5b31 5d2e  "].    texts[1].
-0001e540: 7661 6c75 6520 3d20 6170 7050 6172 616d  value = appParam
-0001e550: 6574 6572 735b 2263 6f6c 6f72 486f 7269  eters["colorHori
-0001e560: 7a22 5d0a 2020 2020 7465 7874 735b 315d  z"].    texts[1]
-0001e570: 2e62 6720 3d20 696e 7665 7274 436f 6c6f  .bg = invertColo
-0001e580: 7228 6170 7050 6172 616d 6574 6572 735b  r(appParameters[
-0001e590: 2263 6f6c 6f72 486f 7269 7a22 5d29 0a20  "colorHoriz"]). 
-0001e5a0: 2020 2074 6578 7473 5b32 5d2e 7465 7874     texts[2].text
-0001e5b0: 5f63 6f6c 6f72 203d 2061 7070 5061 7261  _color = appPara
-0001e5c0: 6d65 7465 7273 5b22 636f 6c6f 7256 6572  meters["colorVer
-0001e5d0: 7422 5d0a 2020 2020 7465 7874 735b 325d  t"].    texts[2]
-0001e5e0: 2e76 616c 7565 203d 2061 7070 5061 7261  .value = appPara
-0001e5f0: 6d65 7465 7273 5b22 636f 6c6f 7256 6572  meters["colorVer
-0001e600: 7422 5d0a 2020 2020 7465 7874 735b 325d  t"].    texts[2]
-0001e610: 2e62 6720 3d20 696e 7665 7274 436f 6c6f  .bg = invertColo
-0001e620: 7228 6170 7050 6172 616d 6574 6572 735b  r(appParameters[
-0001e630: 2263 6f6c 6f72 5665 7274 225d 290a 2020  "colorVert"]).  
-0001e640: 2020 7465 7874 735b 335d 2e74 6578 745f    texts[3].text_
-0001e650: 636f 6c6f 7220 3d20 6170 7050 6172 616d  color = appParam
-0001e660: 6574 6572 735b 2263 6f6c 6f72 4261 6e64  eters["colorBand
-0001e670: 225d 0a20 2020 2074 6578 7473 5b33 5d2e  "].    texts[3].
-0001e680: 7661 6c75 6520 3d20 6170 7050 6172 616d  value = appParam
-0001e690: 6574 6572 735b 2263 6f6c 6f72 4261 6e64  eters["colorBand
-0001e6a0: 225d 0a20 2020 2074 6578 7473 5b33 5d2e  "].    texts[3].
-0001e6b0: 6267 203d 2069 6e76 6572 7443 6f6c 6f72  bg = invertColor
-0001e6c0: 2861 7070 5061 7261 6d65 7465 7273 5b22  (appParameters["
-0001e6d0: 636f 6c6f 7242 616e 6422 5d29 0a0a 0a64  colorBand"])...d
-0001e6e0: 6566 2064 6973 706c 6179 5365 7449 6d61  ef displaySetIma
-0001e6f0: 6765 506f 7075 7028 293a 0a20 2020 2022  gePopup():.    "
-0001e700: 2222 4469 7370 6c61 7920 696d 6167 6520  ""Display image 
-0001e710: 666f 7220 7365 6c65 6374 6564 2073 6574  for selected set
-0001e720: 2066 726f 6d20 696d 6167 6520 6461 7461   from image data
-0001e730: 2069 6e20 6669 6c65 2e22 2222 0a20 2020   in file.""".   
-0001e740: 200a 2020 2020 0a20 2020 2067 6c6f 6261   .    .    globa
-0001e750: 6c20 7475 6265 734d 6173 7465 720a 2020  l tubesMaster.  
-0001e760: 2020 676c 6f62 616c 2065 7870 6572 696d    global experim
-0001e770: 656e 7454 6162 506c 6f74 5475 6265 5365  entTabPlotTubeSe
-0001e780: 6c65 6374 696f 6e53 6574 4c69 7374 0a0a  lectionSetList..
-0001e790: 2020 2020 0a20 2020 2074 7562 6549 6e53      .    tubeInS
-0001e7a0: 6574 5365 6c65 6374 6564 203d 204e 6f6e  etSelected = Non
-0001e7b0: 650a 2020 2020 666f 7220 7475 6265 2069  e.    for tube i
-0001e7c0: 6e20 7475 6265 734d 6173 7465 723a 0a20  n tubesMaster:. 
-0001e7d0: 2020 2020 2020 2069 6620 7475 6265 5b22         if tube["
-0001e7e0: 7365 744e 616d 6522 5d20 3d3d 2065 7870  setName"] == exp
-0001e7f0: 6572 696d 656e 7454 6162 506c 6f74 5475  erimentTabPlotTu
-0001e800: 6265 5365 6c65 6374 696f 6e53 6574 4c69  beSelectionSetLi
-0001e810: 7374 2e76 616c 7565 3a0a 2020 2020 2020  st.value:.      
-0001e820: 2020 2020 2020 7475 6265 496e 5365 7453        tubeInSetS
-0001e830: 656c 6563 7465 6420 3d20 7475 6265 0a20  elected = tube. 
-0001e840: 2020 200a 2020 2020 7365 744e 616d 6520     .    setName 
-0001e850: 3d20 7475 6265 496e 5365 7453 656c 6563  = tubeInSetSelec
-0001e860: 7465 645b 2273 6574 4e61 6d65 225d 0a20  ted["setName"]. 
-0001e870: 2020 2069 6d61 6765 4e61 6d65 203d 2074     imageName = t
-0001e880: 7562 6549 6e53 6574 5365 6c65 6374 6564  ubeInSetSelected
-0001e890: 5b22 696d 6167 654e 616d 6522 5d0a 2020  ["imageName"].  
-0001e8a0: 2020 696d 6167 6544 6174 6120 3d20 7475    imageData = tu
-0001e8b0: 6265 496e 5365 7453 656c 6563 7465 645b  beInSetSelected[
-0001e8c0: 2269 6d61 6765 4461 7461 225d 0a20 2020  "imageData"].   
-0001e8d0: 2069 6d61 6765 4172 7261 7920 3d20 6e75   imageArray = nu
-0001e8e0: 6d70 792e 6172 7261 7928 696d 6167 6544  mpy.array(imageD
-0001e8f0: 6174 6129 2e61 7374 7970 6528 6e75 6d70  ata).astype(nump
-0001e900: 792e 7569 6e74 3829 0a20 2020 2069 6d61  y.uint8).    ima
-0001e910: 6765 436f 6e76 6572 7465 6420 3d20 496d  geConverted = Im
-0001e920: 6167 652e 6672 6f6d 6172 7261 7928 6e75  age.fromarray(nu
-0001e930: 6d70 792e 7569 6e74 3828 696d 6167 6541  mpy.uint8(imageA
-0001e940: 7272 6179 292c 2027 4c27 290a 2020 2020  rray), 'L').    
-0001e950: 696d 6167 6554 6875 6d62 6e61 696c 5769  imageThumbnailWi
-0001e960: 6e64 6f77 203d 2057 696e 646f 7728 6170  ndow = Window(ap
-0001e970: 702c 2074 6974 6c65 3d22 5061 636b 2049  p, title="Pack I
-0001e980: 6d61 6765 3a20 222b 7365 744e 616d 652b  mage: "+setName+
-0001e990: 2220 2822 2b69 6d61 6765 4e61 6d65 2b22  " ("+imageName+"
-0001e9a0: 2922 2c20 7769 6474 683d 3131 3630 2c20  )", width=1160, 
-0001e9b0: 6865 6967 6874 3d35 3030 290a 2020 2020  height=500).    
-0001e9c0: 696d 6167 6554 6875 6d62 6e61 696c 5069  imageThumbnailPi
-0001e9d0: 6374 7572 6520 3d20 4472 6177 696e 6728  cture = Drawing(
-0001e9e0: 696d 6167 6554 6875 6d62 6e61 696c 5769  imageThumbnailWi
-0001e9f0: 6e64 6f77 2c20 7769 6474 683d 3131 3630  ndow, width=1160
-0001ea00: 2c20 6865 6967 6874 3d34 3030 290a 2020  , height=400).  
-0001ea10: 2020 696d 6167 6554 6875 6d62 6e61 696c    imageThumbnail
-0001ea20: 5069 6374 7572 652e 696d 6167 6528 302c  Picture.image(0,
-0001ea30: 2030 2c20 696d 6167 6543 6f6e 7665 7274   0, imageConvert
-0001ea40: 6564 2c20 3131 3630 2c20 3430 3029 0a20  ed, 1160, 400). 
-0001ea50: 2020 2069 6d61 6765 5468 756d 6e6e 6169     imageThumnnai
-0001ea60: 6c44 6f77 6e6c 6f61 6442 7574 746f 6e20  lDownloadButton 
-0001ea70: 3d20 5075 7368 4275 7474 6f6e 2869 6d61  = PushButton(ima
-0001ea80: 6765 5468 756d 626e 6169 6c57 696e 646f  geThumbnailWindo
-0001ea90: 772c 2074 6578 743d 2244 6f77 6e6c 6f61  w, text="Downloa
-0001eaa0: 6420 496d 6167 6522 2c20 636f 6d6d 616e  d Image", comman
-0001eab0: 643d 7361 7665 496d 6167 6546 726f 6d46  d=saveImageFromF
-0001eac0: 696c 652c 2061 7267 733d 5b73 6574 4e61  ile, args=[setNa
-0001ead0: 6d65 2c20 696d 6167 6543 6f6e 7665 7274  me, imageConvert
-0001eae0: 6564 5d29 0a20 2020 2069 6d61 6765 5468  ed]).    imageTh
-0001eaf0: 756d 626e 6169 6c57 696e 646f 772e 7368  umbnailWindow.sh
-0001eb00: 6f77 2829 0a0a 0a64 6566 2073 6176 6549  ow()...def saveI
-0001eb10: 6d61 6765 4672 6f6d 4669 6c65 2873 6574  mageFromFile(set
-0001eb20: 4e61 6d65 2c20 696d 6167 6541 7272 6179  Name, imageArray
-0001eb30: 293a 0a20 2020 2022 2222 5361 7665 2069  ):.    """Save i
-0001eb40: 6d61 6765 206f 6620 7365 6c65 6374 6564  mage of selected
-0001eb50: 2073 6574 2074 6f20 6120 7370 6563 6966   set to a specif
-0001eb60: 6965 6420 6c6f 6361 7469 6f6e 2e22 2222  ied location."""
-0001eb70: 0a0a 0a20 2020 2067 6c6f 6261 6c20 776f  ...    global wo
-0001eb80: 726b 696e 6744 6972 0a20 2020 200a 0a20  rkingDir.    .. 
-0001eb90: 2020 2066 696c 654e 616d 6520 3d20 6170     fileName = ap
-0001eba0: 702e 7365 6c65 6374 5f66 696c 6528 0a20  p.select_file(. 
-0001ebb0: 2020 2020 2020 2020 2020 2074 6974 6c65             title
-0001ebc0: 3d22 5361 7665 2069 6d61 6765 2061 732e  ="Save image as.
-0001ebd0: 2e2e 222c 0a20 2020 2020 2020 2020 2020  ..",.           
-0001ebe0: 2066 6f6c 6465 723d 776f 726b 696e 6744   folder=workingD
-0001ebf0: 6972 2c0a 2020 2020 2020 2020 2020 2020  ir,.            
-0001ec00: 6669 6c65 7479 7065 733d 5b5b 2250 4e47  filetypes=[["PNG
-0001ec10: 222c 2022 2a2e 706e 6722 5d2c 205b 224a  ", "*.png"], ["J
-0001ec20: 5047 222c 2022 2a2e 6a70 6722 5d2c 205b  PG", "*.jpg"], [
-0001ec30: 224a 5045 4722 2c20 222a 2e6a 7065 6722  "JPEG", "*.jpeg"
-0001ec40: 5d2c 205b 2254 4946 4622 2c20 222a 2e74  ], ["TIFF", "*.t
-0001ec50: 6966 225d 2c20 5b22 5356 4722 2c20 222a  if"], ["SVG", "*
-0001ec60: 2e73 7667 225d 5d2c 0a20 2020 2020 2020  .svg"]],.       
-0001ec70: 2020 2020 2073 6176 653d 5472 7565 2c0a       save=True,.
-0001ec80: 2020 2020 2020 2020 2020 2020 6669 6c65              file
-0001ec90: 6e61 6d65 3d28 7365 744e 616d 6520 2b20  name=(setName + 
-0001eca0: 225f 696d 6167 6522 290a 2020 2020 2020  "_image").      
-0001ecb0: 2020 290a 2020 2020 696d 6167 6543 6f6e    ).    imageCon
-0001ecc0: 7665 7274 6564 203d 2049 6d61 6765 2e66  verted = Image.f
-0001ecd0: 726f 6d61 7272 6179 286e 756d 7079 2e75  romarray(numpy.u
-0001ece0: 696e 7438 2869 6d61 6765 4172 7261 7929  int8(imageArray)
-0001ecf0: 2c20 274c 2729 0a20 2020 2069 6d61 6765  , 'L').    image
-0001ed00: 436f 6e76 6572 7465 642e 7361 7665 2866  Converted.save(f
-0001ed10: 696c 654e 616d 6529 0a0a 0a64 6566 2074  ileName)...def t
-0001ed20: 696d 654d 6172 6b54 6162 6c65 5363 726f  imeMarkTableScro
-0001ed30: 6c6c 2864 6972 6563 7469 6f6e 293a 0a20  ll(direction):. 
-0001ed40: 2020 2067 6c6f 6261 6c20 7469 6d65 4d61     global timeMa
-0001ed50: 726b 5461 626c 6552 6f77 730a 0a20 2020  rkTableRows..   
-0001ed60: 2073 686f 776e 5374 6174 7573 203d 205b   shownStatus = [
-0001ed70: 5d0a 2020 2020 666f 7220 726f 7720 696e  ].    for row in
-0001ed80: 2074 696d 654d 6172 6b54 6162 6c65 526f   timeMarkTableRo
-0001ed90: 7773 3a0a 2020 2020 2020 2020 7368 6f77  ws:.        show
-0001eda0: 6e53 7461 7475 732e 6170 7065 6e64 2872  nStatus.append(r
-0001edb0: 6f77 2e76 6973 6962 6c65 290a 2020 2020  ow.visible).    
-0001edc0: 7368 6f77 6e53 7461 7475 7353 7472 696e  shownStatusStrin
-0001edd0: 6720 3d20 2248 220a 2020 2020 666f 7220  g = "H".    for 
-0001ede0: 7374 6174 7573 2069 6e20 7368 6f77 6e53  status in shownS
-0001edf0: 7461 7475 735b 313a 5d3a 0a20 2020 2020  tatus[1:]:.     
-0001ee00: 2020 2073 686f 776e 5374 6174 7573 5374     shownStatusSt
-0001ee10: 7269 6e67 203d 2073 686f 776e 5374 6174  ring = shownStat
-0001ee20: 7573 5374 7269 6e67 202b 2073 7472 2873  usString + str(s
-0001ee30: 7461 7475 7329 5b30 5d0a 2020 2020 6966  tatus)[0].    if
-0001ee40: 2064 6972 6563 7469 6f6e 203d 3d20 2275   direction == "u
-0001ee50: 7022 2061 6e64 2073 686f 776e 5374 6174  p" and shownStat
-0001ee60: 7573 5374 7269 6e67 5b2d 315d 203d 3d20  usString[-1] == 
-0001ee70: 2246 223a 0a20 2020 2020 2020 2074 696d  "F":.        tim
-0001ee80: 654d 6172 6b54 6162 6c65 526f 7773 5b73  eMarkTableRows[s
-0001ee90: 686f 776e 5374 6174 7573 5374 7269 6e67  hownStatusString
-0001eea0: 2e69 6e64 6578 2822 5422 295d 2e68 6964  .index("T")].hid
-0001eeb0: 6528 290a 2020 2020 2020 2020 7469 6d65  e().        time
-0001eec0: 4d61 726b 5461 626c 6552 6f77 735b 7368  MarkTableRows[sh
-0001eed0: 6f77 6e53 7461 7475 7353 7472 696e 672e  ownStatusString.
-0001eee0: 7269 6e64 6578 2822 5422 292b 315d 2e73  rindex("T")+1].s
-0001eef0: 686f 7728 290a 2020 2020 656c 6966 2064  how().    elif d
-0001ef00: 6972 6563 7469 6f6e 203d 3d20 2264 6f77  irection == "dow
-0001ef10: 6e22 2061 6e64 2073 686f 776e 5374 6174  n" and shownStat
-0001ef20: 7573 5374 7269 6e67 5b31 5d20 3d3d 2022  usString[1] == "
-0001ef30: 4622 3a0a 2020 2020 2020 2020 7469 6d65  F":.        time
-0001ef40: 4d61 726b 5461 626c 6552 6f77 735b 7368  MarkTableRows[sh
-0001ef50: 6f77 6e53 7461 7475 7353 7472 696e 672e  ownStatusString.
-0001ef60: 696e 6465 7828 2254 2229 2d31 5d2e 7368  index("T")-1].sh
-0001ef70: 6f77 2829 0a20 2020 2020 2020 2074 696d  ow().        tim
-0001ef80: 654d 6172 6b54 6162 6c65 526f 7773 5b73  eMarkTableRows[s
-0001ef90: 686f 776e 5374 6174 7573 5374 7269 6e67  hownStatusString
-0001efa0: 2e72 696e 6465 7828 2254 2229 5d2e 6869  .rindex("T")].hi
-0001efb0: 6465 2829 0a20 2020 2061 7070 2e75 7064  de().    app.upd
-0001efc0: 6174 6528 2920 2023 2055 7064 6174 6520  ate()  # Update 
-0001efd0: 6170 7020 6f62 6a65 6374 0a20 2020 2068  app object.    h
-0001efe0: 6f6d 6554 6162 4672 616d 652e 666f 6375  omeTabFrame.focu
-0001eff0: 7328 2920 2023 2046 6f63 7573 206e 6577  s()  # Focus new
-0001f000: 2066 7261 6d65 0a20 2020 2068 6f6d 6554   frame.    homeT
-0001f010: 6162 2e66 6f63 7573 2829 0a0a 0a64 6566  ab.focus()...def
-0001f020: 2063 6c6f 7365 4578 7065 7269 6d65 6e74   closeExperiment
-0001f030: 4669 6c65 2829 3a0a 2020 2020 676c 6f62  File():.    glob
-0001f040: 616c 206f 7065 6e46 696c 650a 2020 2020  al openFile.    
-0001f050: 676c 6f62 616c 2074 7562 6573 4d61 7374  global tubesMast
-0001f060: 6572 0a20 2020 2067 6c6f 6261 6c20 706c  er.    global pl
-0001f070: 6f74 7349 6e66 6f0a 0a20 2020 206f 7065  otsInfo..    ope
-0001f080: 6e46 696c 6520 3d20 2222 0a20 2020 2063  nFile = "".    c
-0001f090: 616e 6365 6c49 6d61 6765 416e 616c 7973  ancelImageAnalys
-0001f0a0: 6973 2829 0a20 2020 2074 7562 6573 4d61  is().    tubesMa
-0001f0b0: 7374 6572 203d 205b 5d0a 2020 2020 706c  ster = [].    pl
-0001f0c0: 6f74 7349 6e66 6f20 3d20 5b5d 0a20 2020  otsInfo = [].   
-0001f0d0: 2069 6620 6361 6e76 6173 2069 7320 6e6f   if canvas is no
-0001f0e0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-0001f0f0: 6361 6e76 6173 2e67 6574 5f74 6b5f 7769  canvas.get_tk_wi
-0001f100: 6467 6574 2829 2e70 6163 6b5f 666f 7267  dget().pack_forg
-0001f110: 6574 2829 2020 2320 436c 6561 7220 706c  et()  # Clear pl
-0001f120: 6f74 2063 616e 7661 730a 2020 2020 6578  ot canvas.    ex
-0001f130: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
-0001f140: 5465 7874 426f 782e 7661 6c75 6520 3d20  TextBox.value = 
-0001f150: 2222 0a20 2020 2065 7870 6572 696d 656e  "".    experimen
-0001f160: 7454 6162 5374 6174 6973 7469 6361 6c41  tTabStatisticalA
-0001f170: 6e61 6c79 7369 7353 6574 4c69 7374 2e63  nalysisSetList.c
-0001f180: 6c65 6172 2829 0a20 2020 2065 7870 6572  lear().    exper
-0001f190: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
-0001f1a0: 6361 6c41 6e61 6c79 7369 7354 7562 654c  calAnalysisTubeL
-0001f1b0: 6973 742e 636c 6561 7228 290a 2020 2020  ist.clear().    
-0001f1c0: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
-0001f1d0: 7454 7562 6553 656c 6563 7469 6f6e 5365  tTubeSelectionSe
-0001f1e0: 744c 6973 742e 636c 6561 7228 290a 2020  tList.clear().  
-0001f1f0: 2020 6578 7065 7269 6d65 6e74 5461 6250    experimentTabP
-0001f200: 6c6f 7454 7562 6553 656c 6563 7469 6f6e  lotTubeSelection
-0001f210: 5475 6265 4c69 7374 2e63 6c65 6172 2829  TubeList.clear()
-0001f220: 0a20 2020 2065 7870 6572 696d 656e 7454  .    experimentT
-0001f230: 6162 5374 6174 6973 7469 6361 6c41 6e61  abStatisticalAna
-0001f240: 6c79 7369 734f 7574 7075 7454 6578 7442  lysisOutputTextB
-0001f250: 6f78 2e76 616c 7565 203d 2022 220a 0a0a  ox.value = ""...
-0001f260: 6465 6620 7365 7475 7054 6173 6b73 4f6e  def setupTasksOn
-0001f270: 4f70 656e 416e 6452 756e 2829 3a20 2023  OpenAndRun():  #
-0001f280: 2054 6173 6b73 2074 6f20 7275 6e20 6f6e   Tasks to run on
-0001f290: 206f 7065 6e69 6e67 2061 7070 0a20 2020   opening app.   
-0001f2a0: 2022 2222 5461 736b 7320 746f 2072 756e   """Tasks to run
-0001f2b0: 206f 7065 6e20 6f70 656e 696e 6720 7468   open opening th
-0001f2c0: 6520 6170 706c 6963 6174 696f 6e2e 2052  e application. R
-0001f2d0: 6561 6473 2069 6e20 6c6f 6361 6c20 7061  eads in local pa
-0001f2e0: 7261 6d65 7465 7273 2066 696c 6520 746f  rameters file to
-0001f2f0: 2067 6574 2075 7365 722d 6465 6669 6e65   get user-define
-0001f300: 6420 7365 7474 696e 6773 2c20 616e 6420  d settings, and 
-0001f310: 7072 6573 656c 6563 7473 2068 6f6d 6520  preselects home 
-0001f320: 7461 622e 2222 220a 2020 2020 0a20 2020  tab.""".    .   
-0001f330: 200a 2020 2020 676c 6f62 616c 2061 7070   .    global app
-0001f340: 5061 7261 6d65 7465 7273 0a20 2020 2067  Parameters.    g
-0001f350: 6c6f 6261 6c20 776f 726b 696e 6744 6972  lobal workingDir
-0001f360: 0a0a 2020 2020 0a20 2020 2064 6972 6563  ..    .    direc
-0001f370: 746f 7279 5061 7468 203d 206f 732e 7061  toryPath = os.pa
-0001f380: 7468 2e64 6972 6e61 6d65 285f 5f66 696c  th.dirname(__fil
-0001f390: 655f 5f29 0a20 2020 2070 6172 616d 6574  e__).    paramet
-0001f3a0: 6572 7350 6174 6820 3d20 6f73 2e70 6174  ersPath = os.pat
-0001f3b0: 682e 6a6f 696e 2864 6972 6563 746f 7279  h.join(directory
-0001f3c0: 5061 7468 2c20 2270 6172 616d 6574 6572  Path, "parameter
-0001f3d0: 732e 7478 7422 290a 2020 2020 7769 7468  s.txt").    with
-0001f3e0: 206f 7065 6e28 7061 7261 6d65 7465 7273   open(parameters
-0001f3f0: 5061 7468 2c20 6e65 776c 696e 653d 2222  Path, newline=""
-0001f400: 2920 6173 2070 6172 616d 6574 6572 7346  ) as parametersF
-0001f410: 696c 653a 2020 2320 4f70 656e 2070 6172  ile:  # Open par
-0001f420: 616d 6574 6572 732e 7478 7420 6669 6c65  ameters.txt file
-0001f430: 0a20 2020 2020 2020 2072 6561 6465 7220  .        reader 
-0001f440: 3d20 6373 762e 7265 6164 6572 2870 6172  = csv.reader(par
-0001f450: 616d 6574 6572 7346 696c 652c 2064 656c  ametersFile, del
-0001f460: 696d 6974 6572 3d22 3d22 2920 2023 2044  imiter="=")  # D
-0001f470: 6566 696e 6520 6373 7620 7265 6164 6572  efine csv reader
-0001f480: 0a20 2020 2020 2020 2066 6f72 206c 696e  .        for lin
-0001f490: 6520 696e 2072 6561 6465 723a 2020 2320  e in reader:  # 
-0001f4a0: 466f 7220 6561 6368 206c 696e 6520 696e  For each line in
-0001f4b0: 2070 6172 616d 6574 6572 732e 7478 740a   parameters.txt.
-0001f4c0: 2020 2020 2020 2020 2020 2020 6170 7050              appP
-0001f4d0: 6172 616d 6574 6572 735b 6c69 6e65 5b30  arameters[line[0
-0001f4e0: 5d5d 203d 206c 696e 655b 315d 2020 2320  ]] = line[1]  # 
-0001f4f0: 506f 7075 6c61 7465 2061 7070 726f 7072  Populate appropr
-0001f500: 6961 7465 2065 6c65 6d65 6e74 206f 6620  iate element of 
-0001f510: 7061 7261 6d65 7465 7273 2064 6963 7469  parameters dicti
-0001f520: 6f6e 6172 790a 2020 2020 6966 2028 6170  onary.    if (ap
-0001f530: 7050 6172 616d 6574 6572 735b 2277 6f72  pParameters["wor
-0001f540: 6b69 6e67 4469 7222 5d20 3d3d 2022 2220  kingDir"] == "" 
-0001f550: 6f72 206e 6f74 2028 6f73 2e70 6174 682e  or not (os.path.
-0001f560: 6578 6973 7473 2861 7070 5061 7261 6d65  exists(appParame
-0001f570: 7465 7273 5b22 776f 726b 696e 6744 6972  ters["workingDir
-0001f580: 225d 2929 293a 2020 2320 4966 2061 2077  "]))):  # If a w
-0001f590: 6f72 6b69 6e67 2064 6972 6563 746f 7279  orking directory
-0001f5a0: 2069 7320 6e6f 7420 616c 7265 6164 7920   is not already 
-0001f5b0: 7370 6563 6966 6965 6420 696e 2070 6172  specified in par
-0001f5c0: 616d 6574 6572 732c 206f 7220 706f 696e  ameters, or poin
-0001f5d0: 7473 2074 6f20 6120 6e6f 6e65 7869 7374  ts to a nonexist
-0001f5e0: 656e 7420 6469 7265 6374 6f72 790a 2020  ent directory.  
-0001f5f0: 2020 2020 2020 7365 7457 6f72 6b69 6e67        setWorking
-0001f600: 4469 7265 6374 6f72 7928 2920 2023 2050  Directory()  # P
-0001f610: 726f 6d70 7420 7573 6572 2074 6f20 7365  rompt user to se
-0001f620: 7420 6120 776f 726b 696e 6720 6469 7265  t a working dire
-0001f630: 6374 6f72 790a 2020 2020 656c 7365 3a20  ctory.    else: 
-0001f640: 2023 204f 7468 6572 7769 7365 0a20 2020   # Otherwise.   
-0001f650: 2020 2020 2077 6f72 6b69 6e67 4469 7220       workingDir 
-0001f660: 3d20 6170 7050 6172 616d 6574 6572 735b  = appParameters[
-0001f670: 2277 6f72 6b69 6e67 4469 7222 5d20 2023  "workingDir"]  #
-0001f680: 2053 6574 2077 6f72 6b69 6e67 2064 6972   Set working dir
-0001f690: 6563 746f 7279 2074 6f20 6469 7265 6374  ectory to direct
-0001f6a0: 6f72 7920 7370 6563 6966 6965 6420 696e  ory specified in
-0001f6b0: 2070 6172 616d 6574 6572 7320 6469 6374   parameters dict
-0001f6c0: 696f 6e61 7279 0a20 2020 2065 7870 6572  ionary.    exper
-0001f6d0: 696d 656e 7454 6162 4672 616d 652e 6869  imentTabFrame.hi
-0001f6e0: 6465 2829 2020 2320 4869 6465 2065 7870  de()  # Hide exp
-0001f6f0: 6572 696d 656e 7420 7461 620a 2020 2020  eriment tab.    
-0001f700: 686f 6d65 5461 6246 7261 6d65 2e73 686f  homeTabFrame.sho
-0001f710: 7728 2920 2023 2053 686f 7720 686f 6d65  w()  # Show home
-0001f720: 2074 6162 0a0a 0a64 6566 206f 7065 6e41   tab...def openA
-0001f730: 6e64 5275 6e28 293a 0a20 2020 2073 6574  ndRun():.    set
-0001f740: 7570 5461 736b 734f 6e4f 7065 6e41 6e64  upTasksOnOpenAnd
-0001f750: 5275 6e28 290a 2020 2020 6170 702e 6469  Run().    app.di
-0001f760: 7370 6c61 7928 290a 0a0a 0a23 2043 7265  splay()....# Cre
-0001f770: 6174 6520 6170 7020 6f62 6a65 6374 0a61  ate app object.a
-0001f780: 7070 203d 2041 7070 286c 6179 6f75 743d  pp = App(layout=
-0001f790: 2261 7574 6f22 2c20 7469 746c 653d 2252  "auto", title="R
-0001f7a0: 6879 7468 6d69 6469 6122 290a 6170 702e  hythmidia").app.
-0001f7b0: 7768 656e 5f63 6c6f 7365 6420 3d20 7379  when_closed = sy
-0001f7c0: 732e 6578 6974 0a61 7070 2e77 6964 7468  s.exit.app.width
-0001f7d0: 203d 2073 6372 6565 6e57 6964 7468 0a61   = screenWidth.a
-0001f7e0: 7070 2e68 6569 6768 7420 3d20 7363 7265  pp.height = scre
-0001f7f0: 656e 4865 6967 6874 0a61 7070 4865 6967  enHeight.appHeig
-0001f800: 6874 203d 2061 7070 2e68 6569 6768 740a  ht = app.height.
-0001f810: 6170 7057 6964 7468 203d 2061 7070 2e77  appWidth = app.w
-0001f820: 6964 7468 0a0a 2320 4b65 7962 696e 6473  idth..# Keybinds
-0001f830: 0a61 7070 2e77 6865 6e5f 6b65 795f 7072  .app.when_key_pr
-0001f840: 6573 7365 6420 3d20 6b65 7950 7265 7373  essed = keyPress
-0001f850: 0a61 7070 2e77 6865 6e5f 6b65 795f 7265  .app.when_key_re
-0001f860: 6c65 6173 6564 203d 206b 6579 5265 6c65  leased = keyRele
-0001f870: 6173 650a 0a23 2053 6574 2075 7020 4f53  ase..# Set up OS
-0001f880: 206d 656e 7520 6261 720a 6d65 6e75 6261   menu bar.menuba
-0001f890: 7220 3d20 4d65 6e75 4261 7228 0a20 2020  r = MenuBar(.   
-0001f8a0: 2061 7070 2c0a 2020 2020 746f 706c 6576   app,.    toplev
-0001f8b0: 656c 3d5b 2246 696c 6522 2c20 2248 656c  el=["File", "Hel
-0001f8c0: 7022 5d2c 0a20 2020 206f 7074 696f 6e73  p"],.    options
-0001f8d0: 3d5b 0a20 2020 2020 2020 205b 0a20 2020  =[.        [.   
-0001f8e0: 2020 2020 2020 2020 205b 224f 7065 6e20           ["Open 
-0001f8f0: 4578 7065 7269 6d65 6e74 2020 2020 2020  Experiment      
-0001f900: 2020 2020 2020 2020 2020 28e2 8c98 4f29            (...O)
-0001f910: 222c 206f 7065 6e45 7870 6572 696d 656e  ", openExperimen
-0001f920: 7446 696c 655d 2c0a 2020 2020 2020 2020  tFile],.        
-0001f930: 2020 2020 5b22 436c 6f73 6520 4578 7065      ["Close Expe
-0001f940: 7269 6d65 6e74 2046 696c 6520 2020 2020  riment File     
-0001f950: 2020 2020 2028 e28c 9843 2922 2c20 636c       (...C)", cl
-0001f960: 6f73 6545 7870 6572 696d 656e 7446 696c  oseExperimentFil
-0001f970: 655d 2c0a 2020 2020 2020 2020 2020 2020  e],.            
-0001f980: 5b22 5361 7665 2045 7870 6572 696d 656e  ["Save Experimen
-0001f990: 7420 2020 2020 2020 2020 2020 2020 2020  t               
-0001f9a0: 2028 e28c 9853 2922 2c20 7361 7665 4578   (...S)", saveEx
-0001f9b0: 7065 7269 6d65 6e74 4669 6c65 5d2c 0a20  perimentFile],. 
-0001f9c0: 2020 2020 2020 2020 2020 205b 2253 6176             ["Sav
-0001f9d0: 6520 4578 7065 7269 6d65 6e74 2041 732e  e Experiment As.
-0001f9e0: 2e2e 2020 2020 2020 2020 2028 5c75 3231  ..         (\u21
-0001f9f0: 3931 e28c 9853 2922 2c20 7361 7665 4578  91...S)", saveEx
-0001fa00: 7065 7269 6d65 6e74 4669 6c65 4173 5d2c  perimentFileAs],
-0001fa10: 0a20 2020 2020 2020 2020 2020 205b 2245  .            ["E
-0001fa20: 6469 7420 5061 636b 7322 2c20 6469 7370  dit Packs", disp
-0001fa30: 6c61 7945 6469 7444 6174 6150 6f70 7570  layEditDataPopup
-0001fa40: 5d2c 0a20 2020 2020 2020 2020 2020 205b  ],.            [
-0001fa50: 2253 6574 2057 6f72 6b69 6e67 2044 6972  "Set Working Dir
-0001fa60: 6563 746f 7279 2020 2020 2020 2020 2020  ectory          
-0001fa70: 28e2 8c98 4429 222c 2073 6574 576f 726b  (...D)", setWork
-0001fa80: 696e 6744 6972 6563 746f 7279 5d2c 0a20  ingDirectory],. 
-0001fa90: 2020 2020 2020 2020 2020 205b 2247 7261             ["Gra
-0001faa0: 7068 6963 7320 5072 6566 6572 656e 6365  phics Preference
-0001fab0: 7320 2020 2020 2020 2020 2020 28e2 8c98  s           (...
-0001fac0: 5029 222c 2067 7261 7068 6963 7350 7265  P)", graphicsPre
-0001fad0: 6665 7265 6e63 6573 5072 6f6d 7074 5d0a  ferencesPrompt].
-0001fae0: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
-0001faf0: 2020 205b 5b22 446f 6375 6d65 6e74 6174     [["Documentat
-0001fb00: 696f 6e22 2c20 6865 6c70 4d61 696e 5d5d  ion", helpMain]]
-0001fb10: 2c0a 2020 2020 5d0a 2920 2023 2053 6574  ,.    ].)  # Set
-0001fb20: 2075 7020 6f73 206d 656e 7520 6261 7220   up os menu bar 
-0001fb30: 666f 7220 6170 706c 6963 6174 696f 6e0a  for application.
-0001fb40: 0a23 2053 6574 2075 7020 6e61 7669 6761  .# Set up naviga
-0001fb50: 7469 6f6e 2074 6162 730a 6e61 7669 6761  tion tabs.naviga
-0001fb60: 7469 6f6e 5461 6273 4672 616d 6520 3d20  tionTabsFrame = 
-0001fb70: 426f 7828 0a20 2020 2061 7070 2c20 7769  Box(.    app, wi
-0001fb80: 6474 683d 2266 696c 6c22 2c20 616c 6967  dth="fill", alig
-0001fb90: 6e3d 2274 6f70 222c 206c 6179 6f75 743d  n="top", layout=
-0001fba0: 2267 7269 6422 2c20 626f 7264 6572 3d22  "grid", border="
-0001fbb0: 3022 0a29 2020 2320 4672 616d 6520 666f  0".)  # Frame fo
-0001fbc0: 7220 486f 6d65 2c20 4578 7065 7269 6d65  r Home, Experime
-0001fbd0: 6e74 2074 6162 730a 686f 6d65 5461 6220  nt tabs.homeTab 
-0001fbe0: 3d20 426f 7828 6e61 7669 6761 7469 6f6e  = Box(navigation
-0001fbf0: 5461 6273 4672 616d 652c 2067 7269 643d  TabsFrame, grid=
-0001fc00: 5b30 2c20 305d 2c20 626f 7264 6572 3d22  [0, 0], border="
-0001fc10: 3022 2c20 6865 6967 6874 3d22 3330 2229  0", height="30")
-0001fc20: 2020 2320 486f 6d65 2074 6162 2062 7574    # Home tab but
-0001fc30: 746f 6e0a 686f 6d65 5461 6254 6578 7420  ton.homeTabText 
-0001fc40: 3d20 5465 7874 280a 2020 2020 686f 6d65  = Text(.    home
-0001fc50: 5461 622c 2074 6578 743d 2248 6f6d 6522  Tab, text="Home"
-0001fc60: 2c20 7769 6474 683d 3230 2c20 7369 7a65  , width=20, size
-0001fc70: 3d31 342c 2063 6f6c 6f72 3d22 626c 6163  =14, color="blac
-0001fc80: 6b22 2c20 666f 6e74 3d22 4172 6961 6c22  k", font="Arial"
-0001fc90: 0a29 2020 2320 486f 6d65 2074 6162 2062  .)  # Home tab b
-0001fca0: 7574 746f 6e20 7465 7874 0a65 7870 6572  utton text.exper
-0001fcb0: 696d 656e 7454 6162 203d 2042 6f78 280a  imentTab = Box(.
-0001fcc0: 2020 2020 6e61 7669 6761 7469 6f6e 5461      navigationTa
-0001fcd0: 6273 4672 616d 652c 2067 7269 643d 5b33  bsFrame, grid=[3
-0001fce0: 2c20 305d 2c20 626f 7264 6572 3d22 3022  , 0], border="0"
-0001fcf0: 2c20 6865 6967 6874 3d22 3330 220a 2920  , height="30".) 
-0001fd00: 2023 2045 7870 6572 696d 656e 7420 7461   # Experiment ta
-0001fd10: 6220 6275 7474 6f6e 0a65 7870 6572 696d  b button.experim
-0001fd20: 656e 7454 6162 5465 7874 203d 2054 6578  entTabText = Tex
-0001fd30: 7428 0a20 2020 2065 7870 6572 696d 656e  t(.    experimen
-0001fd40: 7454 6162 2c20 7465 7874 3d22 4578 7065  tTab, text="Expe
-0001fd50: 7269 6d65 6e74 222c 2077 6964 7468 3d32  riment", width=2
-0001fd60: 302c 2073 697a 653d 3134 2c20 636f 6c6f  0, size=14, colo
-0001fd70: 723d 2262 6c61 636b 222c 2066 6f6e 743d  r="black", font=
-0001fd80: 2241 7269 616c 220a 2920 2023 2048 6f6d  "Arial".)  # Hom
-0001fd90: 6520 7461 6220 6275 7474 6f6e 2074 6578  e tab button tex
-0001fda0: 740a 2320 5365 7420 7570 2074 6162 2063  t.# Set up tab c
-0001fdb0: 6f6c 6f72 730a 6e61 7669 6761 7469 6f6e  olors.navigation
-0001fdc0: 5461 6273 4672 616d 652e 6267 203d 2022  TabsFrame.bg = "
-0001fdd0: 2336 3736 3937 3522 2020 2320 4461 726b  #676975"  # Dark
-0001fde0: 2067 7265 7920 6e61 7620 6261 720a 686f   grey nav bar.ho
-0001fdf0: 6d65 5461 622e 6267 203d 2022 2365 6162  meTab.bg = "#eab
-0001fe00: 3437 6322 2020 2320 436f 6e69 6469 6120  47c"  # Conidia 
-0001fe10: 6f72 616e 6765 2068 6f6d 6520 7461 620a  orange home tab.
-0001fe20: 6578 7065 7269 6d65 6e74 5461 622e 6267  experimentTab.bg
-0001fe30: 203d 2022 2339 6663 6465 6122 2020 2320   = "#9fcdea"  # 
-0001fe40: 4261 6279 2062 6c75 6520 6578 7065 7269  Baby blue experi
-0001fe50: 6d65 6e74 2074 6162 0a23 2053 6574 2075  ment tab.# Set u
-0001fe60: 7020 7461 6220 6675 6e63 7469 6f6e 730a  p tab functions.
-0001fe70: 686f 6d65 5461 6254 6578 742e 7768 656e  homeTabText.when
-0001fe80: 5f63 6c69 636b 6564 203d 2073 656c 6563  _clicked = selec
-0001fe90: 7448 6f6d 6554 6162 0a65 7870 6572 696d  tHomeTab.experim
-0001fea0: 656e 7454 6162 5465 7874 2e77 6865 6e5f  entTabText.when_
-0001feb0: 636c 6963 6b65 6420 3d20 7365 6c65 6374  clicked = select
-0001fec0: 4578 7065 7254 6162 0a0a 6469 7265 6374  ExperTab..direct
-0001fed0: 6f72 7950 6174 6820 3d20 6f73 2e70 6174  oryPath = os.pat
-0001fee0: 682e 6469 726e 616d 6528 5f5f 6669 6c65  h.dirname(__file
-0001fef0: 5f5f 290a 7268 7974 686d 6964 6961 4c6f  __).rhythmidiaLo
-0001ff00: 676f 5061 7468 203d 206f 732e 7061 7468  goPath = os.path
-0001ff10: 2e6a 6f69 6e28 6469 7265 6374 6f72 7950  .join(directoryP
-0001ff20: 6174 682c 2022 2e2e 2f69 6d61 6765 732f  ath, "../images/
-0001ff30: 6963 6f6e 732f 7268 7974 686d 6964 6961  icons/rhythmidia
-0001ff40: 4c6f 676f 4261 6e6e 6572 5465 7874 2e6a  LogoBannerText.j
-0001ff50: 7067 2229 0a70 656c 6861 6d4c 6f67 6f50  pg").pelhamLogoP
-0001ff60: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
-0001ff70: 696e 2864 6972 6563 746f 7279 5061 7468  in(directoryPath
-0001ff80: 2c20 222e 2e2f 696d 6167 6573 2f69 636f  , "../images/ico
-0001ff90: 6e73 2f70 656c 6861 6d4c 6f67 6f53 7175  ns/pelhamLogoSqu
-0001ffa0: 6172 652e 6a70 6722 290a 7268 7974 686d  are.jpg").rhythm
-0001ffb0: 6964 6961 436c 6f63 6b4c 6f67 6f50 6174  idiaClockLogoPat
-0001ffc0: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
-0001ffd0: 2864 6972 6563 746f 7279 5061 7468 2c20  (directoryPath, 
-0001ffe0: 222e 2e2f 696d 6167 6573 2f69 636f 6e73  "../images/icons
-0001fff0: 2f72 6879 7468 6d69 6469 614c 6f67 6f53  /rhythmidiaLogoS
-00020000: 7175 6172 652e 6a70 6722 290a 6c6f 676f  quare.jpg").logo
-00020010: 4672 616d 6520 3d20 426f 7828 6170 702c  Frame = Box(app,
-00020020: 2077 6964 7468 3d22 6669 6c6c 222c 2068   width="fill", h
-00020030: 6569 6768 743d 3530 2c20 616c 6967 6e3d  eight=50, align=
-00020040: 2262 6f74 746f 6d22 2c20 6c61 796f 7574  "bottom", layout
-00020050: 3d22 6175 746f 2229 0a6c 6f67 6f46 7261  ="auto").logoFra
-00020060: 6d65 2e62 6720 3d20 2267 7265 7939 3522  me.bg = "grey95"
-00020070: 0a72 6879 7468 6d69 6469 614c 6f67 6f20  .rhythmidiaLogo 
-00020080: 3d20 5069 6374 7572 6528 6c6f 676f 4672  = Picture(logoFr
-00020090: 616d 652c 2069 6d61 6765 3d72 6879 7468  ame, image=rhyth
-000200a0: 6d69 6469 614c 6f67 6f50 6174 682c 2077  midiaLogoPath, w
-000200b0: 6964 7468 3d31 3831 2c20 6865 6967 6874  idth=181, height
-000200c0: 3d35 302c 2061 6c69 676e 3d22 6c65 6674  =50, align="left
-000200d0: 2229 0a70 656c 6861 6d4c 6f67 6f20 3d20  ").pelhamLogo = 
-000200e0: 5069 6374 7572 6528 6c6f 676f 4672 616d  Picture(logoFram
-000200f0: 652c 2069 6d61 6765 3d70 656c 6861 6d4c  e, image=pelhamL
-00020100: 6f67 6f50 6174 682c 2077 6964 7468 3d35  ogoPath, width=5
-00020110: 302c 2068 6569 6768 743d 3530 2c20 616c  0, height=50, al
-00020120: 6967 6e3d 2272 6967 6874 2229 0a72 6879  ign="right").rhy
-00020130: 7468 6d69 6469 6153 7175 6172 654c 6f67  thmidiaSquareLog
-00020140: 6f20 3d20 5069 6374 7572 6528 6c6f 676f  o = Picture(logo
-00020150: 4672 616d 652c 2069 6d61 6765 3d72 6879  Frame, image=rhy
-00020160: 7468 6d69 6469 6143 6c6f 636b 4c6f 676f  thmidiaClockLogo
-00020170: 5061 7468 2c20 7769 6474 683d 3530 2c20  Path, width=50, 
-00020180: 6865 6967 6874 3d35 302c 2061 6c69 676e  height=50, align
-00020190: 3d22 7269 6768 7422 290a 0a23 2053 6574  ="right")..# Set
-000201a0: 2075 7020 686f 6d65 2074 6162 0a68 6f6d   up home tab.hom
-000201b0: 6554 6162 4672 616d 6520 3d20 426f 7828  eTabFrame = Box(
-000201c0: 6170 702c 2077 6964 7468 3d22 6669 6c6c  app, width="fill
-000201d0: 222c 2068 6569 6768 743d 2266 696c 6c22  ", height="fill"
-000201e0: 2c20 616c 6967 6e3d 2274 6f70 222c 206c  , align="top", l
-000201f0: 6179 6f75 743d 2261 7574 6f22 290a 686f  ayout="auto").ho
-00020200: 6d65 5461 6246 7261 6d65 2e62 6720 3d20  meTabFrame.bg = 
-00020210: 2267 7265 7939 3522 0a68 6f6d 6554 6162  "grey95".homeTab
-00020220: 4672 616d 652e 7365 745f 626f 7264 6572  Frame.set_border
-00020230: 2835 2c20 2223 6561 6234 3763 2229 0a68  (5, "#eab47c").h
-00020240: 6f6d 6554 6162 4672 616d 652e 7465 7874  omeTabFrame.text
-00020250: 5f63 6f6c 6f72 203d 2022 626c 6163 6b22  _color = "black"
-00020260: 0a68 6f6d 6554 6162 5665 7274 6963 616c  .homeTabVertical
-00020270: 5370 6163 6572 3120 3d20 426f 7828 686f  Spacer1 = Box(ho
-00020280: 6d65 5461 6246 7261 6d65 2c20 6865 6967  meTabFrame, heig
-00020290: 6874 3d35 2c20 7769 6474 683d 2266 696c  ht=5, width="fil
-000202a0: 6c22 2c20 616c 6967 6e3d 2274 6f70 2229  l", align="top")
-000202b0: 0a23 2048 6f6d 6520 6275 7474 6f6e 730a  .# Home buttons.
-000202c0: 686f 6d65 5461 6254 6f70 4275 7474 6f6e  homeTabTopButton
-000202d0: 526f 7746 7261 6d65 203d 2042 6f78 280a  RowFrame = Box(.
-000202e0: 2020 2020 686f 6d65 5461 6246 7261 6d65      homeTabFrame
-000202f0: 2c20 7769 6474 683d 2266 696c 6c22 2c20  , width="fill", 
-00020300: 6865 6967 6874 3d22 3230 222c 2061 6c69  height="20", ali
-00020310: 676e 3d22 746f 7022 2c20 6c61 796f 7574  gn="top", layout
-00020320: 3d22 6772 6964 222c 2062 6f72 6465 723d  ="grid", border=
-00020330: 2230 220a 290a 7570 6c6f 6164 5261 6365  "0".).uploadRace
-00020340: 5475 6265 496d 6167 6542 7574 746f 6e20  TubeImageButton 
-00020350: 3d20 5075 7368 4275 7474 6f6e 280a 2020  = PushButton(.  
-00020360: 2020 686f 6d65 5461 6254 6f70 4275 7474    homeTabTopButt
-00020370: 6f6e 526f 7746 7261 6d65 2c20 6772 6964  onRowFrame, grid
-00020380: 3d5b 302c 2030 5d2c 2074 6578 743d 2255  =[0, 0], text="U
-00020390: 706c 6f61 6420 5261 6365 2054 7562 6520  pload Race Tube 
-000203a0: 496d 6167 6522 2c20 636f 6d6d 616e 643d  Image", command=
-000203b0: 7570 6c6f 6164 5261 6365 5475 6265 496d  uploadRaceTubeIm
-000203c0: 6167 650a 290a 7570 6c6f 6164 5261 6365  age.).uploadRace
-000203d0: 5475 6265 496d 6167 6542 7574 746f 6e2e  TubeImageButton.
-000203e0: 7465 7874 5f73 697a 6520 3d20 3133 0a75  text_size = 13.u
-000203f0: 706c 6f61 6452 6163 6554 7562 6549 6d61  ploadRaceTubeIma
-00020400: 6765 4275 7474 6f6e 2e66 6f6e 7420 3d20  geButton.font = 
-00020410: 2241 7269 616c 2062 6f6c 6422 0a68 6f6d  "Arial bold".hom
-00020420: 6554 6162 546f 7042 7574 746f 6e52 6f77  eTabTopButtonRow
-00020430: 5370 6163 6572 3120 3d20 426f 7828 686f  Spacer1 = Box(ho
-00020440: 6d65 5461 6254 6f70 4275 7474 6f6e 526f  meTabTopButtonRo
-00020450: 7746 7261 6d65 2c20 6772 6964 3d5b 312c  wFrame, grid=[1,
-00020460: 305d 2c20 6865 6967 6874 3d22 6669 6c6c  0], height="fill
-00020470: 222c 2077 6964 7468 3d35 290a 726f 7461  ", width=5).rota
-00020480: 7465 5261 6365 5475 6265 496d 6167 6542  teRaceTubeImageB
-00020490: 7574 746f 6e20 3d20 5075 7368 4275 7474  utton = PushButt
-000204a0: 6f6e 280a 2020 2020 686f 6d65 5461 6254  on(.    homeTabT
-000204b0: 6f70 4275 7474 6f6e 526f 7746 7261 6d65  opButtonRowFrame
-000204c0: 2c20 6772 6964 3d5b 322c 2030 5d2c 2074  , grid=[2, 0], t
-000204d0: 6578 743d 2252 6f74 6174 6520 496d 6167  ext="Rotate Imag
-000204e0: 6522 2c20 636f 6d6d 616e 643d 726f 7461  e", command=rota
-000204f0: 7465 5261 6365 5475 6265 496d 6167 650a  teRaceTubeImage.
-00020500: 290a 726f 7461 7465 5261 6365 5475 6265  ).rotateRaceTube
-00020510: 496d 6167 6542 7574 746f 6e2e 7465 7874  ImageButton.text
-00020520: 5f73 697a 6520 3d20 3133 0a72 6f74 6174  _size = 13.rotat
-00020530: 6552 6163 6554 7562 6549 6d61 6765 4275  eRaceTubeImageBu
-00020540: 7474 6f6e 2e66 6f6e 7420 3d20 2241 7269  tton.font = "Ari
-00020550: 616c 2062 6f6c 6422 0a72 6f74 6174 6552  al bold".rotateR
-00020560: 6163 6554 7562 6549 6d61 6765 4275 7474  aceTubeImageButt
-00020570: 6f6e 2e64 6973 6162 6c65 2829 0a72 6163  on.disable().rac
-00020580: 6554 7562 654c 656e 6774 6846 7261 6d65  eTubeLengthFrame
-00020590: 203d 2042 6f78 2868 6f6d 6554 6162 546f   = Box(homeTabTo
-000205a0: 7042 7574 746f 6e52 6f77 4672 616d 652c  pButtonRowFrame,
-000205b0: 2067 7269 643d 5b33 2c20 305d 2c20 626f   grid=[3, 0], bo
-000205c0: 7264 6572 3d22 3022 2c20 6865 6967 6874  rder="0", height
-000205d0: 3d22 3230 222c 206c 6179 6f75 743d 2267  ="20", layout="g
-000205e0: 7269 6422 290a 7261 6365 5475 6265 4c65  rid").raceTubeLe
-000205f0: 6e67 7468 4c61 6265 6c20 3d20 5465 7874  ngthLabel = Text
-00020600: 280a 2020 2020 7261 6365 5475 6265 4c65  (.    raceTubeLe
-00020610: 6e67 7468 4672 616d 652c 0a20 2020 2063  ngthFrame,.    c
-00020620: 6f6c 6f72 3d22 626c 6163 6b22 2c0a 2020  olor="black",.  
-00020630: 2020 6772 6964 3d5b 302c 2030 5d2c 0a20    grid=[0, 0],. 
-00020640: 2020 2074 6578 743d 224c 656e 6774 6820     text="Length 
-00020650: 6672 6f6d 2066 6972 7374 2074 6f20 6c61  from first to la
-00020660: 7374 5c6e 7469 6d65 206d 6172 6b20 6f66  st\ntime mark of
-00020670: 2031 7374 2074 7562 6520 286d 6d29 222c   1st tube (mm)",
-00020680: 0a20 2020 2073 697a 653d 3132 0a29 0a72  .    size=12.).r
-00020690: 6163 6554 7562 654c 656e 6774 6854 6578  aceTubeLengthTex
-000206a0: 7442 6f78 203d 2054 6578 7442 6f78 2872  tBox = TextBox(r
-000206b0: 6163 6554 7562 654c 656e 6774 6846 7261  aceTubeLengthFra
-000206c0: 6d65 2c20 7465 7874 3d22 222c 2067 7269  me, text="", gri
-000206d0: 643d 5b31 2c20 305d 290a 7261 6365 5475  d=[1, 0]).raceTu
-000206e0: 6265 4c65 6e67 7468 5465 7874 426f 782e  beLengthTextBox.
-000206f0: 7465 7874 5f73 697a 6520 3d20 3133 0a68  text_size = 13.h
-00020700: 6f6d 6554 6162 546f 7042 7574 746f 6e52  omeTabTopButtonR
-00020710: 6f77 5370 6163 6572 3220 3d20 426f 7828  owSpacer2 = Box(
-00020720: 686f 6d65 5461 6254 6f70 4275 7474 6f6e  homeTabTopButton
-00020730: 526f 7746 7261 6d65 2c20 6772 6964 3d5b  RowFrame, grid=[
-00020740: 342c 305d 2c20 6865 6967 6874 3d22 6669  4,0], height="fi
-00020750: 6c6c 222c 2077 6964 7468 3d35 290a 6c6f  ll", width=5).lo
-00020760: 636b 416e 6441 6e61 6c79 7a65 4275 7474  ckAndAnalyzeButt
-00020770: 6f6e 203d 2050 7573 6842 7574 746f 6e28  on = PushButton(
-00020780: 0a20 2020 2068 6f6d 6554 6162 546f 7042  .    homeTabTopB
-00020790: 7574 746f 6e52 6f77 4672 616d 652c 2067  uttonRowFrame, g
-000207a0: 7269 643d 5b35 2c20 305d 2c20 7465 7874  rid=[5, 0], text
-000207b0: 3d22 4c6f 636b 2061 6e64 2041 6e61 6c79  ="Lock and Analy
-000207c0: 7a65 222c 2063 6f6d 6d61 6e64 3d6c 6f63  ze", command=loc
-000207d0: 6b41 6e64 416e 616c 797a 6552 6163 6554  kAndAnalyzeRaceT
-000207e0: 7562 6549 6d61 6765 0a29 0a6c 6f63 6b41  ubeImage.).lockA
-000207f0: 6e64 416e 616c 797a 6542 7574 746f 6e2e  ndAnalyzeButton.
-00020800: 7465 7874 5f73 697a 6520 3d20 3133 0a6c  text_size = 13.l
-00020810: 6f63 6b41 6e64 416e 616c 797a 6542 7574  ockAndAnalyzeBut
-00020820: 746f 6e2e 666f 6e74 203d 2022 4172 6961  ton.font = "Aria
-00020830: 6c20 626f 6c64 220a 6c6f 636b 416e 6441  l bold".lockAndA
-00020840: 6e61 6c79 7a65 4275 7474 6f6e 2e64 6973  nalyzeButton.dis
-00020850: 6162 6c65 2829 0a68 6f6d 6554 6162 5665  able().homeTabVe
-00020860: 7274 6963 616c 5370 6163 6572 3220 3d20  rticalSpacer2 = 
-00020870: 426f 7828 686f 6d65 5461 6246 7261 6d65  Box(homeTabFrame
-00020880: 2c20 6865 6967 6874 3d35 2c20 7769 6474  , height=5, widt
-00020890: 683d 2266 696c 6c22 2c20 616c 6967 6e3d  h="fill", align=
-000208a0: 2274 6f70 2229 0a68 6f6d 6554 6162 4d69  "top").homeTabMi
-000208b0: 6464 6c65 436f 6e74 656e 7446 7261 6d65  ddleContentFrame
-000208c0: 203d 2042 6f78 2868 6f6d 6554 6162 4672   = Box(homeTabFr
-000208d0: 616d 652c 2061 6c69 676e 3d22 746f 7022  ame, align="top"
-000208e0: 2c20 626f 7264 6572 3d22 3022 2c20 7769  , border="0", wi
-000208f0: 6474 683d 2266 696c 6c22 290a 7469 6d65  dth="fill").time
-00020900: 4d61 726b 5461 626c 6546 7261 6d65 203d  MarkTableFrame =
-00020910: 2042 6f78 2868 6f6d 6554 6162 4d69 6464   Box(homeTabMidd
-00020920: 6c65 436f 6e74 656e 7446 7261 6d65 2c20  leContentFrame, 
-00020930: 7769 6474 683d 3138 302c 2068 6569 6768  width=180, heigh
-00020940: 743d 3430 302c 2061 6c69 676e 3d22 6c65  t=400, align="le
-00020950: 6674 2229 0a74 696d 654d 6172 6b54 6162  ft").timeMarkTab
-00020960: 6c65 526f 7773 203d 205b 426f 7828 7469  leRows = [Box(ti
-00020970: 6d65 4d61 726b 5461 626c 6546 7261 6d65  meMarkTableFrame
-00020980: 2c20 616c 6967 6e3d 2274 6f70 222c 206c  , align="top", l
-00020990: 6179 6f75 743d 2267 7269 6422 2c20 7769  ayout="grid", wi
-000209a0: 6474 683d 2266 696c 6c22 295d 0a74 696d  dth="fill")].tim
-000209b0: 654d 6172 6b54 6162 6c65 526f 7773 5b30  eMarkTableRows[0
-000209c0: 5d2e 6267 203d 2022 6772 6579 3735 220a  ].bg = "grey75".
-000209d0: 7469 6d65 4d61 726b 5461 626c 654c 6162  timeMarkTableLab
-000209e0: 656c 7320 3d20 5b5d 0a74 696d 654d 6172  els = [].timeMar
-000209f0: 6b54 6162 6c65 4461 7461 5465 7874 426f  kTableDataTextBo
-00020a00: 7865 7320 3d20 5b5d 0a74 696d 654d 6172  xes = [].timeMar
-00020a10: 6b54 6162 6c65 4865 6164 6572 3120 3d20  kTableHeader1 = 
-00020a20: 5465 7874 2874 696d 654d 6172 6b54 6162  Text(timeMarkTab
-00020a30: 6c65 526f 7773 5b30 5d2c 2067 7269 643d  leRows[0], grid=
-00020a40: 5b30 2c20 305d 2c20 7465 7874 3d22 4d61  [0, 0], text="Ma
-00020a50: 726b 2022 2c20 666f 6e74 3d22 436f 7572  rk ", font="Cour
-00020a60: 6965 7222 2c20 7369 7a65 3d31 3429 0a74  ier", size=14).t
-00020a70: 696d 654d 6172 6b54 6162 6c65 4865 6164  imeMarkTableHead
-00020a80: 6572 3220 3d20 5465 7874 2874 696d 654d  er2 = Text(timeM
-00020a90: 6172 6b54 6162 6c65 526f 7773 5b30 5d2c  arkTableRows[0],
-00020aa0: 2067 7269 643d 5b31 2c20 305d 2c20 7465   grid=[1, 0], te
-00020ab0: 7874 3d22 4461 7920 222c 2066 6f6e 743d  xt="Day ", font=
-00020ac0: 2243 6f75 7269 6572 222c 2073 697a 653d  "Courier", size=
-00020ad0: 3134 290a 7469 6d65 4d61 726b 5461 626c  14).timeMarkTabl
-00020ae0: 6548 6561 6465 7233 203d 2054 6578 7428  eHeader3 = Text(
-00020af0: 7469 6d65 4d61 726b 5461 626c 6552 6f77  timeMarkTableRow
-00020b00: 735b 305d 2c20 6772 6964 3d5b 322c 2030  s[0], grid=[2, 0
-00020b10: 5d2c 2074 6578 743d 2248 6f75 7220 222c  ], text="Hour ",
-00020b20: 2066 6f6e 743d 2243 6f75 7269 6572 222c   font="Courier",
-00020b30: 2073 697a 653d 3134 290a 7469 6d65 4d61   size=14).timeMa
-00020b40: 726b 5461 626c 6548 6561 6465 7234 203d  rkTableHeader4 =
-00020b50: 2054 6578 7428 7469 6d65 4d61 726b 5461   Text(timeMarkTa
-00020b60: 626c 6552 6f77 735b 305d 2c20 6772 6964  bleRows[0], grid
-00020b70: 3d5b 332c 2030 5d2c 2074 6578 743d 224d  =[3, 0], text="M
-00020b80: 696e 222c 2066 6f6e 743d 2243 6f75 7269  in", font="Couri
-00020b90: 6572 222c 2073 697a 653d 3134 290a 7469  er", size=14).ti
-00020ba0: 6d65 4d61 726b 5461 626c 6542 7574 746f  meMarkTableButto
-00020bb0: 6e42 6f78 203d 2042 6f78 2874 696d 654d  nBox = Box(timeM
-00020bc0: 6172 6b54 6162 6c65 4672 616d 652c 2068  arkTableFrame, h
-00020bd0: 6569 6768 743d 3330 2c20 7769 6474 683d  eight=30, width=
-00020be0: 2266 696c 6c22 2c20 616c 6967 6e3d 2262  "fill", align="b
-00020bf0: 6f74 746f 6d22 290a 7469 6d65 4d61 726b  ottom").timeMark
-00020c00: 5461 626c 6542 7574 746f 6e44 6f77 6e20  TableButtonDown 
-00020c10: 3d20 5075 7368 4275 7474 6f6e 2874 696d  = PushButton(tim
-00020c20: 654d 6172 6b54 6162 6c65 4275 7474 6f6e  eMarkTableButton
-00020c30: 426f 782c 2074 6578 743d 2244 6f77 6e22  Box, text="Down"
-00020c40: 2c20 6865 6967 6874 3d30 2c20 7769 6474  , height=0, widt
-00020c50: 683d 342c 2061 6c69 676e 3d22 6c65 6674  h=4, align="left
-00020c60: 222c 2063 6f6d 6d61 6e64 3d74 696d 654d  ", command=timeM
-00020c70: 6172 6b54 6162 6c65 5363 726f 6c6c 2c20  arkTableScroll, 
-00020c80: 6172 6773 3d5b 2264 6f77 6e22 5d29 0a74  args=["down"]).t
-00020c90: 696d 654d 6172 6b54 6162 6c65 4275 7474  imeMarkTableButt
-00020ca0: 6f6e 5570 203d 2050 7573 6842 7574 746f  onUp = PushButto
-00020cb0: 6e28 7469 6d65 4d61 726b 5461 626c 6542  n(timeMarkTableB
-00020cc0: 7574 746f 6e42 6f78 2c20 7465 7874 3d22  uttonBox, text="
-00020cd0: 5570 222c 2068 6569 6768 743d 302c 2077  Up", height=0, w
-00020ce0: 6964 7468 3d34 2c20 616c 6967 6e3d 2272  idth=4, align="r
-00020cf0: 6967 6874 222c 2063 6f6d 6d61 6e64 3d74  ight", command=t
-00020d00: 696d 654d 6172 6b54 6162 6c65 5363 726f  imeMarkTableScro
-00020d10: 6c6c 2c20 6172 6773 3d5b 2275 7022 5d29  ll, args=["up"])
-00020d20: 0a66 6f72 2072 6f77 2069 6e20 7261 6e67  .for row in rang
-00020d30: 6528 312c 2033 3129 3a0a 2020 2020 7469  e(1, 31):.    ti
-00020d40: 6d65 4d61 726b 5461 626c 6552 6f77 732e  meMarkTableRows.
-00020d50: 6170 7065 6e64 2842 6f78 2874 696d 654d  append(Box(timeM
-00020d60: 6172 6b54 6162 6c65 4672 616d 652c 2061  arkTableFrame, a
-00020d70: 6c69 676e 3d22 746f 7022 2c20 6c61 796f  lign="top", layo
-00020d80: 7574 3d22 6772 6964 222c 2077 6964 7468  ut="grid", width
-00020d90: 3d22 6669 6c6c 2229 290a 2020 2020 6966  ="fill")).    if
-00020da0: 2074 696d 654d 6172 6b54 6162 6c65 526f   timeMarkTableRo
-00020db0: 7773 5b72 6f77 202d 2031 5d2e 6267 203d  ws[row - 1].bg =
-00020dc0: 3d20 2267 7265 7937 3522 3a0a 2020 2020  = "grey75":.    
-00020dd0: 2020 2020 7469 6d65 4d61 726b 5461 626c      timeMarkTabl
-00020de0: 6552 6f77 735b 726f 775d 2e62 6720 3d20  eRows[row].bg = 
-00020df0: 2267 7265 7938 3522 0a20 2020 2065 6c73  "grey85".    els
-00020e00: 653a 0a20 2020 2020 2020 2074 696d 654d  e:.        timeM
-00020e10: 6172 6b54 6162 6c65 526f 7773 5b72 6f77  arkTableRows[row
-00020e20: 5d2e 6267 203d 2022 6772 6579 3735 220a  ].bg = "grey75".
-00020e30: 2020 2020 7469 6d65 4d61 726b 5461 626c      timeMarkTabl
-00020e40: 654c 6162 656c 732e 6170 7065 6e64 280a  eLabels.append(.
-00020e50: 2020 2020 2020 2020 5465 7874 280a 2020          Text(.  
-00020e60: 2020 2020 2020 2020 2020 7469 6d65 4d61            timeMa
-00020e70: 726b 5461 626c 6552 6f77 735b 726f 775d  rkTableRows[row]
-00020e80: 2c0a 2020 2020 2020 2020 2020 2020 6772  ,.            gr
-00020e90: 6964 3d5b 302c 2030 5d2c 0a20 2020 2020  id=[0, 0],.     
-00020ea0: 2020 2020 2020 2074 6578 743d 7374 7228         text=str(
-00020eb0: 726f 7729 202b 2022 2022 202a 2028 3520  row) + " " * (5 
-00020ec0: 2d20 6c65 6e28 7374 7228 726f 7729 2929  - len(str(row)))
-00020ed0: 2c0a 2020 2020 2020 2020 2020 2020 666f  ,.            fo
-00020ee0: 6e74 3d22 436f 7572 6965 7222 2c0a 2020  nt="Courier",.  
-00020ef0: 2020 2020 2020 2020 2020 7369 7a65 3d31            size=1
-00020f00: 342c 0a20 2020 2020 2020 2029 0a20 2020  4,.        ).   
-00020f10: 2029 0a20 2020 2074 696d 654d 6172 6b54   ).    timeMarkT
-00020f20: 6162 6c65 4461 7461 5465 7874 426f 7865  ableDataTextBoxe
-00020f30: 732e 6170 7065 6e64 280a 2020 2020 2020  s.append(.      
-00020f40: 2020 5465 7874 426f 7828 7469 6d65 4d61    TextBox(timeMa
-00020f50: 726b 5461 626c 6552 6f77 735b 726f 775d  rkTableRows[row]
-00020f60: 2c20 6772 6964 3d5b 312c 2030 5d2c 2074  , grid=[1, 0], t
-00020f70: 6578 743d 7374 7228 726f 7720 2d20 3129  ext=str(row - 1)
-00020f80: 2c20 7769 6474 683d 3329 0a20 2020 2029  , width=3).    )
-00020f90: 0a20 2020 2074 696d 654d 6172 6b54 6162  .    timeMarkTab
-00020fa0: 6c65 4461 7461 5465 7874 426f 7865 732e  leDataTextBoxes.
-00020fb0: 6170 7065 6e64 2854 6578 7442 6f78 2874  append(TextBox(t
-00020fc0: 696d 654d 6172 6b54 6162 6c65 526f 7773  imeMarkTableRows
-00020fd0: 5b72 6f77 5d2c 2067 7269 643d 5b32 2c20  [row], grid=[2, 
-00020fe0: 305d 2c20 7465 7874 3d22 3022 2c20 7769  0], text="0", wi
-00020ff0: 6474 683d 3329 290a 2020 2020 7469 6d65  dth=3)).    time
-00021000: 4d61 726b 5461 626c 6544 6174 6154 6578  MarkTableDataTex
-00021010: 7442 6f78 6573 2e61 7070 656e 6428 5465  tBoxes.append(Te
-00021020: 7874 426f 7828 7469 6d65 4d61 726b 5461  xtBox(timeMarkTa
-00021030: 626c 6552 6f77 735b 726f 775d 2c20 6772  bleRows[row], gr
-00021040: 6964 3d5b 332c 2030 5d2c 2074 6578 743d  id=[3, 0], text=
-00021050: 2230 222c 2077 6964 7468 3d33 2929 0a66  "0", width=3)).f
-00021060: 6f72 2072 6f77 2069 6e20 7469 6d65 4d61  or row in timeMa
-00021070: 726b 5461 626c 6552 6f77 735b 3133 3a5d  rkTableRows[13:]
-00021080: 3a0a 2020 2020 726f 772e 6869 6465 2829  :.    row.hide()
-00021090: 0a68 6f6d 6554 6162 5261 6365 5475 6265  .homeTabRaceTube
-000210a0: 496d 6167 6546 7261 6d65 203d 2042 6f78  ImageFrame = Box
-000210b0: 2868 6f6d 6554 6162 4d69 6464 6c65 436f  (homeTabMiddleCo
-000210c0: 6e74 656e 7446 7261 6d65 2c20 7769 6474  ntentFrame, widt
-000210d0: 683d 3131 3630 2c20 6865 6967 6874 3d34  h=1160, height=4
-000210e0: 3030 2c20 616c 6967 6e3d 226c 6566 7422  00, align="left"
-000210f0: 290a 686f 6d65 5461 6252 6163 6554 7562  ).homeTabRaceTub
-00021100: 6549 6d61 6765 4f62 6a65 6374 203d 2044  eImageObject = D
-00021110: 7261 7769 6e67 2868 6f6d 6554 6162 5261  rawing(homeTabRa
-00021120: 6365 5475 6265 496d 6167 6546 7261 6d65  ceTubeImageFrame
-00021130: 2c20 7769 6474 683d 2266 696c 6c22 2c20  , width="fill", 
-00021140: 6865 6967 6874 3d22 6669 6c6c 2229 0a68  height="fill").h
-00021150: 6f6d 6554 6162 5665 7274 6963 616c 5370  omeTabVerticalSp
-00021160: 6163 6572 3320 3d20 426f 7828 686f 6d65  acer3 = Box(home
-00021170: 5461 6246 7261 6d65 2c20 6865 6967 6874  TabFrame, height
-00021180: 3d35 2c20 7769 6474 683d 2266 696c 6c22  =5, width="fill"
-00021190: 2c20 616c 6967 6e3d 2274 6f70 2229 0a68  , align="top").h
-000211a0: 6f6d 6554 6162 426f 7474 6f6d 4275 7474  omeTabBottomButt
-000211b0: 6f6e 526f 7746 7261 6d65 203d 2042 6f78  onRowFrame = Box
-000211c0: 2868 6f6d 6554 6162 4672 616d 652c 2077  (homeTabFrame, w
-000211d0: 6964 7468 3d22 6669 6c6c 222c 2068 6569  idth="fill", hei
-000211e0: 6768 743d 3530 290a 7072 6f63 6565 6442  ght=50).proceedB
-000211f0: 7574 746f 6e20 3d20 5075 7368 4275 7474  utton = PushButt
-00021200: 6f6e 2868 6f6d 6554 6162 426f 7474 6f6d  on(homeTabBottom
-00021210: 4275 7474 6f6e 526f 7746 7261 6d65 2c20  ButtonRowFrame, 
-00021220: 7465 7874 3d22 5072 6f63 6565 6422 2c20  text="Proceed", 
-00021230: 636f 6d6d 616e 643d 7072 6f63 6565 6448  command=proceedH
-00021240: 616e 646c 6572 2c20 616c 6967 6e3d 226c  andler, align="l
-00021250: 6566 7422 290a 7072 6f63 6565 6442 7574  eft").proceedBut
-00021260: 746f 6e2e 7465 7874 5f73 697a 6520 3d20  ton.text_size = 
-00021270: 3133 0a70 726f 6365 6564 4275 7474 6f6e  13.proceedButton
-00021280: 2e66 6f6e 7420 3d20 2241 7269 616c 2062  .font = "Arial b
-00021290: 6f6c 6422 0a70 726f 6365 6564 4275 7474  old".proceedButt
-000212a0: 6f6e 2e64 6973 6162 6c65 2829 0a68 6f6d  on.disable().hom
-000212b0: 6554 6162 426f 7474 6f6d 4275 7474 6f6e  eTabBottomButton
-000212c0: 526f 7746 7261 6d65 5370 6163 6572 3120  RowFrameSpacer1 
-000212d0: 3d20 426f 7828 686f 6d65 5461 6242 6f74  = Box(homeTabBot
-000212e0: 746f 6d42 7574 746f 6e52 6f77 4672 616d  tomButtonRowFram
-000212f0: 652c 2068 6569 6768 743d 2266 696c 6c22  e, height="fill"
-00021300: 2c20 7769 6474 683d 352c 2061 6c69 676e  , width=5, align
-00021310: 3d22 6c65 6674 2229 0a68 6f6d 6554 6162  ="left").homeTab
-00021320: 436f 6e73 6f6c 6554 6578 7442 6f78 203d  ConsoleTextBox =
-00021330: 2054 6578 7442 6f78 2868 6f6d 6554 6162   TextBox(homeTab
-00021340: 426f 7474 6f6d 4275 7474 6f6e 526f 7746  BottomButtonRowF
-00021350: 7261 6d65 2c20 7769 6474 683d 3830 2c20  rame, width=80, 
-00021360: 6865 6967 6874 3d34 2c20 6d75 6c74 696c  height=4, multil
-00021370: 696e 653d 5472 7565 2c20 616c 6967 6e3d  ine=True, align=
-00021380: 226c 6566 7422 290a 686f 6d65 5461 6243  "left").homeTabC
-00021390: 6f6e 736f 6c65 5465 7874 426f 782e 6469  onsoleTextBox.di
-000213a0: 7361 626c 6528 290a 686f 6d65 5461 6242  sable().homeTabB
-000213b0: 6f74 746f 6d42 7574 746f 6e52 6f77 4672  ottomButtonRowFr
-000213c0: 616d 6553 7061 6365 7232 203d 2042 6f78  ameSpacer2 = Box
-000213d0: 2868 6f6d 6554 6162 426f 7474 6f6d 4275  (homeTabBottomBu
-000213e0: 7474 6f6e 526f 7746 7261 6d65 2c20 6865  ttonRowFrame, he
-000213f0: 6967 6874 3d22 6669 6c6c 222c 2077 6964  ight="fill", wid
-00021400: 7468 3d35 2c20 616c 6967 6e3d 226c 6566  th=5, align="lef
-00021410: 7422 290a 7361 7665 5475 6265 7354 6f46  t").saveTubesToF
-00021420: 696c 6542 7574 746f 6e20 3d20 5075 7368  ileButton = Push
-00021430: 4275 7474 6f6e 2868 6f6d 6554 6162 426f  Button(homeTabBo
-00021440: 7474 6f6d 4275 7474 6f6e 526f 7746 7261  ttomButtonRowFra
-00021450: 6d65 2c20 7465 7874 3d22 5361 7665 2054  me, text="Save T
-00021460: 7562 6573 2074 6f20 4669 6c65 222c 2063  ubes to File", c
-00021470: 6f6d 6d61 6e64 3d73 6176 6554 7562 6573  ommand=saveTubes
-00021480: 546f 4669 6c65 5072 6f6d 7074 2c20 616c  ToFilePrompt, al
-00021490: 6967 6e3d 226c 6566 7422 290a 7361 7665  ign="left").save
-000214a0: 5475 6265 7354 6f46 696c 6542 7574 746f  TubesToFileButto
-000214b0: 6e2e 7465 7874 5f73 697a 6520 3d20 3133  n.text_size = 13
-000214c0: 0a73 6176 6554 7562 6573 546f 4669 6c65  .saveTubesToFile
-000214d0: 4275 7474 6f6e 2e66 6f6e 7420 3d20 2241  Button.font = "A
-000214e0: 7269 616c 2062 6f6c 6422 0a73 6176 6554  rial bold".saveT
-000214f0: 7562 6573 546f 4669 6c65 4275 7474 6f6e  ubesToFileButton
-00021500: 2e64 6973 6162 6c65 2829 0a68 6f6d 6554  .disable().homeT
-00021510: 6162 426f 7474 6f6d 4275 7474 6f6e 526f  abBottomButtonRo
-00021520: 7746 7261 6d65 5370 6163 6572 3320 3d20  wFrameSpacer3 = 
-00021530: 426f 7828 686f 6d65 5461 6242 6f74 746f  Box(homeTabBotto
-00021540: 6d42 7574 746f 6e52 6f77 4672 616d 652c  mButtonRowFrame,
-00021550: 2068 6569 6768 743d 2266 696c 6c22 2c20   height="fill", 
-00021560: 7769 6474 683d 352c 2061 6c69 676e 3d22  width=5, align="
-00021570: 6c65 6674 2229 0a72 6573 6574 5261 6365  left").resetRace
-00021580: 5475 6265 496d 6167 6541 6e61 6c79 7369  TubeImageAnalysi
-00021590: 7342 7574 746f 6e20 3d20 5075 7368 4275  sButton = PushBu
-000215a0: 7474 6f6e 2868 6f6d 6554 6162 426f 7474  tton(homeTabBott
-000215b0: 6f6d 4275 7474 6f6e 526f 7746 7261 6d65  omButtonRowFrame
-000215c0: 2c20 7465 7874 3d22 4361 6e63 656c 2069  , text="Cancel i
-000215d0: 6d61 6765 2061 6e61 6c79 7369 7322 2c20  mage analysis", 
-000215e0: 636f 6d6d 616e 643d 6361 6e63 656c 496d  command=cancelIm
-000215f0: 6167 6541 6e61 6c79 7369 732c 2061 6c69  ageAnalysis, ali
-00021600: 676e 3d22 6c65 6674 2229 0a72 6573 6574  gn="left").reset
-00021610: 5261 6365 5475 6265 496d 6167 6541 6e61  RaceTubeImageAna
-00021620: 6c79 7369 7342 7574 746f 6e2e 7465 7874  lysisButton.text
-00021630: 5f73 697a 6520 3d20 3133 0a72 6573 6574  _size = 13.reset
-00021640: 5261 6365 5475 6265 496d 6167 6541 6e61  RaceTubeImageAna
-00021650: 6c79 7369 7342 7574 746f 6e2e 666f 6e74  lysisButton.font
-00021660: 203d 2022 4172 6961 6c20 626f 6c64 220a   = "Arial bold".
-00021670: 7265 7365 7452 6163 6554 7562 6549 6d61  resetRaceTubeIma
-00021680: 6765 416e 616c 7973 6973 4275 7474 6f6e  geAnalysisButton
-00021690: 2e64 6973 6162 6c65 2829 0a68 6f6d 6554  .disable().homeT
-000216a0: 6162 5072 656c 696d 696e 6172 7944 6174  abPreliminaryDat
-000216b0: 6141 6e61 6c79 7369 7346 7261 6d65 203d  aAnalysisFrame =
-000216c0: 2042 6f78 2868 6f6d 6554 6162 4672 616d   Box(homeTabFram
-000216d0: 652c 2077 6964 7468 3d22 6669 6c6c 222c  e, width="fill",
-000216e0: 2068 6569 6768 743d 3430 302c 2061 6c69   height=400, ali
-000216f0: 676e 3d22 746f 7022 2923 2c20 6c61 796f  gn="top")#, layo
-00021700: 7574 3d22 6772 6964 220a 686f 6d65 5461  ut="grid".homeTa
-00021710: 6250 7265 6c69 6d69 6e61 7279 4461 7461  bPreliminaryData
-00021720: 416e 616c 7973 6973 5465 7874 426f 7820  AnalysisTextBox 
-00021730: 3d20 5465 7874 2868 6f6d 6554 6162 5072  = Text(homeTabPr
-00021740: 656c 696d 696e 6172 7944 6174 6141 6e61  eliminaryDataAna
-00021750: 6c79 7369 7346 7261 6d65 2c20 666f 6e74  lysisFrame, font
-00021760: 3d22 436f 7572 6965 7222 2c20 7369 7a65  ="Courier", size
-00021770: 3d31 342c 2061 6c69 676e 3d22 746f 7022  =14, align="top"
-00021780: 290a 2320 5365 7420 7570 2068 6f6d 6520  ).# Set up home 
-00021790: 7461 6220 636f 6c6f 7273 0a72 6163 6554  tab colors.raceT
-000217a0: 7562 654c 656e 6774 6846 7261 6d65 2e62  ubeLengthFrame.b
-000217b0: 6720 3d20 2267 7261 7939 3522 0a72 6163  g = "gray95".rac
-000217c0: 6554 7562 654c 656e 6774 6854 6578 7442  eTubeLengthTextB
-000217d0: 6f78 2e74 6578 745f 636f 6c6f 7220 3d20  ox.text_color = 
-000217e0: 2262 6c61 636b 220a 686f 6d65 5461 6252  "black".homeTabR
-000217f0: 6163 6554 7562 6549 6d61 6765 4672 616d  aceTubeImageFram
-00021800: 652e 6267 203d 2022 2336 3736 3937 3522  e.bg = "#676975"
-00021810: 0a68 6f6d 6554 6162 436f 6e73 6f6c 6554  .homeTabConsoleT
-00021820: 6578 7442 6f78 2e74 6578 745f 636f 6c6f  extBox.text_colo
-00021830: 7220 3d20 2262 6c61 636b 220a 2320 5365  r = "black".# Se
-00021840: 7420 7570 2068 6f6d 6520 6675 6e63 7469  t up home functi
-00021850: 6f6e 730a 686f 6d65 5461 6252 6163 6554  ons.homeTabRaceT
-00021860: 7562 6549 6d61 6765 4f62 6a65 6374 2e77  ubeImageObject.w
-00021870: 6865 6e5f 636c 6963 6b65 6420 3d20 696d  hen_clicked = im
-00021880: 6167 6543 6c69 636b 4861 6e64 6c65 720a  ageClickHandler.
-00021890: 0a0a 2320 5365 7420 7570 2065 7870 6572  ..# Set up exper
-000218a0: 696d 656e 7473 2074 6162 0a65 7870 6572  iments tab.exper
-000218b0: 696d 656e 7454 6162 4672 616d 6520 3d20  imentTabFrame = 
-000218c0: 426f 7828 6170 702c 2077 6964 7468 3d22  Box(app, width="
-000218d0: 6669 6c6c 222c 2068 6569 6768 743d 2266  fill", height="f
-000218e0: 696c 6c22 2c20 616c 6967 6e3d 2274 6f70  ill", align="top
-000218f0: 2229 0a65 7870 6572 696d 656e 7454 6162  ").experimentTab
-00021900: 4672 616d 652e 6267 203d 2022 6772 6579  Frame.bg = "grey
-00021910: 3935 220a 6578 7065 7269 6d65 6e74 5461  95".experimentTa
-00021920: 6246 7261 6d65 2e74 6578 745f 636f 6c6f  bFrame.text_colo
-00021930: 7220 3d20 2262 6c61 636b 220a 6578 7065  r = "black".expe
-00021940: 7269 6d65 6e74 5461 6246 7261 6d65 2e73  rimentTabFrame.s
-00021950: 6574 5f62 6f72 6465 7228 352c 2022 2339  et_border(5, "#9
-00021960: 6663 6465 6122 290a 6578 7065 7269 6d65  fcdea").experime
-00021970: 6e74 5461 6254 6f70 436f 6e74 656e 7452  ntTabTopContentR
-00021980: 6f77 203d 2042 6f78 2865 7870 6572 696d  ow = Box(experim
-00021990: 656e 7454 6162 4672 616d 652c 2077 6964  entTabFrame, wid
-000219a0: 7468 3d22 6669 6c6c 222c 2068 6569 6768  th="fill", heigh
-000219b0: 743d 696e 7428 6170 7048 6569 6768 742a  t=int(appHeight*
-000219c0: 302e 3429 2c20 616c 6967 6e3d 2274 6f70  0.4), align="top
-000219d0: 2229 0a65 7870 6572 696d 656e 7454 6162  ").experimentTab
-000219e0: 546f 7043 6f6e 7465 6e74 526f 772e 7365  TopContentRow.se
-000219f0: 745f 626f 7264 6572 2832 2c20 2223 3966  t_border(2, "#9f
-00021a00: 6364 6561 2229 0a65 7870 6572 696d 656e  cdea").experimen
-00021a10: 7454 6162 5461 626c 6546 7261 6d65 203d  tTabTableFrame =
-00021a20: 2042 6f78 2865 7870 6572 696d 656e 7454   Box(experimentT
-00021a30: 6162 546f 7043 6f6e 7465 6e74 526f 772c  abTopContentRow,
-00021a40: 2077 6964 7468 3d69 6e74 2873 6372 6565   width=int(scree
-00021a50: 6e57 6964 7468 2a30 2e34 3529 2c20 6865  nWidth*0.45), he
-00021a60: 6967 6874 3d69 6e74 2861 7070 4865 6967  ight=int(appHeig
-00021a70: 6874 2a30 2e34 292c 2061 6c69 676e 3d22  ht*0.4), align="
-00021a80: 6c65 6674 2229 0a65 7870 6572 696d 656e  left").experimen
-00021a90: 7454 6162 5461 626c 6546 7261 6d65 5665  tTabTableFrameVe
-00021aa0: 7274 6963 616c 5370 6163 6572 3120 3d20  rticalSpacer1 = 
-00021ab0: 426f 7828 6578 7065 7269 6d65 6e74 5461  Box(experimentTa
-00021ac0: 6254 6162 6c65 4672 616d 652c 2068 6569  bTableFrame, hei
-00021ad0: 6768 743d 322c 2077 6964 7468 3d22 6669  ght=2, width="fi
-00021ae0: 6c6c 222c 2061 6c69 676e 3d22 626f 7474  ll", align="bott
-00021af0: 6f6d 2229 0a65 7870 6572 696d 656e 7454  om").experimentT
-00021b00: 6162 5461 626c 6550 6172 616d 7352 6f77  abTableParamsRow
-00021b10: 203d 2042 6f78 2865 7870 6572 696d 656e   = Box(experimen
-00021b20: 7454 6162 5461 626c 6546 7261 6d65 2c20  tTabTableFrame, 
-00021b30: 7769 6474 683d 2266 696c 6c22 2c20 6865  width="fill", he
-00021b40: 6967 6874 3d34 302c 2061 6c69 676e 3d22  ight=40, align="
-00021b50: 626f 7474 6f6d 2229 0a65 7870 6572 696d  bottom").experim
-00021b60: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
-00021b70: 7348 7273 4c6f 7754 6578 7420 3d20 5465  sHrsLowText = Te
-00021b80: 7874 2865 7870 6572 696d 656e 7454 6162  xt(experimentTab
-00021b90: 5461 626c 6550 6172 616d 7352 6f77 2c20  TableParamsRow, 
-00021ba0: 7465 7874 3d22 486f 7572 7320 2853 7461  text="Hours (Sta
-00021bb0: 7274 293a 2022 2c20 616c 6967 6e3d 226c  rt): ", align="l
-00021bc0: 6566 7422 2c20 666f 6e74 3d22 4172 6961  eft", font="Aria
-00021bd0: 6c20 626f 6c64 2229 0a65 7870 6572 696d  l bold").experim
-00021be0: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
-00021bf0: 7348 7273 4c6f 7744 726f 7064 6f77 6e20  sHrsLowDropdown 
-00021c00: 3d20 436f 6d62 6f28 6578 7065 7269 6d65  = Combo(experime
-00021c10: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
-00021c20: 526f 772c 2077 6964 7468 3d34 2c20 616c  Row, width=4, al
-00021c30: 6967 6e3d 226c 6566 7422 2c20 6f70 7469  ign="left", opti
-00021c40: 6f6e 733d 5b5d 290a 6578 7065 7269 6d65  ons=[]).experime
-00021c50: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
-00021c60: 4872 7348 6967 6854 6578 7420 3d20 5465  HrsHighText = Te
-00021c70: 7874 2865 7870 6572 696d 656e 7454 6162  xt(experimentTab
-00021c80: 5461 626c 6550 6172 616d 7352 6f77 2c20  TableParamsRow, 
-00021c90: 7465 7874 3d22 486f 7572 7320 2853 746f  text="Hours (Sto
-00021ca0: 7029 3a20 222c 2061 6c69 676e 3d22 6c65  p): ", align="le
-00021cb0: 6674 222c 2066 6f6e 743d 2241 7269 616c  ft", font="Arial
-00021cc0: 2062 6f6c 6422 290a 6578 7065 7269 6d65   bold").experime
-00021cd0: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
-00021ce0: 4872 7348 6967 6844 726f 7064 6f77 6e20  HrsHighDropdown 
-00021cf0: 3d20 436f 6d62 6f28 6578 7065 7269 6d65  = Combo(experime
-00021d00: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
-00021d10: 526f 772c 2077 6964 7468 3d34 2c20 616c  Row, width=4, al
-00021d20: 6967 6e3d 226c 6566 7422 2c20 6f70 7469  ign="left", opti
-00021d30: 6f6e 733d 5b5d 290a 6578 7065 7269 6d65  ons=[]).experime
-00021d40: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
-00021d50: 526f 7753 7061 6365 7220 3d20 426f 7828  RowSpacer = Box(
-00021d60: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
-00021d70: 6c65 5061 7261 6d73 526f 772c 2068 6569  leParamsRow, hei
-00021d80: 6768 743d 2266 696c 6c22 2c20 7769 6474  ght="fill", widt
-00021d90: 683d 352c 2061 6c69 676e 3d22 6c65 6674  h=5, align="left
-00021da0: 2229 0a65 7870 6572 696d 656e 7454 6162  ").experimentTab
-00021db0: 5461 626c 6550 6172 616d 7352 6563 616c  TableParamsRecal
-00021dc0: 6342 7574 746f 6e20 3d20 5075 7368 4275  cButton = PushBu
-00021dd0: 7474 6f6e 2865 7870 6572 696d 656e 7454  tton(experimentT
-00021de0: 6162 5461 626c 6550 6172 616d 7352 6f77  abTableParamsRow
-00021df0: 2c20 7465 7874 3d22 5265 6361 6c63 756c  , text="Recalcul
-00021e00: 6174 6520 5065 7269 6f64 7322 2c20 616c  ate Periods", al
-00021e10: 6967 6e3d 226c 6566 7422 2c20 636f 6d6d  ign="left", comm
-00021e20: 616e 643d 706f 7075 6c61 7465 4578 7065  and=populateExpe
-00021e30: 7269 6d65 6e74 4461 7461 5461 626c 6529  rimentDataTable)
-00021e40: 0a65 7870 6572 696d 656e 7454 6162 5461  .experimentTabTa
-00021e50: 626c 6550 6172 616d 7352 6563 616c 6342  bleParamsRecalcB
-00021e60: 7574 746f 6e2e 7465 7874 5f73 697a 6520  utton.text_size 
-00021e70: 3d20 3133 0a65 7870 6572 696d 656e 7454  = 13.experimentT
-00021e80: 6162 5461 626c 6550 6172 616d 7352 6563  abTableParamsRec
-00021e90: 616c 6342 7574 746f 6e2e 666f 6e74 203d  alcButton.font =
-00021ea0: 2022 4172 6961 6c20 626f 6c64 220a 2365   "Arial bold".#e
-00021eb0: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
-00021ec0: 6546 7261 6d65 5370 6163 6572 203d 2042  eFrameSpacer = B
-00021ed0: 6f78 2865 7870 6572 696d 656e 7454 6162  ox(experimentTab
-00021ee0: 5461 626c 6550 6172 616d 7352 6f77 2c20  TableParamsRow, 
-00021ef0: 6865 6967 6874 3d22 6669 6c6c 222c 2077  height="fill", w
-00021f00: 6964 7468 3d31 352c 2061 6c69 676e 3d22  idth=15, align="
-00021f10: 6c65 6674 2229 0a23 6578 7065 7269 6d65  left").#experime
-00021f20: 6e74 5461 6245 6469 7454 7562 6573 4275  ntTabEditTubesBu
-00021f30: 7474 6f6e 203d 2050 7573 6842 7574 746f  tton = PushButto
-00021f40: 6e28 6578 7065 7269 6d65 6e74 5461 6254  n(experimentTabT
-00021f50: 6162 6c65 5061 7261 6d73 526f 772c 2074  ableParamsRow, t
-00021f60: 6578 743d 2245 6469 7420 5061 636b 7322  ext="Edit Packs"
-00021f70: 2c20 616c 6967 6e3d 226c 6566 7422 2c20  , align="left", 
-00021f80: 636f 6d6d 616e 643d 6469 7370 6c61 7945  command=displayE
-00021f90: 6469 7444 6174 6150 6f70 7570 290a 2365  ditDataPopup).#e
-00021fa0: 7870 6572 696d 656e 7454 6162 4564 6974  xperimentTabEdit
-00021fb0: 5475 6265 7342 7574 746f 6e2e 7465 7874  TubesButton.text
-00021fc0: 5f73 697a 6520 3d20 3133 0a23 6578 7065  _size = 13.#expe
-00021fd0: 7269 6d65 6e74 5461 6245 6469 7454 7562  rimentTabEditTub
-00021fe0: 6573 4275 7474 6f6e 2e66 6f6e 7420 3d20  esButton.font = 
-00021ff0: 2241 7269 616c 2062 6f6c 6422 0a23 6578  "Arial bold".#ex
-00022000: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
-00022010: 4672 616d 6556 6572 7469 6361 6c53 7061  FrameVerticalSpa
-00022020: 6365 7232 203d 2042 6f78 2865 7870 6572  cer2 = Box(exper
-00022030: 696d 656e 7454 6162 5461 626c 6546 7261  imentTabTableFra
-00022040: 6d65 2c20 6865 6967 6874 3d32 2c20 7769  me, height=2, wi
-00022050: 6474 683d 2266 696c 6c22 2c20 616c 6967  dth="fill", alig
-00022060: 6e3d 2262 6f74 746f 6d22 290a 0a0a 6578  n="bottom")...ex
-00022070: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
-00022080: 5465 7874 426f 7820 3d20 5465 7874 426f  TextBox = TextBo
-00022090: 7828 6578 7065 7269 6d65 6e74 5461 6254  x(experimentTabT
-000220a0: 6162 6c65 4672 616d 652c 206d 756c 7469  ableFrame, multi
-000220b0: 6c69 6e65 3d54 7275 652c 2077 6964 7468  line=True, width
-000220c0: 3d22 6669 6c6c 222c 2068 6569 6768 743d  ="fill", height=
-000220d0: 2266 696c 6c22 2c20 616c 6967 6e3d 2274  "fill", align="t
-000220e0: 6f70 2229 0a65 7870 6572 696d 656e 7454  op").experimentT
-000220f0: 6162 5461 626c 6554 6578 7442 6f78 2e74  abTableTextBox.t
-00022100: 6578 745f 7369 7a65 203d 2031 320a 6578  ext_size = 12.ex
-00022110: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
-00022120: 5465 7874 426f 782e 6469 7361 626c 6528  TextBox.disable(
-00022130: 290a 6578 7065 7269 6d65 6e74 5461 6254  ).experimentTabT
-00022140: 6162 6c65 5465 7874 426f 782e 7772 6170  ableTextBox.wrap
-00022150: 203d 2046 616c 7365 0a65 7870 6572 696d   = False.experim
-00022160: 656e 7454 6162 5461 626c 6554 6578 7442  entTabTableTextB
-00022170: 6f78 2e66 6f6e 7420 3d20 2243 6f75 7269  ox.font = "Couri
-00022180: 6572 220a 2365 7870 6572 696d 656e 7454  er".#experimentT
-00022190: 6162 5461 626c 6546 7261 6d65 2e73 6574  abTableFrame.set
-000221a0: 5f62 6f72 6465 7228 322c 2022 2339 6663  _border(2, "#9fc
-000221b0: 6465 6122 290a 6578 7065 7269 6d65 6e74  dea").experiment
-000221c0: 5461 6254 6162 6c65 5465 7874 426f 782e  TabTableTextBox.
-000221d0: 7465 7874 5f63 6f6c 6f72 203d 2022 626c  text_color = "bl
-000221e0: 6163 6b22 0a65 7870 6572 696d 656e 7454  ack".experimentT
-000221f0: 6162 546f 7043 6f6e 7465 6e74 526f 7753  abTopContentRowS
-00022200: 7061 6365 7220 3d20 426f 7828 6578 7065  pacer = Box(expe
-00022210: 7269 6d65 6e74 5461 6254 6f70 436f 6e74  rimentTabTopCont
-00022220: 656e 7452 6f77 2c20 6865 6967 6874 3d22  entRow, height="
-00022230: 6669 6c6c 222c 2077 6964 7468 3d35 2c20  fill", width=5, 
-00022240: 616c 6967 6e3d 226c 6566 7422 290a 6578  align="left").ex
-00022250: 7065 7269 6d65 6e74 5461 6253 7461 7469  perimentTabStati
-00022260: 7374 6963 616c 416e 616c 7973 6973 4672  sticalAnalysisFr
-00022270: 616d 6520 3d20 426f 7828 6578 7065 7269  ame = Box(experi
-00022280: 6d65 6e74 5461 6254 6f70 436f 6e74 656e  mentTabTopConten
-00022290: 7452 6f77 2c20 7769 6474 683d 2266 696c  tRow, width="fil
-000222a0: 6c22 2c20 6865 6967 6874 3d22 6669 6c6c  l", height="fill
-000222b0: 222c 2061 6c69 676e 3d22 6c65 6674 2229  ", align="left")
-000222c0: 0a23 6578 7065 7269 6d65 6e74 5461 6253  .#experimentTabS
-000222d0: 7461 7469 7374 6963 616c 416e 616c 7973  tatisticalAnalys
-000222e0: 6973 4672 616d 652e 7365 745f 626f 7264  isFrame.set_bord
-000222f0: 6572 2832 2c20 2223 3966 6364 6561 2229  er(2, "#9fcdea")
-00022300: 0a65 7870 6572 696d 656e 7454 6162 5374  .experimentTabSt
-00022310: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
-00022320: 7353 6574 4c69 7374 4672 616d 6520 3d20  sSetListFrame = 
-00022330: 426f 7828 6578 7065 7269 6d65 6e74 5461  Box(experimentTa
-00022340: 6253 7461 7469 7374 6963 616c 416e 616c  bStatisticalAnal
-00022350: 7973 6973 4672 616d 652c 2077 6964 7468  ysisFrame, width
-00022360: 3d31 3530 2c20 6865 6967 6874 3d22 6669  =150, height="fi
-00022370: 6c6c 222c 2061 6c69 676e 3d22 6c65 6674  ll", align="left
-00022380: 2229 0a65 7870 6572 696d 656e 7454 6162  ").experimentTab
-00022390: 5374 6174 6973 7469 6361 6c41 6e61 6c79  StatisticalAnaly
-000223a0: 7369 7353 6574 4c69 7374 5469 746c 6520  sisSetListTitle 
-000223b0: 3d20 5465 7874 2865 7870 6572 696d 656e  = Text(experimen
-000223c0: 7454 6162 5374 6174 6973 7469 6361 6c41  tTabStatisticalA
-000223d0: 6e61 6c79 7369 7353 6574 4c69 7374 4672  nalysisSetListFr
-000223e0: 616d 652c 2074 6578 743d 225c 6e5c 6e50  ame, text="\n\nP
-000223f0: 6163 6b73 3a22 2c20 616c 6967 6e3d 2274  acks:", align="t
-00022400: 6f70 222c 2066 6f6e 743d 2241 7269 616c  op", font="Arial
-00022410: 2062 6f6c 6422 290a 6578 7065 7269 6d65   bold").experime
-00022420: 6e74 5461 6253 7461 7469 7374 6963 616c  ntTabStatistical
-00022430: 416e 616c 7973 6973 5365 744c 6973 7420  AnalysisSetList 
-00022440: 3d20 4c69 7374 426f 7828 0a20 2020 2065  = ListBox(.    e
-00022450: 7870 6572 696d 656e 7454 6162 5374 6174  xperimentTabStat
-00022460: 6973 7469 6361 6c41 6e61 6c79 7369 7353  isticalAnalysisS
-00022470: 6574 4c69 7374 4672 616d 652c 0a20 2020  etListFrame,.   
-00022480: 206d 756c 7469 7365 6c65 6374 3d54 7275   multiselect=Tru
-00022490: 652c 0a20 2020 2073 6372 6f6c 6c62 6172  e,.    scrollbar
-000224a0: 3d54 7275 652c 0a20 2020 2061 6c69 676e  =True,.    align
-000224b0: 3d22 746f 7022 2c0a 2020 2020 7769 6474  ="top",.    widt
-000224c0: 683d 3135 302c 0a20 2020 2068 6569 6768  h=150,.    heigh
-000224d0: 743d 2266 696c 6c22 2c0a 2020 2020 636f  t="fill",.    co
-000224e0: 6d6d 616e 643d 706f 7075 6c61 7465 5374  mmand=populateSt
-000224f0: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
-00022500: 734c 6973 7473 0a29 0a65 7870 6572 696d  sLists.).experim
-00022510: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
-00022520: 6c41 6e61 6c79 7369 7354 7562 654c 6973  lAnalysisTubeLis
-00022530: 7446 7261 6d65 203d 2042 6f78 2865 7870  tFrame = Box(exp
-00022540: 6572 696d 656e 7454 6162 5374 6174 6973  erimentTabStatis
-00022550: 7469 6361 6c41 6e61 6c79 7369 7346 7261  ticalAnalysisFra
-00022560: 6d65 2c20 7769 6474 683d 3135 302c 2068  me, width=150, h
-00022570: 6569 6768 743d 2266 696c 6c22 2c20 616c  eight="fill", al
-00022580: 6967 6e3d 226c 6566 7422 290a 6578 7065  ign="left").expe
-00022590: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
-000225a0: 6963 616c 416e 616c 7973 6973 5475 6265  icalAnalysisTube
-000225b0: 4c69 7374 5469 746c 6520 3d20 5465 7874  ListTitle = Text
-000225c0: 2865 7870 6572 696d 656e 7454 6162 5374  (experimentTabSt
-000225d0: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
-000225e0: 7354 7562 654c 6973 7446 7261 6d65 2c20  sTubeListFrame, 
-000225f0: 7465 7874 3d22 5c6e 5c6e 5475 6265 733a  text="\n\nTubes:
-00022600: 222c 2061 6c69 676e 3d22 746f 7022 2c20  ", align="top", 
-00022610: 666f 6e74 3d22 4172 6961 6c20 626f 6c64  font="Arial bold
-00022620: 2229 0a65 7870 6572 696d 656e 7454 6162  ").experimentTab
-00022630: 5374 6174 6973 7469 6361 6c41 6e61 6c79  StatisticalAnaly
-00022640: 7369 7354 7562 654c 6973 7420 3d20 4c69  sisTubeList = Li
-00022650: 7374 426f 7828 0a20 2020 2065 7870 6572  stBox(.    exper
-00022660: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
-00022670: 6361 6c41 6e61 6c79 7369 7354 7562 654c  calAnalysisTubeL
-00022680: 6973 7446 7261 6d65 2c0a 2020 2020 6d75  istFrame,.    mu
-00022690: 6c74 6973 656c 6563 743d 5472 7565 2c0a  ltiselect=True,.
-000226a0: 2020 2020 7363 726f 6c6c 6261 723d 5472      scrollbar=Tr
-000226b0: 7565 2c0a 2020 2020 616c 6967 6e3d 2274  ue,.    align="t
-000226c0: 6f70 222c 0a20 2020 2077 6964 7468 3d31  op",.    width=1
-000226d0: 3530 2c0a 2020 2020 6865 6967 6874 3d22  50,.    height="
-000226e0: 6669 6c6c 220a 290a 6578 7065 7269 6d65  fill".).experime
-000226f0: 6e74 5461 6253 7461 7469 7374 6963 616c  ntTabStatistical
-00022700: 416e 616c 7973 6973 4d65 7468 6f64 4c69  AnalysisMethodLi
-00022710: 7374 4672 616d 6520 3d20 426f 7828 6578  stFrame = Box(ex
-00022720: 7065 7269 6d65 6e74 5461 6253 7461 7469  perimentTabStati
-00022730: 7374 6963 616c 416e 616c 7973 6973 4672  sticalAnalysisFr
-00022740: 616d 652c 2077 6964 7468 3d31 3530 2c20  ame, width=150, 
-00022750: 6865 6967 6874 3d22 6669 6c6c 222c 2061  height="fill", a
-00022760: 6c69 676e 3d22 6c65 6674 2229 0a65 7870  lign="left").exp
-00022770: 6572 696d 656e 7454 6162 5374 6174 6973  erimentTabStatis
-00022780: 7469 6361 6c41 6e61 6c79 7369 734d 6574  ticalAnalysisMet
-00022790: 686f 644c 6973 7454 6974 6c65 203d 2054  hodListTitle = T
-000227a0: 6578 7428 6578 7065 7269 6d65 6e74 5461  ext(experimentTa
-000227b0: 6253 7461 7469 7374 6963 616c 416e 616c  bStatisticalAnal
-000227c0: 7973 6973 4d65 7468 6f64 4c69 7374 4672  ysisMethodListFr
-000227d0: 616d 652c 2074 6578 743d 2253 7461 7469  ame, text="Stati
-000227e0: 7374 6963 616c 5c6e 5065 7269 6f64 2041  stical\nPeriod A
-000227f0: 6e61 6c79 7369 735c 6e4d 6574 686f 6473  nalysis\nMethods
-00022800: 3a22 2c20 616c 6967 6e3d 2274 6f70 222c  :", align="top",
-00022810: 2066 6f6e 743d 2241 7269 616c 2062 6f6c   font="Arial bol
-00022820: 6422 290a 6578 7065 7269 6d65 6e74 5461  d").experimentTa
-00022830: 6253 7461 7469 7374 6963 616c 416e 616c  bStatisticalAnal
-00022840: 7973 6973 4d65 7468 6f64 4c69 7374 203d  ysisMethodList =
-00022850: 204c 6973 7442 6f78 280a 2020 2020 6578   ListBox(.    ex
-00022860: 7065 7269 6d65 6e74 5461 6253 7461 7469  perimentTabStati
-00022870: 7374 6963 616c 416e 616c 7973 6973 4d65  sticalAnalysisMe
-00022880: 7468 6f64 4c69 7374 4672 616d 652c 0a20  thodListFrame,. 
-00022890: 2020 2077 6964 7468 3d31 3230 2c0a 2020     width=120,.  
-000228a0: 2020 6865 6967 6874 3d22 6669 6c6c 222c    height="fill",
-000228b0: 0a20 2020 2061 6c69 676e 3d22 746f 7022  .    align="top"
-000228c0: 2c0a 2020 2020 6974 656d 733d 5b22 4c69  ,.    items=["Li
-000228d0: 6e65 6172 2052 6567 7265 7373 696f 6e22  near Regression"
-000228e0: 2c20 2253 6f6b 6f6c 6f76 652d 4275 7368  , "Sokolove-Bush
-000228f0: 656c 6c22 2c20 224c 6f6d 622d 5363 6172  ell", "Lomb-Scar
-00022900: 676c 6522 2c20 2257 6176 656c 6574 2028  gle", "Wavelet (
-00022910: 4357 5429 225d 2c0a 2020 2020 7365 6c65  CWT)"],.    sele
-00022920: 6374 6564 3d22 4c69 6e65 6172 2052 6567  cted="Linear Reg
-00022930: 7265 7373 696f 6e22 2c0a 290a 6578 7065  ression",.).expe
-00022940: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
-00022950: 6963 616c 416e 616c 7973 6973 4275 7474  icalAnalysisButt
-00022960: 6f6e 7346 7261 6d65 203d 2042 6f78 2865  onsFrame = Box(e
-00022970: 7870 6572 696d 656e 7454 6162 5374 6174  xperimentTabStat
-00022980: 6973 7469 6361 6c41 6e61 6c79 7369 7346  isticalAnalysisF
-00022990: 7261 6d65 2c20 6865 6967 6874 3d22 6669  rame, height="fi
-000229a0: 6c6c 222c 2061 6c69 676e 3d22 7269 6768  ll", align="righ
-000229b0: 7422 290a 6578 7065 7269 6d65 6e74 5461  t").experimentTa
-000229c0: 6253 7461 7469 7374 6963 616c 416e 616c  bStatisticalAnal
-000229d0: 7973 6973 4672 616d 6553 7061 6365 7220  ysisFrameSpacer 
-000229e0: 3d20 426f 7828 6578 7065 7269 6d65 6e74  = Box(experiment
-000229f0: 5461 6253 7461 7469 7374 6963 616c 416e  TabStatisticalAn
-00022a00: 616c 7973 6973 4672 616d 652c 2068 6569  alysisFrame, hei
-00022a10: 6768 743d 2266 696c 6c22 2c20 7769 6474  ght="fill", widt
-00022a20: 683d 352c 2061 6c69 676e 3d22 7269 6768  h=5, align="righ
-00022a30: 7422 290a 6578 7065 7269 6d65 6e74 5461  t").experimentTa
-00022a40: 6253 7461 7469 7374 6963 616c 416e 616c  bStatisticalAnal
-00022a50: 7973 6973 416e 616c 797a 6542 7574 746f  ysisAnalyzeButto
-00022a60: 6e20 3d20 5075 7368 4275 7474 6f6e 2865  n = PushButton(e
-00022a70: 7870 6572 696d 656e 7454 6162 5374 6174  xperimentTabStat
-00022a80: 6973 7469 6361 6c41 6e61 6c79 7369 7342  isticalAnalysisB
-00022a90: 7574 746f 6e73 4672 616d 652c 2074 6578  uttonsFrame, tex
-00022aa0: 743d 2241 6e61 6c79 7a65 222c 2077 6964  t="Analyze", wid
-00022ab0: 7468 3d22 6669 6c6c 222c 2063 6f6d 6d61  th="fill", comma
-00022ac0: 6e64 3d70 6572 666f 726d 5374 6174 6973  nd=performStatis
-00022ad0: 7469 6361 6c41 6e61 6c79 7369 732c 2061  ticalAnalysis, a
-00022ae0: 6c69 676e 3d22 746f 7022 290a 6578 7065  lign="top").expe
-00022af0: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
-00022b00: 6963 616c 416e 616c 7973 6973 416e 616c  icalAnalysisAnal
-00022b10: 797a 6542 7574 746f 6e2e 7465 7874 5f73  yzeButton.text_s
-00022b20: 697a 6520 3d20 3133 0a65 7870 6572 696d  ize = 13.experim
-00022b30: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
-00022b40: 6c41 6e61 6c79 7369 7341 6e61 6c79 7a65  lAnalysisAnalyze
-00022b50: 4275 7474 6f6e 2e66 6f6e 7420 3d20 2241  Button.font = "A
-00022b60: 7269 616c 2062 6f6c 6422 0a65 7870 6572  rial bold".exper
-00022b70: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
-00022b80: 6361 6c41 6e61 6c79 7369 7345 7870 6f72  calAnalysisExpor
-00022b90: 7444 6174 6142 7574 746f 6e20 3d20 5075  tDataButton = Pu
-00022ba0: 7368 4275 7474 6f6e 2865 7870 6572 696d  shButton(experim
-00022bb0: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
-00022bc0: 6c41 6e61 6c79 7369 7342 7574 746f 6e73  lAnalysisButtons
-00022bd0: 4672 616d 652c 2074 6578 743d 2253 6176  Frame, text="Sav
-00022be0: 655c 6e50 6572 696f 6473 2061 6e64 5c6e  e\nPeriods and\n
-00022bf0: 416e 616c 7973 6973 5c6e 4461 7461 222c  Analysis\nData",
-00022c00: 2077 6964 7468 3d22 6669 6c6c 222c 2070   width="fill", p
-00022c10: 6164 793d 322c 2063 6f6d 6d61 6e64 3d73  ady=2, command=s
-00022c20: 6176 6553 7461 7469 7374 6963 616c 416e  aveStatisticalAn
-00022c30: 616c 7973 6973 4461 7461 2c20 616c 6967  alysisData, alig
-00022c40: 6e3d 2274 6f70 2229 0a65 7870 6572 696d  n="top").experim
-00022c50: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
-00022c60: 6c41 6e61 6c79 7369 7345 7870 6f72 7444  lAnalysisExportD
-00022c70: 6174 6142 7574 746f 6e2e 7465 7874 5f73  ataButton.text_s
-00022c80: 697a 6520 3d20 3133 0a65 7870 6572 696d  ize = 13.experim
-00022c90: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
-00022ca0: 6c41 6e61 6c79 7369 7345 7870 6f72 7444  lAnalysisExportD
-00022cb0: 6174 6142 7574 746f 6e2e 666f 6e74 203d  ataButton.font =
-00022cc0: 2022 4172 6961 6c20 626f 6c64 220a 6578   "Arial bold".ex
-00022cd0: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
-00022ce0: 4578 706f 7274 4461 7461 4275 7474 6f6e  ExportDataButton
-00022cf0: 203d 2050 7573 6842 7574 746f 6e28 6578   = PushButton(ex
-00022d00: 7065 7269 6d65 6e74 5461 6253 7461 7469  perimentTabStati
-00022d10: 7374 6963 616c 416e 616c 7973 6973 4275  sticalAnalysisBu
-00022d20: 7474 6f6e 7346 7261 6d65 2c20 7465 7874  ttonsFrame, text
-00022d30: 3d22 5361 7665 5c6e 4578 7065 7269 6d65  ="Save\nExperime
-00022d40: 6e74 5c6e 4461 7461 222c 2077 6964 7468  nt\nData", width
-00022d50: 3d22 6669 6c6c 222c 2070 6164 793d 322c  ="fill", pady=2,
-00022d60: 2063 6f6d 6d61 6e64 3d73 6176 6545 7870   command=saveExp
-00022d70: 6572 696d 656e 7444 6174 612c 2061 6c69  erimentData, ali
-00022d80: 676e 3d22 746f 7022 290a 6578 7065 7269  gn="top").experi
-00022d90: 6d65 6e74 5461 6254 6162 6c65 4578 706f  mentTabTableExpo
-00022da0: 7274 4461 7461 4275 7474 6f6e 2e74 6578  rtDataButton.tex
-00022db0: 745f 7369 7a65 203d 2031 330a 6578 7065  t_size = 13.expe
-00022dc0: 7269 6d65 6e74 5461 6254 6162 6c65 4578  rimentTabTableEx
-00022dd0: 706f 7274 4461 7461 4275 7474 6f6e 2e66  portDataButton.f
-00022de0: 6f6e 7420 3d20 2241 7269 616c 2062 6f6c  ont = "Arial bol
-00022df0: 6422 0a65 7870 6572 696d 656e 7454 6162  d".experimentTab
-00022e00: 5374 6174 6973 7469 6361 6c41 6e61 6c79  StatisticalAnaly
-00022e10: 7369 734f 7574 7075 7446 7261 6d65 203d  sisOutputFrame =
-00022e20: 2042 6f78 2865 7870 6572 696d 656e 7454   Box(experimentT
-00022e30: 6162 5374 6174 6973 7469 6361 6c41 6e61  abStatisticalAna
-00022e40: 6c79 7369 7346 7261 6d65 2c20 7769 6474  lysisFrame, widt
-00022e50: 683d 2266 696c 6c22 2c20 6865 6967 6874  h="fill", height
-00022e60: 3d22 6669 6c6c 222c 2061 6c69 676e 3d22  ="fill", align="
-00022e70: 7269 6768 7422 290a 6578 7065 7269 6d65  right").experime
-00022e80: 6e74 5461 6253 7461 7469 7374 6963 616c  ntTabStatistical
-00022e90: 416e 616c 7973 6973 4f75 7470 7574 5469  AnalysisOutputTi
-00022ea0: 746c 6520 3d20 5465 7874 2865 7870 6572  tle = Text(exper
-00022eb0: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
-00022ec0: 6361 6c41 6e61 6c79 7369 734f 7574 7075  calAnalysisOutpu
-00022ed0: 7446 7261 6d65 2c20 7465 7874 3d22 5c6e  tFrame, text="\n
-00022ee0: 5c6e 5374 6174 6973 7469 6361 6c20 416e  \nStatistical An
-00022ef0: 616c 7973 6973 3a22 2c20 616c 6967 6e3d  alysis:", align=
-00022f00: 2274 6f70 222c 2066 6f6e 743d 2241 7269  "top", font="Ari
-00022f10: 616c 2062 6f6c 6422 290a 6578 7065 7269  al bold").experi
-00022f20: 6d65 6e74 5461 6253 7461 7469 7374 6963  mentTabStatistic
-00022f30: 616c 416e 616c 7973 6973 4f75 7470 7574  alAnalysisOutput
-00022f40: 5465 7874 426f 7820 3d20 5465 7874 426f  TextBox = TextBo
-00022f50: 7828 6578 7065 7269 6d65 6e74 5461 6253  x(experimentTabS
-00022f60: 7461 7469 7374 6963 616c 416e 616c 7973  tatisticalAnalys
-00022f70: 6973 4f75 7470 7574 4672 616d 652c 206d  isOutputFrame, m
-00022f80: 756c 7469 6c69 6e65 3d54 7275 652c 2077  ultiline=True, w
-00022f90: 6964 7468 3d32 302c 2068 6569 6768 743d  idth=20, height=
-00022fa0: 3138 2c20 616c 6967 6e3d 2274 6f70 2229  18, align="top")
-00022fb0: 0a65 7870 6572 696d 656e 7454 6162 5374  .experimentTabSt
-00022fc0: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
-00022fd0: 734f 7574 7075 7454 6578 7442 6f78 2e74  sOutputTextBox.t
-00022fe0: 6578 745f 7369 7a65 203d 2031 320a 0a65  ext_size = 12..e
-00022ff0: 7870 6572 696d 656e 7454 6162 426f 7474  xperimentTabBott
-00023000: 6f6d 436f 6e74 656e 7452 6f77 203d 2042  omContentRow = B
-00023010: 6f78 2865 7870 6572 696d 656e 7454 6162  ox(experimentTab
-00023020: 4672 616d 652c 2077 6964 7468 3d22 6669  Frame, width="fi
-00023030: 6c6c 222c 2068 6569 6768 743d 696e 7428  ll", height=int(
-00023040: 6170 7048 6569 6768 742a 302e 3429 2c20  appHeight*0.4), 
-00023050: 616c 6967 6e3d 2274 6f70 2229 0a65 7870  align="top").exp
-00023060: 6572 696d 656e 7454 6162 426f 7474 6f6d  erimentTabBottom
-00023070: 436f 6e74 656e 7452 6f77 2e73 6574 5f62  ContentRow.set_b
-00023080: 6f72 6465 7228 322c 2022 2339 6663 6465  order(2, "#9fcde
-00023090: 6122 290a 6578 7065 7269 6d65 6e74 5461  a").experimentTa
-000230a0: 6250 6c6f 7454 7562 6553 656c 6563 7469  bPlotTubeSelecti
-000230b0: 6f6e 4672 616d 6520 3d20 426f 7828 6578  onFrame = Box(ex
-000230c0: 7065 7269 6d65 6e74 5461 6242 6f74 746f  perimentTabBotto
-000230d0: 6d43 6f6e 7465 6e74 526f 772c 2077 6964  mContentRow, wid
-000230e0: 7468 3d69 6e74 2873 6372 6565 6e57 6964  th=int(screenWid
-000230f0: 7468 2a30 2e34 3529 2c20 6865 6967 6874  th*0.45), height
-00023100: 3d22 6669 6c6c 222c 2061 6c69 676e 3d22  ="fill", align="
-00023110: 6c65 6674 2229 0a65 7870 6572 696d 656e  left").experimen
-00023120: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
-00023130: 6374 696f 6e53 6574 4c69 7374 4672 616d  ctionSetListFram
-00023140: 6520 3d20 426f 7828 6578 7065 7269 6d65  e = Box(experime
-00023150: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00023160: 6563 7469 6f6e 4672 616d 652c 2077 6964  ectionFrame, wid
-00023170: 7468 3d31 3530 2c20 6865 6967 6874 3d22  th=150, height="
-00023180: 6669 6c6c 222c 2061 6c69 676e 3d22 6c65  fill", align="le
-00023190: 6674 2229 0a65 7870 6572 696d 656e 7454  ft").experimentT
-000231a0: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
-000231b0: 696f 6e53 6574 4c69 7374 5469 746c 6520  ionSetListTitle 
-000231c0: 3d20 5465 7874 2865 7870 6572 696d 656e  = Text(experimen
-000231d0: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
-000231e0: 6374 696f 6e53 6574 4c69 7374 4672 616d  ctionSetListFram
-000231f0: 652c 2074 6578 743d 225c 6e5c 6e50 6163  e, text="\n\nPac
-00023200: 6b73 3a22 2c20 616c 6967 6e3d 2274 6f70  ks:", align="top
-00023210: 222c 2066 6f6e 743d 2241 7269 616c 2062  ", font="Arial b
-00023220: 6f6c 6422 290a 6578 7065 7269 6d65 6e74  old").experiment
-00023230: 5461 6250 6c6f 7454 7562 6553 656c 6563  TabPlotTubeSelec
-00023240: 7469 6f6e 5365 744c 6973 7446 7261 6d65  tionSetListFrame
-00023250: 5665 7274 6963 616c 5370 6163 6572 3120  VerticalSpacer1 
-00023260: 3d20 426f 7828 6578 7065 7269 6d65 6e74  = Box(experiment
-00023270: 5461 6250 6c6f 7454 7562 6553 656c 6563  TabPlotTubeSelec
-00023280: 7469 6f6e 5365 744c 6973 7446 7261 6d65  tionSetListFrame
-00023290: 2c20 7769 6474 683d 2266 696c 6c22 2c20  , width="fill", 
-000232a0: 6865 6967 6874 3d35 2c20 616c 6967 6e3d  height=5, align=
-000232b0: 2262 6f74 746f 6d22 290a 6578 7065 7269  "bottom").experi
-000232c0: 6d65 6e74 5461 6253 6574 496d 6167 6550  mentTabSetImageP
-000232d0: 6f70 7570 4275 7474 6f6e 4672 616d 6520  opupButtonFrame 
-000232e0: 3d20 426f 7828 6578 7065 7269 6d65 6e74  = Box(experiment
-000232f0: 5461 6250 6c6f 7454 7562 6553 656c 6563  TabPlotTubeSelec
-00023300: 7469 6f6e 5365 744c 6973 7446 7261 6d65  tionSetListFrame
-00023310: 2c20 7769 6474 683d 3135 302c 2068 6569  , width=150, hei
-00023320: 6768 743d 3435 2c20 616c 6967 6e3d 2262  ght=45, align="b
-00023330: 6f74 746f 6d22 290a 6578 7065 7269 6d65  ottom").experime
-00023340: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00023350: 6563 7469 6f6e 5365 744c 6973 7446 7261  ectionSetListFra
-00023360: 6d65 5665 7274 6963 616c 5370 6163 6572  meVerticalSpacer
-00023370: 3220 3d20 426f 7828 6578 7065 7269 6d65  2 = Box(experime
-00023380: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00023390: 6563 7469 6f6e 5365 744c 6973 7446 7261  ectionSetListFra
-000233a0: 6d65 2c20 7769 6474 683d 2266 696c 6c22  me, width="fill"
-000233b0: 2c20 6865 6967 6874 3d35 2c20 616c 6967  , height=5, alig
-000233c0: 6e3d 2262 6f74 746f 6d22 290a 6578 7065  n="bottom").expe
-000233d0: 7269 6d65 6e74 5461 6253 6574 496d 6167  rimentTabSetImag
-000233e0: 6550 6f70 7570 4275 7474 6f6e 4672 616d  ePopupButtonFram
-000233f0: 6553 7061 6365 7220 3d20 426f 7828 6578  eSpacer = Box(ex
-00023400: 7065 7269 6d65 6e74 5461 6253 6574 496d  perimentTabSetIm
-00023410: 6167 6550 6f70 7570 4275 7474 6f6e 4672  agePopupButtonFr
-00023420: 616d 652c 2077 6964 7468 3d31 342c 2068  ame, width=14, h
-00023430: 6569 6768 743d 2266 696c 6c22 2c20 616c  eight="fill", al
-00023440: 6967 6e3d 2272 6967 6874 2229 0a65 7870  ign="right").exp
-00023450: 6572 696d 656e 7454 6162 5365 7449 6d61  erimentTabSetIma
-00023460: 6765 506f 7075 7042 7574 746f 6e20 3d20  gePopupButton = 
-00023470: 5075 7368 4275 7474 6f6e 2865 7870 6572  PushButton(exper
-00023480: 696d 656e 7454 6162 5365 7449 6d61 6765  imentTabSetImage
-00023490: 506f 7075 7042 7574 746f 6e46 7261 6d65  PopupButtonFrame
-000234a0: 2c20 7465 7874 3d22 4469 7370 6c61 795c  , text="Display\
-000234b0: 6e70 6163 6b20 696d 6167 6522 2c20 616c  npack image", al
-000234c0: 6967 6e3d 2272 6967 6874 222c 2077 6964  ign="right", wid
-000234d0: 7468 3d22 6669 6c6c 222c 2068 6569 6768  th="fill", heigh
-000234e0: 743d 312c 2063 6f6d 6d61 6e64 3d64 6973  t=1, command=dis
-000234f0: 706c 6179 5365 7449 6d61 6765 506f 7075  playSetImagePopu
-00023500: 7029 0a65 7870 6572 696d 656e 7454 6162  p).experimentTab
-00023510: 5365 7449 6d61 6765 506f 7075 7042 7574  SetImagePopupBut
-00023520: 746f 6e2e 7465 7874 5f73 697a 6520 3d20  ton.text_size = 
-00023530: 3133 0a65 7870 6572 696d 656e 7454 6162  13.experimentTab
-00023540: 5365 7449 6d61 6765 506f 7075 7042 7574  SetImagePopupBut
-00023550: 746f 6e2e 666f 6e74 203d 2022 4172 6961  ton.font = "Aria
-00023560: 6c20 626f 6c64 220a 6578 7065 7269 6d65  l bold".experime
-00023570: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00023580: 6563 7469 6f6e 5365 744c 6973 7420 3d20  ectionSetList = 
-00023590: 4c69 7374 426f 7828 0a20 2020 2065 7870  ListBox(.    exp
-000235a0: 6572 696d 656e 7454 6162 506c 6f74 5475  erimentTabPlotTu
-000235b0: 6265 5365 6c65 6374 696f 6e53 6574 4c69  beSelectionSetLi
-000235c0: 7374 4672 616d 652c 0a20 2020 2073 6372  stFrame,.    scr
-000235d0: 6f6c 6c62 6172 3d54 7275 652c 0a20 2020  ollbar=True,.   
-000235e0: 2077 6964 7468 3d31 3530 2c0a 2020 2020   width=150,.    
-000235f0: 6865 6967 6874 3d22 6669 6c6c 222c 0a20  height="fill",. 
-00023600: 2020 2061 6c69 676e 3d22 746f 7022 2c0a     align="top",.
-00023610: 2020 2020 636f 6d6d 616e 643d 706f 7075      command=popu
-00023620: 6c61 7465 506c 6f74 5475 6265 5365 6c65  latePlotTubeSele
-00023630: 6374 696f 6e4c 6973 7473 2c0a 290a 6578  ctionLists,.).ex
-00023640: 7065 7269 6d65 6e74 5461 6250 6c6f 7454  perimentTabPlotT
-00023650: 7562 6553 656c 6563 7469 6f6e 5475 6265  ubeSelectionTube
-00023660: 4c69 7374 4672 616d 6520 3d20 426f 7828  ListFrame = Box(
-00023670: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
-00023680: 7454 7562 6553 656c 6563 7469 6f6e 4672  tTubeSelectionFr
-00023690: 616d 652c 2077 6964 7468 3d31 3530 2c20  ame, width=150, 
-000236a0: 6865 6967 6874 3d22 6669 6c6c 222c 2061  height="fill", a
-000236b0: 6c69 676e 3d22 6c65 6674 2229 0a65 7870  lign="left").exp
-000236c0: 6572 696d 656e 7454 6162 506c 6f74 5475  erimentTabPlotTu
-000236d0: 6265 5365 6c65 6374 696f 6e54 7562 654c  beSelectionTubeL
-000236e0: 6973 7454 6974 6c65 203d 2054 6578 7428  istTitle = Text(
-000236f0: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
-00023700: 7454 7562 6553 656c 6563 7469 6f6e 5475  tTubeSelectionTu
-00023710: 6265 4c69 7374 4672 616d 652c 2074 6578  beListFrame, tex
-00023720: 743d 225c 6e5c 6e54 7562 6573 3a22 2c20  t="\n\nTubes:", 
-00023730: 616c 6967 6e3d 2274 6f70 222c 2066 6f6e  align="top", fon
-00023740: 743d 2241 7269 616c 2062 6f6c 6422 290a  t="Arial bold").
-00023750: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
-00023760: 7454 7562 6553 656c 6563 7469 6f6e 5475  tTubeSelectionTu
-00023770: 6265 4c69 7374 203d 204c 6973 7442 6f78  beList = ListBox
-00023780: 280a 2020 2020 6578 7065 7269 6d65 6e74  (.    experiment
-00023790: 5461 6250 6c6f 7454 7562 6553 656c 6563  TabPlotTubeSelec
-000237a0: 7469 6f6e 5475 6265 4c69 7374 4672 616d  tionTubeListFram
-000237b0: 652c 0a20 2020 2073 6372 6f6c 6c62 6172  e,.    scrollbar
-000237c0: 3d54 7275 652c 0a20 2020 2077 6964 7468  =True,.    width
-000237d0: 3d31 3530 2c0a 2020 2020 6865 6967 6874  =150,.    height
-000237e0: 3d22 6669 6c6c 222c 0a20 2020 2061 6c69  ="fill",.    ali
-000237f0: 676e 3d22 746f 7022 0a29 0a65 7870 6572  gn="top".).exper
-00023800: 696d 656e 7454 6162 506c 6f74 5475 6265  imentTabPlotTube
-00023810: 5365 6c65 6374 696f 6e4d 6574 686f 644c  SelectionMethodL
-00023820: 6973 7446 7261 6d65 203d 2042 6f78 2865  istFrame = Box(e
-00023830: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
-00023840: 5475 6265 5365 6c65 6374 696f 6e46 7261  TubeSelectionFra
-00023850: 6d65 2c20 7769 6474 683d 3135 302c 2068  me, width=150, h
-00023860: 6569 6768 743d 2266 696c 6c22 2c20 616c  eight="fill", al
-00023870: 6967 6e3d 226c 6566 7422 290a 6578 7065  ign="left").expe
-00023880: 7269 6d65 6e74 5461 6250 6c6f 7454 7562  rimentTabPlotTub
-00023890: 6553 656c 6563 7469 6f6e 4d65 7468 6f64  eSelectionMethod
-000238a0: 4c69 7374 5469 746c 6520 3d20 5465 7874  ListTitle = Text
-000238b0: 2865 7870 6572 696d 656e 7454 6162 506c  (experimentTabPl
-000238c0: 6f74 5475 6265 5365 6c65 6374 696f 6e4d  otTubeSelectionM
-000238d0: 6574 686f 644c 6973 7446 7261 6d65 2c20  ethodListFrame, 
-000238e0: 7465 7874 3d22 506c 6f74 5c6e 5065 7269  text="Plot\nPeri
-000238f0: 6f64 2041 6e61 6c79 7369 735c 6e4d 6574  od Analysis\nMet
-00023900: 686f 6473 3a22 2c20 616c 6967 6e3d 2274  hods:", align="t
-00023910: 6f70 222c 2066 6f6e 743d 2241 7269 616c  op", font="Arial
-00023920: 2062 6f6c 6422 290a 6578 7065 7269 6d65   bold").experime
-00023930: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00023940: 6563 7469 6f6e 4d65 7468 6f64 4c69 7374  ectionMethodList
-00023950: 203d 204c 6973 7442 6f78 280a 2020 2020   = ListBox(.    
-00023960: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
-00023970: 7454 7562 6553 656c 6563 7469 6f6e 4d65  tTubeSelectionMe
-00023980: 7468 6f64 4c69 7374 4672 616d 652c 0a20  thodListFrame,. 
-00023990: 2020 2077 6964 7468 3d31 3230 2c0a 2020     width=120,.  
-000239a0: 2020 6865 6967 6874 3d22 6669 6c6c 222c    height="fill",
-000239b0: 0a20 2020 2061 6c69 676e 3d22 746f 7022  .    align="top"
-000239c0: 2c0a 2020 2020 6974 656d 733d 5b22 536f  ,.    items=["So
-000239d0: 6b6f 6c6f 7665 2d42 7573 6865 6c6c 222c  kolove-Bushell",
-000239e0: 2022 4c6f 6d62 2d53 6361 7267 6c65 222c   "Lomb-Scargle",
-000239f0: 2022 5761 7665 6c65 7420 2843 5754 2922   "Wavelet (CWT)"
-00023a00: 5d2c 0a20 2020 2073 656c 6563 7465 643d  ],.    selected=
-00023a10: 2253 6f6b 6f6c 6f76 652d 4275 7368 656c  "Sokolove-Bushel
-00023a20: 6c22 0a29 0a65 7870 6572 696d 656e 7454  l".).experimentT
-00023a30: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
-00023a40: 696f 6e42 7574 746f 6e73 4672 616d 6520  ionButtonsFrame 
-00023a50: 3d20 426f 7828 6578 7065 7269 6d65 6e74  = Box(experiment
-00023a60: 5461 6250 6c6f 7454 7562 6553 656c 6563  TabPlotTubeSelec
-00023a70: 7469 6f6e 4672 616d 652c 2061 6c69 676e  tionFrame, align
-00023a80: 3d22 6c65 6674 2229 0a65 7870 6572 696d  ="left").experim
-00023a90: 656e 7454 6162 506c 6f74 5475 6265 5365  entTabPlotTubeSe
-00023aa0: 6c65 6374 696f 6e43 7265 6174 6550 6c6f  lectionCreatePlo
-00023ab0: 7473 4275 7474 6f6e 203d 2050 7573 6842  tsButton = PushB
-00023ac0: 7574 746f 6e28 0a20 2020 2065 7870 6572  utton(.    exper
-00023ad0: 696d 656e 7454 6162 506c 6f74 5475 6265  imentTabPlotTube
-00023ae0: 5365 6c65 6374 696f 6e42 7574 746f 6e73  SelectionButtons
-00023af0: 4672 616d 652c 200a 2020 2020 7465 7874  Frame, .    text
-00023b00: 3d22 5c6e 506c 6f74 5c6e 222c 200a 2020  ="\nPlot\n", .  
-00023b10: 2020 7061 6479 3d32 2c20 0a20 2020 2063    pady=2, .    c
-00023b20: 6f6d 6d61 6e64 3d70 6f70 756c 6174 6550  ommand=populateP
-00023b30: 6c6f 7473 2c20 0a20 2020 2077 6964 7468  lots, .    width
-00023b40: 3d22 6669 6c6c 2229 0a65 7870 6572 696d  ="fill").experim
-00023b50: 656e 7454 6162 506c 6f74 5475 6265 5365  entTabPlotTubeSe
-00023b60: 6c65 6374 696f 6e43 7265 6174 6550 6c6f  lectionCreatePlo
-00023b70: 7473 4275 7474 6f6e 2e74 6578 745f 7369  tsButton.text_si
-00023b80: 7a65 203d 2031 330a 6578 7065 7269 6d65  ze = 13.experime
-00023b90: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00023ba0: 6563 7469 6f6e 4372 6561 7465 506c 6f74  ectionCreatePlot
-00023bb0: 7342 7574 746f 6e2e 666f 6e74 203d 2022  sButton.font = "
-00023bc0: 4172 6961 6c20 626f 6c64 220a 6578 7065  Arial bold".expe
-00023bd0: 7269 6d65 6e74 5461 6250 6c6f 7454 7562  rimentTabPlotTub
-00023be0: 6553 656c 6563 7469 6f6e 5361 7665 506c  eSelectionSavePl
-00023bf0: 6f74 4275 7474 6f6e 203d 2050 7573 6842  otButton = PushB
-00023c00: 7574 746f 6e28 0a20 2020 2065 7870 6572  utton(.    exper
-00023c10: 696d 656e 7454 6162 506c 6f74 5475 6265  imentTabPlotTube
-00023c20: 5365 6c65 6374 696f 6e42 7574 746f 6e73  SelectionButtons
-00023c30: 4672 616d 652c 200a 2020 2020 7465 7874  Frame, .    text
-00023c40: 3d22 5c6e 5361 7665 2050 6c6f 7473 5c6e  ="\nSave Plots\n
-00023c50: 222c 200a 2020 2020 7061 6479 3d32 2c20  ", .    pady=2, 
-00023c60: 0a20 2020 2063 6f6d 6d61 6e64 3d73 6176  .    command=sav
-00023c70: 6550 6c6f 742c 200a 2020 2020 7769 6474  ePlot, .    widt
-00023c80: 683d 2266 696c 6c22 0a29 0a65 7870 6572  h="fill".).exper
-00023c90: 696d 656e 7454 6162 506c 6f74 5475 6265  imentTabPlotTube
-00023ca0: 5365 6c65 6374 696f 6e53 6176 6550 6c6f  SelectionSavePlo
-00023cb0: 7442 7574 746f 6e2e 7465 7874 5f73 697a  tButton.text_siz
-00023cc0: 6520 3d20 3133 0a65 7870 6572 696d 656e  e = 13.experimen
-00023cd0: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
-00023ce0: 6374 696f 6e53 6176 6550 6c6f 7442 7574  ctionSavePlotBut
-00023cf0: 746f 6e2e 666f 6e74 203d 2022 4172 6961  ton.font = "Aria
-00023d00: 6c20 626f 6c64 220a 6578 7065 7269 6d65  l bold".experime
-00023d10: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00023d20: 6563 7469 6f6e 5361 7665 4465 6e73 6974  ectionSaveDensit
-00023d30: 6f6d 6574 7279 4275 7474 6f6e 203d 2050  ometryButton = P
-00023d40: 7573 6842 7574 746f 6e28 0a20 2020 2065  ushButton(.    e
-00023d50: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
-00023d60: 5475 6265 5365 6c65 6374 696f 6e42 7574  TubeSelectionBut
-00023d70: 746f 6e73 4672 616d 652c 0a20 2020 2074  tonsFrame,.    t
-00023d80: 6578 743d 2253 6176 655c 6e44 656e 7369  ext="Save\nDensi
-00023d90: 746f 6d65 7472 795c 6e44 6174 6120 282e  tometry\nData (.
-00023da0: 6373 7629 222c 0a20 2020 2070 6164 793d  csv)",.    pady=
-00023db0: 322c 0a20 2020 2063 6f6d 6d61 6e64 3d73  2,.    command=s
-00023dc0: 6176 6544 656e 7369 746f 6d65 7472 7944  aveDensitometryD
-00023dd0: 6174 612c 0a20 2020 2077 6964 7468 3d22  ata,.    width="
-00023de0: 6669 6c6c 222c 0a29 0a65 7870 6572 696d  fill",.).experim
-00023df0: 656e 7454 6162 506c 6f74 5475 6265 5365  entTabPlotTubeSe
-00023e00: 6c65 6374 696f 6e53 6176 6544 656e 7369  lectionSaveDensi
-00023e10: 746f 6d65 7472 7942 7574 746f 6e2e 7465  tometryButton.te
-00023e20: 7874 5f73 697a 6520 3d20 3133 0a65 7870  xt_size = 13.exp
-00023e30: 6572 696d 656e 7454 6162 506c 6f74 5475  erimentTabPlotTu
-00023e40: 6265 5365 6c65 6374 696f 6e53 6176 6544  beSelectionSaveD
-00023e50: 656e 7369 746f 6d65 7472 7942 7574 746f  ensitometryButto
-00023e60: 6e2e 666f 6e74 203d 2022 4172 6961 6c20  n.font = "Arial 
-00023e70: 626f 6c64 220a 6578 7065 7269 6d65 6e74  bold".experiment
-00023e80: 5461 6250 6c6f 7454 7562 6553 656c 6563  TabPlotTubeSelec
-00023e90: 7469 6f6e 5361 7665 5065 7269 6f64 6f67  tionSavePeriodog
-00023ea0: 7261 6d44 6174 6142 7574 746f 6e20 3d20  ramDataButton = 
-00023eb0: 5075 7368 4275 7474 6f6e 280a 2020 2020  PushButton(.    
-00023ec0: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
-00023ed0: 7454 7562 6553 656c 6563 7469 6f6e 4275  tTubeSelectionBu
-00023ee0: 7474 6f6e 7346 7261 6d65 2c0a 2020 2020  ttonsFrame,.    
-00023ef0: 7465 7874 3d22 5361 7665 5c6e 5065 7269  text="Save\nPeri
-00023f00: 6f64 6f67 7261 6d5c 6e44 6174 6120 282e  odogram\nData (.
-00023f10: 6373 7629 222c 0a20 2020 2070 6164 793d  csv)",.    pady=
-00023f20: 322c 0a20 2020 2063 6f6d 6d61 6e64 3d73  2,.    command=s
-00023f30: 6176 6550 6572 696f 646f 6772 616d 4461  avePeriodogramDa
-00023f40: 7461 2c0a 2020 2020 7769 6474 683d 2266  ta,.    width="f
-00023f50: 696c 6c22 2c0a 290a 6578 7065 7269 6d65  ill",.).experime
-00023f60: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
-00023f70: 6563 7469 6f6e 5361 7665 5065 7269 6f64  ectionSavePeriod
-00023f80: 6f67 7261 6d44 6174 6142 7574 746f 6e2e  ogramDataButton.
-00023f90: 7465 7874 5f73 697a 6520 3d20 3133 0a65  text_size = 13.e
-00023fa0: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
-00023fb0: 5475 6265 5365 6c65 6374 696f 6e53 6176  TubeSelectionSav
-00023fc0: 6550 6572 696f 646f 6772 616d 4461 7461  ePeriodogramData
-00023fd0: 4275 7474 6f6e 2e66 6f6e 7420 3d20 2241  Button.font = "A
-00023fe0: 7269 616c 2062 6f6c 6422 0a65 7870 6572  rial bold".exper
-00023ff0: 696d 656e 7454 6162 506c 6f74 4672 616d  imentTabPlotFram
-00024000: 6520 3d20 426f 7828 6578 7065 7269 6d65  e = Box(experime
-00024010: 6e74 5461 6242 6f74 746f 6d43 6f6e 7465  ntTabBottomConte
-00024020: 6e74 526f 772c 2077 6964 7468 3d69 6e74  ntRow, width=int
-00024030: 2873 6372 6565 6e57 6964 7468 2a30 2e35  (screenWidth*0.5
-00024040: 292c 2068 6569 6768 743d 696e 7428 6170  ), height=int(ap
-00024050: 7048 6569 6768 742a 302e 3429 2c20 616c  pHeight*0.4), al
-00024060: 6967 6e3d 226c 6566 7422 290a 6578 7065  ign="left").expe
-00024070: 7269 6d65 6e74 5461 6250 6c6f 7443 616e  rimentTabPlotCan
-00024080: 7661 7320 3d20 4361 6e76 6173 2865 7870  vas = Canvas(exp
-00024090: 6572 696d 656e 7454 6162 506c 6f74 4672  erimentTabPlotFr
-000240a0: 616d 652e 746b 2c20 7769 6474 683d 696e  ame.tk, width=in
-000240b0: 7428 7363 7265 656e 5769 6474 682a 302e  t(screenWidth*0.
-000240c0: 3529 2c20 6865 6967 6874 3d69 6e74 2861  5), height=int(a
-000240d0: 7070 4865 6967 6874 2a30 2e34 2929 0a65  ppHeight*0.4)).e
-000240e0: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
-000240f0: 4672 616d 652e 6164 645f 746b 5f77 6964  Frame.add_tk_wid
-00024100: 6765 7428 6578 7065 7269 6d65 6e74 5461  get(experimentTa
-00024110: 6250 6c6f 7443 616e 7661 7329 0a0a 0a23  bPlotCanvas)...#
-00024120: 2069 6620 5f5f 6e61 6d65 5f5f 203d 3d20   if __name__ == 
-00024130: 225f 5f6d 6169 6e5f 5f22 3a0a 2320 2020  "__main__":.#   
-00024140: 2020 6f70 656e 416e 6452 756e 2829 2374    openAndRun()#t
-00024150: 6869 7320 6a75 7374 2072 756e 7320 7468  his just runs th
-00024160: 6520 6775 6920 7768 656e 2079 6f75 2072  e gui when you r
-00024170: 756e 2074 6865 2073 6372 6970 743b 2074  un the script; t
-00024180: 6869 7320 6973 2074 6865 2066 756e 6374  his is the funct
-00024190: 696f 6e20 746f 2072 756e 2066 726f 6d20  ion to run from 
-000241a0: 636f 6d6d 616e 6420 6c69 6e65 2077 6865  command line whe
-000241b0: 6e20 796f 7520 6861 7665 2074 6865 2066  n you have the f
-000241c0: 756c 6c20 7061 636b 6167 6520 696e 7374  ull package inst
-000241d0: 616c 6c65 64                             alled
+00000ee0: 6d69 7465 723d 223d 2229 2020 2320 4465  miter="=")  # De
+00000ef0: 6669 6e65 2063 7376 2077 7269 7465 720a  fine csv writer.
+00000f00: 2020 2020 2020 2020 666f 7220 6b65 7920          for key 
+00000f10: 696e 2061 7070 5061 7261 6d65 7465 7273  in appParameters
+00000f20: 3a20 2023 2046 6f72 2065 6163 6820 6b65  :  # For each ke
+00000f30: 7920 696e 2070 6172 616d 6574 6572 7320  y in parameters 
+00000f40: 6469 6374 696f 6e61 7279 0a20 2020 2020  dictionary.     
+00000f50: 2020 2020 2020 2077 7269 7465 722e 7772         writer.wr
+00000f60: 6974 6572 6f77 285b 6b65 792c 2061 7070  iterow([key, app
+00000f70: 5061 7261 6d65 7465 7273 5b6b 6579 5d5d  Parameters[key]]
+00000f80: 2920 2023 2057 7269 7465 2061 7320 6120  )  # Write as a 
+00000f90: 6c69 6e65 206f 6620 7061 7261 6d65 7465  line of paramete
+00000fa0: 7273 2e74 7874 0a0a 0a64 6566 206f 7065  rs.txt...def ope
+00000fb0: 6e45 7870 6572 696d 656e 7446 696c 6528  nExperimentFile(
+00000fc0: 7370 6563 6966 7946 696c 653d 4e6f 6e65  specifyFile=None
+00000fd0: 2c20 7265 6f70 656e 3d46 616c 7365 293a  , reopen=False):
+00000fe0: 0a20 2020 2022 2222 4f70 656e 2061 6e20  .    """Open an 
+00000ff0: 6578 6973 7469 6e67 2065 7870 6572 696d  existing experim
+00001000: 656e 7420 6669 6c65 2063 6f6e 7461 696e  ent file contain
+00001010: 696e 6720 6461 7461 2066 726f 6d20 7061  ing data from pa
+00001020: 7374 2069 6d61 6765 732f 7475 6265 732e  st images/tubes.
+00001030: 2050 6f70 756c 6174 6520 6170 7072 6f70   Populate approp
+00001040: 7269 6174 6520 7661 7269 6162 6c65 732c  riate variables,
+00001050: 2069 6e63 6c75 6469 6e67 2074 7562 6573   including tubes
+00001060: 4d61 7374 6572 2c20 7769 7468 2072 656c  Master, with rel
+00001070: 6576 616e 7420 696e 666f 726d 6174 696f  evant informatio
+00001080: 6e2e 2222 220a 2020 2020 676c 6f62 616c  n.""".    global
+00001090: 206f 7065 6e46 696c 650a 2020 2020 676c   openFile.    gl
+000010a0: 6f62 616c 2077 6f72 6b69 6e67 4469 720a  obal workingDir.
+000010b0: 2020 2020 676c 6f62 616c 2074 7562 6573      global tubes
+000010c0: 4d61 7374 6572 0a0a 2020 2020 6361 6e63  Master..    canc
+000010d0: 656c 496d 6167 6541 6e61 6c79 7369 7328  elImageAnalysis(
+000010e0: 2920 2023 205a 6572 6f20 6f75 7420 616e  )  # Zero out an
+000010f0: 7920 6578 6973 7469 6e67 2069 6e66 6f72  y existing infor
+00001100: 6d61 7469 6f6e 2066 726f 6d20 6120 6469  mation from a di
+00001110: 6666 6572 656e 7420 6f70 656e 2066 696c  fferent open fil
+00001120: 6520 6f72 2061 206e 6577 6c79 2061 6e61  e or a newly ana
+00001130: 6c79 7a65 6420 7261 6365 2074 7562 6520  lyzed race tube 
+00001140: 696d 6167 650a 2020 2020 7475 6265 734d  image.    tubesM
+00001150: 6173 7465 7220 3d20 5b5d 2020 2320 426c  aster = []  # Bl
+00001160: 616e 6b20 6f75 7420 676c 6f62 616c 206d  ank out global m
+00001170: 6173 7465 7220 7475 6265 206c 6973 7420  aster tube list 
+00001180: 696e 2070 7265 7061 7261 7469 6f6e 2066  in preparation f
+00001190: 6f72 2070 6f70 756c 6174 696f 6e20 6672  or population fr
+000011a0: 6f6d 206f 7065 6e65 6420 6669 6c65 0a20  om opened file. 
+000011b0: 2020 2023 456e 7375 7265 2074 6865 7265     #Ensure there
+000011c0: 2069 7320 6120 6669 6c65 2074 6f20 6f70   is a file to op
+000011d0: 656e 0a20 2020 2066 696c 6554 6f4f 7065  en.    fileToOpe
+000011e0: 6e20 3d20 2222 0a20 2020 2069 6620 7370  n = "".    if sp
+000011f0: 6563 6966 7946 696c 6520 6973 204e 6f6e  ecifyFile is Non
+00001200: 653a 0a20 2020 2020 2020 2066 696c 6554  e:.        fileT
+00001210: 6f4f 7065 6e20 3d20 6f70 656e 4669 6c65  oOpen = openFile
+00001220: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
+00001230: 2020 2066 696c 6554 6f4f 7065 6e20 3d20     fileToOpen = 
+00001240: 7370 6563 6966 7946 696c 650a 2020 2020  specifyFile.    
+00001250: 6966 2066 696c 6554 6f4f 7065 6e20 3d3d  if fileToOpen ==
+00001260: 2022 2220 6f72 2072 656f 7065 6e20 6973   "" or reopen is
+00001270: 2046 616c 7365 3a20 2023 2049 6620 6e6f   False:  # If no
+00001280: 2066 696c 6520 6973 2063 7572 7265 6e74   file is current
+00001290: 6c79 206f 7065 6e20 6f72 2069 6620 6669  ly open or if fi
+000012a0: 6c65 206e 616d 6520 6973 2073 7065 6369  le name is speci
+000012b0: 6669 6564 2062 6563 6175 7365 2069 7420  fied because it 
+000012c0: 6973 2062 6569 6e67 2072 656f 7065 6e65  is being reopene
+000012d0: 6420 6166 7465 7220 7361 7669 6e67 0a20  d after saving. 
+000012e0: 2020 2020 2020 2066 696c 6554 6f4f 7065         fileToOpe
+000012f0: 6e20 3d20 6170 702e 7365 6c65 6374 5f66  n = app.select_f
+00001300: 696c 6528 0a20 2020 2020 2020 2020 2020  ile(.           
+00001310: 2074 6974 6c65 3d22 5365 6c65 6374 2065   title="Select e
+00001320: 7870 6572 696d 656e 7420 6669 6c65 222c  xperiment file",
+00001330: 0a20 2020 2020 2020 2020 2020 2066 6f6c  .            fol
+00001340: 6465 723d 776f 726b 696e 6744 6972 2c0a  der=workingDir,.
+00001350: 2020 2020 2020 2020 2020 2020 6669 6c65              file
+00001360: 7479 7065 733d 5b5b 2252 6879 7468 6d69  types=[["Rhythmi
+00001370: 6469 6120 4578 7065 7269 6d65 6e74 222c  dia Experiment",
+00001380: 2022 2a2e 726d 6578 225d 5d2c 0a20 2020   "*.rmex"]],.   
+00001390: 2020 2020 2020 2020 2073 6176 653d 4661           save=Fa
+000013a0: 6c73 652c 0a20 2020 2020 2020 2020 2020  lse,.           
+000013b0: 2066 696c 656e 616d 653d 2222 2c0a 2020   filename="",.  
+000013c0: 2020 2020 2020 2920 2023 2050 726f 6d70        )  # Promp
+000013d0: 7420 7573 6572 2062 7920 706f 7075 7020  t user by popup 
+000013e0: 746f 2073 656c 6563 7420 6578 7065 7269  to select experi
+000013f0: 6d65 6e74 2066 696c 6520 6672 6f6d 2077  ment file from w
+00001400: 6f72 6b69 6e67 2064 6972 6563 746f 7279  orking directory
+00001410: 2061 6e64 2073 6176 6520 6e61 6d65 2061   and save name a
+00001420: 7320 6f70 656e 4669 6c65 0a20 2020 2069  s openFile.    i
+00001430: 6620 6669 6c65 546f 4f70 656e 203d 3d20  f fileToOpen == 
+00001440: 2222 3a20 2023 2049 6620 6f70 656e 4669  "":  # If openFi
+00001450: 6c65 2072 656d 6169 6e73 2062 6c61 6e6b  le remains blank
+00001460: 2061 6674 6572 2074 6869 7320 2862 6563   after this (bec
+00001470: 6175 7365 2075 7365 7220 6361 6e63 656c  ause user cancel
+00001480: 6564 2070 6f70 7570 290a 2020 2020 2020  ed popup).      
+00001490: 2020 7265 7475 726e 2020 2320 4162 6f72    return  # Abor
+000014a0: 7420 6675 6e63 7469 6f6e 0a20 2020 2065  t function.    e
+000014b0: 6c73 653a 0a20 2020 2020 2020 206f 7065  lse:.        ope
+000014c0: 6e46 696c 6520 3d20 6669 6c65 546f 4f70  nFile = fileToOp
+000014d0: 656e 0a20 2020 200a 2020 2020 7769 7468  en.    .    with
+000014e0: 206f 7065 6e28 6f70 656e 4669 6c65 2c20   open(openFile, 
+000014f0: 6e65 776c 696e 653d 2222 2920 6173 2065  newline="") as e
+00001500: 7870 6572 696d 656e 7446 696c 653a 2020  xperimentFile:  
+00001510: 2320 4f70 656e 2075 7365 722d 7370 6563  # Open user-spec
+00001520: 6966 6965 6420 7478 7420 6578 7065 7269  ified txt experi
+00001530: 6d65 6e74 2066 696c 650a 2020 2020 2020  ment file.      
+00001540: 2020 7475 6265 7349 6e46 696c 6520 3d20    tubesInFile = 
+00001550: 6373 762e 7265 6164 6572 2865 7870 6572  csv.reader(exper
+00001560: 696d 656e 7446 696c 652c 2064 656c 696d  imentFile, delim
+00001570: 6974 6572 3d22 2522 2920 2023 2044 6566  iter="%")  # Def
+00001580: 696e 6520 6373 7620 7265 6164 6572 2077  ine csv reader w
+00001590: 6974 6820 6465 6c69 6d69 7465 7220 253b  ith delimiter %;
+000015a0: 2067 656e 6572 6174 6573 2069 7465 7261   generates itera
+000015b0: 626c 6520 6f66 2061 6c6c 2072 6163 6520  ble of all race 
+000015c0: 7475 6265 2064 6174 6173 6574 7320 696e  tube datasets in
+000015d0: 2073 7065 6369 6669 6564 2065 7870 6572   specified exper
+000015e0: 696d 656e 7420 6669 6c65 0a20 2020 2020  iment file.     
+000015f0: 2020 2066 6f72 2074 7562 6520 696e 2074     for tube in t
+00001600: 7562 6573 496e 4669 6c65 3a20 2023 2046  ubesInFile:  # F
+00001610: 6f72 2065 6163 6820 6c69 6e65 206f 6620  or each line of 
+00001620: 6578 7065 7269 6d65 6e74 2066 696c 6520  experiment file 
+00001630: 2865 6163 6820 636f 6e74 6169 6e69 6e67  (each containing
+00001640: 206f 6e65 2072 6163 6520 7475 6265 2773   one race tube's
+00001650: 2064 6174 6129 0a20 2020 2020 2020 2020   data).         
+00001660: 2020 2070 6172 7365 6454 7562 6520 3d20     parsedTube = 
+00001670: 7061 7273 6554 7562 6546 726f 6d46 696c  parseTubeFromFil
+00001680: 6528 7475 6265 290a 2020 2020 2020 2020  e(tube).        
+00001690: 2020 2020 7475 6265 734d 6173 7465 722e      tubesMaster.
+000016a0: 6170 7065 6e64 2870 6172 7365 6454 7562  append(parsedTub
+000016b0: 6529 2020 2320 4164 6420 7061 7273 6564  e)  # Add parsed
+000016c0: 2072 6163 6520 7475 6265 2064 6174 6120   race tube data 
+000016d0: 6469 6374 696f 6e61 7279 2074 6f20 676c  dictionary to gl
+000016e0: 6f62 616c 206d 6173 7465 7220 6c69 7374  obal master list
+000016f0: 206f 6620 7475 6265 730a 2020 2020 706f   of tubes.    po
+00001700: 7075 6c61 7465 4578 7065 7269 6d65 6e74  pulateExperiment
+00001710: 4461 7461 5461 626c 6528 2920 2023 2050  DataTable()  # P
+00001720: 6f70 756c 6174 6520 6578 7065 7269 6d65  opulate experime
+00001730: 6e74 2064 6174 6120 7461 626c 650a 2020  nt data table.  
+00001740: 2020 706f 7075 6c61 7465 5374 6174 6973    populateStatis
+00001750: 7469 6361 6c41 6e61 6c79 7369 734c 6973  ticalAnalysisLis
+00001760: 7473 2829 2020 2320 506f 7075 6c61 7465  ts()  # Populate
+00001770: 2073 7461 7469 7374 6963 616c 2061 6e61   statistical ana
+00001780: 6c79 7369 7320 6672 616d 6520 6c69 7374  lysis frame list
+00001790: 730a 2020 2020 706f 7075 6c61 7465 506c  s.    populatePl
+000017a0: 6f74 5475 6265 5365 6c65 6374 696f 6e4c  otTubeSelectionL
+000017b0: 6973 7473 2829 2020 2320 506f 7075 6c61  ists()  # Popula
+000017c0: 7465 2070 6c6f 7420 6461 7461 2066 7261  te plot data fra
+000017d0: 6d65 206c 6973 7473 0a0a 2020 2020 7265  me lists..    re
+000017e0: 7475 726e 2074 7562 6573 4d61 7374 6572  turn tubesMaster
+000017f0: 0a0a 0a64 6566 2070 6172 7365 5475 6265  ...def parseTube
+00001800: 4672 6f6d 4669 6c65 2874 7562 6529 3a0a  FromFile(tube):.
+00001810: 2020 2020 0a20 2020 2070 6172 7365 6454      .    parsedT
+00001820: 7562 6520 3d20 7b22 7365 744e 616d 6522  ube = {"setName"
+00001830: 3a4e 6f6e 652c 2022 696d 6167 654e 616d  :None, "imageNam
+00001840: 6522 3a4e 6f6e 652c 2022 696d 6167 6544  e":None, "imageD
+00001850: 6174 6122 3a4e 6f6e 652c 2022 7475 6265  ata":None, "tube
+00001860: 4e75 6d62 6572 223a 4e6f 6e65 2c20 226d  Number":None, "m
+00001870: 6172 6b48 6f75 7273 223a 4e6f 6e65 2c20  arkHours":None, 
+00001880: 2264 656e 7369 7479 5072 6f66 696c 6522  "densityProfile"
+00001890: 3a4e 6f6e 652c 2022 6772 6f77 7468 5261  :None, "growthRa
+000018a0: 7465 223a 4e6f 6e65 2c20 2274 7562 6552  te":None, "tubeR
+000018b0: 616e 6765 223a 4e6f 6e65 2c20 2274 696d  ange":None, "tim
+000018c0: 654d 6172 6b73 223a 4e6f 6e65 2c20 2262  eMarks":None, "b
+000018d0: 616e 644d 6172 6b73 223a 4e6f 6e65 7d20  andMarks":None} 
+000018e0: 2023 2042 6c61 6e6b 2064 6963 7469 6f6e   # Blank diction
+000018f0: 6172 7920 666f 7220 7061 7273 6564 2074  ary for parsed t
+00001900: 7562 6520 636f 6e74 6169 6e69 6e67 2061  ube containing a
+00001910: 6c6c 2072 6571 7569 7369 7465 206b 6579  ll requisite key
+00001920: 730a 2020 2020 7061 7273 6564 5475 6265  s.    parsedTube
+00001930: 5b22 7365 744e 616d 6522 5d20 3d20 7374  ["setName"] = st
+00001940: 7228 7475 6265 5b30 5d29 2023 2053 6574  r(tube[0]) # Set
+00001950: 206e 616d 6520 286f 7220 7061 636b 206e   name (or pack n
+00001960: 616d 6529 2073 7472 696e 6720 6973 2066  ame) string is f
+00001970: 6972 7374 2065 6c65 6d65 6e74 206f 6620  irst element of 
+00001980: 6c69 6e65 0a20 2020 2070 6172 7365 6454  line.    parsedT
+00001990: 7562 655b 2269 6d61 6765 4e61 6d65 225d  ube["imageName"]
+000019a0: 203d 2073 7472 2874 7562 655b 315d 2920   = str(tube[1]) 
+000019b0: 2320 496d 6167 6520 6e61 6d65 2073 7472  # Image name str
+000019c0: 696e 6720 6973 2073 6563 6f6e 6420 656c  ing is second el
+000019d0: 656d 656e 7420 6f66 206c 696e 650a 2020  ement of line.  
+000019e0: 2020 696d 6167 6544 6174 6120 3d20 5b5d    imageData = []
+000019f0: 2020 2320 426c 616e 6b20 696d 6167 6520    # Blank image 
+00001a00: 6461 7461 206c 6973 743b 2065 6163 6820  data list; each 
+00001a10: 656c 656d 656e 7420 6973 2061 2072 6f77  element is a row
+00001a20: 0a20 2020 2069 6d61 6765 4461 7461 5261  .    imageDataRa
+00001a30: 7720 3d20 7475 6265 5b32 5d5b 313a 2d31  w = tube[2][1:-1
+00001a40: 5d2e 7265 706c 6163 6528 2220 222c 2022  ].replace(" ", "
+00001a50: 2229 2e73 706c 6974 2822 5d2c 5b22 2920  ").split("],[") 
+00001a60: 2023 2049 6d61 6765 2064 6174 6120 6672   # Image data fr
+00001a70: 6f6d 2066 696c 6520 6173 206c 6973 7420  om file as list 
+00001a80: 6f66 206c 6973 7473 2028 6561 6368 2073  of lists (each s
+00001a90: 7562 6c69 7374 2069 7320 6120 726f 7729  ublist is a row)
+00001aa0: 0a20 2020 2066 6f72 2072 6f77 2069 6e20  .    for row in 
+00001ab0: 696d 6167 6544 6174 6152 6177 3a20 2023  imageDataRaw:  #
+00001ac0: 2046 6f72 2065 6163 6820 726f 7720 6f66   For each row of
+00001ad0: 2069 6d61 6765 2064 6174 610a 2020 2020   image data.    
+00001ae0: 2020 2020 6461 7461 526f 7720 3d20 5b5d      dataRow = []
+00001af0: 2020 2320 426c 616e 6b20 6c69 7374 2066    # Blank list f
+00001b00: 6f72 2072 6f77 2076 616c 7565 730a 2020  or row values.  
+00001b10: 2020 2020 2020 666f 7220 7069 7865 6c20        for pixel 
+00001b20: 696e 2072 6f77 2e72 6570 6c61 6365 2822  in row.replace("
+00001b30: 2022 2c20 2222 292e 7265 706c 6163 6528   ", "").replace(
+00001b40: 225b 222c 2022 2229 2e72 6570 6c61 6365  "[", "").replace
+00001b50: 2822 5d22 2c20 2222 292e 7370 6c69 7428  ("]", "").split(
+00001b60: 222c 2229 3a20 2023 2046 6f72 2065 6163  ","):  # For eac
+00001b70: 6820 7661 6c75 6520 696e 2072 6f77 2c20  h value in row, 
+00001b80: 6578 636c 7564 696e 6720 7075 6e63 7475  excluding punctu
+00001b90: 6174 696f 6e20 616e 6420 6465 6c69 6d69  ation and delimi
+00001ba0: 7465 6420 6279 2022 2c22 0a20 2020 2020  ted by ",".     
+00001bb0: 2020 2020 2020 2069 6620 7069 7865 6c20         if pixel 
+00001bc0: 213d 2022 223a 2020 2320 4966 2076 616c  != "":  # If val
+00001bd0: 7565 2069 7320 6e6f 7420 626c 616e 6b0a  ue is not blank.
+00001be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001bf0: 6461 7461 526f 772e 6170 7065 6e64 2869  dataRow.append(i
+00001c00: 6e74 2870 6978 656c 2929 2020 2320 436f  nt(pixel))  # Co
+00001c10: 6e76 6572 7420 7661 6c75 6520 746f 2069  nvert value to i
+00001c20: 6e74 6567 6572 2061 6e64 2061 6464 2074  nteger and add t
+00001c30: 6f20 726f 7720 6461 7461 206c 6973 740a  o row data list.
+00001c40: 2020 2020 2020 2020 696d 6167 6544 6174          imageDat
+00001c50: 612e 6170 7065 6e64 2864 6174 6152 6f77  a.append(dataRow
+00001c60: 2920 2023 2041 6464 2072 6f77 2064 6174  )  # Add row dat
+00001c70: 6120 746f 2069 6d61 6765 2064 6174 6120  a to image data 
+00001c80: 6c69 7374 0a20 2020 2070 6172 7365 6454  list.    parsedT
+00001c90: 7562 655b 2269 6d61 6765 4461 7461 225d  ube["imageData"]
+00001ca0: 203d 2069 6d61 6765 4461 7461 2023 2053   = imageData # S
+00001cb0: 6574 2069 6d61 6765 2064 6174 6120 6f66  et image data of
+00001cc0: 2070 6172 7365 6420 7475 6265 2074 6f20   parsed tube to 
+00001cd0: 696d 6167 6520 6461 7461 206c 6973 7420  image data list 
+00001ce0: 0a20 2020 2070 6172 7365 6454 7562 655b  .    parsedTube[
+00001cf0: 2274 7562 654e 756d 6265 7222 5d20 3d20  "tubeNumber"] = 
+00001d00: 696e 7428 7475 6265 5b33 5d29 2023 2053  int(tube[3]) # S
+00001d10: 6574 2074 7562 6520 6e75 6d62 6572 2074  et tube number t
+00001d20: 6f20 666f 7572 7468 2065 6c65 6d65 6e74  o fourth element
+00001d30: 206f 6620 6c69 6e65 2066 726f 6d20 6669   of line from fi
+00001d40: 6c65 0a20 2020 206d 6172 6b48 6f75 7273  le.    markHours
+00001d50: 203d 2028 0a20 2020 2020 2020 2074 7562   = (.        tub
+00001d60: 655b 345d 0a20 2020 2020 2020 202e 7265  e[4].        .re
+00001d70: 706c 6163 6528 2220 222c 2022 2229 0a20  place(" ", ""). 
+00001d80: 2020 2020 2020 202e 7265 706c 6163 6528         .replace(
+00001d90: 225b 222c 2022 2229 0a20 2020 2020 2020  "[", "").       
+00001da0: 202e 7265 706c 6163 6528 225d 222c 2022   .replace("]", "
+00001db0: 2229 0a20 2020 2020 2020 202e 7370 6c69  ").        .spli
+00001dc0: 7428 222c 2229 0a20 2020 2029 2020 2320  t(",").    )  # 
+00001dd0: 5261 7720 6c69 7374 206f 6620 6d61 726b  Raw list of mark
+00001de0: 2068 6f75 7220 7661 6c75 6573 2c20 7769   hour values, wi
+00001df0: 7468 2070 756e 6374 7561 7469 6f6e 2072  th punctuation r
+00001e00: 656d 6f76 6564 2c20 6465 6c69 6d69 7465  emoved, delimite
+00001e10: 6420 6279 2022 2c22 0a20 2020 206d 6172  d by ",".    mar
+00001e20: 6b48 6f75 7273 203d 205b 666c 6f61 7428  kHours = [float(
+00001e30: 6929 2066 6f72 2069 2069 6e20 6d61 726b  i) for i in mark
+00001e40: 486f 7572 735d 0a20 2020 2023 666f 7220  Hours].    #for 
+00001e50: 696e 6465 782c 2068 6f75 7273 2069 6e20  index, hours in 
+00001e60: 656e 756d 6572 6174 6528 6d61 726b 486f  enumerate(markHo
+00001e70: 7572 7329 3a20 2023 2046 6f72 2065 6163  urs):  # For eac
+00001e80: 6820 656c 656d 656e 7420 6f66 2072 6177  h element of raw
+00001e90: 206d 6172 6b20 686f 7572 7320 6461 7461   mark hours data
+00001ea0: 0a20 2020 2020 2020 2023 6d61 726b 486f  .        #markHo
+00001eb0: 7572 735b 696e 6465 785d 203d 2066 6c6f  urs[index] = flo
+00001ec0: 6174 2868 6f75 7273 2920 2023 2043 6f6e  at(hours)  # Con
+00001ed0: 7665 7274 2076 616c 7565 2074 6f20 666c  vert value to fl
+00001ee0: 6f61 7420 6672 6f6d 2073 7472 696e 670a  oat from string.
+00001ef0: 2020 2020 7061 7273 6564 5475 6265 5b22      parsedTube["
+00001f00: 6d61 726b 486f 7572 7322 5d20 3d20 6d61  markHours"] = ma
+00001f10: 726b 486f 7572 730a 2020 2020 6465 6e73  rkHours.    dens
+00001f20: 6974 7950 726f 6669 6c65 203d 2028 0a20  ityProfile = (. 
+00001f30: 2020 2020 2020 2074 7562 655b 355d 0a20         tube[5]. 
+00001f40: 2020 2020 2020 202e 7265 706c 6163 6528         .replace(
+00001f50: 2220 222c 2022 2229 0a20 2020 2020 2020  " ", "").       
+00001f60: 202e 7265 706c 6163 6528 225b 222c 2022   .replace("[", "
+00001f70: 2229 0a20 2020 2020 2020 202e 7265 706c  ").        .repl
+00001f80: 6163 6528 225d 222c 2022 2229 0a20 2020  ace("]", "").   
+00001f90: 2020 2020 202e 7370 6c69 7428 222c 2229       .split(",")
+00001fa0: 0a20 2020 2029 2020 2320 5261 7720 6c69  .    )  # Raw li
+00001fb0: 7374 206f 6620 6465 6e73 6974 6f6d 6574  st of densitomet
+00001fc0: 7279 2076 616c 7565 730a 2020 2020 666f  ry values.    fo
+00001fd0: 7220 6e75 6d20 696e 2065 6e75 6d65 7261  r num in enumera
+00001fe0: 7465 2864 656e 7369 7479 5072 6f66 696c  te(densityProfil
+00001ff0: 6529 3a20 2023 2046 6f72 2065 6163 6820  e):  # For each 
+00002000: 656c 656d 656e 7420 6f66 2072 6177 2064  element of raw d
+00002010: 656e 7369 746f 6d65 7472 7920 6461 7461  ensitometry data
+00002020: 0a20 2020 2020 2020 2064 656e 7369 7479  .        density
+00002030: 5072 6f66 696c 655b 6e75 6d5b 305d 5d20  Profile[num[0]] 
+00002040: 3d20 666c 6f61 7428 6e75 6d5b 315d 2920  = float(num[1]) 
+00002050: 2023 2043 6f6e 7665 7274 2076 616c 7565   # Convert value
+00002060: 2074 6f20 666c 6f61 7420 6672 6f6d 2073   to float from s
+00002070: 7472 696e 670a 2020 2020 7061 7273 6564  tring.    parsed
+00002080: 5475 6265 5b22 6465 6e73 6974 7950 726f  Tube["densityPro
+00002090: 6669 6c65 225d 203d 2064 656e 7369 7479  file"] = density
+000020a0: 5072 6f66 696c 6520 2320 5365 7420 7261  Profile # Set ra
+000020b0: 6365 2074 7562 6520 6465 6e73 6974 7920  ce tube density 
+000020c0: 7072 6f66 696c 6520 746f 2070 6172 7365  profile to parse
+000020d0: 6420 6465 6e73 6974 7920 7072 6f66 696c  d density profil
+000020e0: 6520 6461 7461 0a20 2020 2070 6172 7365  e data.    parse
+000020f0: 6454 7562 655b 2267 726f 7774 6852 6174  dTube["growthRat
+00002100: 6522 5d20 3d20 7475 6265 5b36 5d20 2320  e"] = tube[6] # 
+00002110: 5365 7420 6772 6f77 7468 2072 6174 6520  Set growth rate 
+00002120: 746f 2073 6576 656e 7468 2065 6c65 6d65  to seventh eleme
+00002130: 6e74 206f 6620 6c69 6e65 0a20 2020 2074  nt of line.    t
+00002140: 7562 6542 6f75 6e64 7352 6177 203d 2028  ubeBoundsRaw = (
+00002150: 7475 6265 5b37 5d5b 313a 2d31 5d2e 7265  tube[7][1:-1].re
+00002160: 706c 6163 6528 2220 222c 2022 2229 2e73  place(" ", "").s
+00002170: 706c 6974 2822 5d2c 5b22 2929 2020 2320  plit("],["))  # 
+00002180: 5261 7720 6c69 7374 206f 6620 7475 6265  Raw list of tube
+00002190: 2062 6f75 6e64 6172 7920 646f 7562 6c65   boundary double
+000021a0: 732c 2066 726f 6d20 6569 6768 7468 2065  s, from eighth e
+000021b0: 6c65 6d65 6e74 206f 6620 6c69 6e65 2077  lement of line w
+000021c0: 6974 6820 7075 6e63 7475 6174 696f 6e20  ith punctuation 
+000021d0: 7265 6d6f 7665 642c 2064 656c 696d 6574  removed, delimet
+000021e0: 6564 2062 7920 222c 220a 2020 2020 7061  ed by ",".    pa
+000021f0: 6972 7320 3d20 5b5d 2020 2320 426c 616e  irs = []  # Blan
+00002200: 6b20 6c69 7374 2066 6f72 2074 7562 6520  k list for tube 
+00002210: 626f 756e 6461 7279 2064 6f75 626c 6573  boundary doubles
+00002220: 0a20 2020 2066 6f72 2070 6169 7252 6177  .    for pairRaw
+00002230: 2069 6e20 7475 6265 426f 756e 6473 5261   in tubeBoundsRa
+00002240: 773a 2020 2320 466f 7220 6561 6368 2064  w:  # For each d
+00002250: 6f75 626c 6520 696e 2072 6177 206c 6973  ouble in raw lis
+00002260: 7420 6f66 2074 7562 6520 626f 756e 6461  t of tube bounda
+00002270: 7279 2064 6f75 626c 6573 0a20 2020 2020  ry doubles.     
+00002280: 2020 2070 6169 7220 3d20 7061 6972 5261     pair = pairRa
+00002290: 772e 7265 706c 6163 6528 225b 222c 2022  w.replace("[", "
+000022a0: 2229 2e72 6570 6c61 6365 2822 5d22 2c20  ").replace("]", 
+000022b0: 2222 292e 7370 6c69 7428 222c 2229 2020  "").split(",")  
+000022c0: 2320 5265 6d6f 7665 2070 756e 6374 7561  # Remove punctua
+000022d0: 7469 6f6e 2061 6e64 2073 706c 6974 2061  tion and split a
+000022e0: 7420 222c 2220 696e 746f 206c 6973 740a  t "," into list.
+000022f0: 2020 2020 2020 2020 666f 7220 696e 6465          for inde
+00002300: 782c 2079 5661 6c20 696e 2065 6e75 6d65  x, yVal in enume
+00002310: 7261 7465 2870 6169 7229 3a20 2023 2046  rate(pair):  # F
+00002320: 6f72 2065 6163 6820 6e75 6d62 6572 2069  or each number i
+00002330: 6e20 626f 756e 6461 7279 2064 6f75 626c  n boundary doubl
+00002340: 650a 2020 2020 2020 2020 2020 2020 7061  e.            pa
+00002350: 6972 5b69 6e64 6578 5d20 3d20 666c 6f61  ir[index] = floa
+00002360: 7428 7956 616c 2920 2023 2043 6f6e 7665  t(yVal)  # Conve
+00002370: 7274 206e 756d 6265 7220 746f 2066 6c6f  rt number to flo
+00002380: 6174 2066 726f 6d20 7374 7269 6e67 0a20  at from string. 
+00002390: 2020 2020 2020 2070 6169 7273 2e61 7070         pairs.app
+000023a0: 656e 6428 7061 6972 2920 2023 2041 6464  end(pair)  # Add
+000023b0: 2062 6f75 6e64 6172 7920 646f 7562 6c65   boundary double
+000023c0: 2074 6f20 6c69 7374 206f 6620 7475 6265   to list of tube
+000023d0: 2062 6f75 6e64 6172 7920 646f 7562 6c65   boundary double
+000023e0: 730a 2020 2020 7061 7273 6564 5475 6265  s.    parsedTube
+000023f0: 5b22 7475 6265 5261 6e67 6522 5d20 3d20  ["tubeRange"] = 
+00002400: 7061 6972 7320 2320 4164 6420 6c69 7374  pairs # Add list
+00002410: 206f 6620 626f 756e 6461 7279 2064 6f75   of boundary dou
+00002420: 626c 6573 2074 6f20 7261 6365 2074 7562  bles to race tub
+00002430: 6520 6461 7461 2064 6963 7469 6f6e 6172  e data dictionar
+00002440: 790a 2020 2020 7469 6d65 4d61 726b 7320  y.    timeMarks 
+00002450: 3d20 280a 2020 2020 2020 2020 7475 6265  = (.        tube
+00002460: 5b38 5d0a 2020 2020 2020 2020 2e73 7472  [8].        .str
+00002470: 6970 2829 0a20 2020 2020 2020 202e 7265  ip().        .re
+00002480: 706c 6163 6528 2220 222c 2022 2229 0a20  place(" ", ""). 
+00002490: 2020 2020 2020 202e 7265 706c 6163 6528         .replace(
+000024a0: 225b 222c 2022 2229 0a20 2020 2020 2020  "[", "").       
+000024b0: 202e 7265 706c 6163 6528 225d 222c 2022   .replace("]", "
+000024c0: 2229 0a20 2020 2020 2020 202e 7370 6c69  ").        .spli
+000024d0: 7428 222c 2229 0a20 2020 2029 2020 2320  t(",").    )  # 
+000024e0: 5261 7720 6c69 7374 206f 6620 7469 6d65  Raw list of time
+000024f0: 206d 6172 6b20 7820 706f 7369 7469 6f6e   mark x position
+00002500: 7320 6672 6f6d 206e 696e 7468 2065 6c65  s from ninth ele
+00002510: 6d65 6e74 206f 6620 6c69 6e65 2c20 7769  ment of line, wi
+00002520: 7468 2070 756e 6374 7561 7469 6f6e 2072  th punctuation r
+00002530: 656d 6f76 6564 2c20 6465 6c69 6d69 7465  emoved, delimite
+00002540: 6420 6279 2022 2c22 0a20 2020 2066 6f72  d by ",".    for
+00002550: 2069 6e64 6578 2c20 7856 616c 2069 6e20   index, xVal in 
+00002560: 656e 756d 6572 6174 6528 7469 6d65 4d61  enumerate(timeMa
+00002570: 726b 7329 3a20 2023 2046 6f72 2065 6163  rks):  # For eac
+00002580: 6820 656c 656d 656e 7420 6f66 2072 6177  h element of raw
+00002590: 2074 696d 6520 6d61 726b 7320 6461 7461   time marks data
+000025a0: 0a20 2020 2020 2020 2074 696d 654d 6172  .        timeMar
+000025b0: 6b73 5b69 6e64 6578 5d20 3d20 696e 7428  ks[index] = int(
+000025c0: 7856 616c 2920 2023 2043 6f6e 7665 7274  xVal)  # Convert
+000025d0: 2076 616c 7565 2074 6f20 696e 7420 6672   value to int fr
+000025e0: 6f6d 2073 7472 696e 670a 2020 2020 7061  om string.    pa
+000025f0: 7273 6564 5475 6265 5b22 7469 6d65 4d61  rsedTube["timeMa
+00002600: 726b 7322 5d20 3d20 7469 6d65 4d61 726b  rks"] = timeMark
+00002610: 7320 2320 4164 6420 7469 6d65 206d 6172  s # Add time mar
+00002620: 6b73 2074 6f20 7261 6365 2074 7562 6520  ks to race tube 
+00002630: 6461 7461 2064 6963 7469 6f6e 6172 790a  data dictionary.
+00002640: 2020 2020 6261 6e64 4d61 726b 7320 3d20      bandMarks = 
+00002650: 280a 2020 2020 2020 2020 7475 6265 5b39  (.        tube[9
+00002660: 5d0a 2020 2020 2020 2020 2e73 7472 6970  ].        .strip
+00002670: 2829 0a20 2020 2020 2020 202e 7265 706c  ().        .repl
+00002680: 6163 6528 2220 222c 2022 2229 0a20 2020  ace(" ", "").   
+00002690: 2020 2020 202e 7265 706c 6163 6528 225b       .replace("[
+000026a0: 222c 2022 2229 0a20 2020 2020 2020 202e  ", "").        .
+000026b0: 7265 706c 6163 6528 225d 222c 2022 2229  replace("]", "")
+000026c0: 0a20 2020 2020 2020 202e 7370 6c69 7428  .        .split(
+000026d0: 222c 2229 0a20 2020 2029 2020 2320 5261  ",").    )  # Ra
+000026e0: 7720 6c69 7374 206f 6620 6261 6e64 206d  w list of band m
+000026f0: 6172 6b73 2070 6f73 6974 696f 6e73 2066  arks positions f
+00002700: 726f 6d20 7465 6e74 6820 656c 656d 656e  rom tenth elemen
+00002710: 7420 6f66 206c 696e 652c 2077 6974 6820  t of line, with 
+00002720: 7075 6e63 7475 6174 696f 6e20 7265 6d6f  punctuation remo
+00002730: 7665 642c 2064 656c 696d 6974 6564 2062  ved, delimited b
+00002740: 7920 222c 220a 2020 2020 6966 2062 616e  y ",".    if ban
+00002750: 644d 6172 6b73 203d 3d20 5b27 275d 3a0a  dMarks == ['']:.
+00002760: 2020 2020 2020 2020 6261 6e64 4d61 726b          bandMark
+00002770: 7320 3d20 5b5d 0a20 2020 2065 6c73 653a  s = [].    else:
+00002780: 0a20 2020 2020 2020 2066 6f72 2069 6e64  .        for ind
+00002790: 6578 2c20 7856 616c 2069 6e20 656e 756d  ex, xVal in enum
+000027a0: 6572 6174 6528 6261 6e64 4d61 726b 7329  erate(bandMarks)
+000027b0: 3a20 2023 2046 6f72 2065 6163 6820 656c  :  # For each el
+000027c0: 656d 656e 7420 6f66 2072 6177 2062 616e  ement of raw ban
+000027d0: 6420 6d61 726b 7320 6461 7461 0a20 2020  d marks data.   
+000027e0: 2020 2020 2020 2020 2062 616e 644d 6172           bandMar
+000027f0: 6b73 5b69 6e64 6578 5d20 3d20 696e 7428  ks[index] = int(
+00002800: 7856 616c 2920 2023 2043 6f6e 7665 7274  xVal)  # Convert
+00002810: 2076 616c 7565 2074 6f20 696e 7420 6672   value to int fr
+00002820: 6f6d 2073 7472 696e 670a 2020 2020 7061  om string.    pa
+00002830: 7273 6564 5475 6265 5b22 6261 6e64 4d61  rsedTube["bandMa
+00002840: 726b 7322 5d20 3d20 6261 6e64 4d61 726b  rks"] = bandMark
+00002850: 7320 2320 4164 6420 6261 6e64 206d 6172  s # Add band mar
+00002860: 6b73 2074 6f20 7261 6365 2074 7562 6520  ks to race tube 
+00002870: 6461 7461 2064 6963 7469 6f6e 6172 790a  data dictionary.
+00002880: 2020 2020 0a20 2020 2072 6574 7572 6e20      .    return 
+00002890: 7061 7273 6564 5475 6265 0a0a 0a64 6566  parsedTube...def
+000028a0: 2073 6176 6545 7870 6572 696d 656e 7446   saveExperimentF
+000028b0: 696c 6528 293a 0a20 2020 2022 2222 5361  ile():.    """Sa
+000028c0: 7665 2065 7870 6572 696d 656e 7420 6669  ve experiment fi
+000028d0: 6c65 2074 6f20 6578 6973 7469 6e67 2066  le to existing f
+000028e0: 696c 652c 206f 7220 7072 6f6d 7074 2075  ile, or prompt u
+000028f0: 7365 7220 746f 2073 6176 6520 6173 206e  ser to save as n
+00002900: 6577 2066 696c 6520 6966 206e 6f74 2065  ew file if not e
+00002910: 6469 7469 6e67 2065 7869 7374 696e 6720  diting existing 
+00002920: 6578 7065 7269 6d65 6e74 2066 696c 652e  experiment file.
+00002930: 2222 220a 2020 2020 676c 6f62 616c 206f  """.    global o
+00002940: 7065 6e46 696c 650a 2020 2020 676c 6f62  penFile.    glob
+00002950: 616c 2077 6f72 6b69 6e67 4469 720a 2020  al workingDir.  
+00002960: 2020 676c 6f62 616c 2074 7562 6573 4d61    global tubesMa
+00002970: 7374 6572 0a20 2020 2070 7269 6e74 2873  ster.    print(s
+00002980: 7472 286f 7065 6e46 696c 6529 290a 2020  tr(openFile)).  
+00002990: 2020 6966 206f 7065 6e46 696c 6520 3d3d    if openFile ==
+000029a0: 2022 223a 2020 2320 4966 206e 6f20 6669   "":  # If no fi
+000029b0: 6c65 2069 7320 6375 7272 656e 746c 7920  le is currently 
+000029c0: 6f70 656e 6564 2069 6e20 5268 7974 686d  opened in Rhythm
+000029d0: 6964 6961 0a20 2020 2020 2020 2073 6176  idia.        sav
+000029e0: 6545 7870 6572 696d 656e 7446 696c 6541  eExperimentFileA
+000029f0: 7328 2222 2920 2023 2050 726f 6d70 7420  s("")  # Prompt 
+00002a00: 7573 6572 2074 6f20 7361 7665 2061 7320  user to save as 
+00002a10: 6e65 7720 6669 6c65 0a20 2020 2065 6c73  new file.    els
+00002a20: 653a 2020 2320 4966 2061 2066 696c 6520  e:  # If a file 
+00002a30: 6973 2061 6c72 6561 6479 206f 7065 6e0a  is already open.
+00002a40: 2020 2020 2020 2020 7769 7468 206f 7065          with ope
+00002a50: 6e28 6f70 656e 4669 6c65 2c20 6e65 776c  n(openFile, newl
+00002a60: 696e 653d 2222 2c20 6d6f 6465 3d22 7722  ine="", mode="w"
+00002a70: 2920 6173 2065 7870 6572 696d 656e 7446  ) as experimentF
+00002a80: 696c 653a 2020 2320 4f70 656e 2063 7572  ile:  # Open cur
+00002a90: 7265 6e74 2065 7870 6572 696d 656e 7420  rent experiment 
+00002aa0: 6669 6c65 0a20 2020 2020 2020 2020 2020  file.           
+00002ab0: 2077 7269 7465 7220 3d20 6373 762e 7772   writer = csv.wr
+00002ac0: 6974 6572 2865 7870 6572 696d 656e 7446  iter(experimentF
+00002ad0: 696c 652c 2064 656c 696d 6974 6572 3d22  ile, delimiter="
+00002ae0: 2522 2920 2023 2044 6566 696e 6520 6373  %")  # Define cs
+00002af0: 7620 7772 6974 6572 2076 6172 6961 626c  v writer variabl
+00002b00: 6520 7769 7468 2025 2064 656c 696d 6974  e with % delimit
+00002b10: 6572 0a20 2020 2020 2020 2020 2020 2066  er.            f
+00002b20: 6f72 2074 7562 6520 696e 2074 7562 6573  or tube in tubes
+00002b30: 4d61 7374 6572 3a20 2023 2046 6f72 2065  Master:  # For e
+00002b40: 6163 6820 7261 6365 2074 7562 6520 6461  ach race tube da
+00002b50: 7461 2064 6963 7469 6f6e 6172 7920 696e  ta dictionary in
+00002b60: 2067 6c6f 6261 6c20 6d61 7374 6572 2074   global master t
+00002b70: 7562 6520 6c69 7374 0a20 2020 2020 2020  ube list.       
+00002b80: 2020 2020 2020 2020 2074 7562 6556 616c           tubeVal
+00002b90: 7565 734c 6973 7420 3d20 6c69 7374 2874  uesList = list(t
+00002ba0: 7562 652e 7661 6c75 6573 2829 2920 2023  ube.values())  #
+00002bb0: 2043 6f6e 7665 7274 2064 6174 6120 6469   Convert data di
+00002bc0: 6374 696f 6e61 7279 0a20 2020 2020 2020  ctionary.       
+00002bd0: 2020 2020 2020 2020 2077 7269 7465 722e           writer.
+00002be0: 7772 6974 6572 6f77 2874 7562 6556 616c  writerow(tubeVal
+00002bf0: 7565 734c 6973 7429 2020 2320 5772 6974  uesList)  # Writ
+00002c00: 6520 6e65 7720 6c69 6e65 2066 6f72 2074  e new line for t
+00002c10: 7562 6520 746f 2065 7870 6572 696d 656e  ube to experimen
+00002c20: 7420 6669 6c65 0a20 2020 2020 2020 206f  t file.        o
+00002c30: 7065 6e45 7870 6572 696d 656e 7446 696c  penExperimentFil
+00002c40: 6528 7265 6f70 656e 3d54 7275 6529 2020  e(reopen=True)  
+00002c50: 2320 4f70 656e 2063 7572 7265 6e74 2065  # Open current e
+00002c60: 7870 6572 696d 656e 7420 6167 6169 6e20  xperiment again 
+00002c70: 746f 2075 7064 6174 6520 6170 706c 6963  to update applic
+00002c80: 6174 696f 6e0a 0a0a 6465 6620 7361 7665  ation...def save
+00002c90: 4578 7065 7269 6d65 6e74 4669 6c65 4173  ExperimentFileAs
+00002ca0: 286e 616d 653d 2222 293a 0a20 2020 2022  (name=""):.    "
+00002cb0: 2222 5072 6f6d 7074 2075 7365 7220 746f  ""Prompt user to
+00002cc0: 2070 726f 7669 6465 2061 2066 696c 6520   provide a file 
+00002cd0: 6e61 6d65 2074 6f20 7361 7665 2063 7572  name to save cur
+00002ce0: 7265 6e74 2064 6174 6120 6173 2061 206e  rent data as a n
+00002cf0: 6577 2065 7870 6572 696d 656e 7420 6669  ew experiment fi
+00002d00: 6c65 2e22 2222 0a20 2020 2067 6c6f 6261  le.""".    globa
+00002d10: 6c20 6f70 656e 4669 6c65 0a20 2020 2067  l openFile.    g
+00002d20: 6c6f 6261 6c20 776f 726b 696e 6744 6972  lobal workingDir
+00002d30: 0a0a 2020 2020 6f70 656e 4669 6c65 203d  ..    openFile =
+00002d40: 2061 7070 2e73 656c 6563 745f 6669 6c65   app.select_file
+00002d50: 280a 2020 2020 2020 2020 7469 746c 653d  (.        title=
+00002d60: 2253 6176 6520 6173 2e2e 2e22 2c0a 2020  "Save as...",.  
+00002d70: 2020 2020 2020 666f 6c64 6572 3d77 6f72        folder=wor
+00002d80: 6b69 6e67 4469 722c 0a20 2020 2020 2020  kingDir,.       
+00002d90: 2066 696c 6574 7970 6573 3d5b 5b22 5268   filetypes=[["Rh
+00002da0: 7974 686d 6964 6961 2045 7870 6572 696d  ythmidia Experim
+00002db0: 656e 7422 2c20 222a 2e72 6d65 7822 5d5d  ent", "*.rmex"]]
+00002dc0: 2c0a 2020 2020 2020 2020 7361 7665 3d54  ,.        save=T
+00002dd0: 7275 652c 0a20 2020 2020 2020 2066 696c  rue,.        fil
+00002de0: 656e 616d 653d 6e61 6d65 2c0a 2020 2020  ename=name,.    
+00002df0: 2920 2023 2050 726f 6d70 7420 7573 6572  )  # Prompt user
+00002e00: 2074 6f20 6372 6561 7465 2061 206e 6577   to create a new
+00002e10: 2066 696c 6520 6e61 6d65 2077 6974 6820   file name with 
+00002e20: 6669 6c65 2073 656c 6563 7469 6f6e 2070  file selection p
+00002e30: 6f70 7570 2c20 616e 6420 7361 7665 206e  opup, and save n
+00002e40: 616d 6520 6173 206f 7065 6e46 696c 650a  ame as openFile.
+00002e50: 2020 2020 6966 206e 6f74 2028 6f70 656e      if not (open
+00002e60: 4669 6c65 203d 3d20 2222 293a 2020 2320  File == ""):  # 
+00002e70: 4966 2066 696c 6520 6e61 6d65 2069 7320  If file name is 
+00002e80: 6e6f 7420 6c65 6674 2062 6c61 6e6b 0a20  not left blank. 
+00002e90: 2020 2020 2020 2073 6176 6545 7870 6572         saveExper
+00002ea0: 696d 656e 7446 696c 6528 2920 2023 2053  imentFile()  # S
+00002eb0: 6176 6520 6578 7065 7269 6d65 6e74 2061  ave experiment a
+00002ec0: 7320 6368 6f73 656e 2066 696c 6520 6e61  s chosen file na
+00002ed0: 6d65 0a0a 0a64 6566 2073 656c 6563 7448  me...def selectH
+00002ee0: 6f6d 6554 6162 2829 3a0a 2020 2020 2222  omeTab():.    ""
+00002ef0: 2253 656c 6563 7420 686f 6d65 2074 6162  "Select home tab
+00002f00: 2e22 2222 0a0a 2020 2020 6966 2068 6f6d  ."""..    if hom
+00002f10: 6554 6162 4672 616d 652e 7669 7369 626c  eTabFrame.visibl
+00002f20: 6520 6973 2046 616c 7365 3a20 2023 2049  e is False:  # I
+00002f30: 6620 686f 6d65 2074 6162 2069 7320 6e6f  f home tab is no
+00002f40: 7420 616c 7265 6164 7920 7365 6c65 6374  t already select
+00002f50: 6564 0a20 2020 2020 2020 2065 7870 6572  ed.        exper
+00002f60: 696d 656e 7454 6162 4672 616d 652e 6869  imentTabFrame.hi
+00002f70: 6465 2829 2020 2320 4869 6465 2065 7870  de()  # Hide exp
+00002f80: 6572 696d 656e 7420 7461 620a 2020 2020  eriment tab.    
+00002f90: 2020 2020 686f 6d65 5461 6246 7261 6d65      homeTabFrame
+00002fa0: 2e73 686f 7728 2920 2023 2053 686f 7720  .show()  # Show 
+00002fb0: 686f 6d65 2074 6162 0a20 2020 2061 7070  home tab.    app
+00002fc0: 2e75 7064 6174 6528 2920 2023 2055 7064  .update()  # Upd
+00002fd0: 6174 6520 6170 7020 6f62 6a65 6374 0a20  ate app object. 
+00002fe0: 2020 2068 6f6d 6554 6162 4672 616d 652e     homeTabFrame.
+00002ff0: 666f 6375 7328 2920 2023 2046 6f63 7573  focus()  # Focus
+00003000: 206e 6577 2066 7261 6d65 0a20 2020 2068   new frame.    h
+00003010: 6f6d 6554 6162 2e66 6f63 7573 2829 0a0a  omeTab.focus()..
+00003020: 0a64 6566 2073 656c 6563 7445 7870 6572  .def selectExper
+00003030: 5461 6228 293a 0a20 2020 2022 2222 5365  Tab():.    """Se
+00003040: 6c65 6374 2065 7870 6572 696d 656e 7420  lect experiment 
+00003050: 7461 622e 2222 220a 0a20 2020 2069 6620  tab."""..    if 
+00003060: 6578 7065 7269 6d65 6e74 5461 6246 7261  experimentTabFra
+00003070: 6d65 2e76 6973 6962 6c65 2069 7320 4661  me.visible is Fa
+00003080: 6c73 653a 2020 2320 4966 2065 7870 6572  lse:  # If exper
+00003090: 696d 656e 7420 7461 6220 6e6f 7420 616c  iment tab not al
+000030a0: 7265 6164 7920 7365 6c65 6374 6564 0a20  ready selected. 
+000030b0: 2020 2020 2020 2068 6f6d 6554 6162 4672         homeTabFr
+000030c0: 616d 652e 6869 6465 2829 2020 2320 4869  ame.hide()  # Hi
+000030d0: 6465 2068 6f6d 6520 7461 620a 2020 2020  de home tab.    
+000030e0: 2020 2020 6578 7065 7269 6d65 6e74 5461      experimentTa
+000030f0: 6246 7261 6d65 2e73 686f 7728 2920 2023  bFrame.show()  #
+00003100: 2053 686f 7720 6578 7065 7269 6d65 6e74   Show experiment
+00003110: 2074 6162 0a20 2020 2061 7070 2e75 7064   tab.    app.upd
+00003120: 6174 6528 2920 2023 2055 7064 6174 6520  ate()  # Update 
+00003130: 6170 7020 6f62 6a65 6374 0a20 2020 2065  app object.    e
+00003140: 7870 6572 696d 656e 7454 6162 4672 616d  xperimentTabFram
+00003150: 652e 666f 6375 7328 2920 2023 2046 6f63  e.focus()  # Foc
+00003160: 7573 206e 6577 2066 7261 6d65 0a20 2020  us new frame.   
+00003170: 2065 7870 6572 696d 656e 7454 6162 2e66   experimentTab.f
+00003180: 6f63 7573 2829 0a0a 0a64 6566 2075 706c  ocus()...def upl
+00003190: 6f61 6452 6163 6554 7562 6549 6d61 6765  oadRaceTubeImage
+000031a0: 2829 3a0a 2020 2020 2222 2250 726f 6d70  ():.    """Promp
+000031b0: 7420 7573 6572 2074 6f20 7570 6c6f 6164  t user to upload
+000031c0: 2061 206e 6577 2072 6163 6520 7475 6265   a new race tube
+000031d0: 2069 6d61 6765 2c20 616e 6420 6469 7370   image, and disp
+000031e0: 6c61 7920 6974 2069 6e20 7468 6520 696d  lay it in the im
+000031f0: 6167 6520 6672 616d 652e 2222 220a 2020  age frame.""".  
+00003200: 2020 676c 6f62 616c 2072 6177 496d 6167    global rawImag
+00003210: 650a 2020 2020 676c 6f62 616c 2069 6d61  e.    global ima
+00003220: 6765 4e61 6d65 0a20 2020 2067 6c6f 6261  geName.    globa
+00003230: 6c20 726f 7461 7465 4465 670a 2020 2020  l rotateDeg.    
+00003240: 676c 6f62 616c 2061 6e61 6c53 7461 7465  global analState
+00003250: 0a0a 2020 2020 2320 5365 7420 7661 7269  ..    # Set vari
+00003260: 6162 6c65 7320 746f 2069 6e69 7469 616c  ables to initial
+00003270: 2076 616c 7565 730a 2020 2020 616e 616c   values.    anal
+00003280: 5374 6174 6520 3d20 3020 2023 2053 6574  State = 0  # Set
+00003290: 2061 6e61 6c79 7369 7320 7374 6174 6520   analysis state 
+000032a0: 746f 2030 0a20 2020 2072 6f74 6174 6544  to 0.    rotateD
+000032b0: 6567 203d 2030 2020 2320 5365 7420 6465  eg = 0  # Set de
+000032c0: 6772 6565 206f 6620 696d 6167 6520 726f  gree of image ro
+000032d0: 7461 7469 6f6e 2074 6f20 300a 2020 2020  tation to 0.    
+000032e0: 2320 4765 7420 696d 6167 6520 6672 6f6d  # Get image from
+000032f0: 2075 7365 720a 2020 2020 696d 6167 654e   user.    imageN
+00003300: 616d 6520 3d20 6170 702e 7365 6c65 6374  ame = app.select
+00003310: 5f66 696c 6528 0a20 2020 2020 2020 2074  _file(.        t
+00003320: 6974 6c65 3d22 5365 6c65 6374 2072 6163  itle="Select rac
+00003330: 6520 7475 6265 2069 6d61 6765 222c 0a20  e tube image",. 
+00003340: 2020 2020 2020 2066 6f6c 6465 723d 776f         folder=wo
+00003350: 726b 696e 6744 6972 2c0a 2020 2020 2020  rkingDir,.      
+00003360: 2020 6669 6c65 7479 7065 733d 5b5b 2254    filetypes=[["T
+00003370: 4946 4622 2c20 222a 2e74 6966 225d 2c20  IFF", "*.tif"], 
+00003380: 5b22 5449 4646 222c 2022 2a2e 7469 6666  ["TIFF", "*.tiff
+00003390: 225d 2c20 5b22 504e 4722 2c20 222a 2e70  "], ["PNG", "*.p
+000033a0: 6e67 225d 2c20 5b22 4a50 4722 2c20 222a  ng"], ["JPG", "*
+000033b0: 2e6a 7067 225d 2c20 5b22 4a50 4547 222c  .jpg"], ["JPEG",
+000033c0: 2022 2a2e 6a70 6567 225d 2c20 5b22 5356   "*.jpeg"], ["SV
+000033d0: 4722 2c20 222a 2e73 7667 225d 5d2c 0a20  G", "*.svg"]],. 
+000033e0: 2020 2020 2020 2073 6176 653d 4661 6c73         save=Fals
+000033f0: 652c 0a20 2020 2020 2020 2066 696c 656e  e,.        filen
+00003400: 616d 653d 2222 2c0a 2020 2020 2920 2023  ame="",.    )  #
+00003410: 2050 726f 6d70 7420 7573 6572 2074 6f20   Prompt user to 
+00003420: 7365 6c65 6374 2061 202e 7469 6620 696d  select a .tif im
+00003430: 6167 6520 696e 2074 6865 2077 6f72 6b69  age in the worki
+00003440: 6e67 2064 6972 6563 746f 7279 2074 6f20  ng directory to 
+00003450: 616e 616c 797a 652c 2061 6e64 2073 6574  analyze, and set
+00003460: 2066 696c 6520 6e61 6d65 2061 7320 696d   file name as im
+00003470: 6167 654e 616d 650a 2020 2020 2320 466f  ageName.    # Fo
+00003480: 726d 6174 2069 6d61 6765 0a20 2020 2072  rmat image.    r
+00003490: 6177 496d 6167 6520 3d20 496d 6167 652e  awImage = Image.
+000034a0: 6f70 656e 2869 6d61 6765 4e61 6d65 292e  open(imageName).
+000034b0: 7265 7369 7a65 2828 3131 3630 2c20 3430  resize((1160, 40
+000034c0: 3029 2920 2023 204f 7065 6e20 7261 7720  0))  # Open raw 
+000034d0: 696d 6167 6520 6669 6c65 2061 7320 3131  image file as 11
+000034e0: 3630 7834 3030 7078 2069 6d61 6765 206f  60x400px image o
+000034f0: 626a 6563 7420 2352 4947 4854 4845 5245  bject #RIGHTHERE
+00003500: 0a20 2020 2072 6967 6874 496d 6167 6520  .    rightImage 
+00003510: 3d20 7261 7749 6d61 6765 2020 2320 5365  = rawImage  # Se
+00003520: 7420 696e 7465 726d 6564 6961 7465 2069  t intermediate i
+00003530: 6d61 6765 2074 6f20 7261 7720 696d 6167  mage to raw imag
+00003540: 650a 2020 2020 2320 4469 7370 6c61 7920  e.    # Display 
+00003550: 696d 6167 6520 616e 6420 7265 6164 7920  image and ready 
+00003560: 6170 7020 666f 7220 616e 616c 7973 6973  app for analysis
+00003570: 0a20 2020 2064 6973 706c 6179 5261 6365  .    displayRace
+00003580: 5475 6265 496d 6167 6528 7269 6768 7449  TubeImage(rightI
+00003590: 6d61 6765 2920 2023 2044 6973 706c 6179  mage)  # Display
+000035a0: 2072 6163 6520 7475 6265 2069 6d61 6765   race tube image
+000035b0: 0a20 2020 206c 6f63 6b41 6e64 416e 616c  .    lockAndAnal
+000035c0: 797a 6542 7574 746f 6e2e 656e 6162 6c65  yzeButton.enable
+000035d0: 2829 2020 2320 456e 6162 6c65 2062 7574  ()  # Enable but
+000035e0: 746f 6e20 746f 206c 6f63 6b20 696d 6167  ton to lock imag
+000035f0: 6520 616e 6420 616e 616c 797a 650a 2020  e and analyze.  
+00003600: 2020 726f 7461 7465 5261 6365 5475 6265    rotateRaceTube
+00003610: 496d 6167 6542 7574 746f 6e2e 656e 6162  ImageButton.enab
+00003620: 6c65 2829 2020 2320 456e 6162 6c65 2062  le()  # Enable b
+00003630: 7574 746f 6e20 746f 2072 6f74 6174 6520  utton to rotate 
+00003640: 696d 6167 6520 3930 2064 6567 7265 6573  image 90 degrees
+00003650: 0a20 2020 2072 6573 6574 5261 6365 5475  .    resetRaceTu
+00003660: 6265 496d 6167 6541 6e61 6c79 7369 7342  beImageAnalysisB
+00003670: 7574 746f 6e2e 656e 6162 6c65 2829 2020  utton.enable()  
+00003680: 2320 456e 6162 6c65 2062 7574 746f 6e20  # Enable button 
+00003690: 746f 2072 6573 6574 2061 6e61 6c79 7369  to reset analysi
+000036a0: 730a 0a0a 6465 6620 726f 7461 7465 5261  s...def rotateRa
+000036b0: 6365 5475 6265 496d 6167 6528 293a 0a20  ceTubeImage():. 
+000036c0: 2020 2022 2222 526f 7461 7465 2063 7572     """Rotate cur
+000036d0: 7265 6e74 2069 6d61 6765 2039 3020 6465  rent image 90 de
+000036e0: 6772 6565 7320 636c 6f63 6b77 6973 652e  grees clockwise.
+000036f0: 2222 220a 2020 2020 676c 6f62 616c 2072  """.    global r
+00003700: 6177 496d 6167 650a 2020 2020 676c 6f62  awImage.    glob
+00003710: 616c 2072 6f74 6174 6544 6567 0a0a 2020  al rotateDeg..  
+00003720: 2020 726f 7461 7465 4465 6720 2b3d 2039    rotateDeg += 9
+00003730: 3020 2023 2049 6e63 7265 6d65 6e74 2072  0  # Increment r
+00003740: 6f74 6174 696f 6e20 616e 676c 6520 6279  otation angle by
+00003750: 2039 3020 6465 6772 6565 7320 636c 6f63   90 degrees cloc
+00003760: 6b77 6973 650a 2020 2020 7269 6768 7449  kwise.    rightI
+00003770: 6d61 6765 203d 2072 6177 496d 6167 652e  mage = rawImage.
+00003780: 726f 7461 7465 2872 6f74 6174 6544 6567  rotate(rotateDeg
+00003790: 2c20 6578 7061 6e64 3d31 292e 7265 7369  , expand=1).resi
+000037a0: 7a65 2828 3131 3630 2c20 3430 3029 2920  ze((1160, 400)) 
+000037b0: 2023 2053 6574 2069 6e74 6572 6d65 6469   # Set intermedi
+000037c0: 6174 6520 696d 6167 6520 746f 2072 6177  ate image to raw
+000037d0: 2069 6d61 6765 2072 6f74 6174 6564 2062   image rotated b
+000037e0: 7920 726f 7461 7465 4465 6720 6465 6772  y rotateDeg degr
+000037f0: 6565 7320 636c 6f63 6b77 6973 6520 2352  ees clockwise #R
+00003800: 4947 4854 4845 5245 0a20 2020 2064 6973  IGHTHERE.    dis
+00003810: 706c 6179 5261 6365 5475 6265 496d 6167  playRaceTubeImag
+00003820: 6528 7269 6768 7449 6d61 6765 2920 2023  e(rightImage)  #
+00003830: 2044 6973 706c 6179 2072 6163 6520 7475   Display race tu
+00003840: 6265 2069 6d61 6765 0a0a 0a64 6566 2064  be image...def d
+00003850: 6973 706c 6179 5261 6365 5475 6265 496d  isplayRaceTubeIm
+00003860: 6167 6528 696d 6167 6529 3a0a 2020 2020  age(image):.    
+00003870: 2222 2244 6973 706c 6179 2072 6163 6520  """Display race 
+00003880: 7475 6265 2069 6d61 6765 2e22 2222 0a0a  tube image."""..
+00003890: 2020 2020 686f 6d65 5461 6252 6163 6554      homeTabRaceT
+000038a0: 7562 6549 6d61 6765 4f62 6a65 6374 2e63  ubeImageObject.c
+000038b0: 6c65 6172 2829 2020 2320 436c 6561 7220  lear()  # Clear 
+000038c0: 696d 6167 6520 6672 616d 650a 2020 2020  image frame.    
+000038d0: 686f 6d65 5461 6252 6163 6554 7562 6549  homeTabRaceTubeI
+000038e0: 6d61 6765 4f62 6a65 6374 2e69 6d61 6765  mageObject.image
+000038f0: 2830 2c20 302c 2069 6d61 6765 2920 2023  (0, 0, image)  #
+00003900: 2044 6973 706c 6179 2069 6e74 6572 6d65   Display interme
+00003910: 6469 6174 6520 696d 6167 6520 696e 2069  diate image in i
+00003920: 6d61 6765 2066 7261 6d65 0a0a 0a64 6566  mage frame...def
+00003930: 206c 6f63 6b41 6e64 416e 616c 797a 6552   lockAndAnalyzeR
+00003940: 6163 6554 7562 6549 6d61 6765 2829 3a0a  aceTubeImage():.
+00003950: 2020 2020 2222 224c 6f63 6b20 696d 6167      """Lock imag
+00003960: 6520 696e 2063 7572 7265 6e74 2072 6f74  e in current rot
+00003970: 6174 696f 6e20 616e 6420 6265 6769 6e20  ation and begin 
+00003980: 616e 616c 7973 6973 2070 726f 6d70 7473  analysis prompts
+00003990: 2e22 2222 0a20 2020 2067 6c6f 6261 6c20  .""".    global 
+000039a0: 726f 7461 7465 4465 670a 2020 2020 676c  rotateDeg.    gl
+000039b0: 6f62 616c 2072 6177 496d 6167 650a 2020  obal rawImage.  
+000039c0: 2020 676c 6f62 616c 2066 696e 616c 496d    global finalIm
+000039d0: 6167 650a 2020 2020 676c 6f62 616c 2074  age.    global t
+000039e0: 7562 654c 656e 6774 680a 0a20 2020 2023  ubeLength..    #
+000039f0: 204c 6f63 6b20 6170 7020 696e 746f 2061   Lock app into a
+00003a00: 6e61 6c79 7369 7320 6f66 2063 7572 7265  nalysis of curre
+00003a10: 6e74 2069 6d61 6765 0a20 2020 2075 706c  nt image.    upl
+00003a20: 6f61 6452 6163 6554 7562 6549 6d61 6765  oadRaceTubeImage
+00003a30: 4275 7474 6f6e 2e64 6973 6162 6c65 2829  Button.disable()
+00003a40: 2020 2320 4469 7361 626c 6520 7570 6c6f    # Disable uplo
+00003a50: 6164 2069 6d61 6765 2062 7574 746f 6e0a  ad image button.
+00003a60: 2020 2020 726f 7461 7465 5261 6365 5475      rotateRaceTu
+00003a70: 6265 496d 6167 6542 7574 746f 6e2e 6469  beImageButton.di
+00003a80: 7361 626c 6528 2920 2023 2044 6973 6162  sable()  # Disab
+00003a90: 6c65 2072 6f74 6174 6520 696d 6167 6520  le rotate image 
+00003aa0: 6275 7474 6f6e 0a20 2020 2072 6163 6554  button.    raceT
+00003ab0: 7562 654c 656e 6774 6854 6578 7442 6f78  ubeLengthTextBox
+00003ac0: 2e64 6973 6162 6c65 2829 2020 2320 4469  .disable()  # Di
+00003ad0: 7361 626c 6520 7475 6265 206c 656e 6774  sable tube lengt
+00003ae0: 6820 696e 7075 740a 2020 2020 6c6f 636b  h input.    lock
+00003af0: 416e 6441 6e61 6c79 7a65 4275 7474 6f6e  AndAnalyzeButton
+00003b00: 2e64 6973 6162 6c65 2829 2020 2320 4469  .disable()  # Di
+00003b10: 7361 626c 6520 6c6f 636b 2061 6e64 2061  sable lock and a
+00003b20: 6e61 6c79 7a65 2062 7574 746f 6e0a 2020  nalyze button.  
+00003b30: 2020 7072 6f63 6565 6442 7574 746f 6e2e    proceedButton.
+00003b40: 656e 6162 6c65 2829 2020 2320 456e 6162  enable()  # Enab
+00003b50: 6c65 2070 726f 6365 6564 2062 7574 746f  le proceed butto
+00003b60: 6e0a 2020 2020 2320 496e 6974 6961 7465  n.    # Initiate
+00003b70: 2061 6e61 6c79 7369 7320 6f66 2063 7572   analysis of cur
+00003b80: 7265 6e74 2069 6d61 6765 0a20 2020 2066  rent image.    f
+00003b90: 696e 616c 4465 6720 3d20 3930 202a 2028  inalDeg = 90 * (
+00003ba0: 2872 6f74 6174 6544 6567 202f 2039 3029  (rotateDeg / 90)
+00003bb0: 2025 2034 2920 2023 2053 6574 2066 696e   % 4)  # Set fin
+00003bc0: 616c 2072 6f74 6174 696f 6e20 616e 676c  al rotation angl
+00003bd0: 6520 746f 2073 696d 706c 6966 6965 6420  e to simplified 
+00003be0: 726f 7461 7469 6f6e 2061 6e67 6c65 0a20  rotation angle. 
+00003bf0: 2020 2066 696e 616c 496d 6167 6520 3d20     finalImage = 
+00003c00: 7261 7749 6d61 6765 2e72 6f74 6174 6528  rawImage.rotate(
+00003c10: 6669 6e61 6c44 6567 2c20 6578 7061 6e64  finalDeg, expand
+00003c20: 3d31 292e 7265 7369 7a65 2828 3131 3630  =1).resize((1160
+00003c30: 2c20 3430 3029 2920 2023 2053 6574 2066  , 400))  # Set f
+00003c40: 696e 616c 2069 6d61 6765 2074 6f20 7261  inal image to ra
+00003c50: 7720 696d 6167 6520 726f 7461 7465 6420  w image rotated 
+00003c60: 6279 2066 696e 616c 2072 6f74 6174 696f  by final rotatio
+00003c70: 6e20 616e 676c 6520 2352 4947 4854 4845  n angle #RIGHTHE
+00003c80: 5245 0a20 2020 2074 7562 654c 656e 6774  RE.    tubeLengt
+00003c90: 6820 3d20 7261 6365 5475 6265 4c65 6e67  h = raceTubeLeng
+00003ca0: 7468 5465 7874 426f 782e 7661 6c75 6520  thTextBox.value 
+00003cb0: 2023 2053 6574 2074 7562 6520 6c65 6e67   # Set tube leng
+00003cc0: 7468 2074 6f20 7661 6c75 6520 696e 2069  th to value in i
+00003cd0: 6e70 7574 2062 6f78 0a20 2020 2067 6574  nput box.    get
+00003ce0: 5469 6d65 4d61 726b 5461 626c 6544 6174  TimeMarkTableDat
+00003cf0: 6128 2920 2023 2053 6176 6520 7475 6265  a()  # Save tube
+00003d00: 206d 6172 6b20 7469 6d65 2076 616c 7565   mark time value
+00003d10: 7320 746f 2076 6172 6961 626c 650a 2020  s to variable.  
+00003d20: 2020 6964 656e 7469 6679 486f 7269 7a6f    identifyHorizo
+00003d30: 6e74 616c 4c69 6e65 7328 2920 2023 2042  ntalLines()  # B
+00003d40: 6567 696e 2074 7562 6520 626f 756e 6461  egin tube bounda
+00003d50: 7279 2061 6e61 6c79 7369 730a 0a0a 6465  ry analysis...de
+00003d60: 6620 6361 6e63 656c 496d 6167 6541 6e61  f cancelImageAna
+00003d70: 6c79 7369 7328 293a 0a20 2020 2022 2222  lysis():.    """
+00003d80: 4361 6e63 656c 2063 7572 7265 6e74 2072  Cancel current r
+00003d90: 6163 6520 7475 6265 2069 6d61 6765 2062  ace tube image b
+00003da0: 6569 6e67 2061 6e61 6c79 7a65 6420 616e  eing analyzed an
+00003db0: 6420 7a65 726f 206f 7574 2061 6c6c 2072  d zero out all r
+00003dc0: 656c 6576 616e 7420 676c 6f62 616c 2076  elevant global v
+00003dd0: 6172 6961 626c 6573 2e22 2222 0a20 2020  ariables.""".   
+00003de0: 2067 6c6f 6261 6c20 616e 616c 5374 6174   global analStat
+00003df0: 650a 2020 2020 676c 6f62 616c 2072 6177  e.    global raw
+00003e00: 496d 6167 650a 2020 2020 676c 6f62 616c  Image.    global
+00003e10: 2069 6d61 6765 4e61 6d65 0a20 2020 2067   imageName.    g
+00003e20: 6c6f 6261 6c20 7269 6768 7449 6d61 6765  lobal rightImage
+00003e30: 0a20 2020 2067 6c6f 6261 6c20 6669 6e61  .    global fina
+00003e40: 6c49 6d61 6765 0a20 2020 2067 6c6f 6261  lImage.    globa
+00003e50: 6c20 7072 656c 696d 436f 6e74 656e 7473  l prelimContents
+00003e60: 0a20 2020 2067 6c6f 6261 6c20 7475 6265  .    global tube
+00003e70: 4c65 6e67 7468 0a20 2020 2067 6c6f 6261  Length.    globa
+00003e80: 6c20 7475 6265 426f 756e 6473 0a20 2020  l tubeBounds.   
+00003e90: 2067 6c6f 6261 6c20 6d65 616e 5475 6265   global meanTube
+00003ea0: 5769 6474 680a 2020 2020 676c 6f62 616c  Width.    global
+00003eb0: 206d 6561 6e54 7562 6553 6c6f 7065 0a20   meanTubeSlope. 
+00003ec0: 2020 2067 6c6f 6261 6c20 686f 7269 7a6f     global horizo
+00003ed0: 6e74 616c 4c69 6e65 730a 2020 2020 676c  ntalLines.    gl
+00003ee0: 6f62 616c 2074 696d 654d 6172 6b4c 696e  obal timeMarkLin
+00003ef0: 6573 0a20 2020 2067 6c6f 6261 6c20 6261  es.    global ba
+00003f00: 6e64 4c69 6e65 730a 2020 2020 676c 6f62  ndLines.    glob
+00003f10: 616c 2064 656e 7369 7479 5072 6f66 696c  al densityProfil
+00003f20: 6573 0a0a 2020 2020 616e 616c 5374 6174  es..    analStat
+00003f30: 6520 3d20 2d31 2020 2320 5365 7420 616e  e = -1  # Set an
+00003f40: 616c 7973 6973 2073 7461 7465 2074 6f20  alysis state to 
+00003f50: 2d31 0a20 2020 2068 6f6d 6554 6162 5261  -1.    homeTabRa
+00003f60: 6365 5475 6265 496d 6167 654f 626a 6563  ceTubeImageObjec
+00003f70: 742e 636c 6561 7228 2920 2023 2043 6c65  t.clear()  # Cle
+00003f80: 6172 2069 6d61 6765 2066 7261 6d65 0a20  ar image frame. 
+00003f90: 2020 2072 6177 496d 6167 652c 2072 6967     rawImage, rig
+00003fa0: 6874 496d 6167 652c 2066 696e 616c 496d  htImage, finalIm
+00003fb0: 6167 6520 3d20 4e6f 6e65 2c20 4e6f 6e65  age = None, None
+00003fc0: 2c20 4e6f 6e65 2020 2320 5a65 726f 206f  , None  # Zero o
+00003fd0: 7574 2069 6d61 6765 2076 6172 6961 626c  ut image variabl
+00003fe0: 6573 0a20 2020 2069 6d61 6765 4e61 6d65  es.    imageName
+00003ff0: 203d 2022 2220 2023 205a 6572 6f20 6f75   = ""  # Zero ou
+00004000: 7420 6375 7272 656e 7420 696d 6167 6520  t current image 
+00004010: 6e61 6d65 0a20 2020 2070 7265 6c69 6d43  name.    prelimC
+00004020: 6f6e 7465 6e74 7320 3d20 5b5b 2250 7265  ontents = [["Pre
+00004030: 6c69 6d69 6e61 7279 2050 6572 696f 6420  liminary Period 
+00004040: 4461 7461 222c 2022 222c 2022 225d 2c20  Data", "", ""], 
+00004050: 5b22 5475 6265 222c 2022 2320 4d61 726b  ["Tube", "# Mark
+00004060: 7322 2c20 2241 7665 7261 6765 204c 696e  s", "Average Lin
+00004070: 6561 7220 5265 6772 6573 7369 6f6e 2050  ear Regression P
+00004080: 6572 696f 6420 2868 7273 2922 5d5d 2020  eriod (hrs)"]]  
+00004090: 2320 5265 7365 7420 7072 656c 696d 696e  # Reset prelimin
+000040a0: 6172 7920 6461 7461 2063 6f6e 7465 6e74  ary data content
+000040b0: 7320 746f 2068 6561 6465 7273 0a20 2020  s to headers.   
+000040c0: 2023 7072 656c 696d 4368 696c 6472 656e   #prelimChildren
+000040d0: 203d 2068 6f6d 6554 6162 5072 656c 696d   = homeTabPrelim
+000040e0: 696e 6172 7944 6174 6141 6e61 6c79 7369  inaryDataAnalysi
+000040f0: 7346 7261 6d65 2e63 6869 6c64 7265 6e0a  sFrame.children.
+00004100: 2020 2020 2366 6f72 2063 6869 6c64 2069      #for child i
+00004110: 6e20 7072 656c 696d 4368 696c 6472 656e  n prelimChildren
+00004120: 0a20 2020 2068 6f6d 6554 6162 5072 656c  .    homeTabPrel
+00004130: 696d 696e 6172 7944 6174 6141 6e61 6c79  iminaryDataAnaly
+00004140: 7369 7354 6578 7442 6f78 2e76 616c 7565  sisTextBox.value
+00004150: 203d 2022 2220 2023 205a 6572 6f20 6f75   = ""  # Zero ou
+00004160: 7420 7072 656c 696d 696e 6172 7920 6461  t preliminary da
+00004170: 7461 2074 6578 7420 626f 780a 2020 2020  ta text box.    
+00004180: 7475 6265 4c65 6e67 7468 203d 2022 2220  tubeLength = "" 
+00004190: 2023 205a 6572 6f20 6f75 7420 7475 6265   # Zero out tube
+000041a0: 206c 656e 6774 680a 2020 2020 7475 6265   length.    tube
+000041b0: 426f 756e 6473 203d 205b 5d20 2023 205a  Bounds = []  # Z
+000041c0: 6572 6f20 6f75 7420 7475 6265 2062 6f75  ero out tube bou
+000041d0: 6e64 6172 6965 7320 6c69 7374 0a20 2020  ndaries list.   
+000041e0: 206d 6561 6e54 7562 6557 6964 7468 203d   meanTubeWidth =
+000041f0: 202d 3120 2023 205a 6572 6f20 6f75 7420   -1  # Zero out 
+00004200: 6d65 616e 2074 7562 6520 7769 6474 680a  mean tube width.
+00004210: 2020 2020 6d65 616e 5475 6265 536c 6f70      meanTubeSlop
+00004220: 6520 3d20 4e6f 6e65 2020 2320 5a65 726f  e = None  # Zero
+00004230: 206f 7574 206d 6561 6e20 686f 7269 7a6f   out mean horizo
+00004240: 6e74 616c 2073 6c6f 7065 0a20 2020 2068  ntal slope.    h
+00004250: 6f72 697a 6f6e 7461 6c4c 696e 6573 2c20  orizontalLines, 
+00004260: 7469 6d65 4d61 726b 4c69 6e65 732c 2062  timeMarkLines, b
+00004270: 616e 644c 696e 6573 203d 205b 5d2c 205b  andLines = [], [
+00004280: 5d2c 205b 5d20 2023 205a 6572 6f20 6f75  ], []  # Zero ou
+00004290: 7420 686f 7269 7a6f 6e74 616c 2c20 7469  t horizontal, ti
+000042a0: 6d65 206d 6172 6b2c 2061 6e64 2062 616e  me mark, and ban
+000042b0: 6420 6c69 6e65 206c 6973 7473 0a20 2020  d line lists.   
+000042c0: 2064 656e 7369 7479 5072 6f66 696c 6573   densityProfiles
+000042d0: 203d 205b 5d20 2023 205a 6572 6f20 6f75   = []  # Zero ou
+000042e0: 7420 6465 6e73 6974 6f6d 6574 7279 0a20  t densitometry. 
+000042f0: 2020 2068 6f6d 6554 6162 436f 6e73 6f6c     homeTabConsol
+00004300: 6554 6578 7442 6f78 2e76 616c 7565 203d  eTextBox.value =
+00004310: 2022 2220 2023 205a 6572 6f20 6f75 7420   ""  # Zero out 
+00004320: 636f 6e73 6f6c 6520 7465 7874 2062 6f78  console text box
+00004330: 0a0a 2020 2020 7361 7665 5475 6265 7354  ..    saveTubesT
+00004340: 6f46 696c 6542 7574 746f 6e2e 6469 7361  oFileButton.disa
+00004350: 626c 6528 290a 2020 2020 7570 6c6f 6164  ble().    upload
+00004360: 5261 6365 5475 6265 496d 6167 6542 7574  RaceTubeImageBut
+00004370: 746f 6e2e 656e 6162 6c65 2829 2020 2320  ton.enable()  # 
+00004380: 456e 6162 6c65 2075 706c 6f61 6420 7261  Enable upload ra
+00004390: 6365 2074 7562 6520 696d 6167 6520 6275  ce tube image bu
+000043a0: 7474 6f6e 0a20 2020 2072 6f74 6174 6552  tton.    rotateR
+000043b0: 6163 6554 7562 6549 6d61 6765 4275 7474  aceTubeImageButt
+000043c0: 6f6e 2e64 6973 6162 6c65 2829 2020 2320  on.disable()  # 
+000043d0: 4469 7361 626c 6520 726f 7461 7465 2069  Disable rotate i
+000043e0: 6d61 6765 2062 7574 746f 6e0a 2020 2020  mage button.    
+000043f0: 7261 6365 5475 6265 4c65 6e67 7468 5465  raceTubeLengthTe
+00004400: 7874 426f 782e 656e 6162 6c65 2829 2020  xtBox.enable()  
+00004410: 2320 456e 6162 6c65 2072 6163 6520 7475  # Enable race tu
+00004420: 6265 206c 656e 6774 6820 7465 7874 2062  be length text b
+00004430: 6f78 0a20 2020 206c 6f63 6b41 6e64 416e  ox.    lockAndAn
+00004440: 616c 797a 6542 7574 746f 6e2e 6469 7361  alyzeButton.disa
+00004450: 626c 6528 2920 2023 2044 6973 6162 6c65  ble()  # Disable
+00004460: 206c 6f63 6b20 616e 6420 616e 616c 797a   lock and analyz
+00004470: 6520 6275 7474 6f6e 0a20 2020 2070 726f  e button.    pro
+00004480: 6365 6564 4275 7474 6f6e 2e64 6973 6162  ceedButton.disab
+00004490: 6c65 2829 2020 2320 4469 7361 626c 6520  le()  # Disable 
+000044a0: 7072 6f63 6565 6420 6275 7474 6f6e 0a0a  proceed button..
+000044b0: 0a64 6566 2075 7064 6174 6550 7265 6c69  .def updatePreli
+000044c0: 6d69 6e61 7279 4461 7461 4469 7370 6c61  minaryDataDispla
+000044d0: 7928 293a 0a20 2020 2022 2222 5570 6461  y():.    """Upda
+000044e0: 7465 2070 7265 6c69 6d69 6e61 7279 2064  te preliminary d
+000044f0: 6174 6120 7465 7874 2062 6f78 2e22 2222  ata text box."""
+00004500: 0a20 2020 2067 6c6f 6261 6c20 7072 656c  .    global prel
+00004510: 696d 436f 6e74 656e 7473 0a0a 2020 2020  imContents..    
+00004520: 7465 7874 203d 2022 2220 2023 2042 6c61  text = ""  # Bla
+00004530: 6e6b 2073 7472 696e 6720 666f 7220 7465  nk string for te
+00004540: 7874 0a20 2020 2066 6f72 2069 6e64 6578  xt.    for index
+00004550: 2c20 6c69 6e65 2069 6e20 656e 756d 6572  , line in enumer
+00004560: 6174 6528 7072 656c 696d 436f 6e74 656e  ate(prelimConten
+00004570: 7473 293a 2020 2320 466f 7220 6561 6368  ts):  # For each
+00004580: 206c 696e 6520 6f66 2070 7265 6c69 6d69   line of prelimi
+00004590: 6e61 7279 2064 6174 6120 6c69 7374 0a20  nary data list. 
+000045a0: 2020 2020 2020 2069 6620 696e 6465 7820         if index 
+000045b0: 3d3d 2030 3a0a 2020 2020 2020 2020 2020  == 0:.          
+000045c0: 2020 7465 7874 202b 3d20 6c69 6e65 5b30    text += line[0
+000045d0: 5d20 2b20 225c 6e5c 6e22 0a20 2020 2020  ] + "\n\n".     
+000045e0: 2020 2065 6c69 6620 696e 6465 7820 3d3d     elif index ==
+000045f0: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
+00004600: 7465 7874 202b 3d20 6c69 6e65 5b30 5d20  text += line[0] 
+00004610: 2b20 2220 2220 2a20 2837 202d 206c 656e  + " " * (7 - len
+00004620: 286c 696e 655b 305d 2929 2020 2320 4170  (line[0]))  # Ap
+00004630: 7065 6e64 2074 7562 6520 6e75 6d62 6572  pend tube number
+00004640: 2061 6e64 2073 7061 6369 6e67 2074 6f20   and spacing to 
+00004650: 7465 7874 0a20 2020 2020 2020 2020 2020  text.           
+00004660: 2074 6578 7420 2b3d 206c 696e 655b 315d   text += line[1]
+00004670: 202b 2022 2022 202a 2028 3130 202d 206c   + " " * (10 - l
+00004680: 656e 286c 696e 655b 315d 2929 2020 2320  en(line[1]))  # 
+00004690: 4170 7065 6e64 206e 756d 6265 7220 6f66  Append number of
+000046a0: 2074 696d 6520 6d61 726b 7320 616e 6420   time marks and 
+000046b0: 7370 6163 696e 6720 746f 2074 6578 740a  spacing to text.
+000046c0: 2020 2020 2020 2020 2020 2020 7465 7874              text
+000046d0: 202b 3d20 6c69 6e65 5b32 5d20 2b20 2220   += line[2] + " 
+000046e0: 2220 2a20 2832 3320 2d20 6c65 6e28 6c69  " * (23 - len(li
+000046f0: 6e65 5b32 5d29 2920 2b20 225c 6e22 2020  ne[2])) + "\n"  
+00004700: 2320 4170 7065 6e64 206d 616e 7561 6c6c  # Append manuall
+00004710: 7920 6361 6c63 756c 6174 6564 2070 6572  y calculated per
+00004720: 696f 6420 616e 6420 7370 6163 696e 6720  iod and spacing 
+00004730: 616e 6420 6e65 776c 696e 6520 746f 2074  and newline to t
+00004740: 6578 740a 2020 2020 2020 2020 656c 7365  ext.        else
+00004750: 3a0a 2020 2020 2020 2020 2020 2020 7465  :.            te
+00004760: 7874 202b 3d20 2220 2220 2b20 6c69 6e65  xt += " " + line
+00004770: 5b30 5d20 2b20 2220 2220 2a20 2836 202d  [0] + " " * (6 -
+00004780: 206c 656e 286c 696e 655b 305d 2929 2020   len(line[0]))  
+00004790: 2320 4170 7065 6e64 2074 7562 6520 6e75  # Append tube nu
+000047a0: 6d62 6572 2061 6e64 2073 7061 6369 6e67  mber and spacing
+000047b0: 2074 6f20 7465 7874 0a20 2020 2020 2020   to text.       
+000047c0: 2020 2020 2074 6578 7420 2b3d 2022 2020       text += "  
+000047d0: 2022 202b 206c 696e 655b 315d 202b 2022   " + line[1] + "
+000047e0: 2022 202a 2028 3720 2d20 6c65 6e28 6c69   " * (7 - len(li
+000047f0: 6e65 5b31 5d29 2920 2023 2041 7070 656e  ne[1]))  # Appen
+00004800: 6420 6e75 6d62 6572 206f 6620 7469 6d65  d number of time
+00004810: 206d 6172 6b73 2061 6e64 2073 7061 6369   marks and spaci
+00004820: 6e67 2074 6f20 7465 7874 0a20 2020 2020  ng to text.     
+00004830: 2020 2020 2020 2074 6578 7420 2b3d 2022         text += "
+00004840: 2020 2020 2020 2020 2220 2b20 6c69 6e65          " + line
+00004850: 5b32 5d20 2b20 2220 2220 2a20 2831 3520  [2] + " " * (15 
+00004860: 2d20 6c65 6e28 6c69 6e65 5b32 5d29 2920  - len(line[2])) 
+00004870: 2b20 225c 6e22 2020 2320 4170 7065 6e64  + "\n"  # Append
+00004880: 206d 616e 7561 6c6c 7920 6361 6c63 756c   manually calcul
+00004890: 6174 6564 2070 6572 696f 6420 616e 6420  ated period and 
+000048a0: 7370 6163 696e 6720 616e 6420 6e65 776c  spacing and newl
+000048b0: 696e 6520 746f 2074 6578 740a 2020 2020  ine to text.    
+000048c0: 686f 6d65 5461 6250 7265 6c69 6d69 6e61  homeTabPrelimina
+000048d0: 7279 4461 7461 416e 616c 7973 6973 5465  ryDataAnalysisTe
+000048e0: 7874 426f 782e 7661 6c75 6520 3d20 7465  xtBox.value = te
+000048f0: 7874 2020 2320 5365 7420 7072 656c 696d  xt  # Set prelim
+00004900: 696e 6172 7920 6461 7461 2074 6578 7420  inary data text 
+00004910: 626f 7820 746f 2074 6578 7420 7661 7269  box to text vari
+00004920: 6162 6c65 0a0a 0a64 6566 2069 6465 6e74  able...def ident
+00004930: 6966 7948 6f72 697a 6f6e 7461 6c4c 696e  ifyHorizontalLin
+00004940: 6573 2829 3a0a 2020 2020 2222 2241 6e61  es():.    """Ana
+00004950: 6c79 7a65 2068 6f72 697a 6f6e 7461 6c20  lyze horizontal 
+00004960: 626f 756e 6461 7269 6573 206f 6620 7475  boundaries of tu
+00004970: 6265 7320 696e 2069 6d61 6765 2e22 2222  bes in image."""
+00004980: 0a0a 0a20 2020 2067 6c6f 6261 6c20 6669  ...    global fi
+00004990: 6e61 6c49 6d61 6765 0a20 2020 2067 6c6f  nalImage.    glo
+000049a0: 6261 6c20 616e 616c 5374 6174 650a 2020  bal analState.  
+000049b0: 2020 676c 6f62 616c 2068 6f72 697a 6f6e    global horizon
+000049c0: 7461 6c4c 696e 6573 0a20 2020 2067 6c6f  talLines.    glo
+000049d0: 6261 6c20 6d65 616e 5475 6265 536c 6f70  bal meanTubeSlop
+000049e0: 650a 0a0a 2020 2020 616e 616c 5374 6174  e...    analStat
+000049f0: 6520 3d20 3120 2023 2053 6574 2061 6e61  e = 1  # Set ana
+00004a00: 6c79 7369 7320 7374 6174 6520 746f 2031  lysis state to 1
+00004a10: 0a20 2020 2065 6469 7465 6449 6d61 6765  .    editedImage
+00004a20: 203d 206e 756d 7079 2e61 7272 6179 2866   = numpy.array(f
+00004a30: 696e 616c 496d 6167 652e 636f 6e76 6572  inalImage.conver
+00004a40: 7428 224c 2229 2920 2023 2043 7265 6174  t("L"))  # Creat
+00004a50: 6520 6e75 6d70 7920 6172 7261 7920 6f66  e numpy array of
+00004a60: 2066 696e 616c 2069 6d61 6765 2069 6e20   final image in 
+00004a70: 6772 6579 7363 616c 650a 2020 2020 0a20  greyscale.    . 
+00004a80: 2020 2068 6f72 697a 6f6e 7461 6c4c 696e     horizontalLin
+00004a90: 6553 6c6f 7065 732c 2068 6f72 697a 6f6e  eSlopes, horizon
+00004aa0: 7461 6c4c 696e 6549 6e74 6572 6365 7074  talLineIntercept
+00004ab0: 732c 206d 6561 6e54 7562 6553 6c6f 7065  s, meanTubeSlope
+00004ac0: 203d 2071 4964 656e 7469 6679 486f 7269   = qIdentifyHori
+00004ad0: 7a6f 6e74 616c 4c69 6e65 7328 6564 6974  zontalLines(edit
+00004ae0: 6564 496d 6167 6529 0a20 2020 200a 2020  edImage).    .  
+00004af0: 2020 686f 7269 7a6f 6e74 616c 4c69 6e65    horizontalLine
+00004b00: 7320 3d20 5b5d 2020 2320 426c 616e 6b20  s = []  # Blank 
+00004b10: 676c 6f62 616c 206c 6973 7420 6f66 2068  global list of h
+00004b20: 6f72 697a 6f6e 7461 6c20 7475 6265 2062  orizontal tube b
+00004b30: 6f75 6e64 6172 7920 6c69 6e65 730a 2020  oundary lines.  
+00004b40: 2020 2320 506f 7075 6c61 7465 2067 6c6f    # Populate glo
+00004b50: 6261 6c20 686f 7269 7a6f 6e74 616c 206c  bal horizontal l
+00004b60: 696e 6573 206c 6973 740a 2020 2020 666f  ines list.    fo
+00004b70: 7220 6c69 6e65 2069 6e20 7261 6e67 6528  r line in range(
+00004b80: 302c 206c 656e 2868 6f72 697a 6f6e 7461  0, len(horizonta
+00004b90: 6c4c 696e 6553 6c6f 7065 7329 293a 2020  lLineSlopes)):  
+00004ba0: 2320 466f 7220 6561 6368 2068 6f72 697a  # For each horiz
+00004bb0: 6f6e 7461 6c20 6c69 6e65 0a20 2020 2020  ontal line.     
+00004bc0: 2020 2068 6f72 697a 6f6e 7461 6c4c 696e     horizontalLin
+00004bd0: 6573 2e61 7070 656e 6428 5b68 6f72 697a  es.append([horiz
+00004be0: 6f6e 7461 6c4c 696e 6553 6c6f 7065 735b  ontalLineSlopes[
+00004bf0: 6c69 6e65 5d2c 2068 6f72 697a 6f6e 7461  line], horizonta
+00004c00: 6c4c 696e 6549 6e74 6572 6365 7074 735b  lLineIntercepts[
+00004c10: 6c69 6e65 5d5d 2920 2023 2041 6464 2073  line]])  # Add s
+00004c20: 6c6f 7065 2061 6e64 2069 6e74 6572 6365  lope and interce
+00004c30: 7074 2063 6f6d 6269 6e61 7469 6f6e 206f  pt combination o
+00004c40: 6620 6c69 6e65 2074 6f20 6163 6365 7074  f line to accept
+00004c50: 6564 2068 6f72 697a 6f6e 7461 6c20 6c69  ed horizontal li
+00004c60: 6e65 730a 2020 2020 0a20 2020 2023 5772  nes.    .    #Wr
+00004c70: 6170 2075 700a 2020 2020 6472 6177 4c69  ap up.    drawLi
+00004c80: 6e65 7328 5472 7565 2920 2023 2041 6464  nes(True)  # Add
+00004c90: 206c 696e 6573 2074 6f20 696d 6167 650a   lines to image.
+00004ca0: 2020 2020 616e 616c 5374 6174 6520 3d20      analState = 
+00004cb0: 3220 2023 2053 6574 2061 6e61 6c79 7369  2  # Set analysi
+00004cc0: 7320 7374 6174 6520 746f 2032 0a20 2020  s state to 2.   
+00004cd0: 2068 6f6d 6554 6162 436f 6e73 6f6c 6554   homeTabConsoleT
+00004ce0: 6578 7442 6f78 2e76 616c 7565 203d 2022  extBox.value = "
+00004cf0: 436c 6963 6b20 6120 706f 696e 7420 6f6e  Click a point on
+00004d00: 2074 6865 2069 6d61 6765 2074 6f20 6164   the image to ad
+00004d10: 6420 6f72 2072 656d 6f76 6520 7261 6365  d or remove race
+00004d20: 2074 7562 6520 626f 756e 6461 7279 206c   tube boundary l
+00004d30: 696e 6573 2e20 506c 6561 7365 2062 6520  ines. Please be 
+00004d40: 7375 7265 2074 6f20 696e 636c 7564 6520  sure to include 
+00004d50: 6c69 6e65 7320 6120 7665 7279 2074 6f70  lines a very top
+00004d60: 2061 6e64 2062 6f74 746f 6d20 6f66 2069   and bottom of i
+00004d70: 6d61 6765 2e20 5768 656e 2073 6174 6973  mage. When satis
+00004d80: 6669 6564 2c20 636c 6963 6b20 7468 6520  fied, click the 
+00004d90: 5072 6f63 6565 6420 6275 7474 6f6e 2e22  Proceed button."
+00004da0: 2020 2320 5365 7420 636f 6e73 6f6c 6520    # Set console 
+00004db0: 7465 7874 2074 6f20 686f 7269 7a6f 6e74  text to horizont
+00004dc0: 616c 206c 696e 6520 696e 7374 7275 6374  al line instruct
+00004dd0: 696f 6e73 0a0a 0a64 6566 2071 4964 656e  ions...def qIden
+00004de0: 7469 6679 486f 7269 7a6f 6e74 616c 4c69  tifyHorizontalLi
+00004df0: 6e65 7328 696d 6167 6529 3a0a 2020 2020  nes(image):.    
+00004e00: 0a20 2020 2023 2048 6f72 697a 6f6e 7461  .    # Horizonta
+00004e10: 6c20 6c69 6e65 2049 4420 6d65 7468 6f64  l line ID method
+00004e20: 2031 202d 2074 6869 7320 6d65 7468 6f64   1 - this method
+00004e30: 2077 6f72 6b73 2062 6573 7420 6f6e 2069   works best on i
+00004e40: 6d61 6765 7320 7769 7468 206c 6573 7320  mages with less 
+00004e50: 636c 6561 726c 7920 6465 6669 6e65 6420  clearly defined 
+00004e60: 7475 6265 7320 7769 7468 2073 6f6d 6520  tubes with some 
+00004e70: 6461 726b 2073 706f 7473 2069 6e20 6c6f  dark spots in lo
+00004e80: 7720 6261 6e64 696e 6720 6172 6561 730a  w banding areas.
+00004e90: 2020 2020 2320 4765 7420 7665 7274 6963      # Get vertic
+00004ea0: 616c 2062 7269 6768 746e 6573 7320 7072  al brightness pr
+00004eb0: 6f66 696c 6573 2066 6f72 206c 6566 7420  ofiles for left 
+00004ec0: 616e 6420 7269 6768 7420 6f66 2069 6d61  and right of ima
+00004ed0: 6765 0a20 2020 2072 6f77 4d65 616e 734c  ge.    rowMeansL
+00004ee0: 6566 7420 3d20 5b5d 2020 2320 426c 616e  eft = []  # Blan
+00004ef0: 6b20 6c69 7374 206f 6620 6d65 616e 7320  k list of means 
+00004f00: 6f66 2072 6f77 2073 6567 6d65 6e74 7320  of row segments 
+00004f10: 696e 206c 6566 7420 6f66 2069 6d61 6765  in left of image
+00004f20: 0a20 2020 2072 6f77 4d65 616e 7352 6967  .    rowMeansRig
+00004f30: 6874 203d 205b 5d20 2023 2042 6c61 6e6b  ht = []  # Blank
+00004f40: 206c 6973 7420 6f66 206d 6561 6e73 206f   list of means o
+00004f50: 6620 726f 7720 7365 676d 656e 7473 2069  f row segments i
+00004f60: 6e20 7269 6768 7420 6f66 2069 6d61 6765  n right of image
+00004f70: 0a20 2020 2066 6f72 2072 6f77 2069 6e20  .    for row in 
+00004f80: 6c69 7374 2869 6d61 6765 293a 2020 2320  list(image):  # 
+00004f90: 466f 7220 6561 6368 2072 6f77 2069 6e20  For each row in 
+00004fa0: 6564 6974 6564 2072 6163 6520 7475 6265  edited race tube
+00004fb0: 2069 6d61 6765 0a20 2020 2020 2020 2072   image.        r
+00004fc0: 6f77 4d65 616e 734c 6566 742e 6170 7065  owMeansLeft.appe
+00004fd0: 6e64 2830 2d69 6e74 286e 756d 7079 2e6d  nd(0-int(numpy.m
+00004fe0: 6561 6e28 726f 775b 3a32 355d 2929 2920  ean(row[:25]))) 
+00004ff0: 2023 2041 6464 2069 6e76 6572 7365 206f   # Add inverse o
+00005000: 6620 6d65 616e 206f 6620 6c65 6674 2073  f mean of left s
+00005010: 6567 6d65 6e74 206f 6620 726f 7720 746f  egment of row to
+00005020: 206c 6973 7420 6f66 206d 6561 6e73 206f   list of means o
+00005030: 6620 726f 7720 7365 676d 656e 7473 2069  f row segments i
+00005040: 6e20 6c65 6674 206f 6620 696d 6167 6520  n left of image 
+00005050: 2352 4947 4854 4845 5245 0a20 2020 2020  #RIGHTHERE.     
+00005060: 2020 2072 6f77 4d65 616e 7352 6967 6874     rowMeansRight
+00005070: 2e61 7070 656e 6428 302d 696e 7428 6e75  .append(0-int(nu
+00005080: 6d70 792e 6d65 616e 2872 6f77 5b35 3530  mpy.mean(row[550
+00005090: 3a35 3735 5d29 2929 2020 2320 4164 6420  :575])))  # Add 
+000050a0: 696e 7665 7273 6520 6f66 206d 6561 6e20  inverse of mean 
+000050b0: 6f66 2072 6967 6874 2073 6567 6d65 6e74  of right segment
+000050c0: 206f 6620 726f 7720 746f 206c 6973 7420   of row to list 
+000050d0: 6f66 206d 6561 6e73 206f 6620 726f 7720  of means of row 
+000050e0: 7365 676d 656e 7473 2069 6e20 7269 6768  segments in righ
+000050f0: 7420 6f66 2069 6d61 6765 2023 5249 4748  t of image #RIGH
+00005100: 5448 4552 450a 2020 2020 726f 774d 6561  THERE.    rowMea
+00005110: 6e73 4c65 6674 536d 6f6f 7468 203d 2073  nsLeftSmooth = s
+00005120: 6176 676f 6c5f 6669 6c74 6572 2872 6f77  avgol_filter(row
+00005130: 4d65 616e 734c 6566 742c 2077 696e 646f  MeansLeft, windo
+00005140: 775f 6c65 6e67 7468 3d33 302c 2070 6f6c  w_length=30, pol
+00005150: 796f 7264 6572 3d32 2c20 6d6f 6465 3d22  yorder=2, mode="
+00005160: 696e 7465 7270 2229 2020 2320 4372 6561  interp")  # Crea
+00005170: 7465 2073 6d6f 6f74 6865 6420 7665 7273  te smoothed vers
+00005180: 696f 6e20 6f66 206c 6566 7420 6d65 616e  ion of left mean
+00005190: 7320 2352 4947 4854 4845 5245 0a20 2020  s #RIGHTHERE.   
+000051a0: 2072 6f77 4d65 616e 7352 6967 6874 536d   rowMeansRightSm
+000051b0: 6f6f 7468 203d 2073 6176 676f 6c5f 6669  ooth = savgol_fi
+000051c0: 6c74 6572 2872 6f77 4d65 616e 7352 6967  lter(rowMeansRig
+000051d0: 6874 2c20 7769 6e64 6f77 5f6c 656e 6774  ht, window_lengt
+000051e0: 683d 3330 2c20 706f 6c79 6f72 6465 723d  h=30, polyorder=
+000051f0: 322c 206d 6f64 653d 2269 6e74 6572 7022  2, mode="interp"
+00005200: 2920 2023 2043 7265 6174 6520 736d 6f6f  )  # Create smoo
+00005210: 7468 6564 2076 6572 7369 6f6e 206f 6620  thed version of 
+00005220: 7269 6768 7420 6d65 616e 7320 2352 4947  right means #RIG
+00005230: 4854 4845 5245 0a20 2020 2072 6f77 4d65  HTHERE.    rowMe
+00005240: 616e 734c 6566 7453 6d6f 6f74 684d 696e  ansLeftSmoothMin
+00005250: 203d 206e 756d 7079 2e6d 696e 2872 6f77   = numpy.min(row
+00005260: 4d65 616e 734c 6566 7453 6d6f 6f74 6829  MeansLeftSmooth)
+00005270: 2020 2320 4765 7420 6d69 6e69 6d75 6d20    # Get minimum 
+00005280: 6f66 2073 6d6f 6f74 6865 6420 6c65 6674  of smoothed left
+00005290: 206d 6561 6e73 0a20 2020 2072 6f77 4d65   means.    rowMe
+000052a0: 616e 7352 6967 6874 536d 6f6f 7468 4d69  ansRightSmoothMi
+000052b0: 6e20 3d20 6e75 6d70 792e 6d69 6e28 726f  n = numpy.min(ro
+000052c0: 774d 6561 6e73 5269 6768 7453 6d6f 6f74  wMeansRightSmoot
+000052d0: 6829 2020 2320 4765 7420 6d69 6e69 6d75  h)  # Get minimu
+000052e0: 6d20 6f66 2073 6d6f 6f74 6865 6420 7269  m of smoothed ri
+000052f0: 6768 7420 6d65 616e 730a 2020 2020 666f  ght means.    fo
+00005300: 7220 6e75 6d20 696e 2072 616e 6765 2830  r num in range(0
+00005310: 2c20 3430 3029 3a20 2023 2046 6f72 2065  , 400):  # For e
+00005320: 6163 6820 6e75 6d62 6572 2066 726f 6d20  ach number from 
+00005330: 3020 746f 2034 3030 2028 636f 7272 6573  0 to 400 (corres
+00005340: 706f 6e64 696e 6720 746f 2079 2076 616c  ponding to y val
+00005350: 7565 7320 696e 2069 6d61 6765 2920 286e  ues in image) (n
+00005360: 6f72 6d61 6c69 7a69 6e67 206d 6561 6e73  ormalizing means
+00005370: 2074 6f20 6d69 6e69 6d75 6d20 6f66 2030   to minimum of 0
+00005380: 2920 2352 4947 4854 4845 5245 0a20 2020  ) #RIGHTHERE.   
+00005390: 2020 2020 2072 6f77 4d65 616e 734c 6566       rowMeansLef
+000053a0: 7453 6d6f 6f74 685b 6e75 6d5d 202d 3d20  tSmooth[num] -= 
+000053b0: 726f 774d 6561 6e73 4c65 6674 536d 6f6f  rowMeansLeftSmoo
+000053c0: 7468 4d69 6e20 2023 2053 7562 7472 6163  thMin  # Subtrac
+000053d0: 7420 6d69 6e69 6d61 6c20 7661 6c75 6520  t minimal value 
+000053e0: 6672 6f6d 2061 6c6c 2076 616c 7565 7320  from all values 
+000053f0: 696e 2073 6d6f 6f74 6865 6420 6c65 6674  in smoothed left
+00005400: 206d 6561 6e73 0a20 2020 2020 2020 2072   means.        r
+00005410: 6f77 4d65 616e 7352 6967 6874 536d 6f6f  owMeansRightSmoo
+00005420: 7468 5b6e 756d 5d20 2d3d 2072 6f77 4d65  th[num] -= rowMe
+00005430: 616e 7352 6967 6874 536d 6f6f 7468 4d69  ansRightSmoothMi
+00005440: 6e20 2023 2053 7562 7472 6163 7420 6d69  n  # Subtract mi
+00005450: 6e69 6d61 6c20 7661 6c75 6520 6672 6f6d  nimal value from
+00005460: 2061 6c6c 2076 616c 7565 7320 696e 2073   all values in s
+00005470: 6d6f 6f74 6865 6420 7269 6768 7420 6d65  moothed right me
+00005480: 616e 730a 2020 2020 0a20 2020 2023 2046  ans.    .    # F
+00005490: 696e 6420 7468 6520 6d69 6e69 6d61 2069  ind the minima i
+000054a0: 6e20 626f 7468 2076 6572 7469 6361 6c20  n both vertical 
+000054b0: 6272 6967 6874 6e65 7373 2070 726f 6669  brightness profi
+000054c0: 6c65 7320 616e 6420 6576 616c 7561 7465  les and evaluate
+000054d0: 2074 6865 6d0a 2020 2020 726f 774d 6561   them.    rowMea
+000054e0: 6e73 4c65 6674 4d69 6e69 6d61 496e 6469  nsLeftMinimaIndi
+000054f0: 6365 7320 3d20 6669 6e64 5f70 6561 6b73  ces = find_peaks
+00005500: 2872 6f77 4d65 616e 734c 6566 7453 6d6f  (rowMeansLeftSmo
+00005510: 6f74 682c 2064 6973 7461 6e63 653d 3235  oth, distance=25
+00005520: 2c20 7468 7265 7368 6f6c 643d 284e 6f6e  , threshold=(Non
+00005530: 652c 204e 6f6e 6529 2c20 6865 6967 6874  e, None), height
+00005540: 3d30 2e38 382a 6e75 6d70 792e 6d61 7828  =0.88*numpy.max(
+00005550: 726f 774d 6561 6e73 4c65 6674 536d 6f6f  rowMeansLeftSmoo
+00005560: 7468 292c 2070 726f 6d69 6e65 6e63 653d  th), prominence=
+00005570: 352c 2077 6c65 6e3d 3330 3029 5b30 5d2e  5, wlen=300)[0].
+00005580: 746f 6c69 7374 2829 2020 2320 4765 7420  tolist()  # Get 
+00005590: 696e 6469 6365 7320 6f66 2070 6561 6b73  indices of peaks
+000055a0: 206f 6620 736d 6f6f 7468 6564 206c 6566   of smoothed lef
+000055b0: 7420 6d65 616e 732c 2063 6f72 7265 7370  t means, corresp
+000055c0: 6f6e 6469 6e67 2074 6f20 6461 726b 6573  onding to darkes
+000055d0: 7420 7370 6f74 7320 2352 4947 4854 4845  t spots #RIGHTHE
+000055e0: 5245 0a20 2020 2072 6f77 4d65 616e 7352  RE.    rowMeansR
+000055f0: 6967 6874 4d69 6e69 6d61 496e 6469 6365  ightMinimaIndice
+00005600: 7320 3d20 6669 6e64 5f70 6561 6b73 2872  s = find_peaks(r
+00005610: 6f77 4d65 616e 7352 6967 6874 536d 6f6f  owMeansRightSmoo
+00005620: 7468 2c20 6469 7374 616e 6365 3d32 352c  th, distance=25,
+00005630: 2074 6872 6573 686f 6c64 3d28 4e6f 6e65   threshold=(None
+00005640: 2c20 4e6f 6e65 292c 2068 6569 6768 743d  , None), height=
+00005650: 302e 3838 2a6e 756d 7079 2e6d 6178 2872  0.88*numpy.max(r
+00005660: 6f77 4d65 616e 7352 6967 6874 536d 6f6f  owMeansRightSmoo
+00005670: 7468 292c 2070 726f 6d69 6e65 6e63 653d  th), prominence=
+00005680: 352c 2077 6c65 6e3d 3330 3029 5b30 5d2e  5, wlen=300)[0].
+00005690: 746f 6c69 7374 2829 2020 2320 4765 7420  tolist()  # Get 
+000056a0: 696e 6469 6365 7320 6f66 2070 6561 6b73  indices of peaks
+000056b0: 206f 6620 736d 6f6f 7468 6564 2072 6967   of smoothed rig
+000056c0: 6874 206d 6561 6e73 2c20 636f 7272 6573  ht means, corres
+000056d0: 706f 6e64 696e 6720 746f 2064 6172 6b65  ponding to darke
+000056e0: 7374 2073 706f 7473 2023 5249 4748 5448  st spots #RIGHTH
+000056f0: 4552 450a 2020 2020 726f 774d 6561 6e73  ERE.    rowMeans
+00005700: 4c65 6674 4d69 6e69 6d61 4163 6365 7074  LeftMinimaAccept
+00005710: 6564 203d 205b 5d20 2023 2042 6c61 6e6b  ed = []  # Blank
+00005720: 206c 6973 7420 666f 7220 7920 706f 7369   list for y posi
+00005730: 7469 6f6e 7320 6f66 2061 6363 6570 7465  tions of accepte
+00005740: 6420 6461 726b 6573 7420 706f 696e 7473  d darkest points
+00005750: 2069 6e20 6c65 6674 2072 6567 696f 6e20   in left region 
+00005760: 6f66 2069 6d61 6765 0a20 2020 2072 6f77  of image.    row
+00005770: 4d65 616e 7352 6967 6874 4d69 6e69 6d61  MeansRightMinima
+00005780: 4163 6365 7074 6564 203d 205b 5d20 2320  Accepted = [] # 
+00005790: 426c 616e 6b20 6c69 7374 2066 6f72 2079  Blank list for y
+000057a0: 2070 6f73 6974 696f 6e73 206f 6620 6163   positions of ac
+000057b0: 6365 7074 6564 2064 6172 6b65 7374 2070  cepted darkest p
+000057c0: 6f69 6e74 7320 696e 2072 6967 6874 2072  oints in right r
+000057d0: 6567 696f 6e20 6f66 2069 6d61 6765 0a20  egion of image. 
+000057e0: 2020 200a 2020 2020 2320 4368 6563 6b20     .    # Check 
+000057f0: 7368 6172 706e 6573 7320 6f66 206c 6566  sharpness of lef
+00005800: 7420 7265 6769 6f6e 2070 6561 6b73 0a20  t region peaks. 
+00005810: 2020 2066 6f72 2070 6561 6b49 6e64 6578     for peakIndex
+00005820: 2069 6e20 726f 774d 6561 6e73 4c65 6674   in rowMeansLeft
+00005830: 4d69 6e69 6d61 496e 6469 6365 733a 2020  MinimaIndices:  
+00005840: 2320 466f 7220 6561 6368 2079 2070 6f73  # For each y pos
+00005850: 6974 696f 6e20 6f66 2061 2064 6172 6b65  ition of a darke
+00005860: 7374 2070 6f69 6e74 2069 6e20 6c65 6674  st point in left
+00005870: 2072 6567 696f 6e20 6f66 2069 6d61 6765   region of image
+00005880: 0a20 2020 2020 2020 2020 2020 2073 6c6f  .            slo
+00005890: 7065 734c 6566 7420 3d20 5b5d 2020 2320  pesLeft = []  # 
+000058a0: 456d 7074 7920 6c69 7374 2066 6f72 2067  Empty list for g
+000058b0: 7261 6e75 6c61 7220 736c 6f70 6573 206c  ranular slopes l
+000058c0: 6566 7420 6f66 2070 6561 6b0a 2020 2020  eft of peak.    
+000058d0: 2020 2020 2020 2020 736c 6f70 6573 5269          slopesRi
+000058e0: 6768 7420 3d20 5b5d 2020 2320 456d 7074  ght = []  # Empt
+000058f0: 7920 6c69 7374 2066 6f72 2067 7261 6e75  y list for granu
+00005900: 6c61 7220 736c 6f70 6573 2072 6967 6874  lar slopes right
+00005910: 206f 6620 7065 616b 0a20 2020 2020 2020   of peak.       
+00005920: 2020 2020 2066 6f72 2078 5761 6c6b 2069       for xWalk i
+00005930: 6e20 7261 6e67 6528 322c 2031 322c 2032  n range(2, 12, 2
+00005940: 293a 2020 2320 466f 7220 6576 6572 7920  ):  # For every 
+00005950: 3220 7069 7865 6c73 2c20 3132 2070 6978  2 pixels, 12 pix
+00005960: 656c 7320 6f75 7420 696e 2065 6974 6865  els out in eithe
+00005970: 7220 6469 7265 6374 696f 6e0a 2020 2020  r direction.    
+00005980: 2020 2020 2020 2020 2020 2020 6966 2070              if p
+00005990: 6561 6b49 6e64 6578 202b 2078 5761 6c6b  eakIndex + xWalk
+000059a0: 203c 2034 3030 3a20 2023 2049 6620 7175   < 400:  # If qu
+000059b0: 6572 6965 6420 7069 7865 6c20 6973 2077  eried pixel is w
+000059c0: 6974 6869 6e20 696d 6167 6520 2352 4947  ithin image #RIG
+000059d0: 4854 4845 5245 0a20 2020 2020 2020 2020  HTHERE.         
+000059e0: 2020 2020 2020 2020 2020 2073 6c6f 7065             slope
+000059f0: 7352 6967 6874 2e61 7070 656e 6428 6162  sRight.append(ab
+00005a00: 7328 2872 6f77 4d65 616e 734c 6566 7453  s((rowMeansLeftS
+00005a10: 6d6f 6f74 685b 7065 616b 496e 6465 7820  mooth[peakIndex 
+00005a20: 2b20 7857 616c 6b5d 202d 2072 6f77 4d65  + xWalk] - rowMe
+00005a30: 616e 734c 6566 7453 6d6f 6f74 685b 7065  ansLeftSmooth[pe
+00005a40: 616b 496e 6465 7820 2b20 7857 616c 6b20  akIndex + xWalk 
+00005a50: 2d20 325d 2929 202f 2032 2920 2023 2041  - 2])) / 2)  # A
+00005a60: 6464 2073 6c6f 7065 2066 6f72 2032 2d70  dd slope for 2-p
+00005a70: 6978 656c 2073 6567 6d65 6e74 2074 6f20  ixel segment to 
+00005a80: 6c69 7374 206f 6620 7269 6768 7420 666c  list of right fl
+00005a90: 616e 6b69 6e67 2073 6c6f 7065 730a 2020  anking slopes.  
+00005aa0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00005ab0: 2070 6561 6b49 6e64 6578 202d 2078 5761   peakIndex - xWa
+00005ac0: 6c6b 203e 2030 3a20 2023 2049 6620 7175  lk > 0:  # If qu
+00005ad0: 6572 6965 6420 7069 7865 6c20 6973 2077  eried pixel is w
+00005ae0: 6974 6869 6e20 696d 6167 650a 2020 2020  ithin image.    
+00005af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b00: 736c 6f70 6573 4c65 6674 2e61 7070 656e  slopesLeft.appen
+00005b10: 6428 6162 7328 2872 6f77 4d65 616e 734c  d(abs((rowMeansL
+00005b20: 6566 7453 6d6f 6f74 685b 7065 616b 496e  eftSmooth[peakIn
+00005b30: 6465 7820 2d20 7857 616c 6b5d 202d 2072  dex - xWalk] - r
+00005b40: 6f77 4d65 616e 734c 6566 7453 6d6f 6f74  owMeansLeftSmoot
+00005b50: 685b 7065 616b 496e 6465 7820 2d20 7857  h[peakIndex - xW
+00005b60: 616c 6b20 2b20 325d 2929 202f 2032 2920  alk + 2])) / 2) 
+00005b70: 2023 2041 6464 2073 6c6f 7065 2066 6f72   # Add slope for
+00005b80: 2032 2d70 6978 656c 2073 6567 6d65 6e74   2-pixel segment
+00005b90: 2074 6f20 6c69 7374 206f 6620 6c65 6674   to list of left
+00005ba0: 2066 6c61 6e6b 696e 6720 736c 6f70 6573   flanking slopes
+00005bb0: 0a20 2020 2020 2020 2020 2020 2073 6c6f  .            slo
+00005bc0: 7065 4c65 6674 203d 206e 756d 7079 2e6d  peLeft = numpy.m
+00005bd0: 6561 6e28 736c 6f70 6573 4c65 6674 2920  ean(slopesLeft) 
+00005be0: 2023 204d 6561 6e20 736c 6f70 6520 746f   # Mean slope to
+00005bf0: 206c 6566 7420 6f66 2070 6561 6b0a 2020   left of peak.  
+00005c00: 2020 2020 2020 2020 2020 736c 6f70 6552            slopeR
+00005c10: 6967 6874 203d 206e 756d 7079 2e6d 6561  ight = numpy.mea
+00005c20: 6e28 736c 6f70 6573 5269 6768 7429 2020  n(slopesRight)  
+00005c30: 2320 4d65 616e 2073 6c6f 7065 2074 6f20  # Mean slope to 
+00005c40: 7269 6768 7420 6f66 2070 6561 6b0a 2020  right of peak.  
+00005c50: 2020 2020 2020 2020 2020 736c 6f70 654d            slopeM
+00005c60: 696e 203d 206e 756d 7079 2e6d 696e 285b  in = numpy.min([
+00005c70: 736c 6f70 654c 6566 742c 2073 6c6f 7065  slopeLeft, slope
+00005c80: 5269 6768 745d 2920 2023 2053 6861 6c6c  Right])  # Shall
+00005c90: 6f77 6573 7420 736c 6f70 6520 666c 616e  owest slope flan
+00005ca0: 6b69 6e67 2070 6561 6b0a 2020 2020 2020  king peak.      
+00005cb0: 2020 2020 2020 6966 2070 6561 6b49 6e64        if peakInd
+00005cc0: 6578 203e 2031 3020 616e 6420 7065 616b  ex > 10 and peak
+00005cd0: 496e 6465 7820 3c20 3339 3020 616e 6420  Index < 390 and 
+00005ce0: 736c 6f70 654d 696e 203e 2030 2e34 353a  slopeMin > 0.45:
+00005cf0: 2020 2320 4966 2070 6561 6b20 6973 206e    # If peak is n
+00005d00: 6f74 2074 6f6f 2063 6c6f 7365 2074 6f20  ot too close to 
+00005d10: 7468 6520 6564 6765 206f 6620 7468 6520  the edge of the 
+00005d20: 696d 6167 6520 616e 6420 6973 2073 7566  image and is suf
+00005d30: 6669 6369 656e 746c 7920 7374 6565 7020  ficiently steep 
+00005d40: 2352 4947 4854 4845 5245 0a20 2020 2020  #RIGHTHERE.     
+00005d50: 2020 2020 2020 2020 2020 2072 6f77 4d65             rowMe
+00005d60: 616e 734c 6566 744d 696e 696d 6141 6363  ansLeftMinimaAcc
+00005d70: 6570 7465 642e 6170 7065 6e64 2870 6561  epted.append(pea
+00005d80: 6b49 6e64 6578 2920 2023 2041 6464 2070  kIndex)  # Add p
+00005d90: 6561 6b20 746f 206c 6973 7420 6f66 2061  eak to list of a
+00005da0: 6363 6570 7465 6420 7920 706f 7369 7469  ccepted y positi
+00005db0: 6f6e 7320 6f66 2064 6172 6b65 7374 2070  ons of darkest p
+00005dc0: 6f69 6e74 7320 696e 206c 6566 7420 7265  oints in left re
+00005dd0: 6769 6f6e 206f 6620 696d 6167 650a 2020  gion of image.  
+00005de0: 2020 0a20 2020 2023 2043 6865 636b 2073    .    # Check s
+00005df0: 6861 7270 6e65 7373 206f 6620 7269 6768  harpness of righ
+00005e00: 7420 7265 6769 6f6e 2070 6561 6b73 0a20  t region peaks. 
+00005e10: 2020 2066 6f72 2070 6561 6b49 6e64 6578     for peakIndex
+00005e20: 2069 6e20 726f 774d 6561 6e73 5269 6768   in rowMeansRigh
+00005e30: 744d 696e 696d 6149 6e64 6963 6573 3a20  tMinimaIndices: 
+00005e40: 2023 2046 6f72 2065 6163 6820 7920 706f   # For each y po
+00005e50: 7369 7469 6f6e 206f 6620 6120 6461 726b  sition of a dark
+00005e60: 6573 7420 706f 696e 7420 696e 2072 6967  est point in rig
+00005e70: 6874 2072 6567 696f 6e20 6f66 2069 6d61  ht region of ima
+00005e80: 6765 0a20 2020 2020 2020 2020 2020 2073  ge.            s
+00005e90: 6c6f 7065 734c 6566 7420 3d20 5b5d 2020  lopesLeft = []  
+00005ea0: 2320 456d 7074 7920 6c69 7374 2066 6f72  # Empty list for
+00005eb0: 2067 7261 6e75 6c61 7220 736c 6f70 6573   granular slopes
+00005ec0: 206c 6566 7420 6f66 2070 6561 6b0a 2020   left of peak.  
+00005ed0: 2020 2020 2020 2020 2020 736c 6f70 6573            slopes
+00005ee0: 5269 6768 7420 3d20 5b5d 2020 2320 456d  Right = []  # Em
+00005ef0: 7074 7920 6c69 7374 2066 6f72 2067 7261  pty list for gra
+00005f00: 6e75 6c61 7220 736c 6f70 6573 2072 6967  nular slopes rig
+00005f10: 6874 206f 6620 7065 616b 0a20 2020 2020  ht of peak.     
+00005f20: 2020 2020 2020 2066 6f72 2078 5761 6c6b         for xWalk
+00005f30: 2069 6e20 7261 6e67 6528 322c 2031 322c   in range(2, 12,
+00005f40: 2032 293a 2020 2320 466f 7220 6576 6572   2):  # For ever
+00005f50: 7920 3220 7069 7865 6c73 2c20 3132 2070  y 2 pixels, 12 p
+00005f60: 6978 656c 7320 6f75 7420 696e 2065 6974  ixels out in eit
+00005f70: 6865 7220 6469 7265 6374 696f 6e0a 2020  her direction.  
+00005f80: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00005f90: 2070 6561 6b49 6e64 6578 202b 2078 5761   peakIndex + xWa
+00005fa0: 6c6b 203c 2034 3030 3a20 2023 2049 6620  lk < 400:  # If 
+00005fb0: 7175 6572 6965 6420 7069 7865 6c20 6973  queried pixel is
+00005fc0: 2077 6974 6869 6e20 696d 6167 6520 2352   within image #R
+00005fd0: 4947 4854 4845 5245 0a20 2020 2020 2020  IGHTHERE.       
+00005fe0: 2020 2020 2020 2020 2020 2020 2073 6c6f               slo
+00005ff0: 7065 7352 6967 6874 2e61 7070 656e 6428  pesRight.append(
+00006000: 6162 7328 2872 6f77 4d65 616e 7352 6967  abs((rowMeansRig
+00006010: 6874 536d 6f6f 7468 5b70 6561 6b49 6e64  htSmooth[peakInd
+00006020: 6578 202b 2078 5761 6c6b 5d20 2d20 726f  ex + xWalk] - ro
+00006030: 774d 6561 6e73 5269 6768 7453 6d6f 6f74  wMeansRightSmoot
+00006040: 685b 7065 616b 496e 6465 7820 2b20 7857  h[peakIndex + xW
+00006050: 616c 6b20 2d20 325d 2929 202f 2032 2920  alk - 2])) / 2) 
+00006060: 2023 2041 6464 2073 6c6f 7065 2066 6f72   # Add slope for
+00006070: 2032 2d70 6978 656c 2073 6567 6d65 6e74   2-pixel segment
+00006080: 2074 6f20 6c69 7374 206f 6620 7269 6768   to list of righ
+00006090: 7420 666c 616e 6b69 6e67 2073 6c6f 7065  t flanking slope
+000060a0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+000060b0: 2020 6966 2070 6561 6b49 6e64 6578 202d    if peakIndex -
+000060c0: 2078 5761 6c6b 203e 2030 3a20 2023 2049   xWalk > 0:  # I
+000060d0: 6620 7175 6572 6965 6420 7069 7865 6c20  f queried pixel 
+000060e0: 6973 2077 6974 6869 6e20 696d 6167 650a  is within image.
+000060f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006100: 2020 2020 736c 6f70 6573 4c65 6674 2e61      slopesLeft.a
+00006110: 7070 656e 6428 6162 7328 2872 6f77 4d65  ppend(abs((rowMe
+00006120: 616e 7352 6967 6874 536d 6f6f 7468 5b70  ansRightSmooth[p
+00006130: 6561 6b49 6e64 6578 202d 2078 5761 6c6b  eakIndex - xWalk
+00006140: 5d20 2d20 726f 774d 6561 6e73 5269 6768  ] - rowMeansRigh
+00006150: 7453 6d6f 6f74 685b 7065 616b 496e 6465  tSmooth[peakInde
+00006160: 7820 2d20 7857 616c 6b20 2b20 325d 2929  x - xWalk + 2]))
+00006170: 202f 2032 2920 2023 2041 6464 2073 6c6f   / 2)  # Add slo
+00006180: 7065 2066 6f72 2032 2d70 6978 656c 2073  pe for 2-pixel s
+00006190: 6567 6d65 6e74 2074 6f20 6c69 7374 206f  egment to list o
+000061a0: 6620 6c65 6674 2066 6c61 6e6b 696e 6720  f left flanking 
+000061b0: 736c 6f70 6573 0a20 2020 2020 2020 2020  slopes.         
+000061c0: 2020 2073 6c6f 7065 4c65 6674 203d 206e     slopeLeft = n
+000061d0: 756d 7079 2e6d 6561 6e28 736c 6f70 6573  umpy.mean(slopes
+000061e0: 4c65 6674 2920 2023 204d 6561 6e20 736c  Left)  # Mean sl
+000061f0: 6f70 6520 746f 206c 6566 7420 6f66 2070  ope to left of p
+00006200: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
+00006210: 736c 6f70 6552 6967 6874 203d 206e 756d  slopeRight = num
+00006220: 7079 2e6d 6561 6e28 736c 6f70 6573 5269  py.mean(slopesRi
+00006230: 6768 7429 2020 2320 4d65 616e 2073 6c6f  ght)  # Mean slo
+00006240: 7065 2074 6f20 7269 6768 7420 6f66 2070  pe to right of p
+00006250: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
+00006260: 736c 6f70 654d 696e 203d 206e 756d 7079  slopeMin = numpy
+00006270: 2e6d 696e 285b 736c 6f70 654c 6566 742c  .min([slopeLeft,
+00006280: 2073 6c6f 7065 5269 6768 745d 2920 2023   slopeRight])  #
+00006290: 2053 6861 6c6c 6f77 6573 7420 736c 6f70   Shallowest slop
+000062a0: 6520 666c 616e 6b69 6e67 2070 6561 6b0a  e flanking peak.
+000062b0: 2020 2020 2020 2020 2020 2020 6966 2070              if p
+000062c0: 6561 6b49 6e64 6578 203e 2031 3020 616e  eakIndex > 10 an
+000062d0: 6420 7065 616b 496e 6465 7820 3c20 3339  d peakIndex < 39
+000062e0: 3020 616e 6420 736c 6f70 654d 696e 203e  0 and slopeMin >
+000062f0: 2030 2e34 353a 2020 2320 4966 2070 6561   0.45:  # If pea
+00006300: 6b20 6973 206e 6f74 2074 6f6f 2063 6c6f  k is not too clo
+00006310: 7365 2074 6f20 7468 6520 6564 6765 206f  se to the edge o
+00006320: 6620 7468 6520 696d 6167 6520 616e 6420  f the image and 
+00006330: 6973 2073 7566 6669 6369 656e 746c 7920  is sufficiently 
+00006340: 7374 6565 7020 2352 4947 4854 4845 5245  steep #RIGHTHERE
+00006350: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006360: 2072 6f77 4d65 616e 7352 6967 6874 4d69   rowMeansRightMi
+00006370: 6e69 6d61 4163 6365 7074 6564 2e61 7070  nimaAccepted.app
+00006380: 656e 6428 7065 616b 496e 6465 7829 2020  end(peakIndex)  
+00006390: 2320 4164 6420 7065 616b 2074 6f20 6c69  # Add peak to li
+000063a0: 7374 206f 6620 6163 6365 7074 6564 2079  st of accepted y
+000063b0: 2070 6f73 6974 696f 6e73 206f 6620 6461   positions of da
+000063c0: 726b 6573 7420 706f 696e 7473 2069 6e20  rkest points in 
+000063d0: 6c65 6674 2072 6567 696f 6e20 6f66 2069  left region of i
+000063e0: 6d61 6765 0a20 2020 200a 2020 2020 2320  mage.    .    # 
+000063f0: 4164 6472 6573 7320 6d69 7373 696e 6720  Address missing 
+00006400: 746f 702f 626f 7474 6f6d 2065 6467 6573  top/bottom edges
+00006410: 0a20 2020 2069 6620 6c65 6e28 726f 774d  .    if len(rowM
+00006420: 6561 6e73 4c65 6674 4d69 6e69 6d61 4163  eansLeftMinimaAc
+00006430: 6365 7074 6564 2920 3e20 303a 0a20 2020  cepted) > 0:.   
+00006440: 2020 2020 2069 6620 6e75 6d70 792e 6d69       if numpy.mi
+00006450: 6e28 726f 774d 6561 6e73 4c65 6674 4d69  n(rowMeansLeftMi
+00006460: 6e69 6d61 4163 6365 7074 6564 2920 3e20  nimaAccepted) > 
+00006470: 3130 3a20 2023 2049 6620 6e6f 2064 6172  10:  # If no dar
+00006480: 6b20 7a6f 6e65 2077 6173 2064 6574 6563  k zone was detec
+00006490: 7465 6420 6f6e 2074 6f70 2065 6467 6520  ted on top edge 
+000064a0: 6f66 2069 6d61 6765 2023 5249 4748 5448  of image #RIGHTH
+000064b0: 4552 450a 2020 2020 2020 2020 2020 2020  ERE.            
+000064c0: 726f 774d 6561 6e73 4c65 6674 4d69 6e69  rowMeansLeftMini
+000064d0: 6d61 4163 6365 7074 6564 2e61 7070 656e  maAccepted.appen
+000064e0: 6428 3329 2020 2320 4164 6420 6f6e 6520  d(3)  # Add one 
+000064f0: 6174 2079 3d33 0a20 2020 2069 6620 6c65  at y=3.    if le
+00006500: 6e28 726f 774d 6561 6e73 5269 6768 744d  n(rowMeansRightM
+00006510: 696e 696d 6141 6363 6570 7465 6429 203e  inimaAccepted) >
+00006520: 2030 3a0a 2020 2020 2020 2020 6966 206e   0:.        if n
+00006530: 756d 7079 2e6d 6178 2872 6f77 4d65 616e  umpy.max(rowMean
+00006540: 7352 6967 6874 4d69 6e69 6d61 4163 6365  sRightMinimaAcce
+00006550: 7074 6564 2920 3c20 3339 303a 2020 2320  pted) < 390:  # 
+00006560: 4966 206e 6f20 6461 726b 207a 6f6e 6520  If no dark zone 
+00006570: 7761 7320 6465 7465 6374 6564 206f 6e20  was detected on 
+00006580: 626f 7474 6f6d 2065 6467 6520 6f66 2069  bottom edge of i
+00006590: 6d61 6765 2023 5249 4748 5448 4552 450a  mage #RIGHTHERE.
+000065a0: 2020 2020 2020 2020 2020 2020 726f 774d              rowM
+000065b0: 6561 6e73 5269 6768 744d 696e 696d 6141  eansRightMinimaA
+000065c0: 6363 6570 7465 642e 6170 7065 6e64 2833  ccepted.append(3
+000065d0: 3937 2920 2023 2041 6464 206f 6e65 2061  97)  # Add one a
+000065e0: 7420 793d 3339 3720 2352 4947 4854 4845  t y=397 #RIGHTHE
+000065f0: 5245 0a20 2020 200a 2020 2020 2320 4372  RE.    .    # Cr
+00006600: 6561 7465 206c 696e 6573 2062 6173 6564  eate lines based
+00006610: 206f 6e20 7061 6972 7320 6f66 2064 6172   on pairs of dar
+00006620: 6b20 7370 6f74 7320 286f 7220 6c61 636b  k spots (or lack
+00006630: 2074 6865 7265 6f66 290a 2020 2020 686f   thereof).    ho
+00006640: 7269 7a6f 6e74 616c 4c69 6e65 536c 6f70  rizontalLineSlop
+00006650: 6573 3120 3d20 5b5d 2020 2320 456d 7074  es1 = []  # Empt
+00006660: 7920 6c69 7374 206f 6620 736c 6f70 6573  y list of slopes
+00006670: 2066 6f72 206d 6574 686f 6420 310a 2020   for method 1.  
+00006680: 2020 686f 7269 7a6f 6e74 616c 4c69 6e65    horizontalLine
+00006690: 496e 7465 7263 6570 7473 3120 3d20 5b5d  Intercepts1 = []
+000066a0: 2020 2320 456d 7074 7920 6c69 7374 206f    # Empty list o
+000066b0: 6620 7920 696e 7465 7263 6570 7473 2066  f y intercepts f
+000066c0: 6f72 206d 6574 686f 6420 310a 2020 2020  or method 1.    
+000066d0: 666f 7220 6d69 6e69 6d75 7349 6e64 6578  for minimusIndex
+000066e0: 2069 6e20 726f 774d 6561 6e73 4c65 6674   in rowMeansLeft
+000066f0: 4d69 6e69 6d61 4163 6365 7074 6564 3a20  MinimaAccepted: 
+00006700: 2023 2046 6f72 2065 6163 6820 7920 706f   # For each y po
+00006710: 7369 7469 6f6e 206f 6620 6120 6461 726b  sition of a dark
+00006720: 2072 6567 696f 6e20 696e 206c 6566 7420   region in left 
+00006730: 7265 6769 6f6e 206f 6620 696d 6167 650a  region of image.
+00006740: 2020 2020 2020 2020 6c65 6674 5956 616c          leftYVal
+00006750: 203d 206d 696e 696d 7573 496e 6465 7820   = minimusIndex 
+00006760: 2023 2053 6574 206c 6566 7420 7265 6769   # Set left regi
+00006770: 6f6e 2079 2076 616c 7565 2074 6f20 6974  on y value to it
+00006780: 7365 6c66 0a20 2020 2020 2020 2072 6967  self.        rig
+00006790: 6874 5956 616c 203d 206d 696e 696d 7573  htYVal = minimus
+000067a0: 496e 6465 7820 2023 2053 6574 2072 6967  Index  # Set rig
+000067b0: 6874 2072 6567 696f 6e20 7920 7661 6c75  ht region y valu
+000067c0: 6520 6571 7561 6c20 746f 206c 6566 7420  e equal to left 
+000067d0: 7265 6769 6f6e 2079 2076 616c 7565 2074  region y value t
+000067e0: 6f20 7374 6172 7420 7769 7468 2c20 696e  o start with, in
+000067f0: 2063 6173 6520 6e6f 2070 6172 7465 7220   case no parter 
+00006800: 6973 2066 6f75 6e64 0a20 2020 2020 2020  is found.       
+00006810: 2066 6f72 2079 5661 6c20 696e 2072 6f77   for yVal in row
+00006820: 4d65 616e 7352 6967 6874 4d69 6e69 6d61  MeansRightMinima
+00006830: 4163 6365 7074 6564 3a20 2023 2046 6f72  Accepted:  # For
+00006840: 2065 6163 6820 7920 706f 7369 7469 6f6e   each y position
+00006850: 206f 6620 6120 6461 726b 2073 706f 7420   of a dark spot 
+00006860: 696e 2074 6865 2072 6967 6874 2072 6567  in the right reg
+00006870: 696f 6e20 6f66 2074 6865 2069 6d61 6765  ion of the image
+00006880: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00006890: 6162 7328 7956 616c 2d6c 6566 7459 5661  abs(yVal-leftYVa
+000068a0: 6c29 203c 3d20 3135 3a20 2023 2049 6620  l) <= 15:  # If 
+000068b0: 7920 706f 7369 7469 6f6e 7320 6f66 206c  y positions of l
+000068c0: 6566 7420 616e 6420 7269 6768 7420 6461  eft and right da
+000068d0: 726b 2073 706f 7473 2061 7265 2031 3520  rk spots are 15 
+000068e0: 7069 7865 6c73 206f 7220 6c65 7373 2064  pixels or less d
+000068f0: 6966 6665 7265 6e74 2028 6163 726f 7373  ifferent (across
+00006900: 207e 3530 3020 686f 7269 7a6f 6e74 616c   ~500 horizontal
+00006910: 2070 6978 656c 732c 206d 6561 6e69 6e67   pixels, meaning
+00006920: 2061 2073 6c6f 7065 206f 6620 3c30 2e30   a slope of <0.0
+00006930: 3329 2023 5249 4748 5448 4552 450a 2020  3) #RIGHTHERE.  
+00006940: 2020 2020 2020 2020 2020 2020 2020 7269                ri
+00006950: 6768 7459 5661 6c20 3d20 7956 616c 2020  ghtYVal = yVal  
+00006960: 2320 5365 7420 7269 6768 7420 7265 6769  # Set right regi
+00006970: 6f6e 2079 2076 616c 7565 2074 6f20 7269  on y value to ri
+00006980: 6768 7420 7265 6769 6f6e 2079 2076 616c  ght region y val
+00006990: 7565 2069 6e20 7175 6573 7469 6f6e 0a20  ue in question. 
+000069a0: 2020 2020 2020 2073 6c6f 7065 203d 2028         slope = (
+000069b0: 7269 6768 7459 5661 6c20 2d20 6c65 6674  rightYVal - left
+000069c0: 5956 616c 2920 2f20 2835 3632 2e35 2d31  YVal) / (562.5-1
+000069d0: 322e 3529 2023 2053 6574 2073 6c6f 7065  2.5) # Set slope
+000069e0: 2074 6f20 736c 6f70 6520 6f66 206c 696e   to slope of lin
+000069f0: 6520 6361 6c63 756c 6174 6564 2061 7320  e calculated as 
+00006a00: 7269 7365 2f72 756e 2066 726f 6d20 6c65  rise/run from le
+00006a10: 6674 2074 6f20 7269 6768 7420 6461 726b  ft to right dark
+00006a20: 2073 706f 7420 2352 4947 4854 4845 5245   spot #RIGHTHERE
+00006a30: 0a20 2020 2020 2020 2069 6e74 6572 6365  .        interce
+00006a40: 7074 203d 2028 6c65 6674 5956 616c 202d  pt = (leftYVal -
+00006a50: 2073 6c6f 7065 202a 2031 322e 3529 2020   slope * 12.5)  
+00006a60: 2320 5365 7420 696e 7465 7263 6570 7420  # Set intercept 
+00006a70: 746f 2063 616c 6375 6c61 7465 6420 696e  to calculated in
+00006a80: 7465 7263 6570 7420 7669 6120 793d 6d78  tercept via y=mx
+00006a90: 2b62 2023 5249 4748 5448 4552 450a 2020  +b #RIGHTHERE.  
+00006aa0: 2020 2020 2020 686f 7269 7a6f 6e74 616c        horizontal
+00006ab0: 4c69 6e65 536c 6f70 6573 312e 6170 7065  LineSlopes1.appe
+00006ac0: 6e64 2873 6c6f 7065 2920 2023 2041 6464  nd(slope)  # Add
+00006ad0: 2073 6c6f 7065 2074 6f20 6c69 7374 206f   slope to list o
+00006ae0: 6620 6d65 7468 6f64 2031 2073 6c6f 7065  f method 1 slope
+00006af0: 730a 2020 2020 2020 2020 686f 7269 7a6f  s.        horizo
+00006b00: 6e74 616c 4c69 6e65 496e 7465 7263 6570  ntalLineIntercep
+00006b10: 7473 312e 6170 7065 6e64 2869 6e74 6572  ts1.append(inter
+00006b20: 6365 7074 2920 2023 2041 6464 2069 6e74  cept)  # Add int
+00006b30: 6572 6365 7074 2074 6f20 6c69 7374 206f  ercept to list o
+00006b40: 6620 6d65 7468 6f64 2031 2069 6e74 6572  f method 1 inter
+00006b50: 6365 7074 730a 2020 2020 0a20 2020 200a  cepts.    .    .
+00006b60: 2020 2020 2320 4d65 7468 6f64 2032 202d      # Method 2 -
+00006b70: 2074 6869 7320 6d65 7468 6f64 2077 6f72   this method wor
+00006b80: 6b73 2062 6574 7465 7220 666f 7220 696d  ks better for im
+00006b90: 6167 6573 2077 6974 6820 636c 6561 726c  ages with clearl
+00006ba0: 7920 6465 6669 6e65 6420 7261 6365 2074  y defined race t
+00006bb0: 7562 6573 2077 6974 6820 6665 7720 6461  ubes with few da
+00006bc0: 726b 2073 706f 7473 2069 6e20 7468 656d  rk spots in them
+00006bd0: 0a20 2020 2023 2044 6574 6563 7420 6361  .    # Detect ca
+00006be0: 6e6e 7920 6564 6765 7320 616e 6420 7061  nny edges and pa
+00006bf0: 7273 6520 6f75 7420 6c69 6b65 6c79 206c  rse out likely l
+00006c00: 6f6e 6720 6c69 6e65 730a 2020 2020 6361  ong lines.    ca
+00006c10: 6e6e 7945 6467 6573 203d 2063 616e 6e79  nnyEdges = canny
+00006c20: 2869 6d61 6765 2c20 322c 2031 2c20 3235  (image, 2, 1, 25
+00006c30: 2920 2023 2044 6574 6563 7420 6361 6e6e  )  # Detect cann
+00006c40: 7920 6564 6765 7320 696e 2067 7265 7973  y edges in greys
+00006c50: 6361 6c65 2069 6d61 6765 0a20 2020 206c  cale image.    l
+00006c60: 696b 656c 7948 6f72 697a 6f6e 7461 6c4c  ikelyHorizontalL
+00006c70: 696e 6573 203d 2070 726f 6261 6269 6c69  ines = probabili
+00006c80: 7374 6963 5f68 6f75 6768 5f6c 696e 6528  stic_hough_line(
+00006c90: 6361 6e6e 7945 6467 6573 2c20 7468 7265  cannyEdges, thre
+00006ca0: 7368 6f6c 643d 3130 2c20 6c69 6e65 5f6c  shold=10, line_l
+00006cb0: 656e 6774 683d 3735 2c20 6c69 6e65 5f67  ength=75, line_g
+00006cc0: 6170 3d35 2920 2023 2047 6574 206c 6f6e  ap=5)  # Get lon
+00006cd0: 6720 6c69 6e65 7320 6672 6f6d 2063 616e  g lines from can
+00006ce0: 6e79 2065 6467 6573 2023 5249 4748 5448  ny edges #RIGHTH
+00006cf0: 4552 450a 2020 2020 0a20 2020 2023 2041  ERE.    .    # A
+00006d00: 6363 6570 7420 616e 7920 6c69 6e65 7320  ccept any lines 
+00006d10: 7468 6174 2061 7265 2073 7566 6669 6369  that are suffici
+00006d20: 656e 746c 7920 686f 7269 7a6f 6e74 616c  ently horizontal
+00006d30: 0a20 2020 2068 6f72 697a 6f6e 7461 6c4c  .    horizontalL
+00006d40: 696e 6553 6c6f 7065 7332 203d 205b 5d20  ineSlopes2 = [] 
+00006d50: 2023 2045 6d70 7479 206c 6973 7420 6f66   # Empty list of
+00006d60: 2073 6c6f 7065 7320 6672 6f6d 206d 6574   slopes from met
+00006d70: 686f 6420 320a 2020 2020 686f 7269 7a6f  hod 2.    horizo
+00006d80: 6e74 616c 4c69 6e65 496e 7465 7263 6570  ntalLineIntercep
+00006d90: 7473 3220 3d20 5b5d 2020 2320 456d 7074  ts2 = []  # Empt
+00006da0: 7920 6c69 7374 206f 6620 7920 696e 7465  y list of y inte
+00006db0: 7263 6570 7473 2066 726f 6d20 6d65 7468  rcepts from meth
+00006dc0: 6f64 2032 0a20 2020 2066 6f72 206c 696e  od 2.    for lin
+00006dd0: 6520 696e 206c 696b 656c 7948 6f72 697a  e in likelyHoriz
+00006de0: 6f6e 7461 6c4c 696e 6573 3a20 2023 2046  ontalLines:  # F
+00006df0: 6f72 2065 6163 6820 7072 6f62 6162 696c  or each probabil
+00006e00: 6973 7469 6320 686f 7567 6820 6c69 6e65  istic hough line
+00006e10: 0a20 2020 2020 2020 2069 6620 286c 696e  .        if (lin
+00006e20: 655b 315d 5b30 5d20 2d20 6c69 6e65 5b30  e[1][0] - line[0
+00006e30: 5d5b 305d 2920 3d3d 2030 3a20 2023 2049  ][0]) == 0:  # I
+00006e40: 6620 6c69 6e65 2069 7320 7665 7274 6963  f line is vertic
+00006e50: 616c 0a20 2020 2020 2020 2020 2020 2073  al.            s
+00006e60: 6c6f 7065 203d 206e 756d 7079 2e69 6e66  lope = numpy.inf
+00006e70: 2020 2320 5365 7420 736c 6f70 6520 746f    # Set slope to
+00006e80: 2069 6e66 696e 6974 7920 746f 2061 766f   infinity to avo
+00006e90: 6964 2064 6976 6964 696e 6720 6279 2030  id dividing by 0
+00006ea0: 0a20 2020 2020 2020 2065 6c73 653a 2020  .        else:  
+00006eb0: 2320 4966 206c 696e 6520 6973 206e 6f74  # If line is not
+00006ec0: 2076 6572 7469 6361 6c0a 2020 2020 2020   vertical.      
+00006ed0: 2020 2020 2020 736c 6f70 6520 3d20 286c        slope = (l
+00006ee0: 696e 655b 315d 5b31 5d20 2d20 6c69 6e65  ine[1][1] - line
+00006ef0: 5b30 5d5b 315d 2920 2f20 286c 696e 655b  [0][1]) / (line[
+00006f00: 315d 5b30 5d20 2d20 6c69 6e65 5b30 5d5b  1][0] - line[0][
+00006f10: 305d 2920 2023 2053 6574 2073 6c6f 7065  0])  # Set slope
+00006f20: 2074 6f20 736c 6f70 6520 6f66 206c 696e   to slope of lin
+00006f30: 6520 6361 6c63 756c 6174 6564 2061 7320  e calculated as 
+00006f40: 7269 7365 2f72 756e 0a20 2020 2020 2020  rise/run.       
+00006f50: 2069 6e74 6572 6365 7074 203d 2028 6c69   intercept = (li
+00006f60: 6e65 5b30 5d5b 315d 202d 2073 6c6f 7065  ne[0][1] - slope
+00006f70: 202a 206c 696e 655b 305d 5b30 5d29 2020   * line[0][0])  
+00006f80: 2320 5365 7420 696e 7465 7263 6570 7420  # Set intercept 
+00006f90: 746f 2069 6e74 6572 6365 7074 206f 6620  to intercept of 
+00006fa0: 6c69 6e65 2063 616c 6375 6c61 7465 6420  line calculated 
+00006fb0: 7573 696e 6720 736c 6f70 6520 616e 6420  using slope and 
+00006fc0: 7920 706f 7369 7469 6f6e 0a20 2020 2020  y position.     
+00006fd0: 2020 2069 6620 6162 7328 736c 6f70 6529     if abs(slope)
+00006fe0: 203c 2032 3a20 2023 2049 6620 736c 6f70   < 2:  # If slop
+00006ff0: 6520 6973 206e 6f74 2074 6f6f 2073 7465  e is not too ste
+00007000: 6570 0a20 2020 2020 2020 2020 2020 2069  ep.            i
+00007010: 7344 7570 6c69 6361 7465 203d 2030 0a20  sDuplicate = 0. 
+00007020: 2020 2020 2020 2020 2020 2066 6f72 2061             for a
+00007030: 6363 6570 7465 644c 696e 6549 6e74 6572  cceptedLineInter
+00007040: 6365 7074 2069 6e20 686f 7269 7a6f 6e74  cept in horizont
+00007050: 616c 4c69 6e65 496e 7465 7263 6570 7473  alLineIntercepts
+00007060: 323a 0a20 2020 2020 2020 2020 2020 2020  2:.             
+00007070: 2020 2069 6620 6162 7328 6163 6365 7074     if abs(accept
+00007080: 6564 4c69 6e65 496e 7465 7263 6570 7420  edLineIntercept 
+00007090: 2d20 696e 7465 7263 6570 7429 203c 2034  - intercept) < 4
+000070a0: 3520 6f72 2061 6273 286e 756d 7079 2e6d  5 or abs(numpy.m
+000070b0: 6561 6e28 686f 7269 7a6f 6e74 616c 4c69  ean(horizontalLi
+000070c0: 6e65 536c 6f70 6573 3229 202d 2073 6c6f  neSlopes2) - slo
+000070d0: 7065 2920 3e20 302e 3031 3520 6f72 206e  pe) > 0.015 or n
+000070e0: 756d 7079 2e73 6967 6e28 6e75 6d70 792e  umpy.sign(numpy.
+000070f0: 6d65 616e 2868 6f72 697a 6f6e 7461 6c4c  mean(horizontalL
+00007100: 696e 6553 6c6f 7065 7332 2929 2021 3d20  ineSlopes2)) != 
+00007110: 6e75 6d70 792e 7369 676e 2873 6c6f 7065  numpy.sign(slope
+00007120: 293a 2023 5249 4748 5448 4552 450a 2020  ): #RIGHTHERE.  
+00007130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007140: 2020 6973 4475 706c 6963 6174 6520 3d20    isDuplicate = 
+00007150: 310a 2020 2020 2020 2020 2020 2020 6966  1.            if
+00007160: 2069 7344 7570 6c69 6361 7465 203d 3d20   isDuplicate == 
+00007170: 303a 0a20 2020 2020 2020 2020 2020 2020  0:.             
+00007180: 2020 2068 6f72 697a 6f6e 7461 6c4c 696e     horizontalLin
+00007190: 6553 6c6f 7065 7332 2e61 7070 656e 6428  eSlopes2.append(
+000071a0: 736c 6f70 6529 2020 2320 4164 6420 736c  slope)  # Add sl
+000071b0: 6f70 6520 746f 2073 6c6f 7065 206c 6973  ope to slope lis
+000071c0: 7420 666f 7220 6d65 7468 6f64 2032 0a20  t for method 2. 
+000071d0: 2020 2020 2020 2020 2020 2020 2020 2068                 h
+000071e0: 6f72 697a 6f6e 7461 6c4c 696e 6549 6e74  orizontalLineInt
+000071f0: 6572 6365 7074 7332 2e61 7070 656e 6428  ercepts2.append(
+00007200: 696e 7465 7263 6570 7429 2020 2320 4164  intercept)  # Ad
+00007210: 6420 696e 7465 7263 6570 7420 746f 2069  d intercept to i
+00007220: 6e74 6572 6365 7074 206c 6973 7420 666f  ntercept list fo
+00007230: 7220 6d65 7468 6f64 2032 0a20 2020 200a  r method 2.    .
+00007240: 2020 2020 2320 4164 6472 6573 7320 6d69      # Address mi
+00007250: 7373 696e 6720 746f 702f 626f 7474 6f6d  ssing top/bottom
+00007260: 2065 6467 6573 0a20 2020 206d 6561 6e54   edges.    meanT
+00007270: 7562 6553 6c6f 7065 4d65 7468 6f64 3220  ubeSlopeMethod2 
+00007280: 3d20 6e75 6d70 792e 6d65 616e 2868 6f72  = numpy.mean(hor
+00007290: 697a 6f6e 7461 6c4c 696e 6553 6c6f 7065  izontalLineSlope
+000072a0: 7332 2920 2320 5365 7420 6d65 7468 6f64  s2) # Set method
+000072b0: 2032 206d 6561 6e20 736c 6f70 650a 2020   2 mean slope.  
+000072c0: 2020 6966 206c 656e 2868 6f72 697a 6f6e    if len(horizon
+000072d0: 7461 6c4c 696e 6549 6e74 6572 6365 7074  talLineIntercept
+000072e0: 7332 2920 3e20 303a 0a20 2020 2020 2020  s2) > 0:.       
+000072f0: 2069 6620 6e75 6d70 792e 6d69 6e28 686f   if numpy.min(ho
+00007300: 7269 7a6f 6e74 616c 4c69 6e65 496e 7465  rizontalLineInte
+00007310: 7263 6570 7473 3229 203e 2031 303a 2020  rcepts2) > 10:  
+00007320: 2320 4966 206e 6f20 6c69 6e65 2077 6173  # If no line was
+00007330: 2064 6574 6563 7465 6420 6f6e 2074 6f70   detected on top
+00007340: 2065 6467 6520 6f66 2069 6d61 6765 2023   edge of image #
+00007350: 5249 4748 5448 4552 450a 2020 2020 2020  RIGHTHERE.      
+00007360: 2020 2020 2020 686f 7269 7a6f 6e74 616c        horizontal
+00007370: 4c69 6e65 496e 7465 7263 6570 7473 322e  LineIntercepts2.
+00007380: 6170 7065 6e64 2833 2920 2023 2041 6464  append(3)  # Add
+00007390: 206f 6e65 2077 6974 6820 616e 2069 6e74   one with an int
+000073a0: 6572 6365 7074 2061 7420 793d 330a 2020  ercept at y=3.  
+000073b0: 2020 2020 2020 2020 2020 686f 7269 7a6f            horizo
+000073c0: 6e74 616c 4c69 6e65 536c 6f70 6573 322e  ntalLineSlopes2.
+000073d0: 6170 7065 6e64 286d 6561 6e54 7562 6553  append(meanTubeS
+000073e0: 6c6f 7065 4d65 7468 6f64 3229 2020 2320  lopeMethod2)  # 
+000073f0: 416e 6420 6120 736c 6f70 6520 7769 7468  And a slope with
+00007400: 2074 6865 206d 6561 6e20 6d65 7468 6f64   the mean method
+00007410: 2032 206c 696e 6520 736c 6f70 650a 2020   2 line slope.  
+00007420: 2020 2020 2020 6966 206e 756d 7079 2e6d        if numpy.m
+00007430: 6178 2868 6f72 697a 6f6e 7461 6c4c 696e  ax(horizontalLin
+00007440: 6549 6e74 6572 6365 7074 7332 2920 3c20  eIntercepts2) < 
+00007450: 3339 303a 2020 2320 4966 206e 6f20 6c69  390:  # If no li
+00007460: 6e65 2077 6173 2064 6574 6563 7465 6420  ne was detected 
+00007470: 6f6e 2062 6f74 746f 6d20 6564 6765 206f  on bottom edge o
+00007480: 6620 696d 6167 6520 2352 4947 4854 4845  f image #RIGHTHE
+00007490: 5245 0a20 2020 2020 2020 2020 2020 2068  RE.            h
+000074a0: 6f72 697a 6f6e 7461 6c4c 696e 6549 6e74  orizontalLineInt
+000074b0: 6572 6365 7074 7332 2e61 7070 656e 6428  ercepts2.append(
+000074c0: 3339 3729 2020 2320 4164 6420 6f6e 6520  397)  # Add one 
+000074d0: 7769 7468 2061 6e20 696e 7465 7263 6570  with an intercep
+000074e0: 7420 6174 2079 3d33 3937 2023 5249 4748  t at y=397 #RIGH
+000074f0: 5448 4552 450a 2020 2020 2020 2020 2020  THERE.          
+00007500: 2020 686f 7269 7a6f 6e74 616c 4c69 6e65    horizontalLine
+00007510: 536c 6f70 6573 322e 6170 7065 6e64 286d  Slopes2.append(m
+00007520: 6561 6e54 7562 6553 6c6f 7065 4d65 7468  eanTubeSlopeMeth
+00007530: 6f64 3229 2020 2320 416e 6420 6120 736c  od2)  # And a sl
+00007540: 6f70 6520 7769 7468 2074 6865 206d 6561  ope with the mea
+00007550: 6e20 6d65 7468 6f64 2032 206c 696e 6520  n method 2 line 
+00007560: 736c 6f70 650a 2020 2020 0a20 2020 2023  slope.    .    #
+00007570: 2050 6963 6b20 7768 6963 6820 6d65 7468   Pick which meth
+00007580: 6f64 2773 206c 696e 6573 2074 6f20 7573  od's lines to us
+00007590: 650a 2020 2020 6966 206c 656e 2868 6f72  e.    if len(hor
+000075a0: 697a 6f6e 7461 6c4c 696e 6549 6e74 6572  izontalLineInter
+000075b0: 6365 7074 7331 2920 3e20 6c65 6e28 686f  cepts1) > len(ho
+000075c0: 7269 7a6f 6e74 616c 4c69 6e65 496e 7465  rizontalLineInte
+000075d0: 7263 6570 7473 3229 3a20 2023 2049 6620  rcepts2):  # If 
+000075e0: 7468 6572 6520 6172 6520 6d6f 7265 206c  there are more l
+000075f0: 696e 6573 2069 6465 6e74 6966 6965 6420  ines identified 
+00007600: 6279 206d 6574 686f 6420 3120 7468 616e  by method 1 than
+00007610: 206d 6574 686f 6420 320a 2020 2020 2020   method 2.      
+00007620: 2020 686f 7269 7a6f 6e74 616c 4c69 6e65    horizontalLine
+00007630: 496e 7465 7263 6570 7473 203d 2068 6f72  Intercepts = hor
+00007640: 697a 6f6e 7461 6c4c 696e 6549 6e74 6572  izontalLineInter
+00007650: 6365 7074 7331 2020 2320 4163 6365 7074  cepts1  # Accept
+00007660: 206d 6574 686f 6420 3127 7320 696e 7465   method 1's inte
+00007670: 7263 6570 7473 0a20 2020 2020 2020 2068  rcepts.        h
+00007680: 6f72 697a 6f6e 7461 6c4c 696e 6553 6c6f  orizontalLineSlo
+00007690: 7065 7320 3d20 686f 7269 7a6f 6e74 616c  pes = horizontal
+000076a0: 4c69 6e65 536c 6f70 6573 3120 2023 2041  LineSlopes1  # A
+000076b0: 6363 6570 7420 6d65 7468 6f64 2031 2773  ccept method 1's
+000076c0: 2073 6c6f 7065 730a 2020 2020 656c 7365   slopes.    else
+000076d0: 3a20 2023 2049 6620 7468 6572 6520 6172  :  # If there ar
+000076e0: 6520 6d6f 7265 206c 696e 6573 2069 6465  e more lines ide
+000076f0: 6e74 6966 6965 6420 6279 206d 6574 686f  ntified by metho
+00007700: 6420 320a 2020 2020 2020 2020 686f 7269  d 2.        hori
+00007710: 7a6f 6e74 616c 4c69 6e65 496e 7465 7263  zontalLineInterc
+00007720: 6570 7473 203d 2068 6f72 697a 6f6e 7461  epts = horizonta
+00007730: 6c4c 696e 6549 6e74 6572 6365 7074 7332  lLineIntercepts2
+00007740: 2020 2320 4163 6365 7074 206d 6574 686f    # Accept metho
+00007750: 6420 3227 7320 696e 7465 7263 6570 7473  d 2's intercepts
+00007760: 0a20 2020 2020 2020 2068 6f72 697a 6f6e  .        horizon
+00007770: 7461 6c4c 696e 6553 6c6f 7065 7320 3d20  talLineSlopes = 
+00007780: 686f 7269 7a6f 6e74 616c 4c69 6e65 536c  horizontalLineSl
+00007790: 6f70 6573 3220 2023 2041 6363 6570 7420  opes2  # Accept 
+000077a0: 6d65 7468 6f64 2032 2773 2073 6c6f 7065  method 2's slope
+000077b0: 730a 2020 2020 6966 206c 656e 2868 6f72  s.    if len(hor
+000077c0: 697a 6f6e 7461 6c4c 696e 6549 6e74 6572  izontalLineInter
+000077d0: 6365 7074 7329 203e 2034 3a20 2320 4966  cepts) > 4: # If
+000077e0: 206d 6f72 6520 7468 616e 2034 2074 6f74   more than 4 tot
+000077f0: 616c 206c 696e 6573 2061 7265 2069 6465  al lines are ide
+00007800: 6e74 6966 6965 640a 2020 2020 2020 2020  ntified.        
+00007810: 6d65 616e 5475 6265 536c 6f70 6520 3d20  meanTubeSlope = 
+00007820: 6e75 6d70 792e 6d65 616e 2868 6f72 697a  numpy.mean(horiz
+00007830: 6f6e 7461 6c4c 696e 6553 6c6f 7065 7329  ontalLineSlopes)
+00007840: 2020 2320 5365 7420 6d65 616e 2073 6c6f    # Set mean slo
+00007850: 7065 206f 6620 686f 7269 7a6f 6e74 616c  pe of horizontal
+00007860: 2074 7562 6520 626f 756e 6461 7279 206c   tube boundary l
+00007870: 696e 6573 0a20 2020 2065 6c73 653a 2020  ines.    else:  
+00007880: 2320 4966 2034 206f 7220 6c65 7373 2074  # If 4 or less t
+00007890: 6f74 616c 206c 696e 6573 2061 7265 2069  otal lines are i
+000078a0: 6465 6e74 6966 6965 640a 2020 2020 2020  dentified.      
+000078b0: 2020 6d65 616e 5475 6265 536c 6f70 6520    meanTubeSlope 
+000078c0: 3d20 3020 2023 2053 6574 206d 6561 6e20  = 0  # Set mean 
+000078d0: 736c 6f70 6520 6f66 2068 6f72 697a 6f6e  slope of horizon
+000078e0: 7461 6c20 6c69 6e65 7320 746f 2030 2c20  tal lines to 0, 
+000078f0: 6163 7475 616c 206d 6561 6e20 6973 206c  actual mean is l
+00007900: 696b 656c 7920 6e6f 7420 7665 7279 2073  ikely not very s
+00007910: 6967 6e69 6669 6361 6e74 0a20 2020 200a  ignificant.    .
+00007920: 2020 2020 7265 7475 726e 2068 6f72 697a      return horiz
+00007930: 6f6e 7461 6c4c 696e 6553 6c6f 7065 732c  ontalLineSlopes,
+00007940: 2068 6f72 697a 6f6e 7461 6c4c 696e 6549   horizontalLineI
+00007950: 6e74 6572 6365 7074 732c 206d 6561 6e54  ntercepts, meanT
+00007960: 7562 6553 6c6f 7065 0a0a 0a64 6566 2069  ubeSlope...def i
+00007970: 6465 6e74 6966 7952 6163 6554 7562 6542  dentifyRaceTubeB
+00007980: 6f75 6e64 7328 293a 0a20 2020 2022 2222  ounds():.    """
+00007990: 4964 656e 7469 6679 2062 6f75 6e64 6172  Identify boundar
+000079a0: 6965 7320 6f66 2074 7562 6573 2069 6e20  ies of tubes in 
+000079b0: 696d 6167 6520 6261 7365 6420 6f6e 2068  image based on h
+000079c0: 6f72 697a 6f6e 7461 6c20 6c69 6e65 732e  orizontal lines.
+000079d0: 2222 220a 2020 2020 0a20 2020 200a 2020  """.    .    .  
+000079e0: 2020 676c 6f62 616c 2061 6e61 6c53 7461    global analSta
+000079f0: 7465 0a20 2020 2067 6c6f 6261 6c20 686f  te.    global ho
+00007a00: 7269 7a6f 6e74 616c 4c69 6e65 730a 2020  rizontalLines.  
+00007a10: 2020 676c 6f62 616c 206d 6561 6e54 7562    global meanTub
+00007a20: 6557 6964 7468 0a20 2020 2067 6c6f 6261  eWidth.    globa
+00007a30: 6c20 7072 656c 696d 436f 6e74 656e 7473  l prelimContents
+00007a40: 0a20 2020 2067 6c6f 6261 6c20 7475 6265  .    global tube
+00007a50: 426f 756e 6473 0a0a 0a20 2020 2061 6e61  Bounds...    ana
+00007a60: 6c53 7461 7465 203d 2033 2020 2320 5365  lState = 3  # Se
+00007a70: 7420 616e 616c 7973 6973 2073 7461 7465  t analysis state
+00007a80: 2074 6f20 330a 2020 2020 666f 7220 6c69   to 3.    for li
+00007a90: 6e65 2069 6e20 7261 6e67 6528 312c 206c  ne in range(1, l
+00007aa0: 656e 2868 6f72 697a 6f6e 7461 6c4c 696e  en(horizontalLin
+00007ab0: 6573 2929 3a20 2023 2046 6f72 2065 6163  es)):  # For eac
+00007ac0: 6820 6761 7020 6265 7477 6565 6e20 686f  h gap between ho
+00007ad0: 7269 7a6f 6e74 616c 206c 696e 6573 0a20  rizontal lines. 
+00007ae0: 2020 2020 2020 2070 7265 6c69 6d43 6f6e         prelimCon
+00007af0: 7465 6e74 732e 6170 7065 6e64 285b 7374  tents.append([st
+00007b00: 7228 6c69 6e65 292c 2022 222c 2022 225d  r(line), "", ""]
+00007b10: 2920 2023 2041 6464 2061 2072 6f77 2074  )  # Add a row t
+00007b20: 6f20 7072 656c 696d 696e 6172 7920 6461  o preliminary da
+00007b30: 7461 2063 6f6e 7465 6e74 7320 6c69 7374  ta contents list
+00007b40: 0a20 2020 2075 7064 6174 6550 7265 6c69  .    updatePreli
+00007b50: 6d69 6e61 7279 4461 7461 4469 7370 6c61  minaryDataDispla
+00007b60: 7928 2920 2023 2055 7064 6174 6520 7072  y()  # Update pr
+00007b70: 656c 696d 696e 6172 7920 636f 6e74 656e  eliminary conten
+00007b80: 7473 2074 6578 7420 626f 7820 7769 7468  ts text box with
+00007b90: 206e 6577 2063 6f6e 7465 6e74 730a 2020   new contents.  
+00007ba0: 2020 686f 6d65 5461 6243 6f6e 736f 6c65    homeTabConsole
+00007bb0: 5465 7874 426f 782e 7661 6c75 6520 3d20  TextBox.value = 
+00007bc0: 2822 4964 656e 7469 6679 696e 6720 7261  ("Identifying ra
+00007bd0: 6365 2074 7562 6520 7265 6769 6f6e 732e  ce tube regions.
+00007be0: 2e2e 2229 2020 2320 5365 7420 636f 6e73  ..")  # Set cons
+00007bf0: 6f6c 6520 626f 7820 7465 7874 2074 6f20  ole box text to 
+00007c00: 616e 616c 7973 6973 2073 7465 7020 6465  analysis step de
+00007c10: 7363 7269 7074 696f 6e0a 2020 2020 0a20  scription.    . 
+00007c20: 2020 2074 7562 6542 6f75 6e64 732c 206d     tubeBounds, m
+00007c30: 6561 6e54 7562 6557 6964 7468 203d 2071  eanTubeWidth = q
+00007c40: 4964 656e 7469 6679 5261 6365 5475 6265  IdentifyRaceTube
+00007c50: 426f 756e 6473 2868 6f72 697a 6f6e 7461  Bounds(horizonta
+00007c60: 6c4c 696e 6573 290a 2020 2020 0a20 2020  lLines).    .   
+00007c70: 2069 6465 6e74 6966 7954 696d 654d 6172   identifyTimeMar
+00007c80: 6b73 2829 2020 2320 4265 6769 6e20 616e  ks()  # Begin an
+00007c90: 616c 7973 6973 206f 6620 7469 6d65 206d  alysis of time m
+00007ca0: 6172 6b20 6c6f 6361 7469 6f6e 730a 0a0a  ark locations...
+00007cb0: 6465 6620 7149 6465 6e74 6966 7952 6163  def qIdentifyRac
+00007cc0: 6554 7562 6542 6f75 6e64 7328 686f 7269  eTubeBounds(hori
+00007cd0: 7a6f 6e74 616c 4c69 6e65 7329 3a0a 0a20  zontalLines):.. 
+00007ce0: 2020 2068 6f72 697a 6f6e 7461 6c4c 696e     horizontalLin
+00007cf0: 6573 2e73 6f72 7428 6b65 793d 6c61 6d62  es.sort(key=lamb
+00007d00: 6461 2078 3a20 785b 315d 2920 2023 2053  da x: x[1])  # S
+00007d10: 6f72 7420 686f 7269 7a6f 6e74 616c 206c  ort horizontal l
+00007d20: 696e 6573 2062 7920 7920 7661 6c75 6520  ines by y value 
+00007d30: 6f66 2069 6e74 6572 6365 7074 7320 2869  of intercepts (i
+00007d40: 6520 746f 7020 746f 2062 6f74 746f 6d20  e top to bottom 
+00007d50: 6f66 2069 6d61 6765 290a 2020 2020 7475  of image).    tu
+00007d60: 6265 436f 756e 7420 3d20 286c 656e 2868  beCount = (len(h
+00007d70: 6f72 697a 6f6e 7461 6c4c 696e 6573 2920  orizontalLines) 
+00007d80: 2d20 3129 2020 2320 5365 7420 6e75 6d62  - 1)  # Set numb
+00007d90: 6572 206f 6620 7475 6265 7320 746f 206f  er of tubes to o
+00007da0: 6e65 206c 6573 7320 7468 616e 206e 756d  ne less than num
+00007db0: 6265 7220 6f66 2062 6f75 6e64 6172 7920  ber of boundary 
+00007dc0: 6c69 6e65 730a 2020 2020 7475 6265 5769  lines.    tubeWi
+00007dd0: 6474 6873 203d 205b 5d20 2023 2042 6c61  dths = []  # Bla
+00007de0: 6e6b 206c 6973 7420 6f66 2074 7562 6520  nk list of tube 
+00007df0: 7769 6474 6873 0a20 2020 2066 6f72 2074  widths.    for t
+00007e00: 7562 6520 696e 2072 616e 6765 2830 2c20  ube in range(0, 
+00007e10: 7475 6265 436f 756e 7429 3a20 2023 2046  tubeCount):  # F
+00007e20: 6f72 2065 6163 6820 7475 6265 2069 6e20  or each tube in 
+00007e30: 696d 6167 650a 2020 2020 2020 2020 7061  image.        pa
+00007e40: 6972 7320 3d20 5b5d 2020 2320 426c 616e  irs = []  # Blan
+00007e50: 6b20 6c69 7374 206f 6620 7475 6265 2062  k list of tube b
+00007e60: 6f75 6e64 6172 7920 7920 706f 7369 7469  oundary y positi
+00007e70: 6f6e 2064 6f75 626c 6573 0a20 2020 2020  on doubles.     
+00007e80: 2020 2066 6f72 2078 2069 6e20 7261 6e67     for x in rang
+00007e90: 6528 302c 2031 3136 3029 3a20 2023 2046  e(0, 1160):  # F
+00007ea0: 6f72 2065 6163 6820 7820 616c 6f6e 6720  or each x along 
+00007eb0: 7820 6178 6973 206f 6620 696d 6167 6520  x axis of image 
+00007ec0: 2352 4947 4854 4845 5245 0a20 2020 2020  #RIGHTHERE.     
+00007ed0: 2020 2020 2020 2079 4d69 6e20 3d20 2868         yMin = (h
+00007ee0: 6f72 697a 6f6e 7461 6c4c 696e 6573 5b74  orizontalLines[t
+00007ef0: 7562 655d 5b30 5d20 2a20 7820 2b20 686f  ube][0] * x + ho
+00007f00: 7269 7a6f 6e74 616c 4c69 6e65 735b 7475  rizontalLines[tu
+00007f10: 6265 5d5b 315d 2920 2023 2053 6574 206c  be][1])  # Set l
+00007f20: 6f77 2079 2074 6f20 6c6f 7765 7220 626f  ow y to lower bo
+00007f30: 756e 6420 736c 6f70 6520 2a20 7820 2b20  und slope * x + 
+00007f40: 6c6f 7765 7220 626f 756e 6420 7920 696e  lower bound y in
+00007f50: 7465 7263 6570 740a 2020 2020 2020 2020  tercept.        
+00007f60: 2020 2020 794d 6178 203d 2028 686f 7269      yMax = (hori
+00007f70: 7a6f 6e74 616c 4c69 6e65 735b 7475 6265  zontalLines[tube
+00007f80: 202b 2031 5d5b 305d 202a 2078 202b 2068   + 1][0] * x + h
+00007f90: 6f72 697a 6f6e 7461 6c4c 696e 6573 5b74  orizontalLines[t
+00007fa0: 7562 6520 2b20 315d 5b31 5d29 2020 2320  ube + 1][1])  # 
+00007fb0: 5365 7420 6869 6768 2079 2074 6f20 6869  Set high y to hi
+00007fc0: 6768 6572 2062 6f75 6e64 2073 6c6f 7065  gher bound slope
+00007fd0: 202a 2078 202b 2068 6967 6865 7220 626f   * x + higher bo
+00007fe0: 756e 6420 7920 696e 7465 7263 6570 740a  und y intercept.
+00007ff0: 2020 2020 2020 2020 2020 2020 7061 6972              pair
+00008000: 732e 6170 7065 6e64 285b 794d 696e 2c20  s.append([yMin, 
+00008010: 794d 6178 5d29 2020 2320 4164 6420 646f  yMax])  # Add do
+00008020: 7562 6c65 206f 6620 7920 626f 756e 6473  uble of y bounds
+00008030: 2074 6f20 7261 6e67 6573 206c 6973 740a   to ranges list.
+00008040: 2020 2020 2020 2020 2020 2020 7475 6265              tube
+00008050: 5769 6474 6873 2e61 7070 656e 6428 794d  Widths.append(yM
+00008060: 6178 202d 2079 4d69 6e29 2020 2320 4164  ax - yMin)  # Ad
+00008070: 6420 6469 6666 6572 656e 6365 2069 6e20  d difference in 
+00008080: 7920 626f 756e 6473 2074 6f20 7769 6474  y bounds to widt
+00008090: 6873 206c 6973 740a 2020 2020 2020 2020  hs list.        
+000080a0: 7475 6265 426f 756e 6473 2e61 7070 656e  tubeBounds.appen
+000080b0: 6428 7061 6972 7329 2020 2320 4164 6420  d(pairs)  # Add 
+000080c0: 7261 6e67 6573 2066 6f72 2074 7562 6520  ranges for tube 
+000080d0: 746f 206c 6973 7420 6f66 2074 7562 6520  to list of tube 
+000080e0: 7261 6e67 6573 0a20 2020 206d 6561 6e54  ranges.    meanT
+000080f0: 7562 6557 6964 7468 203d 206e 756d 7079  ubeWidth = numpy
+00008100: 2e6d 6561 6e28 7475 6265 5769 6474 6873  .mean(tubeWidths
+00008110: 2920 2023 2053 6574 206d 6561 6e20 7475  )  # Set mean tu
+00008120: 6265 2077 6964 7468 2074 6f20 6d65 616e  be width to mean
+00008130: 206f 6620 7475 6265 2077 6964 7468 730a   of tube widths.
+00008140: 2020 2020 0a20 2020 2072 6574 7572 6e20      .    return 
+00008150: 7475 6265 426f 756e 6473 2c20 6d65 616e  tubeBounds, mean
+00008160: 5475 6265 5769 6474 680a 0a0a 6465 6620  TubeWidth...def 
+00008170: 6964 656e 7469 6679 5469 6d65 4d61 726b  identifyTimeMark
+00008180: 7328 293a 0a20 2020 2022 2222 416e 616c  s():.    """Anal
+00008190: 797a 6520 706f 7369 7469 6f6e 7320 6f66  yze positions of
+000081a0: 2076 6572 7469 6361 6c20 7469 6d65 206d   vertical time m
+000081b0: 6172 6b73 2069 6e20 7475 6265 732e 2222  arks in tubes.""
+000081c0: 220a 0a0a 2020 2020 676c 6f62 616c 2066  "...    global f
+000081d0: 696e 616c 496d 6167 650a 2020 2020 676c  inalImage.    gl
+000081e0: 6f62 616c 2061 6e61 6c53 7461 7465 0a20  obal analState. 
+000081f0: 2020 2067 6c6f 6261 6c20 7475 6265 426f     global tubeBo
+00008200: 756e 6473 0a20 2020 2067 6c6f 6261 6c20  unds.    global 
+00008210: 7469 6d65 4d61 726b 4c69 6e65 730a 0a0a  timeMarkLines...
+00008220: 2020 2020 616e 616c 5374 6174 6520 3d20      analState = 
+00008230: 3420 2023 2053 6574 2061 6e61 6c79 7369  4  # Set analysi
+00008240: 7320 7374 6174 6520 746f 2034 0a20 2020  s state to 4.   
+00008250: 2063 6f6e 7472 6173 7465 7220 3d20 496d   contraster = Im
+00008260: 6167 6545 6e68 616e 6365 2e43 6f6e 7472  ageEnhance.Contr
+00008270: 6173 7428 6669 6e61 6c49 6d61 6765 2e63  ast(finalImage.c
+00008280: 6f6e 7665 7274 2822 4c22 2929 2020 2320  onvert("L"))  # 
+00008290: 4465 6669 6e65 2063 6f6e 7472 6173 7465  Define contraste
+000082a0: 7220 6f66 206e 756d 7079 2061 7272 6179  r of numpy array
+000082b0: 206f 6620 6772 6579 7363 616c 6520 6669   of greyscale fi
+000082c0: 6e61 6c20 696d 6167 650a 2020 2020 6564  nal image.    ed
+000082d0: 6974 6564 496d 6167 6520 3d20 6e75 6d70  itedImage = nump
+000082e0: 792e 696e 7665 7274 286e 756d 7079 2e61  y.invert(numpy.a
+000082f0: 7272 6179 2863 6f6e 7472 6173 7465 722e  rray(contraster.
+00008300: 656e 6861 6e63 6528 3329 2929 2020 2320  enhance(3)))  # 
+00008310: 5365 7420 6e75 6d70 7920 696d 6167 6520  Set numpy image 
+00008320: 6172 7261 7920 746f 2063 6f6e 7472 6173  array to contras
+00008330: 7420 6c65 7665 6c20 330a 2020 2020 6472  t level 3.    dr
+00008340: 6177 4c69 6e65 7328 5472 7565 2920 2023  awLines(True)  #
+00008350: 2041 6464 206c 696e 6573 2074 6f20 696d   Add lines to im
+00008360: 6167 650a 2020 2020 0a20 2020 2023 2043  age.    .    # C
+00008370: 6f6d 6d65 6e63 6520 6964 656e 7469 6669  ommence identifi
+00008380: 6361 7469 6f6e 206f 6620 7469 6d65 206d  cation of time m
+00008390: 6172 6b73 0a20 2020 2066 6f72 2074 7562  arks.    for tub
+000083a0: 6520 696e 2074 7562 6542 6f75 6e64 733a  e in tubeBounds:
+000083b0: 2020 2320 466f 7220 6561 6368 2074 7562    # For each tub
+000083c0: 6520 696e 2074 7562 6542 6f75 6e64 730a  e in tubeBounds.
+000083d0: 2020 2020 2020 2020 7475 6265 4e75 6d62          tubeNumb
+000083e0: 6572 203d 2069 6e74 2874 7562 6542 6f75  er = int(tubeBou
+000083f0: 6e64 732e 696e 6465 7828 7475 6265 2929  nds.index(tube))
+00008400: 2020 2320 496e 6465 7820 6f66 2063 7572    # Index of cur
+00008410: 7265 6e74 2074 7562 6520 7769 7468 696e  rent tube within
+00008420: 2074 7562 6542 6f75 6e64 730a 2020 2020   tubeBounds.    
+00008430: 2020 2020 7469 6d65 4d61 726b 4c69 6e65      timeMarkLine
+00008440: 7354 7562 6520 3d20 7169 6465 6e74 6966  sTube = qidentif
+00008450: 7954 696d 654d 6172 6b73 2865 6469 7465  yTimeMarks(edite
+00008460: 6449 6d61 6765 2c20 7475 6265 2c20 7475  dImage, tube, tu
+00008470: 6265 4e75 6d62 6572 290a 2020 2020 2020  beNumber).      
+00008480: 2020 666f 7220 6c69 6e65 2069 6e20 7469    for line in ti
+00008490: 6d65 4d61 726b 4c69 6e65 7354 7562 653a  meMarkLinesTube:
+000084a0: 0a20 2020 2020 2020 2020 2020 2074 696d  .            tim
+000084b0: 654d 6172 6b4c 696e 6573 2e61 7070 656e  eMarkLines.appen
+000084c0: 6428 6c69 6e65 290a 2020 2020 6472 6177  d(line).    draw
+000084d0: 4c69 6e65 7328 5472 7565 2920 2023 2041  Lines(True)  # A
+000084e0: 6464 206c 696e 6573 2074 6f20 696d 6167  dd lines to imag
+000084f0: 650a 2020 2020 616e 616c 5374 6174 6520  e.    analState 
+00008500: 3d20 3520 2023 2053 6574 2061 6e61 6c79  = 5  # Set analy
+00008510: 7369 7320 7374 6174 6520 746f 2035 0a20  sis state to 5. 
+00008520: 2020 2068 6f6d 6554 6162 436f 6e73 6f6c     homeTabConsol
+00008530: 6554 6578 7442 6f78 2e76 616c 7565 203d  eTextBox.value =
+00008540: 2022 436c 6963 6b20 6120 706f 696e 7420   "Click a point 
+00008550: 6f6e 2074 6865 2069 6d61 6765 2074 6f20  on the image to 
+00008560: 6164 6420 6f72 2072 656d 6f76 6520 7469  add or remove ti
+00008570: 6d65 206d 6172 6b73 2e20 5768 656e 2073  me marks. When s
+00008580: 6174 6973 6669 6564 2c20 636c 6963 6b20  atisfied, click 
+00008590: 7468 6520 5072 6f63 6565 6420 6275 7474  the Proceed butt
+000085a0: 6f6e 2e22 2020 2320 4164 6420 6469 7265  on."  # Add dire
+000085b0: 6374 696f 6e73 2074 6f20 636f 6e73 6f6c  ctions to consol
+000085c0: 650a 0a0a 6465 6620 7169 6465 6e74 6966  e...def qidentif
+000085d0: 7954 696d 654d 6172 6b73 2869 6d61 6765  yTimeMarks(image
+000085e0: 2c20 7475 6265 2c20 7475 6265 4e75 6d62  , tube, tubeNumb
+000085f0: 6572 293a 0a0a 2020 2020 7469 6d65 4d61  er):..    timeMa
+00008600: 726b 4c69 6e65 7320 3d20 5b5d 0a20 2020  rkLines = [].   
+00008610: 2074 7562 6557 6964 7468 203d 2074 7562   tubeWidth = tub
+00008620: 655b 305d 5b31 5d20 2d20 7475 6265 5b30  e[0][1] - tube[0
+00008630: 5d5b 305d 2020 2320 5265 636f 7264 2077  ][0]  # Record w
+00008640: 6964 7468 206f 6620 6375 7272 656e 7420  idth of current 
+00008650: 7475 6265 2061 7420 6c65 6674 2065 6e64  tube at left end
+00008660: 0a20 2020 2064 656e 7369 7479 5072 6f66  .    densityProf
+00008670: 696c 6520 3d20 6765 6e65 7261 7465 4465  ile = generateDe
+00008680: 6e73 6974 7950 726f 6669 6c65 2869 6d61  nsityProfile(ima
+00008690: 6765 2c20 7072 6f66 696c 6557 6964 7468  ge, profileWidth
+000086a0: 3d69 6e74 2874 7562 6557 6964 7468 202d  =int(tubeWidth -
+000086b0: 2032 3029 2c20 7475 6265 426f 756e 6473   20), tubeBounds
+000086c0: 3d74 7562 6529 2020 2320 4372 6561 7465  =tube)  # Create
+000086d0: 2064 656e 7369 7479 2070 726f 6669 6c65   density profile
+000086e0: 206f 6620 6375 7272 656e 7420 7475 6265   of current tube
+000086f0: 2023 5249 4748 5448 4552 450a 2020 2020   #RIGHTHERE.    
+00008700: 6465 6e73 6974 7950 726f 6669 6c65 536d  densityProfileSm
+00008710: 6f6f 7468 203d 2073 6176 676f 6c5f 6669  ooth = savgol_fi
+00008720: 6c74 6572 2864 656e 7369 7479 5072 6f66  lter(densityProf
+00008730: 696c 652c 2077 696e 646f 775f 6c65 6e67  ile, window_leng
+00008740: 7468 3d33 302c 2070 6f6c 796f 7264 6572  th=30, polyorder
+00008750: 3d38 2c20 6d6f 6465 3d22 696e 7465 7270  =8, mode="interp
+00008760: 2229 2020 2320 4372 6561 7465 2053 6176  ")  # Create Sav
+00008770: 6974 7a6b 792d 476f 6c61 7920 736d 6f6f  itzky-Golay smoo
+00008780: 7468 6564 2064 656e 7369 7479 2070 726f  thed density pro
+00008790: 6669 6c65 206f 6620 6d61 726b 732d 636f  file of marks-co
+000087a0: 7272 6563 7465 6420 6461 7461 7365 7420  rrected dataset 
+000087b0: 2352 4947 4854 4845 5245 0a20 2020 2070  #RIGHTHERE.    p
+000087c0: 6561 6b49 6e64 6963 6573 203d 2066 696e  eakIndices = fin
+000087d0: 645f 7065 616b 7328 6465 6e73 6974 7950  d_peaks(densityP
+000087e0: 726f 6669 6c65 536d 6f6f 7468 2c20 6469  rofileSmooth, di
+000087f0: 7374 616e 6365 3d35 2c20 7468 7265 7368  stance=5, thresh
+00008800: 6f6c 643d 284e 6f6e 652c 204e 6f6e 6529  old=(None, None)
+00008810: 2c20 7072 6f6d 696e 656e 6365 3d33 2c20  , prominence=3, 
+00008820: 776c 656e 3d33 3030 295b 305d 2e74 6f6c  wlen=300)[0].tol
+00008830: 6973 7428 2920 2023 2047 6574 2069 6e64  ist()  # Get ind
+00008840: 6963 6573 206f 6620 6c6f 6361 6c20 6d61  ices of local ma
+00008850: 7869 6d61 206f 6620 736d 6f6f 7468 6564  xima of smoothed
+00008860: 2064 656e 7369 7479 2070 726f 6669 6c65   density profile
+00008870: 2023 5249 4748 5448 4552 450a 2020 2020   #RIGHTHERE.    
+00008880: 666f 7220 7065 616b 496e 6465 7820 696e  for peakIndex in
+00008890: 2070 6561 6b49 6e64 6963 6573 3a20 2023   peakIndices:  #
+000088a0: 2046 6f72 2065 6163 6820 7065 616b 2069   For each peak i
+000088b0: 6e64 6578 0a20 2020 2020 2020 2023 2043  ndex.        # C
+000088c0: 616c 6375 6c61 7465 2070 6561 6b20 7374  alculate peak st
+000088d0: 6565 706e 6573 730a 2020 2020 2020 2020  eepness.        
+000088e0: 7065 616b 5820 3d20 7065 616b 496e 6465  peakX = peakInde
+000088f0: 7820 2023 2053 6574 2078 2074 6f20 7065  x  # Set x to pe
+00008900: 616b 2069 6e64 6578 0a20 2020 2020 2020  ak index.       
+00008910: 2070 6561 6b59 203d 2028 7475 6265 5b70   peakY = (tube[p
+00008920: 6561 6b49 6e64 6578 5d5b 305d 202b 2028  eakIndex][0] + (
+00008930: 7475 6265 5b70 6561 6b49 6e64 6578 5d5b  tube[peakIndex][
+00008940: 315d 202d 2074 7562 655b 7065 616b 496e  1] - tube[peakIn
+00008950: 6465 785d 5b30 5d29 202f 2032 2920 2023  dex][0]) / 2)  #
+00008960: 2053 6574 2079 2074 6f20 6d69 646c 696e   Set y to midlin
+00008970: 6520 6f66 2074 7562 6520 6174 2078 0a20  e of tube at x. 
+00008980: 2020 2020 2020 2073 6c6f 7065 734c 6566         slopesLef
+00008990: 7420 3d20 5b5d 2020 2320 426c 616e 6b20  t = []  # Blank 
+000089a0: 6c69 7374 206f 6620 736c 6f70 6573 206c  list of slopes l
+000089b0: 6566 7420 6f66 2070 6561 6b0a 2020 2020  eft of peak.    
+000089c0: 2020 2020 736c 6f70 6573 5269 6768 7420      slopesRight 
+000089d0: 3d20 5b5d 2020 2320 426c 616e 6b20 6c69  = []  # Blank li
+000089e0: 7374 206f 6620 736c 6f70 6573 2072 6967  st of slopes rig
+000089f0: 6874 206f 6620 7065 616b 0a20 2020 2020  ht of peak.     
+00008a00: 2020 2066 6f72 2078 5761 6c6b 2069 6e20     for xWalk in 
+00008a10: 7261 6e67 6528 322c 2038 2c20 3229 3a20  range(2, 8, 2): 
+00008a20: 2023 2046 6f72 2065 6163 6820 7820 746f   # For each x to
+00008a30: 206f 6e65 2073 6964 6520 6f72 2074 6865   one side or the
+00008a40: 206f 7468 6572 206f 6620 7065 616b 2023   other of peak #
+00008a50: 5249 4748 5448 4552 4520 616c 736f 206e  RIGHTHERE also n
+00008a60: 6f72 6d61 6c69 7a65 2068 6f77 2066 6172  ormalize how far
+00008a70: 2077 6520 7877 616c 6b20 666f 7220 616c   we xwalk for al
+00008a80: 6c20 7573 6573 206f 6620 7877 616c 6b0a  l uses of xwalk.
+00008a90: 2020 2020 2020 2020 2020 2020 6966 2070              if p
+00008aa0: 6561 6b58 202b 2078 5761 6c6b 203c 2031  eakX + xWalk < 1
+00008ab0: 3136 303a 2020 2320 4966 2078 5761 6c6b  160:  # If xWalk
+00008ac0: 2074 6f20 7468 6520 7269 6768 7420 6973   to the right is
+00008ad0: 2077 6974 6869 6e20 696d 6167 6520 2352   within image #R
+00008ae0: 4947 4854 4845 5245 0a20 2020 2020 2020  IGHTHERE.       
+00008af0: 2020 2020 2020 2020 2073 6c6f 7065 7352           slopesR
+00008b00: 6967 6874 2e61 7070 656e 6428 6162 7328  ight.append(abs(
+00008b10: 2864 656e 7369 7479 5072 6f66 696c 6553  (densityProfileS
+00008b20: 6d6f 6f74 685b 7065 616b 5820 2b20 7857  mooth[peakX + xW
+00008b30: 616c 6b5d 202d 2064 656e 7369 7479 5072  alk] - densityPr
+00008b40: 6f66 696c 6553 6d6f 6f74 685b 7065 616b  ofileSmooth[peak
+00008b50: 5820 2b20 7857 616c 6b20 2d20 325d 2929  X + xWalk - 2]))
+00008b60: 202f 2032 2920 2023 2041 6464 2067 7261   / 2)  # Add gra
+00008b70: 6e75 6c61 7220 736c 6f70 6520 746f 206c  nular slope to l
+00008b80: 6973 7420 6f66 2073 6c6f 7065 730a 2020  ist of slopes.  
+00008b90: 2020 2020 2020 2020 2020 6966 2070 6561            if pea
+00008ba0: 6b58 202d 2078 5761 6c6b 203e 2030 3a20  kX - xWalk > 0: 
+00008bb0: 2023 2049 6620 7857 616c 6b20 746f 2074   # If xWalk to t
+00008bc0: 6865 206c 6566 7420 6973 2077 6974 6869  he left is withi
+00008bd0: 6e20 696d 6167 650a 2020 2020 2020 2020  n image.        
+00008be0: 2020 2020 2020 2020 736c 6f70 6573 4c65          slopesLe
+00008bf0: 6674 2e61 7070 656e 6428 6162 7328 2864  ft.append(abs((d
+00008c00: 656e 7369 7479 5072 6f66 696c 6553 6d6f  ensityProfileSmo
+00008c10: 6f74 685b 7065 616b 5820 2d20 7857 616c  oth[peakX - xWal
+00008c20: 6b5d 202d 2064 656e 7369 7479 5072 6f66  k] - densityProf
+00008c30: 696c 6553 6d6f 6f74 685b 7065 616b 5820  ileSmooth[peakX 
+00008c40: 2d20 7857 616c 6b20 2b20 325d 2929 202f  - xWalk + 2])) /
+00008c50: 2032 2920 2023 2041 6464 2067 7261 6e75   2)  # Add granu
+00008c60: 6c61 7220 736c 6f70 6520 746f 206c 6973  lar slope to lis
+00008c70: 7420 6f66 2073 6c6f 7065 730a 2020 2020  t of slopes.    
+00008c80: 2020 2020 736c 6f70 6552 6967 6874 203d      slopeRight =
+00008c90: 206e 756d 7079 2e6d 6561 6e28 736c 6f70   numpy.mean(slop
+00008ca0: 6573 5269 6768 7429 2020 2320 4d65 616e  esRight)  # Mean
+00008cb0: 2073 6c6f 7065 2074 6f20 7269 6768 7420   slope to right 
+00008cc0: 6f66 2070 6561 6b0a 2020 2020 2020 2020  of peak.        
+00008cd0: 736c 6f70 654c 6566 7420 3d20 6e75 6d70  slopeLeft = nump
+00008ce0: 792e 6d65 616e 2873 6c6f 7065 734c 6566  y.mean(slopesLef
+00008cf0: 7429 2020 2320 4d65 616e 2073 6c6f 7065  t)  # Mean slope
+00008d00: 2074 6f20 6c65 6674 206f 6620 7065 616b   to left of peak
+00008d10: 0a20 2020 2020 2020 2073 6c6f 7065 4d69  .        slopeMi
+00008d20: 6e20 3d20 6e75 6d70 792e 6d69 6e28 5b73  n = numpy.min([s
+00008d30: 6c6f 7065 4c65 6674 2c20 736c 6f70 6552  lopeLeft, slopeR
+00008d40: 6967 6874 5d29 2020 2320 4d69 6e69 6d75  ight])  # Minimu
+00008d50: 6d20 6f66 2074 776f 2061 646a 6163 656e  m of two adjacen
+00008d60: 7420 736c 6f70 6573 2074 6f20 7065 616b  t slopes to peak
+00008d70: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
+00008d80: 2020 2343 616c 6375 6c61 7465 2070 6561    #Calculate pea
+00008d90: 6b20 7072 6f6d 696e 656e 6365 2061 6e64  k prominence and
+00008da0: 2070 726f 6d69 6e65 6e63 6520 6672 6163   prominence frac
+00008db0: 7469 6f6e 0a20 2020 2020 2020 2078 5761  tion.        xWa
+00008dc0: 6c6b 203d 2031 2020 2320 5820 6469 7374  lk = 1  # X dist
+00008dd0: 616e 6365 2066 726f 6d20 7065 616b 2066  ance from peak f
+00008de0: 6f72 2074 6573 7469 6e67 2073 6c6f 7065  or testing slope
+00008df0: 0a20 2020 2020 2020 2077 6869 6c65 2064  .        while d
+00008e00: 656e 7369 7479 5072 6f66 696c 6553 6d6f  ensityProfileSmo
+00008e10: 6f74 685b 7065 616b 582d 7857 616c 6b5d  oth[peakX-xWalk]
+00008e20: 203c 3d20 6465 6e73 6974 7950 726f 6669   <= densityProfi
+00008e30: 6c65 536d 6f6f 7468 5b70 6561 6b58 2d78  leSmooth[peakX-x
+00008e40: 5761 6c6b 2b31 5d20 616e 6420 7065 616b  Walk+1] and peak
+00008e50: 582d 7857 616c 6b20 3e20 313a 2020 2320  X-xWalk > 1:  # 
+00008e60: 556e 7469 6c20 736c 6f70 6520 7374 6f70  Until slope stop
+00008e70: 7320 6465 6372 6561 7369 6e67 2061 7761  s decreasing awa
+00008e80: 7920 6672 6f6d 2070 6561 6b20 6f72 2078  y from peak or x
+00008e90: 5761 6c6b 2069 7320 6c65 6176 696e 6720  Walk is leaving 
+00008ea0: 7468 6520 696d 6167 650a 2020 2020 2020  the image.      
+00008eb0: 2020 2020 2020 7857 616c 6b20 2b3d 2031        xWalk += 1
+00008ec0: 2020 2320 496e 6372 656d 656e 7420 7857    # Increment xW
+00008ed0: 616c 6b20 6279 2031 0a20 2020 2020 2020  alk by 1.       
+00008ee0: 2062 6173 654c 6566 7420 3d20 7065 616b   baseLeft = peak
+00008ef0: 5820 2d20 7857 616c 6b20 2023 2053 6574  X - xWalk  # Set
+00008f00: 2078 2070 6f73 6974 696f 6e20 6f66 206c   x position of l
+00008f10: 6566 7420 6261 7365 2074 6f20 6469 7374  eft base to dist
+00008f20: 616e 6365 2074 6f20 6c65 6674 2061 7420  ance to left at 
+00008f30: 7768 6963 6820 736c 6f70 6520 7374 6f70  which slope stop
+00008f40: 7320 6465 6372 6561 7369 6e67 2061 7761  s decreasing awa
+00008f50: 7920 6672 6f6d 2070 6561 6b0a 2020 2020  y from peak.    
+00008f60: 2020 2020 6261 7365 594c 6566 7420 3d20      baseYLeft = 
+00008f70: 6465 6e73 6974 7950 726f 6669 6c65 536d  densityProfileSm
+00008f80: 6f6f 7468 5b62 6173 654c 6566 745d 2020  ooth[baseLeft]  
+00008f90: 2320 5365 7420 7920 706f 7369 7469 6f6e  # Set y position
+00008fa0: 206f 6620 6c65 6674 2062 6173 650a 2020   of left base.  
+00008fb0: 2020 2020 2020 7857 616c 6b20 3d20 3120        xWalk = 1 
+00008fc0: 2023 2058 2064 6973 7461 6e63 6520 6672   # X distance fr
+00008fd0: 6f6d 2070 6561 6b20 666f 7220 7465 7374  om peak for test
+00008fe0: 696e 6720 736c 6f70 650a 2020 2020 2020  ing slope.      
+00008ff0: 2020 7768 696c 6520 6465 6e73 6974 7950    while densityP
+00009000: 726f 6669 6c65 536d 6f6f 7468 5b70 6561  rofileSmooth[pea
+00009010: 6b58 2b78 5761 6c6b 5d20 3c3d 2064 656e  kX+xWalk] <= den
+00009020: 7369 7479 5072 6f66 696c 6553 6d6f 6f74  sityProfileSmoot
+00009030: 685b 7065 616b 582b 7857 616c 6b2d 315d  h[peakX+xWalk-1]
+00009040: 2061 6e64 2070 6561 6b58 2b78 5761 6c6b   and peakX+xWalk
+00009050: 203c 2031 3135 393a 2020 2320 556e 7469   < 1159:  # Unti
+00009060: 6c20 736c 6f70 6520 7374 6f70 7320 6465  l slope stops de
+00009070: 6372 6561 7369 6e67 2061 7761 7920 6672  creasing away fr
+00009080: 6f6d 2070 6561 6b20 6f72 2078 5761 6c6b  om peak or xWalk
+00009090: 2069 7320 6c65 6176 696e 6720 7468 6520   is leaving the 
+000090a0: 696d 6167 6520 2352 4947 4854 4845 5245  image #RIGHTHERE
+000090b0: 0a20 2020 2020 2020 2020 2020 2078 5761  .            xWa
+000090c0: 6c6b 202b 3d20 3120 2023 2049 6e63 7265  lk += 1  # Incre
+000090d0: 6d65 6e74 2078 5761 6c6b 2062 7920 310a  ment xWalk by 1.
+000090e0: 2020 2020 2020 2020 6261 7365 5269 6768          baseRigh
+000090f0: 7420 3d20 7065 616b 5820 2b20 7857 616c  t = peakX + xWal
+00009100: 6b20 2023 2053 6574 2078 2070 6f73 6974  k  # Set x posit
+00009110: 696f 6e20 6f66 2072 6967 6874 2062 6173  ion of right bas
+00009120: 6520 746f 2064 6973 7461 6e63 6520 746f  e to distance to
+00009130: 2072 6967 6874 2061 7420 7768 6963 6820   right at which 
+00009140: 736c 6f70 6520 7374 6f70 7320 6465 6372  slope stops decr
+00009150: 6561 7369 6e67 2061 7761 7920 6672 6f6d  easing away from
+00009160: 2070 6561 6b0a 2020 2020 2020 2020 6261   peak.        ba
+00009170: 7365 5952 6967 6874 203d 2064 656e 7369  seYRight = densi
+00009180: 7479 5072 6f66 696c 6553 6d6f 6f74 685b  tyProfileSmooth[
+00009190: 6261 7365 5269 6768 745d 2020 2320 5365  baseRight]  # Se
+000091a0: 7420 7920 706f 7369 7469 6f6e 206f 6620  t y position of 
+000091b0: 7269 6768 7420 6261 7365 0a20 2020 2020  right base.     
+000091c0: 2020 2070 726f 6d4c 6566 7420 3d20 6465     promLeft = de
+000091d0: 6e73 6974 7950 726f 6669 6c65 536d 6f6f  nsityProfileSmoo
+000091e0: 7468 5b70 6561 6b58 5d20 2d20 6261 7365  th[peakX] - base
+000091f0: 594c 6566 7420 2023 2053 6574 2070 726f  YLeft  # Set pro
+00009200: 6d69 6e65 6e63 6520 6c65 6674 2074 6f20  minence left to 
+00009210: 7920 6469 6666 6572 656e 6365 2062 6574  y difference bet
+00009220: 7765 656e 2070 6561 6b20 616e 6420 6c65  ween peak and le
+00009230: 6674 2062 6173 650a 2020 2020 2020 2020  ft base.        
+00009240: 7072 6f6d 5269 6768 7420 3d20 6465 6e73  promRight = dens
+00009250: 6974 7950 726f 6669 6c65 536d 6f6f 7468  ityProfileSmooth
+00009260: 5b70 6561 6b58 5d20 2d20 6261 7365 5952  [peakX] - baseYR
+00009270: 6967 6874 2020 2320 5365 7420 7072 6f6d  ight  # Set prom
+00009280: 696e 656e 6365 2072 6967 6874 2074 6f20  inence right to 
+00009290: 7920 6469 6666 6572 656e 6365 2062 6574  y difference bet
+000092a0: 7765 656e 2070 6561 6b20 616e 6420 7269  ween peak and ri
+000092b0: 6768 7420 6261 7365 0a20 2020 2020 2020  ght base.       
+000092c0: 2070 726f 6d4d 6178 203d 206e 756d 7079   promMax = numpy
+000092d0: 2e6d 6178 285b 7072 6f6d 4c65 6674 2c20  .max([promLeft, 
+000092e0: 7072 6f6d 5269 6768 745d 2920 2023 204d  promRight])  # M
+000092f0: 6178 696d 756d 2070 726f 6d69 6e65 6e63  aximum prominenc
+00009300: 6520 6f66 2070 6561 6b20 6672 6f6d 2062  e of peak from b
+00009310: 6173 6573 0a20 2020 2020 2020 2070 726f  ases.        pro
+00009320: 6d69 6e65 6e63 6546 7261 6374 696f 6e20  minenceFraction 
+00009330: 3d20 7072 6f6d 4d61 7820 2f20 6e75 6d70  = promMax / nump
+00009340: 792e 6d61 7828 6465 6e73 6974 7950 726f  y.max(densityPro
+00009350: 6669 6c65 536d 6f6f 7468 2920 2023 2050  fileSmooth)  # P
+00009360: 726f 6d69 6e65 6e63 6520 6f66 2070 6561  rominence of pea
+00009370: 6b20 6173 2061 2066 7261 6374 696f 6e20  k as a fraction 
+00009380: 6f66 206d 6178 696d 756d 2064 656e 7369  of maximum densi
+00009390: 7479 2076 616c 7565 200a 2020 2020 2020  ty value .      
+000093a0: 2020 0a20 2020 2020 2020 2023 2041 6363    .        # Acc
+000093b0: 6570 7420 7065 616b 730a 2020 2020 2020  ept peaks.      
+000093c0: 2020 6966 2070 726f 6d69 6e65 6e63 6546    if prominenceF
+000093d0: 7261 6374 696f 6e20 3e20 2e32 2061 6e64  raction > .2 and
+000093e0: 2070 726f 6d69 6e65 6e63 6546 7261 6374   prominenceFract
+000093f0: 696f 6e20 3c20 302e 3920 616e 6420 736c  ion < 0.9 and sl
+00009400: 6f70 654d 696e 203e 2028 2d32 302f 3329  opeMin > (-20/3)
+00009410: 2a70 726f 6d69 6e65 6e63 6546 7261 6374  *prominenceFract
+00009420: 696f 6e2b 2832 362f 3329 2061 6e64 2070  ion+(26/3) and p
+00009430: 6561 6b58 203e 2031 3020 616e 6420 7065  eakX > 10 and pe
+00009440: 616b 5820 3c20 3131 3530 3a20 2023 2049  akX < 1150:  # I
+00009450: 6620 7065 616b 2066 616c 6c73 2077 6974  f peak falls wit
+00009460: 6869 6e20 636f 7272 6563 7420 7265 6769  hin correct regi
+00009470: 6f6e 206f 6620 7072 6f6d 696e 656e 6365  on of prominence
+00009480: 2066 7261 6374 696f 6e2f 7065 616b 2073   fraction/peak s
+00009490: 6861 7270 6e65 7373 2063 7572 7665 2023  harpness curve #
+000094a0: 5249 4748 5448 4552 450a 2020 2020 2020  RIGHTHERE.      
+000094b0: 2020 2020 2020 7469 6d65 4d61 726b 4c69        timeMarkLi
+000094c0: 6e65 732e 6170 7065 6e64 285b 7065 616b  nes.append([peak
+000094d0: 582c 2070 6561 6b59 2c20 7475 6265 4e75  X, peakY, tubeNu
+000094e0: 6d62 6572 5d29 2020 2320 4164 6420 7469  mber])  # Add ti
+000094f0: 6d65 206d 6172 6b20 746f 206c 6973 7420  me mark to list 
+00009500: 6f66 2074 696d 6520 6d61 726b 206c 696e  of time mark lin
+00009510: 6573 0a20 2020 2020 2020 200a 2020 2020  es.        .    
+00009520: 7265 7475 726e 2074 696d 654d 6172 6b4c  return timeMarkL
+00009530: 696e 6573 0a0a 0a64 6566 2067 656e 6572  ines...def gener
+00009540: 6174 6544 656e 7369 7479 5072 6f66 696c  ateDensityProfil
+00009550: 6528 696d 6167 652c 2070 726f 6669 6c65  e(image, profile
+00009560: 5769 6474 682c 2074 7562 6542 6f75 6e64  Width, tubeBound
+00009570: 7329 3a0a 2020 2020 2222 2243 7265 6174  s):.    """Creat
+00009580: 6520 6120 6465 6e73 6974 7920 7072 6f66  e a density prof
+00009590: 696c 6520 6f66 2061 2067 6976 656e 2074  ile of a given t
+000095a0: 7562 6520 7769 7468 696e 2061 2067 6976  ube within a giv
+000095b0: 656e 2069 6d61 6765 2067 6976 656e 2061  en image given a
+000095c0: 2070 726f 6669 6c65 206c 696e 6520 7769   profile line wi
+000095d0: 6474 682e 2222 220a 2020 2020 0a0a 2020  dth.""".    ..  
+000095e0: 2020 6465 6e73 6974 7950 726f 6669 6c65    densityProfile
+000095f0: 203d 205b 5d20 2023 2042 6c61 6e6b 206c   = []  # Blank l
+00009600: 6973 7420 6f66 206f 7574 7075 7420 6465  ist of output de
+00009610: 6e73 6974 6f6d 6574 7279 0a20 2020 2066  nsitometry.    f
+00009620: 6f72 2078 2069 6e20 7261 6e67 6528 302c  or x in range(0,
+00009630: 2031 3136 3029 3a20 2023 2046 6f72 2065   1160):  # For e
+00009640: 6163 6820 7820 7069 7865 6c20 696e 2069  ach x pixel in i
+00009650: 6d61 6765 2023 5249 4748 5448 4552 450a  mage #RIGHTHERE.
+00009660: 2020 2020 2020 2020 794d 6964 203d 2028          yMid = (
+00009670: 7475 6265 426f 756e 6473 5b78 5d5b 305d  tubeBounds[x][0]
+00009680: 202b 2028 7475 6265 426f 756e 6473 5b78   + (tubeBounds[x
+00009690: 5d5b 315d 202d 2074 7562 6542 6f75 6e64  ][1] - tubeBound
+000096a0: 735b 785d 5b30 5d29 202f 2032 2920 2023  s[x][0]) / 2)  #
+000096b0: 2053 6574 206d 6964 6c69 6e65 2079 2076   Set midline y v
+000096c0: 616c 7565 0a20 2020 2020 2020 2064 656e  alue.        den
+000096d0: 7369 7469 6573 203d 205b 5d20 2023 2042  sities = []  # B
+000096e0: 6c61 6e6b 206c 6973 7420 6f66 2062 7269  lank list of bri
+000096f0: 6768 746e 6573 7365 7320 6174 2063 7572  ghtnesses at cur
+00009700: 7265 6e74 2078 2076 616c 7565 0a20 2020  rent x value.   
+00009710: 2020 2020 2066 6f72 2079 2069 6e20 7261       for y in ra
+00009720: 6e67 6528 696e 7428 794d 6964 202d 2070  nge(int(yMid - p
+00009730: 726f 6669 6c65 5769 6474 682f 3229 2c20  rofileWidth/2), 
+00009740: 696e 7428 794d 6964 202b 2070 726f 6669  int(yMid + profi
+00009750: 6c65 5769 6474 682f 3229 293a 2020 2320  leWidth/2)):  # 
+00009760: 466f 7220 6561 6368 2079 2077 6974 6869  For each y withi
+00009770: 6e20 6c69 6e65 2077 6964 7468 2061 7420  n line width at 
+00009780: 6375 7272 656e 7420 7820 7661 6c75 650a  current x value.
+00009790: 2020 2020 2020 2020 2020 2020 6966 2079              if y
+000097a0: 203c 2034 3030 2061 6e64 2079 203e 2030   < 400 and y > 0
+000097b0: 3a20 2023 2049 6620 7920 6973 2077 6974  :  # If y is wit
+000097c0: 6869 6e20 696d 6167 6520 2352 4947 4854  hin image #RIGHT
+000097d0: 4845 5245 0a20 2020 2020 2020 2020 2020  HERE.           
+000097e0: 2020 2020 2064 656e 7369 7469 6573 2e61       densities.a
+000097f0: 7070 656e 6428 696d 6167 655b 792c 2078  ppend(image[y, x
+00009800: 5d29 2020 2320 4164 6420 6272 6967 6874  ])  # Add bright
+00009810: 6e65 7373 2076 616c 7565 2074 6f20 6c69  ness value to li
+00009820: 7374 0a20 2020 2020 2020 2064 656e 7369  st.        densi
+00009830: 7479 5072 6f66 696c 652e 6170 7065 6e64  tyProfile.append
+00009840: 286e 756d 7079 2e6d 6561 6e28 6465 6e73  (numpy.mean(dens
+00009850: 6974 6965 7329 2920 2023 2041 6464 206d  ities))  # Add m
+00009860: 6561 6e20 6272 6967 6874 6e65 7373 2061  ean brightness a
+00009870: 7420 7820 7661 6c75 6520 746f 2064 656e  t x value to den
+00009880: 7369 746f 6d65 7472 790a 2020 2020 7265  sitometry.    re
+00009890: 7475 726e 2064 656e 7369 7479 5072 6f66  turn densityProf
+000098a0: 696c 6520 2023 2052 6574 7572 6e20 6465  ile  # Return de
+000098b0: 6e73 6974 6f6d 6574 7279 2070 726f 6669  nsitometry profi
+000098c0: 6c65 0a0a 0a64 6566 2069 6465 6e74 6966  le...def identif
+000098d0: 7942 616e 6469 6e67 2829 3a0a 2020 2020  yBanding():.    
+000098e0: 2222 2241 6e61 6c79 7a65 206c 6f63 6174  """Analyze locat
+000098f0: 696f 6e73 206f 6620 636f 6e69 6469 616c  ions of conidial
+00009900: 2062 616e 6469 6e67 2077 6974 6869 6e20   banding within 
+00009910: 7475 6265 7320 696e 2063 7572 7265 6e74  tubes in current
+00009920: 2069 6d61 6765 2e22 2222 0a0a 0a20 2020   image."""...   
+00009930: 2067 6c6f 6261 6c20 6669 6e61 6c49 6d61   global finalIma
+00009940: 6765 0a20 2020 2067 6c6f 6261 6c20 616e  ge.    global an
+00009950: 616c 5374 6174 650a 2020 2020 676c 6f62  alState.    glob
+00009960: 616c 2064 656e 7369 7479 5072 6f66 696c  al densityProfil
+00009970: 6573 0a20 2020 2067 6c6f 6261 6c20 686f  es.    global ho
+00009980: 7269 7a6f 6e74 616c 4c69 6e65 730a 2020  rizontalLines.  
+00009990: 2020 676c 6f62 616c 2074 696d 654d 6172    global timeMar
+000099a0: 6b4c 696e 6573 0a20 2020 2067 6c6f 6261  kLines.    globa
+000099b0: 6c20 7475 6265 426f 756e 6473 0a20 2020  l tubeBounds.   
+000099c0: 2067 6c6f 6261 6c20 6261 6e64 4c69 6e65   global bandLine
+000099d0: 730a 2020 2020 676c 6f62 616c 2070 7265  s.    global pre
+000099e0: 6c69 6d43 6f6e 7465 6e74 730a 0a0a 2020  limContents...  
+000099f0: 2020 616e 616c 5374 6174 6520 3d20 3620    analState = 6 
+00009a00: 2023 2053 6574 2061 6e61 6c79 7369 7320   # Set analysis 
+00009a10: 7374 6174 6520 746f 2036 0a20 2020 2066  state to 6.    f
+00009a20: 6f72 2074 7562 6520 696e 2072 616e 6765  or tube in range
+00009a30: 2830 2c20 6c65 6e28 7475 6265 426f 756e  (0, len(tubeBoun
+00009a40: 6473 2929 3a20 2023 2046 6f72 2065 6163  ds)):  # For eac
+00009a50: 6820 7475 6265 2069 6e20 7475 6265 426f  h tube in tubeBo
+00009a60: 756e 6473 0a20 2020 2020 2020 206e 756d  unds.        num
+00009a70: 6265 724f 664d 6172 6b73 203d 2030 2020  berOfMarks = 0  
+00009a80: 2320 5365 7420 6e75 6d62 6572 206f 6620  # Set number of 
+00009a90: 6d61 726b 7320 696e 2074 7562 6520 746f  marks in tube to
+00009aa0: 2030 0a20 2020 2020 2020 2066 6f72 206c   0.        for l
+00009ab0: 696e 6520 696e 2074 696d 654d 6172 6b4c  ine in timeMarkL
+00009ac0: 696e 6573 3a20 2023 2046 6f72 2065 6163  ines:  # For eac
+00009ad0: 6820 6c69 6e65 2069 6e20 6c69 7374 206f  h line in list o
+00009ae0: 6620 616c 6c20 7469 6d65 206d 6172 6b73  f all time marks
+00009af0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00009b00: 6c69 6e65 5b32 5d20 3d3d 2074 7562 653a  line[2] == tube:
+00009b10: 2020 2320 4966 206c 696e 6520 7920 6973    # If line y is
+00009b20: 2069 6e20 6375 7272 656e 7420 7475 6265   in current tube
+00009b30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009b40: 206e 756d 6265 724f 664d 6172 6b73 202b   numberOfMarks +
+00009b50: 3d20 3120 2023 2049 6e63 7265 6d65 6e74  = 1  # Increment
+00009b60: 206e 756d 6265 7220 6f66 206d 6172 6b73   number of marks
+00009b70: 2069 6e20 7475 6265 2062 7920 310a 2020   in tube by 1.  
+00009b80: 2020 2020 2020 7072 656c 696d 436f 6e74        prelimCont
+00009b90: 656e 7473 5b74 7562 6520 2b20 325d 5b31  ents[tube + 2][1
+00009ba0: 5d20 3d20 7374 7228 6e75 6d62 6572 4f66  ] = str(numberOf
+00009bb0: 4d61 726b 7329 2020 2320 4164 6420 6e75  Marks)  # Add nu
+00009bc0: 6d62 6572 206f 6620 6d61 726b 7320 746f  mber of marks to
+00009bd0: 2061 7070 726f 7072 6961 7465 206c 696e   appropriate lin
+00009be0: 6520 6f66 2070 7265 6c69 6d69 6e61 7279  e of preliminary
+00009bf0: 2064 6174 6120 636f 6e74 656e 7473 206c   data contents l
+00009c00: 6973 740a 2020 2020 7570 6461 7465 5072  ist.    updatePr
+00009c10: 656c 696d 696e 6172 7944 6174 6144 6973  eliminaryDataDis
+00009c20: 706c 6179 2829 2020 2320 5570 6461 7465  play()  # Update
+00009c30: 2070 7265 6c69 6d69 6e61 7279 2064 6174   preliminary dat
+00009c40: 6120 7465 7874 2062 6f78 0a20 2020 2063  a text box.    c
+00009c50: 6f6e 7472 6173 7465 7220 3d20 496d 6167  ontraster = Imag
+00009c60: 6545 6e68 616e 6365 2e43 6f6e 7472 6173  eEnhance.Contras
+00009c70: 7428 6669 6e61 6c49 6d61 6765 2e63 6f6e  t(finalImage.con
+00009c80: 7665 7274 2822 4c22 2929 2020 2320 4465  vert("L"))  # De
+00009c90: 6669 6e65 2063 6f6e 7472 6173 7465 7220  fine contraster 
+00009ca0: 6f66 206e 756d 7079 2061 7272 6179 206f  of numpy array o
+00009cb0: 6620 6772 6579 7363 616c 6520 6669 6e61  f greyscale fina
+00009cc0: 6c20 696d 6167 650a 2020 2020 6564 6974  l image.    edit
+00009cd0: 6564 496d 6167 6520 3d20 6e75 6d70 792e  edImage = numpy.
+00009ce0: 6172 7261 7928 636f 6e74 7261 7374 6572  array(contraster
+00009cf0: 2e65 6e68 616e 6365 2833 2929 2020 2320  .enhance(3))  # 
+00009d00: 5365 7420 6e75 6d70 7920 696d 6167 6520  Set numpy image 
+00009d10: 6172 7261 7920 746f 2063 6f6e 7472 6173  array to contras
+00009d20: 7420 6c65 7665 6c20 330a 2020 2020 6f72  t level 3.    or
+00009d30: 6967 696e 616c 496d 6167 6520 3d20 6e75  iginalImage = nu
+00009d40: 6d70 792e 6172 7261 7928 6669 6e61 6c49  mpy.array(finalI
+00009d50: 6d61 6765 2e63 6f6e 7665 7274 2822 4c22  mage.convert("L"
+00009d60: 2929 2020 2320 5365 7420 6e75 6d70 7920  ))  # Set numpy 
+00009d70: 696d 6167 6520 6172 7261 7920 666f 7220  image array for 
+00009d80: 7072 6563 6f6e 7472 6173 7420 2827 6f72  precontrast ('or
+00009d90: 6967 696e 616c 2729 2069 6d61 6765 0a20  iginal') image. 
+00009da0: 2020 2064 7261 774c 696e 6573 2846 616c     drawLines(Fal
+00009db0: 7365 2920 2023 2041 6464 206c 696e 6573  se)  # Add lines
+00009dc0: 2074 6f20 696d 6167 650a 2020 2020 0a20   to image.    . 
+00009dd0: 2020 2066 6f72 2074 7562 6520 696e 2074     for tube in t
+00009de0: 7562 6542 6f75 6e64 733a 2020 2320 466f  ubeBounds:  # Fo
+00009df0: 7220 6561 6368 2074 7562 6520 696e 2074  r each tube in t
+00009e00: 7562 6542 6f75 6e64 730a 2020 2020 2020  ubeBounds.      
+00009e10: 2020 7475 6265 5769 6474 6820 3d20 7475    tubeWidth = tu
+00009e20: 6265 5b30 5d5b 315d 202d 2074 7562 655b  be[0][1] - tube[
+00009e30: 305d 5b30 5d20 2023 2057 6964 7468 206f  0][0]  # Width o
+00009e40: 6620 6375 7272 656e 7420 7475 6265 2061  f current tube a
+00009e50: 7420 6c65 6674 2065 6e64 0a20 2020 2020  t left end.     
+00009e60: 2020 2064 656e 7369 7479 5072 6f66 696c     densityProfil
+00009e70: 654f 7269 6769 6e61 6c20 3d20 6765 6e65  eOriginal = gene
+00009e80: 7261 7465 4465 6e73 6974 7950 726f 6669  rateDensityProfi
+00009e90: 6c65 286f 7269 6769 6e61 6c49 6d61 6765  le(originalImage
+00009ea0: 2c20 7072 6f66 696c 6557 6964 7468 3d69  , profileWidth=i
+00009eb0: 6e74 2874 7562 6557 6964 7468 202d 2035  nt(tubeWidth - 5
+00009ec0: 292c 2074 7562 6542 6f75 6e64 733d 7475  ), tubeBounds=tu
+00009ed0: 6265 2920 2023 2043 7265 6174 6520 6465  be)  # Create de
+00009ee0: 6e73 6974 7920 7072 6f66 696c 6520 6f66  nsity profile of
+00009ef0: 2063 7572 7265 6e74 2074 7562 650a 2020   current tube.  
+00009f00: 2020 2020 2020 6465 6e73 6974 7950 726f        densityPro
+00009f10: 6669 6c65 732e 6170 7065 6e64 2864 656e  files.append(den
+00009f20: 7369 7479 5072 6f66 696c 654f 7269 6769  sityProfileOrigi
+00009f30: 6e61 6c29 2020 2320 4164 6420 746f 2067  nal)  # Add to g
+00009f40: 6c6f 6261 6c20 6465 6e73 6974 7920 7072  lobal density pr
+00009f50: 6f66 696c 6520 6c69 7374 0a20 2020 2020  ofile list.     
+00009f60: 2020 2074 7562 654e 756d 6265 7220 3d20     tubeNumber = 
+00009f70: 696e 7428 7475 6265 426f 756e 6473 2e69  int(tubeBounds.i
+00009f80: 6e64 6578 2874 7562 6529 2920 2023 2049  ndex(tube))  # I
+00009f90: 6e64 6578 206f 6620 6375 7272 656e 7420  ndex of current 
+00009fa0: 7475 6265 2069 6e20 7475 6265 426f 756e  tube in tubeBoun
+00009fb0: 6473 0a20 2020 2020 2020 2062 616e 644c  ds.        bandL
+00009fc0: 696e 6573 5475 6265 203d 2071 6964 656e  inesTube = qiden
+00009fd0: 7469 6679 4261 6e64 696e 6728 6564 6974  tifyBanding(edit
+00009fe0: 6564 496d 6167 652c 2074 7562 652c 2074  edImage, tube, t
+00009ff0: 7562 654e 756d 6265 722c 2074 696d 654d  ubeNumber, timeM
+0000a000: 6172 6b4c 696e 6573 290a 2020 2020 2020  arkLines).      
+0000a010: 2020 666f 7220 6c69 6e65 2069 6e20 6261    for line in ba
+0000a020: 6e64 4c69 6e65 7354 7562 653a 0a20 2020  ndLinesTube:.   
+0000a030: 2020 2020 2020 2020 2062 616e 644c 696e           bandLin
+0000a040: 6573 2e61 7070 656e 6428 6c69 6e65 290a  es.append(line).
+0000a050: 2020 2020 2020 2020 0a20 2020 2064 7261          .    dra
+0000a060: 774c 696e 6573 2846 616c 7365 2920 2023  wLines(False)  #
+0000a070: 2044 7261 7720 6c69 6e65 730a 2020 2020   Draw lines.    
+0000a080: 616e 616c 5374 6174 6520 3d20 3720 2023  analState = 7  #
+0000a090: 2053 6574 2061 6e61 6c79 7369 7320 7374   Set analysis st
+0000a0a0: 6174 6520 746f 2037 0a20 2020 2068 6f6d  ate to 7.    hom
+0000a0b0: 6554 6162 436f 6e73 6f6c 6554 6578 7442  eTabConsoleTextB
+0000a0c0: 6f78 2e76 616c 7565 203d 2022 436c 6963  ox.value = "Clic
+0000a0d0: 6b20 6120 706f 696e 7420 6f6e 2074 6865  k a point on the
+0000a0e0: 2069 6d61 6765 2074 6f20 6164 6420 6f72   image to add or
+0000a0f0: 2072 656d 6f76 6520 6261 6e64 732e 2052   remove bands. R
+0000a100: 656d 6f76 6520 6572 726f 6e65 6f75 736c  emove erroneousl
+0000a110: 7920 6964 656e 7469 6669 6564 2062 616e  y identified ban
+0000a120: 6473 2066 726f 6d20 616e 7920 6e6f 6e2d  ds from any non-
+0000a130: 6261 6e64 696e 6720 7475 6265 732e 2057  banding tubes. W
+0000a140: 6865 6e20 7361 7469 7366 6965 642c 2063  hen satisfied, c
+0000a150: 6c69 636b 2074 6865 2050 726f 6365 6564  lick the Proceed
+0000a160: 2062 7574 746f 6e2e 2220 2023 2055 7064   button."  # Upd
+0000a170: 6174 6520 636f 6e73 6f6c 6520 7465 7874  ate console text
+0000a180: 0a0a 0a64 6566 2071 6964 656e 7469 6679  ...def qidentify
+0000a190: 4261 6e64 696e 6728 696d 6167 652c 2074  Banding(image, t
+0000a1a0: 7562 652c 2074 7562 654e 756d 6265 722c  ube, tubeNumber,
+0000a1b0: 2074 696d 654d 6172 6b4c 696e 6573 293a   timeMarkLines):
+0000a1c0: 0a0a 2020 2020 6261 6e64 4c69 6e65 7320  ..    bandLines 
+0000a1d0: 3d20 5b5d 0a20 2020 2074 7562 6557 6964  = [].    tubeWid
+0000a1e0: 7468 203d 2074 7562 655b 305d 5b31 5d20  th = tube[0][1] 
+0000a1f0: 2d20 7475 6265 5b30 5d5b 305d 2020 2320  - tube[0][0]  # 
+0000a200: 5769 6474 6820 6f66 2063 7572 7265 6e74  Width of current
+0000a210: 2074 7562 6520 6174 206c 6566 7420 656e   tube at left en
+0000a220: 640a 2020 2020 6465 6e73 6974 7950 726f  d.    densityPro
+0000a230: 6669 6c65 203d 2067 656e 6572 6174 6544  file = generateD
+0000a240: 656e 7369 7479 5072 6f66 696c 6528 696d  ensityProfile(im
+0000a250: 6167 652c 2070 726f 6669 6c65 5769 6474  age, profileWidt
+0000a260: 683d 696e 7428 7475 6265 5769 6474 6820  h=int(tubeWidth 
+0000a270: 2d20 3529 2c20 7475 6265 426f 756e 6473  - 5), tubeBounds
+0000a280: 3d74 7562 6529 2020 2320 4372 6561 7465  =tube)  # Create
+0000a290: 2064 656e 7369 7479 2070 726f 6669 6c65   density profile
+0000a2a0: 206f 6620 6375 7272 656e 7420 7475 6265   of current tube
+0000a2b0: 0a20 2020 2064 656e 7369 7479 5072 6f66  .    densityProf
+0000a2c0: 696c 654e 6f54 696d 654d 6172 6b73 203d  ileNoTimeMarks =
+0000a2d0: 2063 6f70 792e 6465 6570 636f 7079 2864   copy.deepcopy(d
+0000a2e0: 656e 7369 7479 5072 6f66 696c 6529 2020  ensityProfile)  
+0000a2f0: 2320 5265 6d6f 7665 2064 6970 7320 6475  # Remove dips du
+0000a300: 6520 746f 2074 696d 6520 6d61 726b 7320  e to time marks 
+0000a310: 6672 6f6d 2064 656e 7369 7479 2064 6174  from density dat
+0000a320: 610a 2020 2020 666f 7220 6c69 6e65 2069  a.    for line i
+0000a330: 6e20 7469 6d65 4d61 726b 4c69 6e65 733a  n timeMarkLines:
+0000a340: 2020 2320 466f 7220 6561 6368 2074 696d    # For each tim
+0000a350: 6520 6d61 726b 2028 6d61 6b65 2064 656e  e mark (make den
+0000a360: 7369 7479 5072 6f66 696c 654e 6f54 696d  sityProfileNoTim
+0000a370: 654d 6172 6b73 290a 2020 2020 2020 2020  eMarks).        
+0000a380: 6966 206c 696e 655b 325d 203d 3d20 7475  if line[2] == tu
+0000a390: 6265 4e75 6d62 6572 3a20 2023 2049 6620  beNumber:  # If 
+0000a3a0: 7469 6d65 206d 6172 6b20 6973 2069 6e20  time mark is in 
+0000a3b0: 6375 7272 656e 7420 7475 6265 0a20 2020  current tube.   
+0000a3c0: 2020 2020 2020 2020 2077 696e 646f 7752           windowR
+0000a3d0: 6164 6975 7320 3d20 3130 2020 2320 5365  adius = 10  # Se
+0000a3e0: 7420 7261 6469 7573 206f 6620 7469 6d65  t radius of time
+0000a3f0: 206d 6172 6b20 6465 6c65 7469 6f6e 2077   mark deletion w
+0000a400: 696e 646f 7720 2352 4947 4854 4845 5245  indow #RIGHTHERE
+0000a410: 0a20 2020 2020 2020 2020 2020 206c 6f77  .            low
+0000a420: 5820 3d20 6c69 6e65 5b30 5d20 2d20 7769  X = line[0] - wi
+0000a430: 6e64 6f77 5261 6469 7573 2020 2320 4c65  ndowRadius  # Le
+0000a440: 6674 6d6f 7374 2062 6f75 6e64 206f 6620  ftmost bound of 
+0000a450: 6465 6c65 7469 6f6e 2077 696e 646f 770a  deletion window.
+0000a460: 2020 2020 2020 2020 2020 2020 6869 6768              high
+0000a470: 5820 3d20 6c69 6e65 5b30 5d20 2b20 7769  X = line[0] + wi
+0000a480: 6e64 6f77 5261 6469 7573 2020 2320 5269  ndowRadius  # Ri
+0000a490: 6768 746d 6f73 7420 626f 756e 6420 6f66  ghtmost bound of
+0000a4a0: 2064 656c 6574 696f 6e20 7769 6e64 6f77   deletion window
+0000a4b0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0000a4c0: 6c6f 7758 203c 2030 3a20 2023 2049 6620  lowX < 0:  # If 
+0000a4d0: 6c65 6674 2062 6f75 6e64 2069 7320 6f75  left bound is ou
+0000a4e0: 7473 6964 6520 696d 6167 650a 2020 2020  tside image.    
+0000a4f0: 2020 2020 2020 2020 2020 2020 6c6f 7758              lowX
+0000a500: 203d 2030 2020 2320 5365 7420 6c65 6674   = 0  # Set left
+0000a510: 2062 6f75 6e64 2074 6f20 6c65 6674 2065   bound to left e
+0000a520: 6467 6520 6f66 2069 6d61 6765 0a20 2020  dge of image.   
+0000a530: 2020 2020 2020 2020 2069 6620 6869 6768           if high
+0000a540: 5820 3e20 3131 3630 3a20 2023 2049 6620  X > 1160:  # If 
+0000a550: 7269 6768 7420 626f 756e 6420 6973 206f  right bound is o
+0000a560: 7574 7369 6465 2069 6d61 6765 2023 5249  utside image #RI
+0000a570: 4748 5448 4552 450a 2020 2020 2020 2020  GHTHERE.        
+0000a580: 2020 2020 2020 2020 6869 6768 5820 3d20          highX = 
+0000a590: 3131 3630 2020 2320 5365 7420 7269 6768  1160  # Set righ
+0000a5a0: 7420 626f 756e 6420 746f 2072 6967 6874  t bound to right
+0000a5b0: 2065 6467 6520 6f66 2069 6d61 6765 2023   edge of image #
+0000a5c0: 5249 4748 5448 4552 450a 2020 2020 2020  RIGHTHERE.      
+0000a5d0: 2020 2020 2020 7949 6e63 7265 6d65 6e74        yIncrement
+0000a5e0: 203d 2028 6465 6e73 6974 7950 726f 6669   = (densityProfi
+0000a5f0: 6c65 5b68 6967 6858 5d20 2d20 6465 6e73  le[highX] - dens
+0000a600: 6974 7950 726f 6669 6c65 5b6c 6f77 585d  ityProfile[lowX]
+0000a610: 2920 2f20 2832 2a77 696e 646f 7752 6164  ) / (2*windowRad
+0000a620: 6975 732b 3129 2020 2320 5365 7420 7920  ius+1)  # Set y 
+0000a630: 696e 6372 656d 656e 7420 6f66 2069 6e74  increment of int
+0000a640: 6572 706f 6c61 7469 6f6e 0a20 2020 2020  erpolation.     
+0000a650: 2020 2020 2020 2078 496e 6372 656d 656e         xIncremen
+0000a660: 7420 3d20 3020 2023 2053 6574 2078 2069  t = 0  # Set x i
+0000a670: 6e63 7265 6d65 6e74 206f 6620 696e 7465  ncrement of inte
+0000a680: 7270 6f6c 6174 696f 6e0a 2020 2020 2020  rpolation.      
+0000a690: 2020 2020 2020 666f 7220 7857 616c 6b20        for xWalk 
+0000a6a0: 696e 2072 616e 6765 286c 6f77 582c 2068  in range(lowX, h
+0000a6b0: 6967 6858 293a 2020 2320 466f 7220 7820  ighX):  # For x 
+0000a6c0: 7661 6c75 6520 696e 2069 6e74 6572 7020  value in interp 
+0000a6d0: 7769 6e64 6f77 0a20 2020 2020 2020 2020  window.         
+0000a6e0: 2020 2020 2020 2069 6620 7857 616c 6b20         if xWalk 
+0000a6f0: 3c20 6c65 6e28 6465 6e73 6974 7950 726f  < len(densityPro
+0000a700: 6669 6c65 4e6f 5469 6d65 4d61 726b 7329  fileNoTimeMarks)
+0000a710: 202d 2031 2061 6e64 2078 5761 6c6b 203e   - 1 and xWalk >
+0000a720: 2030 3a20 2023 2049 6620 7820 6973 2077   0:  # If x is w
+0000a730: 6974 6869 6e20 696d 6167 650a 2020 2020  ithin image.    
+0000a740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a750: 6465 6e73 6974 7950 726f 6669 6c65 4e6f  densityProfileNo
+0000a760: 5469 6d65 4d61 726b 735b 7857 616c 6b5d  TimeMarks[xWalk]
+0000a770: 203d 2064 656e 7369 7479 5072 6f66 696c   = densityProfil
+0000a780: 655b 6c6f 7758 5d20 2b20 7949 6e63 7265  e[lowX] + yIncre
+0000a790: 6d65 6e74 202a 2078 496e 6372 656d 656e  ment * xIncremen
+0000a7a0: 7420 2023 2049 6e74 6572 706f 6c61 7465  t  # Interpolate
+0000a7b0: 2064 656e 7369 7479 0a20 2020 2020 2020   density.       
+0000a7c0: 2020 2020 2020 2020 2078 496e 6372 656d           xIncrem
+0000a7d0: 656e 7420 2b3d 2031 2020 2320 496e 6372  ent += 1  # Incr
+0000a7e0: 6561 7365 2078 2069 6e63 7265 6d65 6e74  ease x increment
+0000a7f0: 206f 6620 696e 7465 7270 6f6c 6174 696f   of interpolatio
+0000a800: 6e0a 2020 2020 6465 6e73 6974 7950 726f  n.    densityPro
+0000a810: 6669 6c65 536d 6f6f 7468 203d 2073 6176  fileSmooth = sav
+0000a820: 676f 6c5f 6669 6c74 6572 2864 656e 7369  gol_filter(densi
+0000a830: 7479 5072 6f66 696c 654e 6f54 696d 654d  tyProfileNoTimeM
+0000a840: 6172 6b73 2c20 7769 6e64 6f77 5f6c 656e  arks, window_len
+0000a850: 6774 683d 3330 2c20 706f 6c79 6f72 6465  gth=30, polyorde
+0000a860: 723d 342c 206d 6f64 653d 2269 6e74 6572  r=4, mode="inter
+0000a870: 7022 2920 2023 2043 7265 6174 6520 6c69  p")  # Create li
+0000a880: 7374 2066 6f72 2053 6176 6974 7a6b 792d  st for Savitzky-
+0000a890: 476f 6c61 7920 736d 6f6f 7468 6564 2064  Golay smoothed d
+0000a8a0: 656e 7369 7479 2070 726f 6669 6c65 206f  ensity profile o
+0000a8b0: 6620 6d61 726b 732d 636f 7272 6563 7465  f marks-correcte
+0000a8c0: 6420 6461 7461 7365 7420 2352 4947 4854  d dataset #RIGHT
+0000a8d0: 4845 5245 0a20 2020 2070 6561 6b49 6e64  HERE.    peakInd
+0000a8e0: 6963 6573 203d 2066 696e 645f 7065 616b  ices = find_peak
+0000a8f0: 7328 6465 6e73 6974 7950 726f 6669 6c65  s(densityProfile
+0000a900: 536d 6f6f 7468 2c20 6469 7374 616e 6365  Smooth, distance
+0000a910: 3d32 302c 2070 726f 6d69 6e65 6e63 653d  =20, prominence=
+0000a920: 3230 2c20 6865 6967 6874 3d6e 756d 7079  20, height=numpy
+0000a930: 2e6d 6178 2864 656e 7369 7479 5072 6f66  .max(densityProf
+0000a940: 696c 6553 6d6f 6f74 6829 202a 2030 2e37  ileSmooth) * 0.7
+0000a950: 3529 5b30 5d20 2023 2047 6574 2069 6e64  5)[0]  # Get ind
+0000a960: 6963 6573 206f 6620 6c6f 6361 6c20 6d61  ices of local ma
+0000a970: 7869 6d61 206f 6620 736d 6f6f 7468 6564  xima of smoothed
+0000a980: 2064 656e 7369 7479 2070 726f 6669 6c65   density profile
+0000a990: 2023 5249 4748 5448 4552 450a 2020 2020   #RIGHTHERE.    
+0000a9a0: 666f 7220 7065 616b 496e 6465 7820 696e  for peakIndex in
+0000a9b0: 2070 6561 6b49 6e64 6963 6573 3a20 2023   peakIndices:  #
+0000a9c0: 2046 6f72 2065 6163 6820 7065 616b 2069   For each peak i
+0000a9d0: 6e64 6578 2069 6e20 736d 6f6f 7468 6564  ndex in smoothed
+0000a9e0: 2064 656e 7369 7479 2070 726f 6669 6c65   density profile
+0000a9f0: 0a20 2020 2020 2020 2070 6561 6b58 203d  .        peakX =
+0000aa00: 2070 6561 6b49 6e64 6578 2020 2320 5365   peakIndex  # Se
+0000aa10: 7420 7820 746f 2069 6e64 6578 0a20 2020  t x to index.   
+0000aa20: 2020 2020 2070 6561 6b59 203d 2028 7475       peakY = (tu
+0000aa30: 6265 5b70 6561 6b49 6e64 6578 5d5b 305d  be[peakIndex][0]
+0000aa40: 202b 2028 7475 6265 5b70 6561 6b49 6e64   + (tube[peakInd
+0000aa50: 6578 5d5b 315d 202d 2074 7562 655b 7065  ex][1] - tube[pe
+0000aa60: 616b 496e 6465 785d 5b30 5d29 2f32 2920  akIndex][0])/2) 
+0000aa70: 2023 2053 6574 2079 2074 6f20 6d69 646c   # Set y to midl
+0000aa80: 696e 6520 6f66 2074 7562 650a 2020 2020  ine of tube.    
+0000aa90: 2020 2020 6966 2070 6561 6b58 203e 206e      if peakX > n
+0000aaa0: 756d 7079 2e6d 696e 286c 6973 7428 6c69  umpy.min(list(li
+0000aab0: 6e65 5b30 5d20 666f 7220 6c69 6e65 2069  ne[0] for line i
+0000aac0: 6e20 7469 6d65 4d61 726b 4c69 6e65 7329  n timeMarkLines)
+0000aad0: 2920 616e 6420 7065 616b 5820 3c20 3131  ) and peakX < 11
+0000aae0: 3530 3a20 2023 2049 6620 6261 6e64 2069  50:  # If band i
+0000aaf0: 7320 6675 7274 6865 7220 7269 6768 7420  s further right 
+0000ab00: 7468 616e 2074 6865 2066 6972 7374 2074  than the first t
+0000ab10: 696d 6520 6d61 726b 2066 6f72 2069 7473  ime mark for its
+0000ab20: 2074 7562 6520 2352 4947 4854 4845 5245   tube #RIGHTHERE
+0000ab30: 0a20 2020 2020 2020 2020 2020 2062 616e  .            ban
+0000ab40: 644c 696e 6573 2e61 7070 656e 6428 5b70  dLines.append([p
+0000ab50: 6561 6b58 2c20 7065 616b 592c 2074 7562  eakX, peakY, tub
+0000ab60: 654e 756d 6265 725d 2920 2023 2041 6464  eNumber])  # Add
+0000ab70: 2062 616e 6420 746f 206c 6973 740a 2020   band to list.  
+0000ab80: 2020 0a20 2020 2072 6574 7572 6e20 6261    .    return ba
+0000ab90: 6e64 4c69 6e65 730a 0a0a 6465 6620 6472  ndLines...def dr
+0000aba0: 6177 4c69 6e65 7328 6472 6177 5469 6d65  awLines(drawTime
+0000abb0: 4d61 726b 4c69 6e65 7329 3a0a 2020 2020  MarkLines):.    
+0000abc0: 2222 2252 6564 7261 7720 696d 6167 6520  """Redraw image 
+0000abd0: 616c 6f6e 6720 7769 7468 2063 7572 7265  along with curre
+0000abe0: 6e74 2061 6363 6570 7465 6420 686f 7269  nt accepted hori
+0000abf0: 7a6f 6e74 616c 2061 6e64 2076 6572 7469  zontal and verti
+0000ac00: 6361 6c20 6c69 6e65 7320 666f 7220 7469  cal lines for ti
+0000ac10: 6d65 2061 6e64 2062 616e 6420 6d61 726b  me and band mark
+0000ac20: 732e 2222 220a 0a0a 2020 2020 676c 6f62  s."""...    glob
+0000ac30: 616c 2068 6f72 697a 6f6e 7461 6c4c 696e  al horizontalLin
+0000ac40: 6573 0a20 2020 2067 6c6f 6261 6c20 7469  es.    global ti
+0000ac50: 6d65 4d61 726b 4c69 6e65 730a 2020 2020  meMarkLines.    
+0000ac60: 676c 6f62 616c 2062 616e 644c 696e 6573  global bandLines
+0000ac70: 0a20 2020 2067 6c6f 6261 6c20 6d65 616e  .    global mean
+0000ac80: 5475 6265 5769 6474 680a 2020 2020 676c  TubeWidth.    gl
+0000ac90: 6f62 616c 2066 696e 616c 496d 6167 650a  obal finalImage.
+0000aca0: 2020 2020 676c 6f62 616c 2074 7562 6542      global tubeB
+0000acb0: 6f75 6e64 730a 2020 2020 676c 6f62 616c  ounds.    global
+0000acc0: 2061 7070 5061 7261 6d65 7465 7273 0a0a   appParameters..
+0000acd0: 0a20 2020 2068 6f6d 6554 6162 5261 6365  .    homeTabRace
+0000ace0: 5475 6265 496d 6167 654f 626a 6563 742e  TubeImageObject.
+0000acf0: 636c 6561 7228 2920 2023 2043 6c65 6172  clear()  # Clear
+0000ad00: 2069 6d61 6765 2063 616e 7661 730a 2020   image canvas.  
+0000ad10: 2020 686f 6d65 5461 6252 6163 6554 7562    homeTabRaceTub
+0000ad20: 6549 6d61 6765 4f62 6a65 6374 2e69 6d61  eImageObject.ima
+0000ad30: 6765 2830 2c20 302c 2066 696e 616c 496d  ge(0, 0, finalIm
+0000ad40: 6167 6529 2020 2320 4164 6420 696d 6167  age)  # Add imag
+0000ad50: 6520 746f 2063 616e 7661 730a 2020 2020  e to canvas.    
+0000ad60: 666f 7220 6c69 6e65 2069 6e20 686f 7269  for line in hori
+0000ad70: 7a6f 6e74 616c 4c69 6e65 733a 2020 2320  zontalLines:  # 
+0000ad80: 466f 7220 6561 6368 2068 6f72 697a 6f6e  For each horizon
+0000ad90: 7461 6c20 6c69 6e65 0a20 2020 2020 2020  tal line.       
+0000ada0: 2068 6f6d 6554 6162 5261 6365 5475 6265   homeTabRaceTube
+0000adb0: 496d 6167 654f 626a 6563 742e 6c69 6e65  ImageObject.line
+0000adc0: 280a 2020 2020 2020 2020 2020 2020 302c  (.            0,
+0000add0: 200a 2020 2020 2020 2020 2020 2020 6c69   .            li
+0000ade0: 6e65 5b31 5d2c 0a20 2020 2020 2020 2020  ne[1],.         
+0000adf0: 2020 2031 3136 302c 200a 2020 2020 2020     1160, .      
+0000ae00: 2020 2020 2020 6c69 6e65 5b31 5d20 2b20        line[1] + 
+0000ae10: 3131 3630 202a 206c 696e 655b 305d 2c20  1160 * line[0], 
+0000ae20: 0a20 2020 2020 2020 2020 2020 2063 6f6c  .            col
+0000ae30: 6f72 3d61 7070 5061 7261 6d65 7465 7273  or=appParameters
+0000ae40: 5b22 636f 6c6f 7248 6f72 697a 225d 2c20  ["colorHoriz"], 
+0000ae50: 0a20 2020 2020 2020 2020 2020 2077 6964  .            wid
+0000ae60: 7468 3d32 0a20 2020 2020 2020 2029 2020  th=2.        )  
+0000ae70: 2320 4472 6177 2074 6865 2068 6f72 697a  # Draw the horiz
+0000ae80: 6f6e 7461 6c20 6c69 6e65 2023 5249 4748  ontal line #RIGH
+0000ae90: 5448 4552 450a 2020 2020 6966 2064 7261  THERE.    if dra
+0000aea0: 7754 696d 654d 6172 6b4c 696e 6573 3a0a  wTimeMarkLines:.
+0000aeb0: 2020 2020 2020 2020 666f 7220 6c69 6e65          for line
+0000aec0: 2069 6e20 7469 6d65 4d61 726b 4c69 6e65   in timeMarkLine
+0000aed0: 733a 2020 2320 466f 7220 6561 6368 2074  s:  # For each t
+0000aee0: 696d 6520 6d61 726b 0a20 2020 2020 2020  ime mark.       
+0000aef0: 2020 2020 2068 6f6d 6554 6162 5261 6365       homeTabRace
+0000af00: 5475 6265 496d 6167 654f 626a 6563 742e  TubeImageObject.
+0000af10: 6c69 6e65 280a 2020 2020 2020 2020 2020  line(.          
+0000af20: 2020 2020 2020 6c69 6e65 5b30 5d2c 0a20        line[0],. 
+0000af30: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+0000af40: 696e 655b 315d 202d 2028 6d65 616e 5475  ine[1] - (meanTu
+0000af50: 6265 5769 6474 6820 2f20 3220 2d20 3529  beWidth / 2 - 5)
+0000af60: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000af70: 2020 6c69 6e65 5b30 5d2c 0a20 2020 2020    line[0],.     
+0000af80: 2020 2020 2020 2020 2020 206c 696e 655b             line[
+0000af90: 315d 202b 2028 6d65 616e 5475 6265 5769  1] + (meanTubeWi
+0000afa0: 6474 6820 2f20 3220 2d20 3529 2c0a 2020  dth / 2 - 5),.  
+0000afb0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+0000afc0: 6c6f 723d 6170 7050 6172 616d 6574 6572  lor=appParameter
+0000afd0: 735b 2263 6f6c 6f72 5665 7274 225d 2c0a  s["colorVert"],.
+0000afe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aff0: 7769 6474 683d 322c 0a20 2020 2020 2020  width=2,.       
+0000b000: 2020 2020 2029 2020 2320 4472 6177 2074       )  # Draw t
+0000b010: 6865 2074 696d 6520 6d61 726b 206c 696e  he time mark lin
+0000b020: 650a 2020 2020 666f 7220 6c69 6e65 2069  e.    for line i
+0000b030: 6e20 6261 6e64 4c69 6e65 733a 2020 2320  n bandLines:  # 
+0000b040: 466f 7220 6561 6368 2062 616e 640a 2020  For each band.  
+0000b050: 2020 2020 2020 686f 6d65 5461 6252 6163        homeTabRac
+0000b060: 6554 7562 6549 6d61 6765 4f62 6a65 6374  eTubeImageObject
+0000b070: 2e6c 696e 6528 0a20 2020 2020 2020 2020  .line(.         
+0000b080: 2020 206c 696e 655b 305d 2c0a 2020 2020     line[0],.    
+0000b090: 2020 2020 2020 2020 6c69 6e65 5b31 5d20          line[1] 
+0000b0a0: 2d20 286d 6561 6e54 7562 6557 6964 7468  - (meanTubeWidth
+0000b0b0: 202f 2032 202d 2035 292c 0a20 2020 2020   / 2 - 5),.     
+0000b0c0: 2020 2020 2020 206c 696e 655b 305d 2c0a         line[0],.
+0000b0d0: 2020 2020 2020 2020 2020 2020 6c69 6e65              line
+0000b0e0: 5b31 5d20 2b20 286d 6561 6e54 7562 6557  [1] + (meanTubeW
+0000b0f0: 6964 7468 202f 2032 202d 2035 292c 0a20  idth / 2 - 5),. 
+0000b100: 2020 2020 2020 2020 2020 2063 6f6c 6f72             color
+0000b110: 3d61 7070 5061 7261 6d65 7465 7273 5b22  =appParameters["
+0000b120: 636f 6c6f 7242 616e 6422 5d2c 0a20 2020  colorBand"],.   
+0000b130: 2020 2020 2020 2020 2077 6964 7468 3d32           width=2
+0000b140: 2c0a 2020 2020 2020 2020 2920 2023 2044  ,.        )  # D
+0000b150: 7261 7720 7468 6520 6c69 6e65 2066 6f72  raw the line for
+0000b160: 2074 6865 2062 616e 6420 7065 616b 0a0a   the band peak..
+0000b170: 0a64 6566 2069 6d61 6765 436c 6963 6b48  .def imageClickH
+0000b180: 616e 646c 6572 286d 6f75 7365 436c 6963  andler(mouseClic
+0000b190: 6b29 3a0a 2020 2020 2222 2242 6173 6564  k):.    """Based
+0000b1a0: 206f 6e20 676c 6f62 616c 2061 6e61 6c79   on global analy
+0000b1b0: 7369 7320 7374 6174 652c 2068 616e 646c  sis state, handl
+0000b1c0: 6520 636c 6963 6b73 206f 6e20 696d 6167  e clicks on imag
+0000b1d0: 6520 746f 2061 646a 7573 7420 6c69 6e65  e to adjust line
+0000b1e0: 206c 6f63 6174 696f 6e73 2e22 2222 0a0a   locations."""..
+0000b1f0: 0a20 2020 2067 6c6f 6261 6c20 616e 616c  .    global anal
+0000b200: 5374 6174 650a 2020 2020 676c 6f62 616c  State.    global
+0000b210: 2068 6f72 697a 6f6e 7461 6c4c 696e 6573   horizontalLines
+0000b220: 0a20 2020 2067 6c6f 6261 6c20 7469 6d65  .    global time
+0000b230: 4d61 726b 4c69 6e65 730a 2020 2020 676c  MarkLines.    gl
+0000b240: 6f62 616c 2062 616e 644c 696e 6573 0a20  obal bandLines. 
+0000b250: 2020 2067 6c6f 6261 6c20 6d65 616e 5475     global meanTu
+0000b260: 6265 536c 6f70 650a 2020 2020 676c 6f62  beSlope.    glob
+0000b270: 616c 206d 6561 6e54 7562 6557 6964 7468  al meanTubeWidth
+0000b280: 0a20 2020 2067 6c6f 6261 6c20 7475 6265  .    global tube
+0000b290: 426f 756e 6473 0a0a 0a20 2020 206d 6174  Bounds...    mat
+0000b2a0: 6368 2061 6e61 6c53 7461 7465 3a20 2023  ch analState:  #
+0000b2b0: 2042 6173 6564 206f 6e20 616e 616c 7973   Based on analys
+0000b2c0: 6973 2073 7461 7465 0a20 2020 2020 2020  is state.       
+0000b2d0: 2063 6173 6520 323a 2020 2320 416e 616c   case 2:  # Anal
+0000b2e0: 7973 6973 2073 7461 7465 2032 2028 7475  ysis state 2 (tu
+0000b2f0: 6265 2062 6f75 6e64 7329 0a20 2020 2020  be bounds).     
+0000b300: 2020 2020 2020 2074 6172 6765 744c 696e         targetLin
+0000b310: 6549 6e64 6578 203d 202d 3120 2023 2053  eIndex = -1  # S
+0000b320: 6574 2074 6172 6765 7420 746f 202d 310a  et target to -1.
+0000b330: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+0000b340: 6c69 6e65 2069 6e20 686f 7269 7a6f 6e74  line in horizont
+0000b350: 616c 4c69 6e65 733a 2020 2320 466f 7220  alLines:  # For 
+0000b360: 6561 6368 2068 6f72 697a 6f6e 7461 6c20  each horizontal 
+0000b370: 6c69 6e65 0a20 2020 2020 2020 2020 2020  line.           
+0000b380: 2020 2020 2069 6620 2861 6273 286c 696e       if (abs(lin
+0000b390: 655b 305d 202a 206d 6f75 7365 436c 6963  e[0] * mouseClic
+0000b3a0: 6b2e 7820 2b20 6c69 6e65 5b31 5d20 2d20  k.x + line[1] - 
+0000b3b0: 6d6f 7573 6543 6c69 636b 2e79 2920 3c20  mouseClick.y) < 
+0000b3c0: 3130 293a 2020 2320 4966 2063 6c69 636b  10):  # If click
+0000b3d0: 2069 7320 636c 6f73 6520 656e 6f75 6768   is close enough
+0000b3e0: 2074 6f20 616e 2065 7869 7374 696e 6720   to an existing 
+0000b3f0: 686f 7269 7a6f 6e74 616c 206c 696e 650a  horizontal line.
+0000b400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b410: 2020 2020 7461 7267 6574 4c69 6e65 496e      targetLineIn
+0000b420: 6465 7820 3d20 686f 7269 7a6f 6e74 616c  dex = horizontal
+0000b430: 4c69 6e65 732e 696e 6465 7828 6c69 6e65  Lines.index(line
+0000b440: 2920 2023 2053 6574 2070 726f 7869 6d61  )  # Set proxima
+0000b450: 6c20 6c69 6e65 2074 6f20 636c 6963 6b20  l line to click 
+0000b460: 6173 2074 6172 6765 7420 6c69 6e65 0a20  as target line. 
+0000b470: 2020 2020 2020 2020 2020 2069 6620 7461             if ta
+0000b480: 7267 6574 4c69 6e65 496e 6465 7820 3d3d  rgetLineIndex ==
+0000b490: 202d 313a 2020 2320 4966 206e 6f20 6c69   -1:  # If no li
+0000b4a0: 6e65 2069 7320 7461 7267 6574 6564 2062  ne is targeted b
+0000b4b0: 7920 636c 6963 6b0a 2020 2020 2020 2020  y click.        
+0000b4c0: 2020 2020 2020 2020 6e65 774c 696e 6549          newLineI
+0000b4d0: 6e74 6572 6365 7074 203d 2028 6d6f 7573  ntercept = (mous
+0000b4e0: 6543 6c69 636b 2e79 202d 206d 6561 6e54  eClick.y - meanT
+0000b4f0: 7562 6553 6c6f 7065 202a 206d 6f75 7365  ubeSlope * mouse
+0000b500: 436c 6963 6b2e 7829 2020 2320 4765 6e65  Click.x)  # Gene
+0000b510: 7261 7465 206e 6577 2069 6e74 6572 6365  rate new interce
+0000b520: 7074 2062 6173 6564 206f 6e20 636c 6963  pt based on clic
+0000b530: 6b20 706f 7369 7469 6f6e 2061 6e64 206d  k position and m
+0000b540: 6561 6e20 686f 7269 7a6f 6e74 616c 2073  ean horizontal s
+0000b550: 6c6f 7065 0a20 2020 2020 2020 2020 2020  lope.           
+0000b560: 2020 2020 2068 6f72 697a 6f6e 7461 6c4c       horizontalL
+0000b570: 696e 6573 2e61 7070 656e 6428 5b6d 6561  ines.append([mea
+0000b580: 6e54 7562 6553 6c6f 7065 2c20 6e65 774c  nTubeSlope, newL
+0000b590: 696e 6549 6e74 6572 6365 7074 5d29 2020  ineIntercept])  
+0000b5a0: 2320 4164 6420 6e65 7720 6c69 6e65 2074  # Add new line t
+0000b5b0: 6f20 6c69 7374 206f 6620 686f 7269 7a6f  o list of horizo
+0000b5c0: 6e74 616c 206c 696e 6573 0a20 2020 2020  ntal lines.     
+0000b5d0: 2020 2020 2020 2065 6c73 653a 2020 2320         else:  # 
+0000b5e0: 4966 2061 206c 696e 6520 6973 2074 6172  If a line is tar
+0000b5f0: 6765 7465 6420 6279 2063 6c69 636b 0a20  geted by click. 
+0000b600: 2020 2020 2020 2020 2020 2020 2020 2068                 h
+0000b610: 6f72 697a 6f6e 7461 6c4c 696e 6573 2e70  orizontalLines.p
+0000b620: 6f70 2874 6172 6765 744c 696e 6549 6e64  op(targetLineInd
+0000b630: 6578 2920 2023 2044 656c 6574 6520 7468  ex)  # Delete th
+0000b640: 6174 206c 696e 650a 2020 2020 2020 2020  at line.        
+0000b650: 2020 2020 6472 6177 4c69 6e65 7328 5472      drawLines(Tr
+0000b660: 7565 2920 2023 2041 6464 206c 696e 6573  ue)  # Add lines
+0000b670: 2074 6f20 696d 6167 650a 2020 2020 2020   to image.      
+0000b680: 2020 6361 7365 2035 3a20 2023 2041 6e61    case 5:  # Ana
+0000b690: 6c79 7369 7320 7374 6174 6520 3520 2874  lysis state 5 (t
+0000b6a0: 696d 6520 6d61 726b 7329 0a20 2020 2020  ime marks).     
+0000b6b0: 2020 2020 2020 2074 6172 6765 744c 696e         targetLin
+0000b6c0: 6549 6e64 6578 203d 202d 3120 2023 2053  eIndex = -1  # S
+0000b6d0: 6574 2074 6172 6765 7420 746f 202d 310a  et target to -1.
+0000b6e0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+0000b6f0: 6c69 6e65 2069 6e20 7469 6d65 4d61 726b  line in timeMark
+0000b700: 4c69 6e65 733a 2020 2320 466f 7220 6561  Lines:  # For ea
+0000b710: 6368 2074 696d 6520 6d61 726b 206c 696e  ch time mark lin
+0000b720: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0000b730: 2020 6966 2061 6273 286c 696e 655b 305d    if abs(line[0]
+0000b740: 202d 206d 6f75 7365 436c 6963 6b2e 7829   - mouseClick.x)
+0000b750: 203c 2035 2061 6e64 2061 6273 286c 696e   < 5 and abs(lin
+0000b760: 655b 315d 202d 206d 6f75 7365 436c 6963  e[1] - mouseClic
+0000b770: 6b2e 7929 203c 2028 6d65 616e 5475 6265  k.y) < (meanTube
+0000b780: 5769 6474 682f 322b 3229 3a20 2023 2049  Width/2+2):  # I
+0000b790: 6620 636c 6963 6b20 6973 2063 6c6f 7365  f click is close
+0000b7a0: 2065 6e6f 7567 6820 746f 2061 6e20 6578   enough to an ex
+0000b7b0: 6973 7469 6e67 2074 696d 6520 6d61 726b  isting time mark
+0000b7c0: 206c 696e 650a 2020 2020 2020 2020 2020   line.          
+0000b7d0: 2020 2020 2020 2020 2020 7461 7267 6574            target
+0000b7e0: 4c69 6e65 496e 6465 7820 3d20 7469 6d65  LineIndex = time
+0000b7f0: 4d61 726b 4c69 6e65 732e 696e 6465 7828  MarkLines.index(
+0000b800: 6c69 6e65 2920 2023 2053 6574 2070 726f  line)  # Set pro
+0000b810: 7869 6d61 6c20 6c69 6e65 2074 6f20 636c  ximal line to cl
+0000b820: 6963 6b20 6173 2074 6172 6765 7420 6c69  ick as target li
+0000b830: 6e65 0a20 2020 2020 2020 2020 2020 2069  ne.            i
+0000b840: 6620 7461 7267 6574 4c69 6e65 496e 6465  f targetLineInde
+0000b850: 7820 3d3d 202d 313a 2020 2320 4966 206e  x == -1:  # If n
+0000b860: 6f20 6c69 6e65 2069 7320 7461 7267 6574  o line is target
+0000b870: 6564 2062 7920 636c 6963 6b0a 2020 2020  ed by click.    
+0000b880: 2020 2020 2020 2020 2020 2020 6e65 774d              newM
+0000b890: 6172 6b58 203d 206d 6f75 7365 436c 6963  arkX = mouseClic
+0000b8a0: 6b2e 7820 2023 2053 6574 2078 2074 6f20  k.x  # Set x to 
+0000b8b0: 7820 6f66 2063 6c69 636b 0a20 2020 2020  x of click.     
+0000b8c0: 2020 2020 2020 2020 2020 206e 6577 4d61             newMa
+0000b8d0: 726b 5475 6265 4e75 6d62 6572 203d 202d  rkTubeNumber = -
+0000b8e0: 3120 2023 2053 6574 2074 7562 6520 4944  1  # Set tube ID
+0000b8f0: 2074 6f20 2d31 0a20 2020 2020 2020 2020   to -1.         
+0000b900: 2020 2020 2020 2066 6f72 2074 7562 6520         for tube 
+0000b910: 696e 2074 7562 6542 6f75 6e64 733a 2020  in tubeBounds:  
+0000b920: 2320 466f 7220 6561 6368 2074 7562 6520  # For each tube 
+0000b930: 696e 2074 7562 6542 6f75 6e64 730a 2020  in tubeBounds.  
+0000b940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b950: 2020 6966 2028 6d6f 7573 6543 6c69 636b    if (mouseClick
+0000b960: 2e79 203e 2074 7562 655b 6e65 774d 6172  .y > tube[newMar
+0000b970: 6b58 5d5b 305d 2061 6e64 206d 6f75 7365  kX][0] and mouse
+0000b980: 436c 6963 6b2e 7920 3c20 7475 6265 5b6e  Click.y < tube[n
+0000b990: 6577 4d61 726b 585d 5b31 5d29 3a20 2023  ewMarkX][1]):  #
+0000b9a0: 2049 6620 636c 6963 6b20 6973 2077 6974   If click is wit
+0000b9b0: 6869 6e20 7475 6265 0a20 2020 2020 2020  hin tube.       
+0000b9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b9d0: 206e 6577 4d61 726b 5475 6265 4e75 6d62   newMarkTubeNumb
+0000b9e0: 6572 203d 2074 7562 6542 6f75 6e64 732e  er = tubeBounds.
+0000b9f0: 696e 6465 7828 7475 6265 2920 2023 2053  index(tube)  # S
+0000ba00: 6574 2074 7562 6520 4944 2074 6f20 6375  et tube ID to cu
+0000ba10: 7272 656e 7420 7475 6265 0a20 2020 2020  rrent tube.     
+0000ba20: 2020 2020 2020 2020 2020 206e 6577 4d61             newMa
+0000ba30: 726b 5920 3d20 2874 7562 6542 6f75 6e64  rkY = (tubeBound
+0000ba40: 735b 6e65 774d 6172 6b54 7562 654e 756d  s[newMarkTubeNum
+0000ba50: 6265 725d 5b6e 6577 4d61 726b 585d 5b30  ber][newMarkX][0
+0000ba60: 5d20 2b20 6d65 616e 5475 6265 5769 6474  ] + meanTubeWidt
+0000ba70: 6820 2f20 3229 2020 2320 5365 7420 7920  h / 2)  # Set y 
+0000ba80: 746f 206d 6964 6c69 6e65 206f 6620 7475  to midline of tu
+0000ba90: 6265 2063 6f6e 7461 696e 696e 6720 636c  be containing cl
+0000baa0: 6963 6b20 6174 2078 206f 6620 636c 6963  ick at x of clic
+0000bab0: 6b0a 2020 2020 2020 2020 2020 2020 2020  k.              
+0000bac0: 2020 7469 6d65 4d61 726b 4c69 6e65 732e    timeMarkLines.
+0000bad0: 6170 7065 6e64 285b 6e65 774d 6172 6b58  append([newMarkX
+0000bae0: 2c20 6e65 774d 6172 6b59 2c20 6e65 774d  , newMarkY, newM
+0000baf0: 6172 6b54 7562 654e 756d 6265 725d 2920  arkTubeNumber]) 
+0000bb00: 2023 2041 6464 206e 6577 206c 696e 6520   # Add new line 
+0000bb10: 746f 206c 6973 7420 6f66 2074 696d 6520  to list of time 
+0000bb20: 6d61 726b 206c 696e 6573 0a20 2020 2020  mark lines.     
+0000bb30: 2020 2020 2020 2065 6c73 653a 2020 2320         else:  # 
+0000bb40: 4966 2061 206c 696e 6520 6973 2074 6172  If a line is tar
+0000bb50: 6765 7465 6420 6279 2063 6c69 636b 0a20  geted by click. 
+0000bb60: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0000bb70: 696d 654d 6172 6b4c 696e 6573 2e70 6f70  imeMarkLines.pop
+0000bb80: 2874 6172 6765 744c 696e 6549 6e64 6578  (targetLineIndex
+0000bb90: 2920 2023 2044 656c 6574 6520 7468 6174  )  # Delete that
+0000bba0: 206c 696e 650a 2020 2020 2020 2020 2020   line.          
+0000bbb0: 2020 6472 6177 4c69 6e65 7328 5472 7565    drawLines(True
+0000bbc0: 2920 2023 2041 6464 206c 696e 6573 2074  )  # Add lines t
+0000bbd0: 6f20 696d 6167 650a 2020 2020 2020 2020  o image.        
+0000bbe0: 6361 7365 2037 3a20 2023 2041 6e61 6c79  case 7:  # Analy
+0000bbf0: 7369 7320 7374 6174 6520 3720 2862 616e  sis state 7 (ban
+0000bc00: 6420 6c6f 6361 7469 6f6e 7329 0a20 2020  d locations).   
+0000bc10: 2020 2020 2020 2020 2074 6172 6765 744c           targetL
+0000bc20: 696e 6549 6e64 6578 203d 202d 3120 2023  ineIndex = -1  #
+0000bc30: 2053 6574 2074 6172 6765 7420 746f 202d   Set target to -
+0000bc40: 310a 2020 2020 2020 2020 2020 2020 666f  1.            fo
+0000bc50: 7220 6c69 6e65 2069 6e20 6261 6e64 4c69  r line in bandLi
+0000bc60: 6e65 733a 2020 2320 466f 7220 6561 6368  nes:  # For each
+0000bc70: 2062 616e 6420 6c69 6e65 0a20 2020 2020   band line.     
+0000bc80: 2020 2020 2020 2020 2020 2069 6620 6162             if ab
+0000bc90: 7328 6c69 6e65 5b30 5d20 2d20 6d6f 7573  s(line[0] - mous
+0000bca0: 6543 6c69 636b 2e78 2920 3c20 3520 616e  eClick.x) < 5 an
+0000bcb0: 6420 6162 7328 6c69 6e65 5b31 5d20 2d20  d abs(line[1] - 
+0000bcc0: 6d6f 7573 6543 6c69 636b 2e79 2920 3c20  mouseClick.y) < 
+0000bcd0: 286d 6561 6e54 7562 6557 6964 7468 2f32  (meanTubeWidth/2
+0000bce0: 2b32 293a 2020 2320 4966 2063 6c69 636b  +2):  # If click
+0000bcf0: 2069 7320 636c 6f73 6520 656e 6f75 6768   is close enough
+0000bd00: 2074 6f20 616e 2065 7869 7374 696e 6720   to an existing 
+0000bd10: 6261 6e64 206c 696e 650a 2020 2020 2020  band line.      
+0000bd20: 2020 2020 2020 2020 2020 2020 2020 7461                ta
+0000bd30: 7267 6574 4c69 6e65 496e 6465 7820 3d20  rgetLineIndex = 
+0000bd40: 6261 6e64 4c69 6e65 732e 696e 6465 7828  bandLines.index(
+0000bd50: 6c69 6e65 2920 2023 2053 6574 2070 726f  line)  # Set pro
+0000bd60: 7869 6d61 6c20 6c69 6e65 2074 6f20 636c  ximal line to cl
+0000bd70: 6963 6b20 6173 2074 6172 6765 7420 6c69  ick as target li
+0000bd80: 6e65 0a20 2020 2020 2020 2020 2020 2069  ne.            i
+0000bd90: 6620 7461 7267 6574 4c69 6e65 496e 6465  f targetLineInde
+0000bda0: 7820 3d3d 202d 313a 2020 2320 4966 206e  x == -1:  # If n
+0000bdb0: 6f20 6c69 6e65 2069 7320 7461 7267 6574  o line is target
+0000bdc0: 6564 2062 7920 636c 6963 6b0a 2020 2020  ed by click.    
+0000bdd0: 2020 2020 2020 2020 2020 2020 6e65 7742              newB
+0000bde0: 616e 6458 203d 206d 6f75 7365 436c 6963  andX = mouseClic
+0000bdf0: 6b2e 7820 2023 2053 6574 2078 2074 6f20  k.x  # Set x to 
+0000be00: 7820 6f66 2063 6c69 636b 0a20 2020 2020  x of click.     
+0000be10: 2020 2020 2020 2020 2020 206e 6577 4261             newBa
+0000be20: 6e64 5475 6265 4e75 6d62 6572 203d 202d  ndTubeNumber = -
+0000be30: 3120 2023 2053 6574 2074 7562 6520 4944  1  # Set tube ID
+0000be40: 2074 6f20 2d31 730a 2020 2020 2020 2020   to -1s.        
+0000be50: 2020 2020 2020 2020 666f 7220 7475 6265          for tube
+0000be60: 2069 6e20 7475 6265 426f 756e 6473 3a20   in tubeBounds: 
+0000be70: 2023 2046 6f72 2065 6163 6820 7475 6265   # For each tube
+0000be80: 2069 6e20 7475 6265 426f 756e 6473 0a20   in tubeBounds. 
+0000be90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bea0: 2020 2069 6620 286d 6f75 7365 436c 6963     if (mouseClic
+0000beb0: 6b2e 7920 3e20 7475 6265 5b6e 6577 4261  k.y > tube[newBa
+0000bec0: 6e64 585d 5b30 5d20 616e 6420 6d6f 7573  ndX][0] and mous
+0000bed0: 6543 6c69 636b 2e79 203c 2074 7562 655b  eClick.y < tube[
+0000bee0: 6e65 7742 616e 6458 5d5b 315d 293a 2020  newBandX][1]):  
+0000bef0: 2320 4966 2063 6c69 636b 2069 7320 7769  # If click is wi
+0000bf00: 7468 696e 2074 7562 650a 2020 2020 2020  thin tube.      
+0000bf10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf20: 2020 6e65 7742 616e 6454 7562 654e 756d    newBandTubeNum
+0000bf30: 6265 7220 3d20 7475 6265 426f 756e 6473  ber = tubeBounds
+0000bf40: 2e69 6e64 6578 2874 7562 6529 2020 2320  .index(tube)  # 
+0000bf50: 5365 7420 7475 6265 2049 4420 746f 2063  Set tube ID to c
+0000bf60: 7572 7265 6e74 2074 7562 650a 2020 2020  urrent tube.    
+0000bf70: 2020 2020 2020 2020 2020 2020 6e65 7742              newB
+0000bf80: 616e 6459 203d 2028 7475 6265 426f 756e  andY = (tubeBoun
+0000bf90: 6473 5b6e 6577 4261 6e64 5475 6265 4e75  ds[newBandTubeNu
+0000bfa0: 6d62 6572 5d5b 6e65 7742 616e 6458 5d5b  mber][newBandX][
+0000bfb0: 305d 202b 206d 6561 6e54 7562 6557 6964  0] + meanTubeWid
+0000bfc0: 7468 202f 2032 2920 2023 2053 6574 2079  th / 2)  # Set y
+0000bfd0: 2074 6f20 6d69 646c 696e 6520 6f66 2074   to midline of t
+0000bfe0: 7562 6520 636f 6e74 6169 6e69 6e67 2063  ube containing c
+0000bff0: 6c69 636b 2061 7420 7820 6f66 2063 6c69  lick at x of cli
+0000c000: 636b 0a20 2020 2020 2020 2020 2020 2020  ck.             
+0000c010: 2020 2062 616e 644c 696e 6573 2e61 7070     bandLines.app
+0000c020: 656e 6428 5b6e 6577 4261 6e64 582c 206e  end([newBandX, n
+0000c030: 6577 4261 6e64 592c 206e 6577 4261 6e64  ewBandY, newBand
+0000c040: 5475 6265 4e75 6d62 6572 5d29 2020 2320  TubeNumber])  # 
+0000c050: 4164 6420 6e65 7720 6c69 6e65 2074 6f20  Add new line to 
+0000c060: 6c69 7374 206f 6620 6261 6e64 206c 696e  list of band lin
+0000c070: 6573 0a20 2020 2020 2020 2020 2020 2065  es.            e
+0000c080: 6c73 653a 2020 2320 4966 2061 206c 696e  lse:  # If a lin
+0000c090: 6520 6973 2074 6172 6765 7465 6420 6279  e is targeted by
+0000c0a0: 2063 6c69 636b 0a20 2020 2020 2020 2020   click.         
+0000c0b0: 2020 2020 2020 2062 616e 644c 696e 6573         bandLines
+0000c0c0: 2e70 6f70 2874 6172 6765 744c 696e 6549  .pop(targetLineI
+0000c0d0: 6e64 6578 2920 2023 2044 656c 6574 6520  ndex)  # Delete 
+0000c0e0: 7468 6174 206c 696e 650a 2020 2020 2020  that line.      
+0000c0f0: 2020 2020 2020 6472 6177 4c69 6e65 7328        drawLines(
+0000c100: 4661 6c73 6529 2020 2320 4164 6420 6c69  False)  # Add li
+0000c110: 6e65 7320 746f 2069 6d61 6765 0a0a 0a64  nes to image...d
+0000c120: 6566 2067 6574 5469 6d65 4d61 726b 5461  ef getTimeMarkTa
+0000c130: 626c 6544 6174 6128 293a 0a20 2020 2022  bleData():.    "
+0000c140: 2222 5361 7665 2069 6e66 6f72 6d61 7469  ""Save informati
+0000c150: 6f6e 2066 726f 6d20 7469 6d65 206d 6172  on from time mar
+0000c160: 6b20 7461 626c 6520 746f 2076 6172 6961  k table to varia
+0000c170: 626c 652e 2222 220a 0a0a 2020 2020 676c  ble."""...    gl
+0000c180: 6f62 616c 206d 6172 6b48 6f75 7273 0a0a  obal markHours..
+0000c190: 0a20 2020 206e 756d 6265 724f 6648 6f75  .    numberOfHou
+0000c1a0: 7273 203d 2030 2020 2320 5365 7420 6e75  rs = 0  # Set nu
+0000c1b0: 6d62 6572 206f 6620 686f 7572 7320 696e  mber of hours in
+0000c1c0: 2072 6f77 2074 6f20 300a 2020 2020 666f   row to 0.    fo
+0000c1d0: 7220 6461 7475 6d20 696e 2074 696d 654d  r datum in timeM
+0000c1e0: 6172 6b54 6162 6c65 4461 7461 5465 7874  arkTableDataText
+0000c1f0: 426f 7865 733a 2020 2320 466f 7220 6561  Boxes:  # For ea
+0000c200: 6368 2072 6f77 206f 6620 7469 6d65 206d  ch row of time m
+0000c210: 6172 6b20 7461 626c 650a 2020 2020 2020  ark table.      
+0000c220: 2020 6d61 7463 6820 2874 696d 654d 6172    match (timeMar
+0000c230: 6b54 6162 6c65 4461 7461 5465 7874 426f  kTableDataTextBo
+0000c240: 7865 732e 696e 6465 7828 6461 7475 6d29  xes.index(datum)
+0000c250: 2025 2033 293a 2020 2320 4261 7365 6420   % 3):  # Based 
+0000c260: 6f6e 2069 6e64 6578 206f 6620 7465 7874  on index of text
+0000c270: 2062 6f78 2069 6e20 6c69 7374 206f 6620   box in list of 
+0000c280: 7469 6d65 206d 6172 6b20 6461 7461 2074  time mark data t
+0000c290: 6162 6c65 2063 656c 6c73 0a20 2020 2020  able cells.     
+0000c2a0: 2020 2020 2020 2063 6173 6520 303a 2020         case 0:  
+0000c2b0: 2320 4966 2069 6e20 6669 7273 7420 636f  # If in first co
+0000c2c0: 6c75 6d6e 0a20 2020 2020 2020 2020 2020  lumn.           
+0000c2d0: 2020 2020 206e 756d 6265 724f 6648 6f75       numberOfHou
+0000c2e0: 7273 203d 2032 3420 2a20 2869 6e74 2864  rs = 24 * (int(d
+0000c2f0: 6174 756d 2e76 616c 7565 2929 2020 2320  atum.value))  # 
+0000c300: 5365 7420 686f 7572 7320 746f 206e 756d  Set hours to num
+0000c310: 6265 7220 6f66 2064 6179 7320 696e 2072  ber of days in r
+0000c320: 6f77 202a 2032 340a 2020 2020 2020 2020  ow * 24.        
+0000c330: 2020 2020 6361 7365 2031 3a20 2023 2049      case 1:  # I
+0000c340: 6620 696e 2073 6563 6f6e 6420 636f 6c75  f in second colu
+0000c350: 6d6e 0a20 2020 2020 2020 2020 2020 2020  mn.             
+0000c360: 2020 206e 756d 6265 724f 6648 6f75 7273     numberOfHours
+0000c370: 202b 3d20 696e 7428 6461 7475 6d2e 7661   += int(datum.va
+0000c380: 6c75 6529 2020 2320 4164 6420 746f 2068  lue)  # Add to h
+0000c390: 6f75 7273 206e 756d 6265 7220 6f66 2068  ours number of h
+0000c3a0: 6f75 7273 2069 6e20 726f 770a 2020 2020  ours in row.    
+0000c3b0: 2020 2020 2020 2020 6361 7365 2032 3a20          case 2: 
+0000c3c0: 2023 2049 6620 696e 2074 6869 7264 2063   # If in third c
+0000c3d0: 6f6c 756d 6e0a 2020 2020 2020 2020 2020  olumn.          
+0000c3e0: 2020 2020 2020 6e75 6d62 6572 4f66 486f        numberOfHo
+0000c3f0: 7572 7320 2b3d 2028 696e 7428 6461 7475  urs += (int(datu
+0000c400: 6d2e 7661 6c75 6529 202f 2036 3029 2020  m.value) / 60)  
+0000c410: 2320 4164 6420 746f 2068 6f75 7273 206e  # Add to hours n
+0000c420: 756d 6265 7220 6f66 206d 696e 7574 6573  umber of minutes
+0000c430: 2069 6e20 726f 7720 2f20 3630 0a20 2020   in row / 60.   
+0000c440: 2020 2020 2020 2020 2020 2020 206d 6172               mar
+0000c450: 6b48 6f75 7273 2e61 7070 656e 6428 6e75  kHours.append(nu
+0000c460: 6d62 6572 4f66 486f 7572 7329 2020 2320  mberOfHours)  # 
+0000c470: 4164 6420 6e75 6d62 6572 206f 6620 686f  Add number of ho
+0000c480: 7572 7320 746f 206d 6172 6b48 6f75 7273  urs to markHours
+0000c490: 0a20 2020 200a 0a64 6566 2073 6176 6554  .    ..def saveT
+0000c4a0: 7562 6573 546f 4669 6c65 5072 6f6d 7074  ubesToFilePrompt
+0000c4b0: 2829 3a0a 2020 2020 2222 2243 7265 6174  ():.    """Creat
+0000c4c0: 6520 706f 7075 7020 7769 6e64 6f77 2070  e popup window p
+0000c4d0: 726f 6d70 7469 6e67 2075 7365 7220 746f  rompting user to
+0000c4e0: 206e 616d 6520 7365 7420 6f66 2074 7562   name set of tub
+0000c4f0: 6573 2069 6e20 6375 7272 656e 7420 696d  es in current im
+0000c500: 6167 6520 6265 666f 7265 2073 6176 696e  age before savin
+0000c510: 6720 746f 2066 696c 652e 2222 220a 0a0a  g to file."""...
+0000c520: 2020 2020 7365 744e 616d 6550 6f70 7570      setNamePopup
+0000c530: 203d 2057 696e 646f 7728 6170 702c 2074   = Window(app, t
+0000c540: 6974 6c65 3d22 5061 636b 206e 616d 652e  itle="Pack name.
+0000c550: 2e2e 222c 2077 6964 7468 3d32 3030 2c20  ..", width=200, 
+0000c560: 6865 6967 6874 3d31 3230 2920 2023 2050  height=120)  # P
+0000c570: 6f70 7570 2077 696e 646f 770a 2020 2020  opup window.    
+0000c580: 7365 744e 616d 6550 6f70 7570 2e73 686f  setNamePopup.sho
+0000c590: 7728 7761 6974 3d54 7275 6529 2020 2320  w(wait=True)  # 
+0000c5a0: 5368 6f77 2077 696e 646f 7720 6173 2070  Show window as p
+0000c5b0: 6f70 7570 0a20 2020 2073 6574 4e61 6d65  opup.    setName
+0000c5c0: 5465 7874 426f 7820 3d20 5465 7874 426f  TextBox = TextBo
+0000c5d0: 7828 7365 744e 616d 6550 6f70 7570 2920  x(setNamePopup) 
+0000c5e0: 2023 2054 6578 7420 626f 7820 666f 7220   # Text box for 
+0000c5f0: 6e61 6d65 206f 6620 7475 6265 2073 6574  name of tube set
+0000c600: 0a20 2020 2073 6574 4e61 6d65 5465 7874  .    setNameText
+0000c610: 426f 782e 666f 6375 7328 2920 2023 2046  Box.focus()  # F
+0000c620: 6f63 7573 206e 616d 6520 7465 7874 2062  ocus name text b
+0000c630: 6f78 0a20 2020 2073 6574 4e61 6d65 4275  ox.    setNameBu
+0000c640: 7474 6f6e 203d 2050 7573 6842 7574 746f  tton = PushButto
+0000c650: 6e28 7365 744e 616d 6550 6f70 7570 2c20  n(setNamePopup, 
+0000c660: 7465 7874 3d22 436f 6e66 6972 6d22 2c20  text="Confirm", 
+0000c670: 636f 6d6d 616e 643d 6c61 6d62 6461 3a20  command=lambda: 
+0000c680: 5b73 6176 6554 7562 6573 546f 4669 6c65  [saveTubesToFile
+0000c690: 2873 6574 4e61 6d65 3d73 6574 4e61 6d65  (setName=setName
+0000c6a0: 5465 7874 426f 782e 7661 6c75 6529 2c20  TextBox.value), 
+0000c6b0: 7365 744e 616d 6550 6f70 7570 2e64 6573  setNamePopup.des
+0000c6c0: 7472 6f79 2829 5d29 2020 2320 4275 7474  troy()])  # Butt
+0000c6d0: 6f6e 2074 6f20 7361 7665 2074 7562 6573  on to save tubes
+0000c6e0: 2074 6f20 6669 6c65 2061 6e64 2063 6c6f   to file and clo
+0000c6f0: 7365 2070 6f70 7570 0a20 2020 2073 6574  se popup.    set
+0000c700: 4e61 6d65 4275 7474 6f6e 2e74 6578 745f  NameButton.text_
+0000c710: 7369 7a65 203d 2031 330a 2020 2020 7365  size = 13.    se
+0000c720: 744e 616d 6542 7574 746f 6e2e 666f 6e74  tNameButton.font
+0000c730: 203d 2022 4172 6961 6c20 626f 6c64 220a   = "Arial bold".
+0000c740: 0a0a 6465 6620 6361 6c63 756c 6174 6550  ..def calculateP
+0000c750: 6572 696f 6444 6174 6128 6465 6e73 6974  eriodData(densit
+0000c760: 7950 726f 6669 6c65 5261 772c 206d 6172  yProfileRaw, mar
+0000c770: 6b48 6f75 7273 5261 772c 2074 696d 654d  kHoursRaw, timeM
+0000c780: 6172 6b73 5261 772c 2062 616e 644d 6172  arksRaw, bandMar
+0000c790: 6b73 5261 772c 206d 696e 5065 7269 6f64  ksRaw, minPeriod
+0000c7a0: 2c20 6d61 7850 6572 696f 642c 2074 7562  , maxPeriod, tub
+0000c7b0: 6552 616e 6765 5261 772c 2063 616c 6375  eRangeRaw, calcu
+0000c7c0: 6c61 7469 6f6e 5769 6e64 6f77 5374 6172  lationWindowStar
+0000c7d0: 742c 2063 616c 6375 6c61 7469 6f6e 5769  t, calculationWi
+0000c7e0: 6e64 6f77 456e 6429 3a0a 2020 2020 2222  ndowEnd):.    ""
+0000c7f0: 2243 616c 6375 6c61 7465 2070 6572 696f  "Calculate perio
+0000c800: 6473 206f 6620 6120 6769 7665 6e20 7475  ds of a given tu
+0000c810: 6265 2773 2064 656e 7369 746f 6d65 7472  be's densitometr
+0000c820: 7920 7072 6f66 696c 6522 2222 0a20 2020  y profile""".   
+0000c830: 200a 0a20 2020 2074 696d 654d 6172 6b73   ..    timeMarks
+0000c840: 203d 2074 696d 654d 6172 6b73 5261 775b   = timeMarksRaw[
+0000c850: 6d61 726b 486f 7572 7352 6177 2e69 6e64  markHoursRaw.ind
+0000c860: 6578 2863 616c 6375 6c61 7469 6f6e 5769  ex(calculationWi
+0000c870: 6e64 6f77 5374 6172 7429 3a6d 6172 6b48  ndowStart):markH
+0000c880: 6f75 7273 5261 772e 696e 6465 7828 6361  oursRaw.index(ca
+0000c890: 6c63 756c 6174 696f 6e57 696e 646f 7745  lculationWindowE
+0000c8a0: 6e64 295d 2020 2320 5365 7420 7469 6d65  nd)]  # Set time
+0000c8b0: 206d 6172 6b73 0a20 2020 206d 6172 6b48   marks.    markH
+0000c8c0: 6f75 7273 203d 206d 6172 6b48 6f75 7273  ours = markHours
+0000c8d0: 5261 775b 6d61 726b 486f 7572 7352 6177  Raw[markHoursRaw
+0000c8e0: 2e69 6e64 6578 2863 616c 6375 6c61 7469  .index(calculati
+0000c8f0: 6f6e 5769 6e64 6f77 5374 6172 7429 3a6d  onWindowStart):m
+0000c900: 6172 6b48 6f75 7273 5261 772e 696e 6465  arkHoursRaw.inde
+0000c910: 7828 6361 6c63 756c 6174 696f 6e57 696e  x(calculationWin
+0000c920: 646f 7745 6e64 295d 2020 2320 5365 7420  dowEnd)]  # Set 
+0000c930: 6d61 726b 2068 6f75 7273 2074 6f20 7370  mark hours to sp
+0000c940: 616e 2063 6f72 7265 7370 6f6e 6469 6e67  an corresponding
+0000c950: 2074 6f20 7469 6d65 206d 6172 6b73 0a20   to time marks. 
+0000c960: 2020 200a 2020 2020 2320 4361 6c63 756c     .    # Calcul
+0000c970: 6174 6520 276d 616e 7561 6c27 2070 6572  ate 'manual' per
+0000c980: 696f 640a 2020 2020 6772 6f77 7468 5261  iod.    growthRa
+0000c990: 7465 7320 3d20 5b5d 2020 2320 4c69 7374  tes = []  # List
+0000c9a0: 206f 6620 7469 6d65 2067 6170 7320 696e   of time gaps in
+0000c9b0: 2070 6978 656c 7320 7065 7220 686f 7572   pixels per hour
+0000c9c0: 0a20 2020 2066 6f72 206d 6172 6b20 696e  .    for mark in
+0000c9d0: 2072 616e 6765 2830 2c20 6c65 6e28 7469   range(0, len(ti
+0000c9e0: 6d65 4d61 726b 7329 202d 2031 293a 2020  meMarks) - 1):  
+0000c9f0: 2320 466f 7220 6561 6368 2032 2063 6f6e  # For each 2 con
+0000ca00: 7365 6375 7469 7665 2074 696d 6520 6d61  secutive time ma
+0000ca10: 726b 7320 616e 6420 636f 7272 6573 706f  rks and correspo
+0000ca20: 6e64 696e 6720 686f 7572 2076 616c 7565  nding hour value
+0000ca30: 730a 2020 2020 2020 2020 6772 6f77 7468  s.        growth
+0000ca40: 5261 7465 732e 6170 7065 6e64 2828 7469  Rates.append((ti
+0000ca50: 6d65 4d61 726b 735b 6d61 726b 202b 2031  meMarks[mark + 1
+0000ca60: 5d20 2d20 7469 6d65 4d61 726b 735b 6d61  ] - timeMarks[ma
+0000ca70: 726b 5d29 202f 2028 6d61 726b 486f 7572  rk]) / (markHour
+0000ca80: 735b 6d61 726b 202b 2031 5d20 2d20 6d61  s[mark + 1] - ma
+0000ca90: 726b 486f 7572 735b 6d61 726b 5d29 2920  rkHours[mark])) 
+0000caa0: 2023 2041 6464 206c 656e 6774 6820 6f66   # Add length of
+0000cab0: 2067 6170 2069 6e20 7069 7865 6c73 2070   gap in pixels p
+0000cac0: 6572 2068 6f75 7220 746f 206c 6973 7420  er hour to list 
+0000cad0: 6f66 2074 696d 6520 6761 7073 0a20 2020  of time gaps.   
+0000cae0: 206d 6561 6e47 726f 7774 6850 6978 656c   meanGrowthPixel
+0000caf0: 7350 6572 486f 7572 203d 206e 756d 7079  sPerHour = numpy
+0000cb00: 2e6d 6561 6e28 6772 6f77 7468 5261 7465  .mean(growthRate
+0000cb10: 7329 2020 2320 4d65 616e 2074 696d 6520  s)  # Mean time 
+0000cb20: 6761 7020 696e 2070 6978 656c 7320 7065  gap in pixels pe
+0000cb30: 7220 686f 7572 0a20 2020 206d 6561 6e47  r hour.    meanG
+0000cb40: 726f 7774 6848 6f75 7273 5065 7250 6978  rowthHoursPerPix
+0000cb50: 656c 203d 2031 202f 206d 6561 6e47 726f  el = 1 / meanGro
+0000cb60: 7774 6850 6978 656c 7350 6572 486f 7572  wthPixelsPerHour
+0000cb70: 0a20 2020 2064 656e 7369 746f 6d65 7472  .    densitometr
+0000cb80: 7958 5661 6c73 5261 7720 3d20 6c69 7374  yXValsRaw = list
+0000cb90: 2872 616e 6765 2830 2c20 3131 3630 2929  (range(0, 1160))
+0000cba0: 2020 2320 5365 7420 7261 7720 6465 6e73    # Set raw dens
+0000cbb0: 6974 6f6d 6574 7279 2078 2076 616c 7565  itometry x value
+0000cbc0: 7320 746f 2031 2d31 3136 300a 2020 2020  s to 1-1160.    
+0000cbd0: 6465 6e73 6974 6f6d 6574 7279 5856 616c  densitometryXVal
+0000cbe0: 7348 6f75 7273 203d 205b 5d20 2023 2042  sHours = []  # B
+0000cbf0: 6c61 6e6b 206c 6973 7420 666f 7220 6465  lank list for de
+0000cc00: 6e73 6974 6f6d 6574 7279 2078 2061 7869  nsitometry x axi
+0000cc10: 7320 7769 7468 2076 616c 7565 7320 696e  s with values in
+0000cc20: 2068 6f75 7273 0a20 2020 2066 6f72 2078   hours.    for x
+0000cc30: 5069 7865 6c20 696e 2064 656e 7369 746f  Pixel in densito
+0000cc40: 6d65 7472 7958 5661 6c73 5261 773a 2020  metryXValsRaw:  
+0000cc50: 2320 466f 7220 6561 6368 2078 2070 6978  # For each x pix
+0000cc60: 656c 2069 6e20 6465 6e73 6974 6f6d 6574  el in densitomet
+0000cc70: 7279 2078 2061 7869 730a 2020 2020 2020  ry x axis.      
+0000cc80: 2020 6465 6e73 6974 6f6d 6574 7279 5856    densitometryXV
+0000cc90: 616c 7348 6f75 7273 2e61 7070 656e 6428  alsHours.append(
+0000cca0: 726f 756e 6428 2878 5069 7865 6c20 2d20  round((xPixel - 
+0000ccb0: 7469 6d65 4d61 726b 735b 305d 2920 2a20  timeMarks[0]) * 
+0000ccc0: 6d65 616e 4772 6f77 7468 486f 7572 7350  meanGrowthHoursP
+0000ccd0: 6572 5069 7865 6c2c 2032 2929 2020 2320  erPixel, 2))  # 
+0000cce0: 4170 7065 6e64 2070 6978 656c 2078 2076  Append pixel x v
+0000ccf0: 616c 7565 2063 6f6e 7665 7274 6564 2074  alue converted t
+0000cd00: 6f20 686f 7572 730a 2020 2020 686f 7572  o hours.    hour
+0000cd10: 7353 7461 7274 4361 6c63 756c 6174 696f  sStartCalculatio
+0000cd20: 6e57 696e 646f 7749 6e64 6578 203d 204e  nWindowIndex = N
+0000cd30: 6f6e 6520 2023 2049 6e64 6578 206f 6620  one  # Index of 
+0000cd40: 7374 6172 7420 6f66 2074 696d 6520 7769  start of time wi
+0000cd50: 6e64 6f77 2069 6e20 6465 6e73 6974 6f6d  ndow in densitom
+0000cd60: 6574 7279 2078 2061 7869 7320 7769 7468  etry x axis with
+0000cd70: 2076 616c 7565 7320 696e 2068 6f75 7273   values in hours
+0000cd80: 0a20 2020 2068 6f75 7273 456e 6443 616c  .    hoursEndCal
+0000cd90: 6375 6c61 7469 6f6e 5769 6e64 6f77 496e  culationWindowIn
+0000cda0: 6465 7820 3d20 4e6f 6e65 2020 2320 496e  dex = None  # In
+0000cdb0: 6465 7820 6f66 2065 6e64 206f 6620 7469  dex of end of ti
+0000cdc0: 6d65 2077 696e 646f 7720 696e 2064 656e  me window in den
+0000cdd0: 7369 746f 6d65 7472 7920 7820 6178 6973  sitometry x axis
+0000cde0: 2077 6974 6820 7661 6c75 6573 2069 6e20   with values in 
+0000cdf0: 686f 7572 730a 2020 2020 666f 7220 696e  hours.    for in
+0000ce00: 6465 782c 2068 6f75 7273 2069 6e20 656e  dex, hours in en
+0000ce10: 756d 6572 6174 6528 6465 6e73 6974 6f6d  umerate(densitom
+0000ce20: 6574 7279 5856 616c 7348 6f75 7273 293a  etryXValsHours):
+0000ce30: 2020 2320 466f 7220 6561 6368 2069 6e64    # For each ind
+0000ce40: 6578 2069 6e20 6465 6e73 6974 6f6d 6574  ex in densitomet
+0000ce50: 7279 2078 2061 7869 7320 7769 7468 2076  ry x axis with v
+0000ce60: 616c 7565 7320 696e 2068 6f75 7273 0a20  alues in hours. 
+0000ce70: 2020 2020 2020 2069 6620 686f 7572 7353         if hoursS
+0000ce80: 7461 7274 4361 6c63 756c 6174 696f 6e57  tartCalculationW
+0000ce90: 696e 646f 7749 6e64 6578 2069 7320 4e6f  indowIndex is No
+0000cea0: 6e65 2061 6e64 2063 616c 6375 6c61 7469  ne and calculati
+0000ceb0: 6f6e 5769 6e64 6f77 5374 6172 7420 3c3d  onWindowStart <=
+0000cec0: 2068 6f75 7273 3a20 2023 2049 6620 7765   hours:  # If we
+0000ced0: 2776 6520 6a75 7374 2070 6173 7365 6420  've just passed 
+0000cee0: 7468 6520 7374 6172 7420 6f66 2074 6865  the start of the
+0000cef0: 2074 696d 6520 7769 6e64 6f77 0a20 2020   time window.   
+0000cf00: 2020 2020 2020 2020 2068 6f75 7273 5374           hoursSt
+0000cf10: 6172 7443 616c 6375 6c61 7469 6f6e 5769  artCalculationWi
+0000cf20: 6e64 6f77 496e 6465 7820 3d20 696e 6465  ndowIndex = inde
+0000cf30: 7820 2023 2053 6574 2074 6865 2069 6e64  x  # Set the ind
+0000cf40: 6578 206f 6620 7468 6520 7374 6172 7420  ex of the start 
+0000cf50: 6f66 2074 6865 2074 696d 6520 7769 6e64  of the time wind
+0000cf60: 6f77 2074 6f20 7468 6973 2069 6e64 6578  ow to this index
+0000cf70: 0a20 2020 2020 2020 2069 6620 686f 7572  .        if hour
+0000cf80: 7345 6e64 4361 6c63 756c 6174 696f 6e57  sEndCalculationW
+0000cf90: 696e 646f 7749 6e64 6578 2069 7320 4e6f  indowIndex is No
+0000cfa0: 6e65 2061 6e64 2063 616c 6375 6c61 7469  ne and calculati
+0000cfb0: 6f6e 5769 6e64 6f77 456e 6420 3c3d 2068  onWindowEnd <= h
+0000cfc0: 6f75 7273 3a20 2023 2049 6620 7765 2776  ours:  # If we'v
+0000cfd0: 6520 6a75 7374 2070 6173 7365 6420 7468  e just passed th
+0000cfe0: 6520 656e 6420 6f66 2074 6865 2074 696d  e end of the tim
+0000cff0: 6520 7769 6e64 6f77 0a20 2020 2020 2020  e window.       
+0000d000: 2020 2020 2068 6f75 7273 456e 6443 616c       hoursEndCal
+0000d010: 6375 6c61 7469 6f6e 5769 6e64 6f77 496e  culationWindowIn
+0000d020: 6465 7820 3d20 696e 6465 7820 2023 2053  dex = index  # S
+0000d030: 6574 2074 6865 2069 6e64 6578 206f 6620  et the index of 
+0000d040: 7468 6520 656e 6420 6f66 2074 6865 2074  the end of the t
+0000d050: 696d 6520 7769 6e64 6f77 2074 6f20 7468  ime window to th
+0000d060: 6973 2069 6e64 6578 0a20 2020 2069 6620  is index.    if 
+0000d070: 686f 7572 7345 6e64 4361 6c63 756c 6174  hoursEndCalculat
+0000d080: 696f 6e57 696e 646f 7749 6e64 6578 2069  ionWindowIndex i
+0000d090: 7320 4e6f 6e65 3a20 2023 2049 6620 7765  s None:  # If we
+0000d0a0: 206e 6576 6572 2073 6574 2061 6e20 696e   never set an in
+0000d0b0: 6465 7820 666f 7220 7468 6520 656e 6420  dex for the end 
+0000d0c0: 6f66 2074 6865 2074 696d 6520 7769 6e64  of the time wind
+0000d0d0: 6f77 0a20 2020 2020 2020 2068 6f75 7273  ow.        hours
+0000d0e0: 456e 6443 616c 6375 6c61 7469 6f6e 5769  EndCalculationWi
+0000d0f0: 6e64 6f77 496e 6465 7820 3d20 6c65 6e28  ndowIndex = len(
+0000d100: 6465 6e73 6974 6f6d 6574 7279 5856 616c  densitometryXVal
+0000d110: 7348 6f75 7273 292d 3120 2023 2053 6574  sHours)-1  # Set
+0000d120: 2074 6865 2069 6e64 6578 206f 6620 7468   the index of th
+0000d130: 6520 656e 6420 6f66 2074 6865 2074 696d  e end of the tim
+0000d140: 6520 7769 6e64 6f77 2074 6f20 7468 6520  e window to the 
+0000d150: 6c61 7374 2069 6e64 6578 2070 6f73 7369  last index possi
+0000d160: 626c 650a 2020 2020 666f 7220 696e 6465  ble.    for inde
+0000d170: 782c 2076 616c 7565 2069 6e20 656e 756d  x, value in enum
+0000d180: 6572 6174 6528 7469 6d65 4d61 726b 7329  erate(timeMarks)
+0000d190: 3a0a 2020 2020 2020 2020 7469 6d65 4d61  :.        timeMa
+0000d1a0: 726b 735b 696e 6465 785d 203d 2076 616c  rks[index] = val
+0000d1b0: 7565 202d 2068 6f75 7273 5374 6172 7443  ue - hoursStartC
+0000d1c0: 616c 6375 6c61 7469 6f6e 5769 6e64 6f77  alculationWindow
+0000d1d0: 496e 6465 780a 2020 2020 7768 696c 6520  Index.    while 
+0000d1e0: 6e75 6d70 792e 6d69 6e28 7469 6d65 4d61  numpy.min(timeMa
+0000d1f0: 726b 7329 203c 2030 3a0a 2020 2020 2020  rks) < 0:.      
+0000d200: 2020 7469 6d65 4d61 726b 732e 706f 7028    timeMarks.pop(
+0000d210: 7469 6d65 4d61 726b 732e 696e 6465 7828  timeMarks.index(
+0000d220: 6e75 6d70 792e 6d69 6e28 7469 6d65 4d61  numpy.min(timeMa
+0000d230: 726b 7329 2929 0a20 2020 2064 656e 7369  rks))).    densi
+0000d240: 7479 5072 6f66 696c 6520 3d20 6465 6e73  tyProfile = dens
+0000d250: 6974 7950 726f 6669 6c65 5261 775b 686f  ityProfileRaw[ho
+0000d260: 7572 7353 7461 7274 4361 6c63 756c 6174  ursStartCalculat
+0000d270: 696f 6e57 696e 646f 7749 6e64 6578 3a68  ionWindowIndex:h
+0000d280: 6f75 7273 456e 6443 616c 6375 6c61 7469  oursEndCalculati
+0000d290: 6f6e 5769 6e64 6f77 496e 6465 785d 2020  onWindowIndex]  
+0000d2a0: 2320 5365 7420 7469 6d65 2077 696e 646f  # Set time windo
+0000d2b0: 7720 746f 2070 6f72 7469 6f6e 206f 6620  w to portion of 
+0000d2c0: 6465 6e73 6974 6f6d 6574 7279 2078 2061  densitometry x a
+0000d2d0: 7869 7320 6265 7477 6565 6e20 7374 6172  xis between star
+0000d2e0: 7420 616e 6420 656e 6420 6f66 2074 696d  t and end of tim
+0000d2f0: 6520 7769 6e64 6f77 2069 6e64 6963 6573  e window indices
+0000d300: 0a20 2020 2074 7562 6552 616e 6765 203d  .    tubeRange =
+0000d310: 2074 7562 6552 616e 6765 5261 775b 686f   tubeRangeRaw[ho
+0000d320: 7572 7353 7461 7274 4361 6c63 756c 6174  ursStartCalculat
+0000d330: 696f 6e57 696e 646f 7749 6e64 6578 3a68  ionWindowIndex:h
+0000d340: 6f75 7273 456e 6443 616c 6375 6c61 7469  oursEndCalculati
+0000d350: 6f6e 5769 6e64 6f77 496e 6465 785d 2020  onWindowIndex]  
+0000d360: 2320 5365 7420 636f 7272 6573 706f 6e64  # Set correspond
+0000d370: 696e 6720 7769 6e64 6f77 206f 6620 7475  ing window of tu
+0000d380: 6265 2072 616e 6765 0a20 2020 2064 656e  be range.    den
+0000d390: 7369 746f 6d65 7472 7958 5661 6c73 486f  sitometryXValsHo
+0000d3a0: 7572 7357 696e 646f 7720 3d20 6465 6e73  ursWindow = dens
+0000d3b0: 6974 6f6d 6574 7279 5856 616c 7348 6f75  itometryXValsHou
+0000d3c0: 7273 5b68 6f75 7273 5374 6172 7443 616c  rs[hoursStartCal
+0000d3d0: 6375 6c61 7469 6f6e 5769 6e64 6f77 496e  culationWindowIn
+0000d3e0: 6465 783a 686f 7572 7345 6e64 4361 6c63  dex:hoursEndCalc
+0000d3f0: 756c 6174 696f 6e57 696e 646f 7749 6e64  ulationWindowInd
+0000d400: 6578 5d0a 2020 2020 6d61 726b 486f 7572  ex].    markHour
+0000d410: 7320 3d20 5b5d 2020 2320 426c 616e 6b20  s = []  # Blank 
+0000d420: 6c69 7374 2066 6f72 2070 6f72 7469 6f6e  list for portion
+0000d430: 206f 6620 6d61 726b 2068 6f75 7273 2063   of mark hours c
+0000d440: 6f72 7265 7370 6f6e 6469 6e67 2074 6f20  orresponding to 
+0000d450: 7469 6d65 2077 696e 646f 770a 2020 2020  time window.    
+0000d460: 6261 6e64 4d61 726b 7320 3d20 5b5d 2020  bandMarks = []  
+0000d470: 2320 426c 616e 6b20 6c69 7374 2066 6f72  # Blank list for
+0000d480: 2070 6f72 7469 6f6e 206f 6620 6261 6e64   portion of band
+0000d490: 206d 6172 6b73 2063 6f72 7265 7370 6f64   marks correspod
+0000d4a0: 696e 6720 746f 2074 696d 6520 7769 6e64  ing to time wind
+0000d4b0: 6f77 0a20 2020 2066 6f72 2076 616c 7565  ow.    for value
+0000d4c0: 2069 6e20 6261 6e64 4d61 726b 7352 6177   in bandMarksRaw
+0000d4d0: 3a20 2023 2046 6f72 2065 6163 6820 6261  :  # For each ba
+0000d4e0: 6e64 206d 6172 6b20 7820 706f 7369 7469  nd mark x positi
+0000d4f0: 6f6e 2069 6e20 6375 7272 656e 7420 7475  on in current tu
+0000d500: 6265 0a20 2020 2020 2020 2069 6620 7661  be.        if va
+0000d510: 6c75 6520 3e3d 2068 6f75 7273 5374 6172  lue >= hoursStar
+0000d520: 7443 616c 6375 6c61 7469 6f6e 5769 6e64  tCalculationWind
+0000d530: 6f77 496e 6465 7820 616e 6420 7661 6c75  owIndex and valu
+0000d540: 6520 3c3d 2068 6f75 7273 456e 6443 616c  e <= hoursEndCal
+0000d550: 6375 6c61 7469 6f6e 5769 6e64 6f77 496e  culationWindowIn
+0000d560: 6465 783a 2020 2320 4966 2062 616e 6420  dex:  # If band 
+0000d570: 6d61 726b 2069 7320 7769 7468 696e 2074  mark is within t
+0000d580: 696d 6520 7769 6e64 6f77 0a20 2020 2020  ime window.     
+0000d590: 2020 2020 2020 2062 616e 644d 6172 6b73         bandMarks
+0000d5a0: 2e61 7070 656e 6428 7661 6c75 652d 686f  .append(value-ho
+0000d5b0: 7572 7353 7461 7274 4361 6c63 756c 6174  ursStartCalculat
+0000d5c0: 696f 6e57 696e 646f 7749 6e64 6578 2920  ionWindowIndex) 
+0000d5d0: 2023 2041 6464 2062 616e 6420 6d61 726b   # Add band mark
+0000d5e0: 2078 2070 6f73 6974 696f 6e2c 206e 6f72   x position, nor
+0000d5f0: 6d61 6c69 7a65 6420 736f 2066 6972 7374  malized so first
+0000d600: 2069 7320 6174 2030 2c20 746f 206c 6973   is at 0, to lis
+0000d610: 7420 6f66 2062 616e 6420 6d61 726b 7320  t of band marks 
+0000d620: 696e 2074 696d 6520 7769 6e64 6f77 0a20  in time window. 
+0000d630: 2020 2073 6c6f 7065 436f 6566 6620 3d20     slopeCoeff = 
+0000d640: 6162 7328 3120 2f20 6e75 6d70 792e 636f  abs(1 / numpy.co
+0000d650: 7328 6e75 6d70 792e 6172 6374 616e 2828  s(numpy.arctan((
+0000d660: 2874 7562 6552 616e 6765 5b2d 315d 5b31  (tubeRange[-1][1
+0000d670: 5d20 2b20 7475 6265 5261 6e67 655b 2d31  ] + tubeRange[-1
+0000d680: 5d5b 305d 2920 2f20 322d 2028 7475 6265  ][0]) / 2- (tube
+0000d690: 5261 6e67 655b 305d 5b31 5d20 2b20 7475  Range[0][1] + tu
+0000d6a0: 6265 5261 6e67 655b 305d 5b30 5d29 202f  beRange[0][0]) /
+0000d6b0: 2032 2920 2f20 6c65 6e28 7475 6265 5261   2) / len(tubeRa
+0000d6c0: 6e67 6529 2929 2920 2023 2043 616c 6375  nge))))  # Calcu
+0000d6d0: 6c61 7465 2063 6f65 6666 6963 6965 6e74  late coefficient
+0000d6e0: 2074 6f20 636f 7272 6563 7420 666f 7220   to correct for 
+0000d6f0: 736c 6f70 650a 2020 2020 6261 6e64 4761  slope.    bandGa
+0000d700: 7073 203d 205b 5d20 2023 204c 6973 7420  ps = []  # List 
+0000d710: 6f66 2062 616e 6420 6761 7073 2069 6e20  of band gaps in 
+0000d720: 7069 7865 6c73 0a20 2020 2066 6f72 206d  pixels.    for m
+0000d730: 6172 6b20 696e 2072 616e 6765 2830 2c20  ark in range(0, 
+0000d740: 6c65 6e28 6261 6e64 4d61 726b 7329 202d  len(bandMarks) -
+0000d750: 2031 293a 2020 2320 466f 7220 6561 6368   1):  # For each
+0000d760: 2032 2063 6f6e 7365 6375 7469 7665 2062   2 consecutive b
+0000d770: 616e 6420 6d61 726b 730a 2020 2020 2020  and marks.      
+0000d780: 2020 6261 6e64 4761 7073 2e61 7070 656e    bandGaps.appen
+0000d790: 6428 2862 616e 644d 6172 6b73 5b6d 6172  d((bandMarks[mar
+0000d7a0: 6b20 2b20 315d 202d 2062 616e 644d 6172  k + 1] - bandMar
+0000d7b0: 6b73 5b6d 6172 6b5d 2929 2020 2320 4164  ks[mark]))  # Ad
+0000d7c0: 6420 6c65 6e67 7468 206f 6620 6761 7020  d length of gap 
+0000d7d0: 696e 2070 6978 656c 7320 746f 206c 6973  in pixels to lis
+0000d7e0: 7420 6f66 2062 616e 6420 6d61 726b 730a  t of band marks.
+0000d7f0: 2020 2020 7065 7269 6f64 4c69 6e65 6172      periodLinear
+0000d800: 5265 6772 6573 7369 6f6e 203d 2028 6e75  Regression = (nu
+0000d810: 6d70 792e 6d65 616e 2862 616e 6447 6170  mpy.mean(bandGap
+0000d820: 7329 202f 206e 756d 7079 2e6d 6561 6e28  s) / numpy.mean(
+0000d830: 6772 6f77 7468 5261 7465 7329 2920 2a20  growthRates)) * 
+0000d840: 736c 6f70 6543 6f65 6666 2020 2320 5365  slopeCoeff  # Se
+0000d850: 7420 6d61 6e75 616c 2070 6572 696f 6420  t manual period 
+0000d860: 746f 206d 6561 6e20 7065 7269 6f64 2062  to mean period b
+0000d870: 6574 7765 656e 2062 616e 6420 6761 7073  etween band gaps
+0000d880: 2069 6e20 686f 7572 732c 2063 6f72 7265   in hours, corre
+0000d890: 6374 6564 2066 6f72 2073 6c6f 7065 206f  cted for slope o
+0000d8a0: 6620 7475 6265 2069 6e20 696d 6167 650a  f tube in image.
+0000d8b0: 2020 2020 0a20 2020 2023 2043 616c 6375      .    # Calcu
+0000d8c0: 6c61 7465 2068 6967 6820 616e 6420 6c6f  late high and lo
+0000d8d0: 7720 7065 7269 6f64 7320 696e 2070 6978  w periods in pix
+0000d8e0: 656c 730a 2020 2020 6d69 6e50 6572 696f  els.    minPerio
+0000d8f0: 6450 6978 656c 7320 3d20 696e 7428 6d69  dPixels = int(mi
+0000d900: 6e50 6572 696f 6420 2a20 6d65 616e 4772  nPeriod * meanGr
+0000d910: 6f77 7468 5069 7865 6c73 5065 7248 6f75  owthPixelsPerHou
+0000d920: 7229 2020 2320 4c6f 7765 7374 2070 6572  r)  # Lowest per
+0000d930: 696f 6420 746f 2074 6573 7420 2869 6e20  iod to test (in 
+0000d940: 7069 7865 6c73 290a 2020 2020 6d61 7850  pixels).    maxP
+0000d950: 6572 696f 6450 6978 656c 7320 3d20 696e  eriodPixels = in
+0000d960: 7428 6d61 7850 6572 696f 6420 2a20 6d65  t(maxPeriod * me
+0000d970: 616e 4772 6f77 7468 5069 7865 6c73 5065  anGrowthPixelsPe
+0000d980: 7248 6f75 7229 2020 2320 4869 6768 6573  rHour)  # Highes
+0000d990: 7420 7065 7269 6f64 2074 6f20 7465 7374  t period to test
+0000d9a0: 2028 696e 2070 6978 656c 7329 0a20 2020   (in pixels).   
+0000d9b0: 200a 2020 2020 2320 4765 6e65 7261 7465   .    # Generate
+0000d9c0: 2064 656e 7369 746f 6d65 7472 7920 7769   densitometry wi
+0000d9d0: 7468 2069 6e74 6572 706f 6c61 7465 6420  th interpolated 
+0000d9e0: 6465 6c65 7469 6f6e 7320 6f66 2074 696d  deletions of tim
+0000d9f0: 6520 6d61 726b 2072 6567 696f 6e73 0a20  e mark regions. 
+0000da00: 2020 2064 656e 7369 7479 5072 6f66 696c     densityProfil
+0000da10: 654e 6f54 696d 654d 6172 6b73 203d 2063  eNoTimeMarks = c
+0000da20: 6f70 792e 6465 6570 636f 7079 2864 656e  opy.deepcopy(den
+0000da30: 7369 7479 5072 6f66 696c 6529 2020 2320  sityProfile)  # 
+0000da40: 5265 6d6f 7665 2064 6970 7320 6475 6520  Remove dips due 
+0000da50: 746f 2074 696d 6520 6d61 726b 7320 6672  to time marks fr
+0000da60: 6f6d 2064 656e 7369 7479 2064 6174 610a  om density data.
+0000da70: 2020 2020 666f 7220 6c69 6e65 2069 6e20      for line in 
+0000da80: 7469 6d65 4d61 726b 733a 2020 2320 466f  timeMarks:  # Fo
+0000da90: 7220 6561 6368 2074 696d 6520 6d61 726b  r each time mark
+0000daa0: 2028 6d61 6b65 2064 656e 7369 7479 5072   (make densityPr
+0000dab0: 6f66 696c 654e 6f54 696d 654d 6172 6b73  ofileNoTimeMarks
+0000dac0: 290a 2020 2020 2020 2020 7769 6e64 6f77  ).        window
+0000dad0: 5261 6469 7573 203d 2031 3320 2023 2053  Radius = 13  # S
+0000dae0: 6574 2072 6164 6975 7320 6f66 2074 696d  et radius of tim
+0000daf0: 6520 6d61 726b 2064 656c 6574 696f 6e20  e mark deletion 
+0000db00: 7769 6e64 6f77 0a20 2020 2020 2020 206c  window.        l
+0000db10: 6f77 5820 3d20 6c69 6e65 202d 2077 696e  owX = line - win
+0000db20: 646f 7752 6164 6975 7320 2023 204c 6566  dowRadius  # Lef
+0000db30: 746d 6f73 7420 626f 756e 6420 6f66 2064  tmost bound of d
+0000db40: 656c 6574 696f 6e20 7769 6e64 6f77 0a20  eletion window. 
+0000db50: 2020 2020 2020 2068 6967 6858 203d 206c         highX = l
+0000db60: 696e 6520 2b20 7769 6e64 6f77 5261 6469  ine + windowRadi
+0000db70: 7573 2020 2320 5269 6768 746d 6f73 7420  us  # Rightmost 
+0000db80: 626f 756e 6420 6f66 2064 656c 6574 696f  bound of deletio
+0000db90: 6e20 7769 6e64 6f77 0a20 2020 2020 2020  n window.       
+0000dba0: 2069 6620 6c6f 7758 203c 2030 3a0a 2020   if lowX < 0:.  
+0000dbb0: 2020 2020 2020 2020 2020 6c6f 7758 203d            lowX =
+0000dbc0: 2030 0a20 2020 2020 2020 2069 6620 6869   0.        if hi
+0000dbd0: 6768 5820 3e20 6c65 6e28 6465 6e73 6974  ghX > len(densit
+0000dbe0: 7950 726f 6669 6c65 4e6f 5469 6d65 4d61  yProfileNoTimeMa
+0000dbf0: 726b 7329 2d31 3a0a 2020 2020 2020 2020  rks)-1:.        
+0000dc00: 2020 2020 6869 6768 5820 3d20 6c65 6e28      highX = len(
+0000dc10: 6465 6e73 6974 7950 726f 6669 6c65 4e6f  densityProfileNo
+0000dc20: 5469 6d65 4d61 726b 7329 2d31 0a20 2020  TimeMarks)-1.   
+0000dc30: 2020 2020 2069 6620 6c6f 7758 203c 206c       if lowX < l
+0000dc40: 656e 2864 656e 7369 7479 5072 6f66 696c  en(densityProfil
+0000dc50: 654e 6f54 696d 654d 6172 6b73 292d 313a  eNoTimeMarks)-1:
+0000dc60: 0a20 2020 2020 2020 2020 2020 2079 496e  .            yIn
+0000dc70: 6372 656d 656e 7420 3d20 2864 656e 7369  crement = (densi
+0000dc80: 7479 5072 6f66 696c 654e 6f54 696d 654d  tyProfileNoTimeM
+0000dc90: 6172 6b73 5b68 6967 6858 5d20 2d20 6465  arks[highX] - de
+0000dca0: 6e73 6974 7950 726f 6669 6c65 4e6f 5469  nsityProfileNoTi
+0000dcb0: 6d65 4d61 726b 735b 6c6f 7758 5d29 202f  meMarks[lowX]) /
+0000dcc0: 2028 322a 7769 6e64 6f77 5261 6469 7573   (2*windowRadius
+0000dcd0: 2b31 2920 2023 2053 6574 2079 2069 6e63  +1)  # Set y inc
+0000dce0: 7265 6d65 6e74 206f 6620 696e 7465 7270  rement of interp
+0000dcf0: 6f6c 6174 696f 6e0a 2020 2020 2020 2020  olation.        
+0000dd00: 2020 2020 7849 6e63 7265 6d65 6e74 203d      xIncrement =
+0000dd10: 2030 2020 2320 5365 7420 7820 696e 6372   0  # Set x incr
+0000dd20: 656d 656e 7420 6f66 2069 6e74 6572 706f  ement of interpo
+0000dd30: 6c61 7469 6f6e 0a20 2020 2020 2020 2020  lation.         
+0000dd40: 2020 2066 6f72 2078 5761 6c6b 2069 6e20     for xWalk in 
+0000dd50: 7261 6e67 6528 6c6f 7758 2c20 6869 6768  range(lowX, high
+0000dd60: 5829 3a20 2023 2046 6f72 2078 2076 616c  X):  # For x val
+0000dd70: 7565 2069 6e20 696e 7465 7270 2077 696e  ue in interp win
+0000dd80: 646f 770a 2020 2020 2020 2020 2020 2020  dow.            
+0000dd90: 2020 2020 6966 2078 5761 6c6b 203c 206c      if xWalk < l
+0000dda0: 656e 2864 656e 7369 7479 5072 6f66 696c  en(densityProfil
+0000ddb0: 654e 6f54 696d 654d 6172 6b73 2920 2d20  eNoTimeMarks) - 
+0000ddc0: 3120 616e 6420 7857 616c 6b20 3e20 303a  1 and xWalk > 0:
+0000ddd0: 2020 2320 4966 2078 2069 7320 7769 7468    # If x is with
+0000dde0: 696e 2069 6d61 6765 0a20 2020 2020 2020  in image.       
+0000ddf0: 2020 2020 2020 2020 2020 2020 2064 656e               den
+0000de00: 7369 7479 5072 6f66 696c 654e 6f54 696d  sityProfileNoTim
+0000de10: 654d 6172 6b73 5b78 5761 6c6b 5d20 3d20  eMarks[xWalk] = 
+0000de20: 6465 6e73 6974 7950 726f 6669 6c65 4e6f  densityProfileNo
+0000de30: 5469 6d65 4d61 726b 735b 6c6f 7758 5d20  TimeMarks[lowX] 
+0000de40: 2b20 7949 6e63 7265 6d65 6e74 202a 2078  + yIncrement * x
+0000de50: 496e 6372 656d 656e 7420 2023 2049 6e74  Increment  # Int
+0000de60: 6572 706f 6c61 7465 2064 656e 7369 7479  erpolate density
+0000de70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000de80: 2078 496e 6372 656d 656e 7420 2b3d 2031   xIncrement += 1
+0000de90: 2020 2320 496e 6372 6561 7365 2078 2069    # Increase x i
+0000dea0: 6e63 7265 6d65 6e74 206f 6620 696e 7465  ncrement of inte
+0000deb0: 7270 6f6c 6174 696f 6e0a 2020 2020 0a20  rpolation.    . 
+0000dec0: 2020 2023 2043 616c 6375 6c61 7465 2053     # Calculate S
+0000ded0: 6f6b 6f6c 6f76 652d 4275 7368 656c 6c20  okolove-Bushell 
+0000dee0: 7065 7269 6f64 6f67 7261 6d0a 2020 2020  periodogram.    
+0000def0: 6672 6571 7565 6e63 6965 7353 6f6b 6f6c  frequenciesSokol
+0000df00: 6f76 6542 7573 6865 6c6c 2c20 7065 7269  oveBushell, peri
+0000df10: 6f64 6f67 7261 6d43 6869 5371 7561 7265  odogramChiSquare
+0000df20: 6453 6f6b 6f6c 6f76 6542 7573 6865 6c6c  dSokoloveBushell
+0000df30: 203d 2070 6572 696f 646f 6772 616d 2864   = periodogram(d
+0000df40: 656e 7369 7479 5072 6f66 696c 654e 6f54  ensityProfileNoT
+0000df50: 696d 654d 6172 6b73 2c20 7363 616c 696e  imeMarks, scalin
+0000df60: 673d 2273 7065 6374 7275 6d22 2c20 6e66  g="spectrum", nf
+0000df70: 6674 3d31 3136 3030 3029 2020 2320 4765  ft=116000)  # Ge
+0000df80: 7420 536f 6b6f 6c6f 7665 2d42 7573 6865  t Sokolove-Bushe
+0000df90: 6c6c 2070 6572 696f 646f 6772 616d 2028  ll periodogram (
+0000dfa0: 6672 6571 7565 6e63 6965 732c 2070 6f77  frequencies, pow
+0000dfb0: 6572 2073 7065 6374 7261 2069 6e20 565e  er spectra in V^
+0000dfc0: 3229 0a20 2020 2066 7265 7175 656e 6369  2).    frequenci
+0000dfd0: 6573 536f 6b6f 6c6f 7665 4275 7368 656c  esSokoloveBushel
+0000dfe0: 6c20 3d20 6672 6571 7565 6e63 6965 7353  l = frequenciesS
+0000dff0: 6f6b 6f6c 6f76 6542 7573 6865 6c6c 2e74  okoloveBushell.t
+0000e000: 6f6c 6973 7428 295b 313a 5d20 2023 2043  olist()[1:]  # C
+0000e010: 6f6e 7665 7274 2053 2d42 2066 7265 7175  onvert S-B frequ
+0000e020: 656e 6369 6573 2074 6f20 6c69 7374 0a20  encies to list. 
+0000e030: 2020 2070 6572 696f 646f 6772 616d 4368     periodogramCh
+0000e040: 6953 7175 6172 6564 536f 6b6f 6c6f 7665  iSquaredSokolove
+0000e050: 4275 7368 656c 6c20 3d20 7065 7269 6f64  Bushell = period
+0000e060: 6f67 7261 6d43 6869 5371 7561 7265 6453  ogramChiSquaredS
+0000e070: 6f6b 6f6c 6f76 6542 7573 6865 6c6c 2e74  okoloveBushell.t
+0000e080: 6f6c 6973 7428 295b 313a 5d20 2023 2043  olist()[1:]  # C
+0000e090: 6f6e 7665 7274 2053 2d42 2070 6572 696f  onvert S-B perio
+0000e0a0: 646f 6772 616d 2076 616c 7565 7320 746f  dogram values to
+0000e0b0: 206c 6973 740a 2020 2020 0a20 2020 2023   list.    .    #
+0000e0c0: 2043 616c 6375 6c61 7465 204c 6f6d 622d   Calculate Lomb-
+0000e0d0: 5363 6172 676c 6520 5065 7269 6f64 6f67  Scargle Periodog
+0000e0e0: 7261 6d0a 2020 2020 6672 6571 7565 6e63  ram.    frequenc
+0000e0f0: 7949 6e74 6572 7661 6c20 3d20 696e 7428  yInterval = int(
+0000e100: 2828 3220 2a20 6e75 6d70 792e 7069 2920  ((2 * numpy.pi) 
+0000e110: 2f20 6d69 6e50 6572 696f 6450 6978 656c  / minPeriodPixel
+0000e120: 7320 2d20 2832 202a 206e 756d 7079 2e70  s - (2 * numpy.p
+0000e130: 6929 202f 206d 6178 5065 7269 6f64 5069  i) / maxPeriodPi
+0000e140: 7865 6c73 2920 2f20 302e 3030 3031 2920  xels) / 0.0001) 
+0000e150: 2023 204e 756d 6265 7220 6f66 2061 6e67   # Number of ang
+0000e160: 756c 6172 2066 7265 7175 656e 6369 6573  ular frequencies
+0000e170: 2074 6f20 7465 7374 2066 6f72 204c 6f6d   to test for Lom
+0000e180: 622d 5363 6172 676c 6520 6174 2061 6e20  b-Scargle at an 
+0000e190: 696e 7465 7276 616c 206f 6620 302e 3030  interval of 0.00
+0000e1a0: 3031 0a20 2020 2066 7265 7175 656e 6369  01.    frequenci
+0000e1b0: 6573 4c6f 6d62 5363 6172 676c 6520 3d20  esLombScargle = 
+0000e1c0: 286e 756d 7079 2e6c 696e 7370 6163 6528  (numpy.linspace(
+0000e1d0: 2832 202a 206e 756d 7079 2e70 6929 202f  (2 * numpy.pi) /
+0000e1e0: 206d 6178 5065 7269 6f64 5069 7865 6c73   maxPeriodPixels
+0000e1f0: 2c20 2832 202a 206e 756d 7079 2e70 6929  , (2 * numpy.pi)
+0000e200: 202f 206d 696e 5065 7269 6f64 5069 7865   / minPeriodPixe
+0000e210: 6c73 2c20 6672 6571 7565 6e63 7949 6e74  ls, frequencyInt
+0000e220: 6572 7661 6c29 2e74 6f6c 6973 7428 2929  erval).tolist())
+0000e230: 2020 2320 4372 6561 7465 206c 6973 7420    # Create list 
+0000e240: 6f66 2061 6e67 756c 6172 2066 7265 7175  of angular frequ
+0000e250: 656e 6369 6573 2074 6f20 7465 7374 2066  encies to test f
+0000e260: 6f72 204c 6f6d 622d 5363 6172 676c 6520  or Lomb-Scargle 
+0000e270: 7065 7269 6f64 6f67 7261 6d0a 2020 2020  periodogram.    
+0000e280: 7065 7269 6f64 6f67 7261 6d50 6f77 6572  periodogramPower
+0000e290: 5370 6563 7472 756d 4c6f 6d62 5363 6172  SpectrumLombScar
+0000e2a0: 676c 6520 3d20 6c6f 6d62 7363 6172 676c  gle = lombscargl
+0000e2b0: 6528 6c69 7374 2872 616e 6765 2830 2c20  e(list(range(0, 
+0000e2c0: 6c65 6e28 6465 6e73 6974 7950 726f 6669  len(densityProfi
+0000e2d0: 6c65 4e6f 5469 6d65 4d61 726b 7329 2929  leNoTimeMarks)))
+0000e2e0: 2c20 6465 6e73 6974 7950 726f 6669 6c65  , densityProfile
+0000e2f0: 4e6f 5469 6d65 4d61 726b 732c 2066 7265  NoTimeMarks, fre
+0000e300: 7175 656e 6369 6573 4c6f 6d62 5363 6172  quenciesLombScar
+0000e310: 676c 652c 2070 7265 6365 6e74 6572 3d54  gle, precenter=T
+0000e320: 7275 6529 2020 2320 4765 7420 4c6f 6d62  rue)  # Get Lomb
+0000e330: 2d53 6361 7267 6c65 2070 6572 696f 646f  -Scargle periodo
+0000e340: 6772 616d 0a20 2020 2070 6572 696f 646f  gram.    periodo
+0000e350: 6772 616d 506f 7765 7253 7065 6374 7275  gramPowerSpectru
+0000e360: 6d4c 6f6d 6253 6361 7267 6c65 203d 2070  mLombScargle = p
+0000e370: 6572 696f 646f 6772 616d 506f 7765 7253  eriodogramPowerS
+0000e380: 7065 6374 7275 6d4c 6f6d 6253 6361 7267  pectrumLombScarg
+0000e390: 6c65 2e74 6f6c 6973 7428 2920 2023 2043  le.tolist()  # C
+0000e3a0: 6f6e 7665 7274 204c 2d53 2070 6572 696f  onvert L-S perio
+0000e3b0: 646f 6772 616d 2076 616c 7565 7320 746f  dogram values to
+0000e3c0: 206c 6973 740a 0a20 2020 2023 2043 6f6e   list..    # Con
+0000e3d0: 7665 7274 2066 7265 7175 656e 6369 6573  vert frequencies
+0000e3e0: 2074 6f20 7065 7269 6f64 730a 2020 2020   to periods.    
+0000e3f0: 7065 7269 6f64 4c6f 6d62 5363 6172 676c  periodLombScargl
+0000e400: 6550 6978 656c 7320 3d20 2832 202a 206e  ePixels = (2 * n
+0000e410: 756d 7079 2e70 6929 202f 2066 7265 7175  umpy.pi) / frequ
+0000e420: 656e 6369 6573 4c6f 6d62 5363 6172 676c  enciesLombScargl
+0000e430: 655b 7065 7269 6f64 6f67 7261 6d50 6f77  e[periodogramPow
+0000e440: 6572 5370 6563 7472 756d 4c6f 6d62 5363  erSpectrumLombSc
+0000e450: 6172 676c 652e 696e 6465 7828 6e75 6d70  argle.index(nump
+0000e460: 792e 6d61 7828 7065 7269 6f64 6f67 7261  y.max(periodogra
+0000e470: 6d50 6f77 6572 5370 6563 7472 756d 4c6f  mPowerSpectrumLo
+0000e480: 6d62 5363 6172 676c 6529 295d 2020 2320  mbScargle))]  # 
+0000e490: 436f 6e76 6572 7420 6672 6571 7565 6e63  Convert frequenc
+0000e4a0: 7920 6f66 206d 6178 696d 616c 2073 7065  y of maximal spe
+0000e4b0: 6374 7261 6c20 6465 6e73 6974 7920 6672  ctral density fr
+0000e4c0: 6f6d 204c 6f6d 622d 5363 6172 676c 6520  om Lomb-Scargle 
+0000e4d0: 7065 7269 6f64 6f67 7261 6d20 746f 2068  periodogram to h
+0000e4e0: 6f72 697a 6f6e 7461 6c20 6c65 6e67 7468  orizontal length
+0000e4f0: 2069 6e20 7069 7865 6c73 0a20 2020 2070   in pixels.    p
+0000e500: 6572 696f 6453 6f6b 6f6c 6f76 6542 7573  eriodSokoloveBus
+0000e510: 6865 6c6c 5069 7865 6c73 203d 2031 202f  hellPixels = 1 /
+0000e520: 2066 7265 7175 656e 6369 6573 536f 6b6f   frequenciesSoko
+0000e530: 6c6f 7665 4275 7368 656c 6c5b 7065 7269  loveBushell[peri
+0000e540: 6f64 6f67 7261 6d43 6869 5371 7561 7265  odogramChiSquare
+0000e550: 6453 6f6b 6f6c 6f76 6542 7573 6865 6c6c  dSokoloveBushell
+0000e560: 2e69 6e64 6578 286e 756d 7079 2e6d 6178  .index(numpy.max
+0000e570: 2870 6572 696f 646f 6772 616d 4368 6953  (periodogramChiS
+0000e580: 7175 6172 6564 536f 6b6f 6c6f 7665 4275  quaredSokoloveBu
+0000e590: 7368 656c 6c29 295d 2020 2320 436f 6e76  shell))]  # Conv
+0000e5a0: 6572 7420 6672 6571 7565 6e63 7920 6f66  ert frequency of
+0000e5b0: 206d 6178 696d 616c 2073 7065 6374 7261   maximal spectra
+0000e5c0: 6c20 6465 6e73 6974 7920 6672 6f6d 2053  l density from S
+0000e5d0: 6f6b 6f6c 6f76 652d 4275 7368 656c 6c20  okolove-Bushell 
+0000e5e0: 7065 7269 6f64 6f67 7261 6d20 746f 2068  periodogram to h
+0000e5f0: 6f72 697a 6f6e 7461 6c20 6c65 6e67 7468  orizontal length
+0000e600: 2069 6e20 7069 7865 6c73 0a20 2020 2070   in pixels.    p
+0000e610: 6572 696f 644c 6f6d 6253 6361 7267 6c65  eriodLombScargle
+0000e620: 203d 2070 6572 696f 644c 6f6d 6253 6361   = periodLombSca
+0000e630: 7267 6c65 5069 7865 6c73 202a 206d 6561  rglePixels * mea
+0000e640: 6e47 726f 7774 6848 6f75 7273 5065 7250  nGrowthHoursPerP
+0000e650: 6978 656c 202a 2073 6c6f 7065 436f 6566  ixel * slopeCoef
+0000e660: 660a 2020 2020 7065 7269 6f64 536f 6b6f  f.    periodSoko
+0000e670: 6c6f 7665 4275 7368 656c 6c20 3d20 7065  loveBushell = pe
+0000e680: 7269 6f64 536f 6b6f 6c6f 7665 4275 7368  riodSokoloveBush
+0000e690: 656c 6c50 6978 656c 7320 2a20 6d65 616e  ellPixels * mean
+0000e6a0: 4772 6f77 7468 486f 7572 7350 6572 5069  GrowthHoursPerPi
+0000e6b0: 7865 6c20 2a20 736c 6f70 6543 6f65 6666  xel * slopeCoeff
+0000e6c0: 0a0a 2020 2020 2343 616c 6375 6c61 7465  ..    #Calculate
+0000e6d0: 2077 6176 656c 6574 2070 6572 696f 6473   wavelet periods
+0000e6e0: 0a20 2020 2064 656e 7369 7479 5072 6f66  .    densityProf
+0000e6f0: 696c 654e 6f54 696d 654d 6172 6b73 5072  ileNoTimeMarksPr
+0000e700: 6563 656e 7465 7220 3d20 5b5d 0a20 2020  ecenter = [].   
+0000e710: 2066 6f72 2076 616c 2069 6e20 6465 6e73   for val in dens
+0000e720: 6974 7950 726f 6669 6c65 4e6f 5469 6d65  ityProfileNoTime
+0000e730: 4d61 726b 733a 0a20 2020 2020 2020 2064  Marks:.        d
+0000e740: 656e 7369 7479 5072 6f66 696c 654e 6f54  ensityProfileNoT
+0000e750: 696d 654d 6172 6b73 5072 6563 656e 7465  imeMarksPrecente
+0000e760: 722e 6170 7065 6e64 2876 616c 202d 206e  r.append(val - n
+0000e770: 756d 7079 2e6d 6561 6e28 6465 6e73 6974  umpy.mean(densit
+0000e780: 7950 726f 6669 6c65 4e6f 5469 6d65 4d61  yProfileNoTimeMa
+0000e790: 726b 7329 290a 2020 2020 636f 6e74 696e  rks)).    contin
+0000e7a0: 756f 7573 5761 7665 6c65 7454 7261 6e73  uousWaveletTrans
+0000e7b0: 666f 726d 416d 706c 6974 7564 6573 5261  formAmplitudesRa
+0000e7c0: 772c 2063 6f6e 7469 6e75 6f75 7357 6176  w, continuousWav
+0000e7d0: 656c 6574 5472 616e 7366 6f72 6d46 7265  eletTransformFre
+0000e7e0: 7175 656e 6369 6573 203d 2070 7977 742e  quencies = pywt.
+0000e7f0: 6377 7428 6465 6e73 6974 7950 726f 6669  cwt(densityProfi
+0000e800: 6c65 4e6f 5469 6d65 4d61 726b 7350 7265  leNoTimeMarksPre
+0000e810: 6365 6e74 6572 2c20 6e75 6d70 792e 6172  center, numpy.ar
+0000e820: 616e 6765 2831 2c32 3537 292c 2022 6d6f  ange(1,257), "mo
+0000e830: 726c 2229 0a20 2020 2063 6f6e 7469 6e75  rl").    continu
+0000e840: 6f75 7357 6176 656c 6574 5472 616e 7366  ousWaveletTransf
+0000e850: 6f72 6d50 6572 696f 6473 203d 205b 5d0a  ormPeriods = [].
+0000e860: 2020 2020 666f 7220 6672 6571 7565 6e63      for frequenc
+0000e870: 7920 696e 2063 6f6e 7469 6e75 6f75 7357  y in continuousW
+0000e880: 6176 656c 6574 5472 616e 7366 6f72 6d46  aveletTransformF
+0000e890: 7265 7175 656e 6369 6573 3a0a 2020 2020  requencies:.    
+0000e8a0: 2020 2020 636f 6e74 696e 756f 7573 5761      continuousWa
+0000e8b0: 7665 6c65 7454 7261 6e73 666f 726d 5065  veletTransformPe
+0000e8c0: 7269 6f64 732e 6170 7065 6e64 2828 3120  riods.append((1 
+0000e8d0: 2f20 6672 6571 7565 6e63 7929 202a 206d  / frequency) * m
+0000e8e0: 6561 6e47 726f 7774 6848 6f75 7273 5065  eanGrowthHoursPe
+0000e8f0: 7250 6978 656c 202a 2073 6c6f 7065 436f  rPixel * slopeCo
+0000e900: 6566 6629 0a20 2020 2063 6f6e 7469 6e75  eff).    continu
+0000e910: 6f75 7357 6176 656c 6574 5472 616e 7366  ousWaveletTransf
+0000e920: 6f72 6d41 6d70 6c69 7475 6465 7320 3d20  ormAmplitudes = 
+0000e930: 6e75 6d70 792e 6162 736f 6c75 7465 286e  numpy.absolute(n
+0000e940: 756d 7079 2e66 6c69 7075 6428 636f 6e74  umpy.flipud(cont
+0000e950: 696e 756f 7573 5761 7665 6c65 7454 7261  inuousWaveletTra
+0000e960: 6e73 666f 726d 416d 706c 6974 7564 6573  nsformAmplitudes
+0000e970: 5261 7729 290a 2020 2020 636f 6e74 696e  Raw)).    contin
+0000e980: 756f 7573 5761 7665 6c65 7454 7261 6e73  uousWaveletTrans
+0000e990: 666f 726d 5065 7269 6f64 7359 4178 6973  formPeriodsYAxis
+0000e9a0: 203d 206e 756d 7079 2e6c 696e 7370 6163   = numpy.linspac
+0000e9b0: 6528 6e75 6d70 792e 6d69 6e28 636f 6e74  e(numpy.min(cont
+0000e9c0: 696e 756f 7573 5761 7665 6c65 7454 7261  inuousWaveletTra
+0000e9d0: 6e73 666f 726d 5065 7269 6f64 7329 2c20  nsformPeriods), 
+0000e9e0: 6e75 6d70 792e 6d61 7828 636f 6e74 696e  numpy.max(contin
+0000e9f0: 756f 7573 5761 7665 6c65 7454 7261 6e73  uousWaveletTrans
+0000ea00: 666f 726d 5065 7269 6f64 7329 2c20 6c65  formPeriods), le
+0000ea10: 6e28 636f 6e74 696e 756f 7573 5761 7665  n(continuousWave
+0000ea20: 6c65 7454 7261 6e73 666f 726d 5065 7269  letTransformPeri
+0000ea30: 6f64 7329 290a 2020 2020 7065 7269 6f64  ods)).    period
+0000ea40: 5065 616b 5856 616c 7320 3d20 5b5d 0a20  PeakXVals = []. 
+0000ea50: 2020 2070 6572 696f 6450 6561 6b59 5661     periodPeakYVa
+0000ea60: 6c73 203d 205b 5d0a 2020 2020 666f 7220  ls = [].    for 
+0000ea70: 7856 616c 2069 6e20 6c69 7374 2872 616e  xVal in list(ran
+0000ea80: 6765 286c 656e 2864 656e 7369 746f 6d65  ge(len(densitome
+0000ea90: 7472 7958 5661 6c73 486f 7572 7357 696e  tryXValsHoursWin
+0000eaa0: 646f 7729 2929 3a0a 2020 2020 2020 2020  dow))):.        
+0000eab0: 7065 7269 6f64 7343 6f6c 756d 6e20 3d20  periodsColumn = 
+0000eac0: 6c69 7374 286e 756d 7079 2e66 6c69 7075  list(numpy.flipu
+0000ead0: 6428 636f 6e74 696e 756f 7573 5761 7665  d(continuousWave
+0000eae0: 6c65 7454 7261 6e73 666f 726d 416d 706c  letTransformAmpl
+0000eaf0: 6974 7564 6573 295b 3a2c 2078 5661 6c5d  itudes)[:, xVal]
+0000eb00: 290a 2020 2020 2020 2020 6966 206e 756d  ).        if num
+0000eb10: 7079 2e6d 6178 2870 6572 696f 6473 436f  py.max(periodsCo
+0000eb20: 6c75 6d6e 2920 3e20 6e75 6d70 792e 6d61  lumn) > numpy.ma
+0000eb30: 7828 636f 6e74 696e 756f 7573 5761 7665  x(continuousWave
+0000eb40: 6c65 7454 7261 6e73 666f 726d 416d 706c  letTransformAmpl
+0000eb50: 6974 7564 6573 2920 2a20 302e 373a 0a20  itudes) * 0.7:. 
+0000eb60: 2020 2020 2020 2020 2020 2070 6572 696f             perio
+0000eb70: 6450 6561 6b58 5661 6c73 2e61 7070 656e  dPeakXVals.appen
+0000eb80: 6428 6465 6e73 6974 6f6d 6574 7279 5856  d(densitometryXV
+0000eb90: 616c 7348 6f75 7273 5769 6e64 6f77 5b78  alsHoursWindow[x
+0000eba0: 5661 6c5d 290a 2020 2020 2020 2020 2020  Val]).          
+0000ebb0: 2020 7065 7269 6f64 5065 616b 5956 616c    periodPeakYVal
+0000ebc0: 732e 6170 7065 6e64 2863 6f6e 7469 6e75  s.append(continu
+0000ebd0: 6f75 7357 6176 656c 6574 5472 616e 7366  ousWaveletTransf
+0000ebe0: 6f72 6d50 6572 696f 6473 5941 7869 735b  ormPeriodsYAxis[
+0000ebf0: 7065 7269 6f64 7343 6f6c 756d 6e2e 696e  periodsColumn.in
+0000ec00: 6465 7828 6e75 6d70 792e 6d61 7828 7065  dex(numpy.max(pe
+0000ec10: 7269 6f64 7343 6f6c 756d 6e29 295d 290a  riodsColumn))]).
+0000ec20: 2020 2020 636f 6e74 696e 756f 7573 5761      continuousWa
+0000ec30: 7665 6c65 7454 7261 6e73 666f 726d 5065  veletTransformPe
+0000ec40: 616b 7353 6c6f 7065 203d 206e 756d 7079  aksSlope = numpy
+0000ec50: 2e70 6f6c 796e 6f6d 6961 6c2e 706f 6c79  .polynomial.poly
+0000ec60: 6e6f 6d69 616c 2e70 6f6c 7966 6974 2870  nomial.polyfit(p
+0000ec70: 6572 696f 6450 6561 6b58 5661 6c73 2c20  eriodPeakXVals, 
+0000ec80: 7065 7269 6f64 5065 616b 5956 616c 732c  periodPeakYVals,
+0000ec90: 2031 295b 315d 0a20 2020 2063 6f6e 7469   1)[1].    conti
+0000eca0: 6e75 6f75 7357 6176 656c 6574 5472 616e  nuousWaveletTran
+0000ecb0: 7366 6f72 6d4d 6561 6e50 6572 696f 6420  sformMeanPeriod 
+0000ecc0: 3d20 6e75 6d70 792e 6d65 616e 2870 6572  = numpy.mean(per
+0000ecd0: 696f 6450 6561 6b59 5661 6c73 290a 0a20  iodPeakYVals).. 
+0000ece0: 2020 2072 6574 7572 6e20 287b 0a20 2020     return ({.   
+0000ecf0: 2020 2020 2022 7065 7269 6f64 4c69 6e65       "periodLine
+0000ed00: 6172 5265 6772 6573 7369 6f6e 223a 2070  arRegression": p
+0000ed10: 6572 696f 644c 696e 6561 7252 6567 7265  eriodLinearRegre
+0000ed20: 7373 696f 6e2c 0a20 2020 2020 2020 2022  ssion,.        "
+0000ed30: 7065 7269 6f64 536f 6b6f 6c6f 7665 4275  periodSokoloveBu
+0000ed40: 7368 656c 6c22 3a20 7065 7269 6f64 536f  shell": periodSo
+0000ed50: 6b6f 6c6f 7665 4275 7368 656c 6c2c 0a20  koloveBushell,. 
+0000ed60: 2020 2020 2020 2022 7065 7269 6f64 4c6f         "periodLo
+0000ed70: 6d62 5363 6172 676c 6522 3a20 7065 7269  mbScargle": peri
+0000ed80: 6f64 4c6f 6d62 5363 6172 676c 652c 0a20  odLombScargle,. 
+0000ed90: 2020 2020 2020 2022 7065 7269 6f64 5761         "periodWa
+0000eda0: 7665 6c65 7422 3a20 636f 6e74 696e 756f  velet": continuo
+0000edb0: 7573 5761 7665 6c65 7454 7261 6e73 666f  usWaveletTransfo
+0000edc0: 726d 4d65 616e 5065 7269 6f64 2c0a 2020  rmMeanPeriod,.  
+0000edd0: 2020 2020 2020 2273 6c6f 7065 5761 7665        "slopeWave
+0000ede0: 6c65 7422 3a20 636f 6e74 696e 756f 7573  let": continuous
+0000edf0: 5761 7665 6c65 7454 7261 6e73 666f 726d  WaveletTransform
+0000ee00: 5065 616b 7353 6c6f 7065 2c0a 2020 2020  PeaksSlope,.    
+0000ee10: 2020 2020 2266 7265 7175 656e 6369 6573      "frequencies
+0000ee20: 536f 6b6f 6c6f 7665 4275 7368 656c 6c22  SokoloveBushell"
+0000ee30: 3a20 6672 6571 7565 6e63 6965 7353 6f6b  : frequenciesSok
+0000ee40: 6f6c 6f76 6542 7573 6865 6c6c 2c0a 2020  oloveBushell,.  
+0000ee50: 2020 2020 2020 2270 6572 696f 646f 6772        "periodogr
+0000ee60: 616d 4368 6953 7175 6172 6564 536f 6b6f  amChiSquaredSoko
+0000ee70: 6c6f 7665 4275 7368 656c 6c22 3a20 7065  loveBushell": pe
+0000ee80: 7269 6f64 6f67 7261 6d43 6869 5371 7561  riodogramChiSqua
+0000ee90: 7265 6453 6f6b 6f6c 6f76 6542 7573 6865  redSokoloveBushe
+0000eea0: 6c6c 2c0a 2020 2020 2020 2020 2266 7265  ll,.        "fre
+0000eeb0: 7175 656e 6369 6573 4c6f 6d62 5363 6172  quenciesLombScar
+0000eec0: 676c 6522 3a20 6672 6571 7565 6e63 6965  gle": frequencie
+0000eed0: 734c 6f6d 6253 6361 7267 6c65 2c0a 2020  sLombScargle,.  
+0000eee0: 2020 2020 2020 2270 6572 696f 646f 6772        "periodogr
+0000eef0: 616d 506f 7765 7253 7065 6374 7275 6d4c  amPowerSpectrumL
+0000ef00: 6f6d 6253 6361 7267 6c65 223a 2070 6572  ombScargle": per
+0000ef10: 696f 646f 6772 616d 506f 7765 7253 7065  iodogramPowerSpe
+0000ef20: 6374 7275 6d4c 6f6d 6253 6361 7267 6c65  ctrumLombScargle
+0000ef30: 2c0a 2020 2020 2020 2020 2266 7265 7175  ,.        "frequ
+0000ef40: 656e 6369 6573 5761 7665 6c65 7422 3a20  enciesWavelet": 
+0000ef50: 636f 6e74 696e 756f 7573 5761 7665 6c65  continuousWavele
+0000ef60: 7454 7261 6e73 666f 726d 5065 7269 6f64  tTransformPeriod
+0000ef70: 732c 0a20 2020 2020 2020 2022 616d 706c  s,.        "ampl
+0000ef80: 6974 7564 6573 5761 7665 6c65 7422 3a20  itudesWavelet": 
+0000ef90: 636f 6e74 696e 756f 7573 5761 7665 6c65  continuousWavele
+0000efa0: 7454 7261 6e73 666f 726d 416d 706c 6974  tTransformAmplit
+0000efb0: 7564 6573 2c0a 2020 2020 2020 2020 2270  udes,.        "p
+0000efc0: 6572 696f 6473 5941 7869 7357 6176 656c  eriodsYAxisWavel
+0000efd0: 6574 223a 2063 6f6e 7469 6e75 6f75 7357  et": continuousW
+0000efe0: 6176 656c 6574 5472 616e 7366 6f72 6d50  aveletTransformP
+0000eff0: 6572 696f 6473 5941 7869 732c 0a20 2020  eriodsYAxis,.   
+0000f000: 2020 2020 2022 6d69 6e50 6572 696f 6422       "minPeriod"
+0000f010: 3a20 6d69 6e50 6572 696f 642c 0a20 2020  : minPeriod,.   
+0000f020: 2020 2020 2022 6d61 7850 6572 696f 6422       "maxPeriod"
+0000f030: 3a20 6d61 7850 6572 696f 642c 0a20 2020  : maxPeriod,.   
+0000f040: 2020 2020 2022 736c 6f70 6543 6f65 6666       "slopeCoeff
+0000f050: 223a 2073 6c6f 7065 436f 6566 662c 0a20  ": slopeCoeff,. 
+0000f060: 2020 2020 2020 2022 6d65 616e 4772 6f77         "meanGrow
+0000f070: 7468 5069 7865 6c73 5065 7248 6f75 7222  thPixelsPerHour"
+0000f080: 3a20 6d65 616e 4772 6f77 7468 5069 7865  : meanGrowthPixe
+0000f090: 6c73 5065 7248 6f75 722c 0a20 2020 2020  lsPerHour,.     
+0000f0a0: 2020 2022 6465 6e73 6974 6f6d 6574 7279     "densitometry
+0000f0b0: 5848 6f75 7273 223a 2064 656e 7369 746f  XHours": densito
+0000f0c0: 6d65 7472 7958 5661 6c73 486f 7572 7357  metryXValsHoursW
+0000f0d0: 696e 646f 772c 0a20 2020 2020 2020 2022  indow,.        "
+0000f0e0: 6465 6e73 6974 7950 726f 6669 6c65 223a  densityProfile":
+0000f0f0: 2064 656e 7369 7479 5072 6f66 696c 652c   densityProfile,
+0000f100: 0a20 2020 2020 2020 2022 7469 6d65 4d61  .        "timeMa
+0000f110: 726b 7322 3a20 7469 6d65 4d61 726b 732c  rks": timeMarks,
+0000f120: 0a20 2020 2020 2020 2022 6261 6e64 4d61  .        "bandMa
+0000f130: 726b 7322 3a20 6261 6e64 4d61 726b 732c  rks": bandMarks,
+0000f140: 0a20 2020 2020 2020 2022 6465 6e73 6974  .        "densit
+0000f150: 794e 6f54 696d 654d 6172 6b73 223a 2064  yNoTimeMarks": d
+0000f160: 656e 7369 7479 5072 6f66 696c 654e 6f54  ensityProfileNoT
+0000f170: 696d 654d 6172 6b73 0a20 2020 207d 290a  imeMarks.    }).
+0000f180: 0a0a 6465 6620 706f 7075 6c61 7465 4578  ..def populateEx
+0000f190: 7065 7269 6d65 6e74 4461 7461 5461 626c  perimentDataTabl
+0000f1a0: 6528 293a 0a20 2020 2022 2222 506f 7075  e():.    """Popu
+0000f1b0: 6c61 7465 2065 7870 6572 696d 656e 7420  late experiment 
+0000f1c0: 6461 7461 2074 6162 6c65 2e22 2222 0a20  data table.""". 
+0000f1d0: 2020 200a 2020 2020 0a20 2020 2067 6c6f     .    .    glo
+0000f1e0: 6261 6c20 7475 6265 734d 6173 7465 720a  bal tubesMaster.
+0000f1f0: 2020 2020 676c 6f62 616c 2065 7870 6572      global exper
+0000f200: 696d 656e 7454 6162 5461 626c 6554 6578  imentTabTableTex
+0000f210: 7442 6f78 0a20 2020 2067 6c6f 6261 6c20  tBox.    global 
+0000f220: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
+0000f230: 6c65 5061 7261 6d73 4872 734c 6f77 4472  leParamsHrsLowDr
+0000f240: 6f70 646f 776e 0a20 2020 2067 6c6f 6261  opdown.    globa
+0000f250: 6c20 6578 7065 7269 6d65 6e74 5461 6254  l experimentTabT
+0000f260: 6162 6c65 5061 7261 6d73 4872 7348 6967  ableParamsHrsHig
+0000f270: 6844 726f 7064 6f77 6e0a 0a20 2020 2074  hDropdown..    t
+0000f280: 6162 6c65 526f 7773 203d 205b 0a20 2020  ableRows = [.   
+0000f290: 2020 2020 205b 0a20 2020 2020 2020 2020       [.         
+0000f2a0: 2020 2022 456e 7472 7922 2c0a 2020 2020     "Entry",.    
+0000f2b0: 2020 2020 2020 2020 2250 6163 6b22 2c0a          "Pack",.
+0000f2c0: 2020 2020 2020 2020 2020 2020 2254 7562              "Tub
+0000f2d0: 6520 2322 2c0a 2020 2020 2020 2020 2020  e #",.          
+0000f2e0: 2020 2250 6572 696f 6422 2c0a 2020 2020    "Period",.    
+0000f2f0: 2020 2020 2020 2020 2250 6572 696f 6422          "Period"
+0000f300: 2c0a 2020 2020 2020 2020 2020 2020 2250  ,.            "P
+0000f310: 6572 696f 6422 2c0a 2020 2020 2020 2020  eriod",.        
+0000f320: 2020 2020 2250 6572 696f 6422 2c0a 2020      "Period",.  
+0000f330: 2020 2020 2020 2020 2020 2243 5754 2053            "CWT S
+0000f340: 6c6f 7065 222c 0a20 2020 2020 2020 2020  lope",.         
+0000f350: 2020 2022 4772 6f77 7468 2052 6174 6522     "Growth Rate"
+0000f360: 0a20 2020 2020 2020 205d 2c0a 2020 2020  .        ],.    
+0000f370: 2020 2020 5b0a 2020 2020 2020 2020 2020      [.          
+0000f380: 2020 2222 2c0a 2020 2020 2020 2020 2020    "",.          
+0000f390: 2020 2222 2c0a 2020 2020 2020 2020 2020    "",.          
+0000f3a0: 2020 2222 2c0a 2020 2020 2020 2020 2020    "",.          
+0000f3b0: 2020 2228 4c69 6e65 6172 2052 6567 7265    "(Linear Regre
+0000f3c0: 7373 696f 6e29 222c 0a20 2020 2020 2020  ssion)",.       
+0000f3d0: 2020 2020 2022 2853 6f6b 6f6c 6f76 652d       "(Sokolove-
+0000f3e0: 4275 7368 656c 6c29 222c 0a20 2020 2020  Bushell)",.     
+0000f3f0: 2020 2020 2020 2022 284c 6f6d 622d 5363         "(Lomb-Sc
+0000f400: 6172 676c 6529 222c 0a20 2020 2020 2020  argle)",.       
+0000f410: 2020 2020 2022 2857 6176 656c 6574 2922       "(Wavelet)"
+0000f420: 2c0a 2020 2020 2020 2020 2020 2020 2228  ,.            "(
+0000f430: 6872 732f 6872 2922 2c0a 2020 2020 2020  hrs/hr)",.      
+0000f440: 2020 2020 2020 2228 6d6d 2f68 7229 220a        "(mm/hr)".
+0000f450: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+0000f460: 2020 205b 2222 2c20 2222 2c20 2222 2c20     ["", "", "", 
+0000f470: 2222 2c20 2222 2c20 2222 2c20 2222 2c20  "", "", "", "", 
+0000f480: 2222 2c20 2222 5d0a 2020 2020 5d20 2023  "", ""].    ]  #
+0000f490: 2050 6f70 756c 6174 6520 7461 626c 6520   Populate table 
+0000f4a0: 726f 7773 2077 6974 6820 6865 6164 6572  rows with header
+0000f4b0: 7320 616e 6420 6120 626c 616e 6b20 726f  s and a blank ro
+0000f4c0: 770a 2020 2020 6d61 7843 6f6c 756d 6e4c  w.    maxColumnL
+0000f4d0: 656e 6774 6873 203d 205b 382c 2037 2c20  engths = [8, 7, 
+0000f4e0: 392c 2032 322c 2032 312c 2031 372c 2031  9, 22, 21, 17, 1
+0000f4f0: 322c 2031 322c 2031 335d 2020 2320 5365  2, 12, 13]  # Se
+0000f500: 7420 6d61 7869 6d75 6d20 6c65 6e67 7468  t maximum length
+0000f510: 7320 6f66 2063 6f6c 756d 6e73 2066 6f72  s of columns for
+0000f520: 2073 7061 6369 6e67 3b20 3320 7370 6163   spacing; 3 spac
+0000f530: 6573 2062 6574 7765 656e 2063 6f6c 756d  es between colum
+0000f540: 6e73 0a20 2020 206d 6178 5469 6d65 4d61  ns.    maxTimeMa
+0000f550: 726b 734c 656e 6774 6820 3d20 3020 2023  rksLength = 0  #
+0000f560: 2042 6c61 6e6b 2076 6172 6961 626c 6520   Blank variable 
+0000f570: 666f 7220 6d6f 7374 2074 696d 6520 6d61  for most time ma
+0000f580: 726b 7320 696e 2061 2074 7562 6520 696e  rks in a tube in
+0000f590: 2066 696c 650a 2020 2020 666f 7220 7475   file.    for tu
+0000f5a0: 6265 2069 6e20 7475 6265 734d 6173 7465  be in tubesMaste
+0000f5b0: 723a 2020 2320 466f 7220 6561 6368 2074  r:  # For each t
+0000f5c0: 7562 6520 696e 206d 6173 7465 7220 7475  ube in master tu
+0000f5d0: 6265 7320 6c69 7374 0a20 2020 2020 2020  bes list.       
+0000f5e0: 2069 6620 6c65 6e28 7475 6265 5b22 7469   if len(tube["ti
+0000f5f0: 6d65 4d61 726b 7322 5d29 203e 206d 6178  meMarks"]) > max
+0000f600: 5469 6d65 4d61 726b 734c 656e 6774 683a  TimeMarksLength:
+0000f610: 2020 2320 4966 2074 6865 2074 7562 6520    # If the tube 
+0000f620: 636f 6e74 6169 6e73 206d 6f72 6520 7469  contains more ti
+0000f630: 6d65 206d 6172 6b73 2074 6861 6e20 7468  me marks than th
+0000f640: 6520 6375 7272 656e 7420 6d61 780a 2020  e current max.  
+0000f650: 2020 2020 2020 2020 2020 6d61 7854 696d            maxTim
+0000f660: 654d 6172 6b73 4c65 6e67 7468 203d 206c  eMarksLength = l
+0000f670: 656e 2874 7562 655b 2274 696d 654d 6172  en(tube["timeMar
+0000f680: 6b73 225d 290a 2020 2020 746f 7461 6c4d  ks"]).    totalM
+0000f690: 6172 6b48 6f75 7273 203d 2074 7562 6573  arkHours = tubes
+0000f6a0: 4d61 7374 6572 5b30 5d5b 226d 6172 6b48  Master[0]["markH
+0000f6b0: 6f75 7273 225d 5b3a 6d61 7854 696d 654d  ours"][:maxTimeM
+0000f6c0: 6172 6b73 4c65 6e67 7468 5d0a 2020 2020  arksLength].    
+0000f6d0: 6966 2065 7870 6572 696d 656e 7454 6162  if experimentTab
+0000f6e0: 5461 626c 6550 6172 616d 7348 7273 4c6f  TableParamsHrsLo
+0000f6f0: 7744 726f 7064 6f77 6e2e 7661 6c75 6520  wDropdown.value 
+0000f700: 3d3d 2022 2220 616e 6420 6578 7065 7269  == "" and experi
+0000f710: 6d65 6e74 5461 6254 6162 6c65 5061 7261  mentTabTablePara
+0000f720: 6d73 4872 7348 6967 6844 726f 7064 6f77  msHrsHighDropdow
+0000f730: 6e2e 7661 6c75 6520 3d3d 2022 223a 0a20  n.value == "":. 
+0000f740: 2020 2020 2020 2066 6f72 2074 696d 6520         for time 
+0000f750: 696e 2074 6f74 616c 4d61 726b 486f 7572  in totalMarkHour
+0000f760: 733a 0a20 2020 2020 2020 2020 2020 2065  s:.            e
+0000f770: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
+0000f780: 6550 6172 616d 7348 7273 4c6f 7744 726f  eParamsHrsLowDro
+0000f790: 7064 6f77 6e2e 6170 7065 6e64 2874 696d  pdown.append(tim
+0000f7a0: 6529 0a20 2020 2020 2020 2020 2020 2065  e).            e
+0000f7b0: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
+0000f7c0: 6550 6172 616d 7348 7273 4869 6768 4472  eParamsHrsHighDr
+0000f7d0: 6f70 646f 776e 2e61 7070 656e 6428 7469  opdown.append(ti
+0000f7e0: 6d65 290a 2020 2020 2020 2020 6578 7065  me).        expe
+0000f7f0: 7269 6d65 6e74 5461 6254 6162 6c65 5061  rimentTabTablePa
+0000f800: 7261 6d73 4872 734c 6f77 4472 6f70 646f  ramsHrsLowDropdo
+0000f810: 776e 2e76 616c 7565 203d 2073 7472 2874  wn.value = str(t
+0000f820: 6f74 616c 4d61 726b 486f 7572 735b 305d  otalMarkHours[0]
+0000f830: 290a 2020 2020 2020 2020 6578 7065 7269  ).        experi
+0000f840: 6d65 6e74 5461 6254 6162 6c65 5061 7261  mentTabTablePara
+0000f850: 6d73 4872 7348 6967 6844 726f 7064 6f77  msHrsHighDropdow
+0000f860: 6e2e 7661 6c75 6520 3d20 7374 7228 746f  n.value = str(to
+0000f870: 7461 6c4d 6172 6b48 6f75 7273 5b2d 315d  talMarkHours[-1]
+0000f880: 290a 2020 2020 6966 2066 6c6f 6174 2865  ).    if float(e
+0000f890: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
+0000f8a0: 6550 6172 616d 7348 7273 4869 6768 4472  eParamsHrsHighDr
+0000f8b0: 6f70 646f 776e 2e76 616c 7565 2920 3c3d  opdown.value) <=
+0000f8c0: 2066 6c6f 6174 2865 7870 6572 696d 656e   float(experimen
+0000f8d0: 7454 6162 5461 626c 6550 6172 616d 7348  tTabTableParamsH
+0000f8e0: 7273 4c6f 7744 726f 7064 6f77 6e2e 7661  rsLowDropdown.va
+0000f8f0: 6c75 6529 3a0a 2020 2020 2020 2020 2020  lue):.          
+0000f900: 2020 6578 7065 7269 6d65 6e74 5461 6254    experimentTabT
+0000f910: 6162 6c65 5061 7261 6d73 4872 7348 6967  ableParamsHrsHig
+0000f920: 6844 726f 7064 6f77 6e2e 7661 6c75 6520  hDropdown.value 
+0000f930: 3d20 7374 7228 746f 7461 6c4d 6172 6b48  = str(totalMarkH
+0000f940: 6f75 7273 5b74 6f74 616c 4d61 726b 486f  ours[totalMarkHo
+0000f950: 7572 732e 696e 6465 7828 666c 6f61 7428  urs.index(float(
+0000f960: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
+0000f970: 6c65 5061 7261 6d73 4872 734c 6f77 4472  leParamsHrsLowDr
+0000f980: 6f70 646f 776e 2e76 616c 7565 2929 2b31  opdown.value))+1
+0000f990: 5d29 0a20 2020 2066 6f72 2074 7562 6520  ]).    for tube 
+0000f9a0: 696e 2074 7562 6573 4d61 7374 6572 3a20  in tubesMaster: 
+0000f9b0: 2023 2046 6f72 2065 6163 6820 7475 6265   # For each tube
+0000f9c0: 2069 6e20 6d61 7374 6572 2074 7562 6520   in master tube 
+0000f9d0: 6c69 7374 0a20 2020 2020 2020 2074 7562  list.        tub
+0000f9e0: 6550 6572 696f 6473 203d 2063 616c 6375  ePeriods = calcu
+0000f9f0: 6c61 7465 5065 7269 6f64 4461 7461 2874  latePeriodData(t
+0000fa00: 7562 655b 2264 656e 7369 7479 5072 6f66  ube["densityProf
+0000fa10: 696c 6522 5d2c 2074 7562 655b 226d 6172  ile"], tube["mar
+0000fa20: 6b48 6f75 7273 225d 2c20 7475 6265 5b22  kHours"], tube["
+0000fa30: 7469 6d65 4d61 726b 7322 5d2c 2074 7562  timeMarks"], tub
+0000fa40: 655b 2262 616e 644d 6172 6b73 225d 2c20  e["bandMarks"], 
+0000fa50: 3134 2c20 3332 2c20 7475 6265 5b22 7475  14, 32, tube["tu
+0000fa60: 6265 5261 6e67 6522 5d2c 2066 6c6f 6174  beRange"], float
+0000fa70: 2865 7870 6572 696d 656e 7454 6162 5461  (experimentTabTa
+0000fa80: 626c 6550 6172 616d 7348 7273 4c6f 7744  bleParamsHrsLowD
+0000fa90: 726f 7064 6f77 6e2e 7661 6c75 6529 2c20  ropdown.value), 
+0000faa0: 666c 6f61 7428 6578 7065 7269 6d65 6e74  float(experiment
+0000fab0: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
+0000fac0: 7348 6967 6844 726f 7064 6f77 6e2e 7661  sHighDropdown.va
+0000fad0: 6c75 6529 2920 2023 2043 616c 6375 6c61  lue))  # Calcula
+0000fae0: 7465 2070 6572 696f 6473 2061 6e64 2070  te periods and p
+0000faf0: 6572 696f 646f 6772 616d 7320 666f 7220  eriodograms for 
+0000fb00: 6375 7272 656e 7420 7475 6265 0a20 2020  current tube.   
+0000fb10: 2020 2020 200a 2020 2020 2020 2020 7461       .        ta
+0000fb20: 626c 6552 6f77 732e 6170 7065 6e64 280a  bleRows.append(.
+0000fb30: 2020 2020 2020 2020 2020 2020 5b0a 2020              [.  
+0000fb40: 2020 2020 2020 2020 2020 2020 2020 2220                " 
+0000fb50: 2022 202b 2073 7472 2874 7562 6573 4d61   " + str(tubesMa
+0000fb60: 7374 6572 2e69 6e64 6578 2874 7562 6529  ster.index(tube)
+0000fb70: 202b 2031 292c 0a20 2020 2020 2020 2020   + 1),.         
+0000fb80: 2020 2020 2020 2073 7472 2874 7562 655b         str(tube[
+0000fb90: 2273 6574 4e61 6d65 225d 292c 0a20 2020  "setName"]),.   
+0000fba0: 2020 2020 2020 2020 2020 2020 2022 2020               "  
+0000fbb0: 2220 2b20 7374 7228 7475 6265 5b22 7475  " + str(tube["tu
+0000fbc0: 6265 4e75 6d62 6572 225d 202b 2031 292c  beNumber"] + 1),
+0000fbd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000fbe0: 2073 7472 2872 6f75 6e64 2874 7562 6550   str(round(tubeP
+0000fbf0: 6572 696f 6473 5b22 7065 7269 6f64 4c69  eriods["periodLi
+0000fc00: 6e65 6172 5265 6772 6573 7369 6f6e 225d  nearRegression"]
+0000fc10: 2c20 3329 2920 2b20 2220 6872 7322 2c0a  , 3)) + " hrs",.
+0000fc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fc30: 7374 7228 726f 756e 6428 7475 6265 5065  str(round(tubePe
+0000fc40: 7269 6f64 735b 2270 6572 696f 6453 6f6b  riods["periodSok
+0000fc50: 6f6c 6f76 6542 7573 6865 6c6c 225d 2c20  oloveBushell"], 
+0000fc60: 3329 2920 2b20 2220 6872 7322 2c0a 2020  3)) + " hrs",.  
+0000fc70: 2020 2020 2020 2020 2020 2020 2020 7374                st
+0000fc80: 7228 726f 756e 6428 7475 6265 5065 7269  r(round(tubePeri
+0000fc90: 6f64 735b 2270 6572 696f 644c 6f6d 6253  ods["periodLombS
+0000fca0: 6361 7267 6c65 225d 2c20 3329 2920 2b20  cargle"], 3)) + 
+0000fcb0: 2220 6872 7322 2c0a 2020 2020 2020 2020  " hrs",.        
+0000fcc0: 2020 2020 2020 2020 7374 7228 726f 756e          str(roun
+0000fcd0: 6428 7475 6265 5065 7269 6f64 735b 2270  d(tubePeriods["p
+0000fce0: 6572 696f 6457 6176 656c 6574 225d 2c20  eriodWavelet"], 
+0000fcf0: 3329 2920 2b20 2220 6872 7322 2c0a 2020  3)) + " hrs",.  
+0000fd00: 2020 2020 2020 2020 2020 2020 2020 7374                st
+0000fd10: 7228 726f 756e 6428 7475 6265 5065 7269  r(round(tubePeri
+0000fd20: 6f64 735b 2273 6c6f 7065 5761 7665 6c65  ods["slopeWavele
+0000fd30: 7422 5d2c 2033 2929 2c0a 2020 2020 2020  t"], 3)),.      
+0000fd40: 2020 2020 2020 2020 2020 7374 7228 7475            str(tu
+0000fd50: 6265 5b22 6772 6f77 7468 5261 7465 225d  be["growthRate"]
+0000fd60: 290a 2020 2020 2020 2020 2020 2020 5d0a  ).            ].
+0000fd70: 2020 2020 2020 2020 2920 2023 2041 6464          )  # Add
+0000fd80: 2072 6f77 2074 6f20 6578 7065 7269 6d65   row to experime
+0000fd90: 6e74 2074 6162 6c65 206f 6620 5b45 6e74  nt table of [Ent
+0000fda0: 7279 206e 756d 6265 722c 2053 6574 206e  ry number, Set n
+0000fdb0: 756d 6265 722c 2054 7562 6520 6e75 6d62  umber, Tube numb
+0000fdc0: 6572 2069 6e20 7365 742c 2050 6572 696f  er in set, Perio
+0000fdd0: 6473 5d0a 2020 2020 2020 2020 0a20 2020  ds].        .   
+0000fde0: 2020 2020 2023 2055 7064 6174 6520 6d61       # Update ma
+0000fdf0: 7820 636f 6c75 6d6e 206c 656e 6774 6873  x column lengths
+0000fe00: 2074 6f20 6669 7420 6461 7461 0a20 2020   to fit data.   
+0000fe10: 2020 2020 2066 6f72 2063 6f6c 2069 6e20       for col in 
+0000fe20: 7261 6e67 6528 302c 2039 293a 2020 2320  range(0, 9):  # 
+0000fe30: 466f 7220 6561 6368 2064 6174 756d 2069  For each datum i
+0000fe40: 6e20 726f 7720 666f 7220 7475 6265 0a20  n row for tube. 
+0000fe50: 2020 2020 2020 2020 2020 2069 6620 6c65             if le
+0000fe60: 6e28 7461 626c 6552 6f77 735b 2d31 5d5b  n(tableRows[-1][
+0000fe70: 636f 6c5d 2920 2b20 3320 3e20 6d61 7843  col]) + 3 > maxC
+0000fe80: 6f6c 756d 6e4c 656e 6774 6873 5b63 6f6c  olumnLengths[col
+0000fe90: 5d3a 2020 2320 4966 2063 6f72 7265 7370  ]:  # If corresp
+0000fea0: 6f6e 6469 6e67 2064 6174 756d 2069 7320  onding datum is 
+0000feb0: 6c6f 6e67 6572 2074 6861 6e20 6375 7272  longer than curr
+0000fec0: 656e 7420 6d61 7820 636f 6c75 6d6e 2077  ent max column w
+0000fed0: 6964 7468 0a20 2020 2020 2020 2020 2020  idth.           
+0000fee0: 2020 2020 206d 6178 436f 6c75 6d6e 4c65       maxColumnLe
+0000fef0: 6e67 7468 735b 636f 6c5d 203d 206c 656e  ngths[col] = len
+0000ff00: 2874 6162 6c65 526f 7773 5b2d 315d 5b63  (tableRows[-1][c
+0000ff10: 6f6c 5d29 202b 2033 2020 2320 496e 6372  ol]) + 3  # Incr
+0000ff20: 6561 7365 206d 6178 2063 6f6c 756d 6e20  ease max column 
+0000ff30: 7769 6474 6820 6163 636f 7264 696e 676c  width accordingl
+0000ff40: 790a 2020 2020 7461 626c 6554 6578 7420  y.    tableText 
+0000ff50: 3d20 2222 2020 2320 426c 616e 6b20 7374  = ""  # Blank st
+0000ff60: 7269 6e67 2066 6f72 2065 7870 6572 696d  ring for experim
+0000ff70: 656e 7420 7461 626c 6520 7465 7874 0a20  ent table text. 
+0000ff80: 2020 2066 6f72 2072 6f77 2069 6e20 7461     for row in ta
+0000ff90: 626c 6552 6f77 733a 2020 2320 466f 7220  bleRows:  # For 
+0000ffa0: 6561 6368 2072 6f77 206f 6620 7461 626c  each row of tabl
+0000ffb0: 6520 726f 7773 206c 6973 740a 2020 2020  e rows list.    
+0000ffc0: 2020 2020 666f 7220 636f 6c20 696e 2072      for col in r
+0000ffd0: 616e 6765 2830 2c20 6c65 6e28 7461 626c  ange(0, len(tabl
+0000ffe0: 6552 6f77 735b 305d 2929 3a20 2023 2046  eRows[0])):  # F
+0000fff0: 6f72 2065 6163 6820 636f 6c75 6d6e 0a20  or each column. 
+00010000: 2020 2020 2020 2020 2020 2074 6162 6c65             table
+00010010: 5465 7874 203d 2074 6162 6c65 5465 7874  Text = tableText
+00010020: 202b 2072 6f77 5b63 6f6c 5d20 2b20 2220   + row[col] + " 
+00010030: 2220 2a20 286d 6178 436f 6c75 6d6e 4c65  " * (maxColumnLe
+00010040: 6e67 7468 735b 636f 6c5d 202d 206c 656e  ngths[col] - len
+00010050: 2872 6f77 5b63 6f6c 5d29 2920 2023 2041  (row[col]))  # A
+00010060: 7070 656e 6420 636f 6c75 6d6e 2061 6e64  ppend column and
+00010070: 2073 7061 6369 6e67 2074 6f20 7461 626c   spacing to tabl
+00010080: 6520 7465 7874 0a20 2020 2020 2020 2074  e text.        t
+00010090: 6162 6c65 5465 7874 203d 2074 6162 6c65  ableText = table
+000100a0: 5465 7874 202b 2022 5c6e 2220 2023 2041  Text + "\n"  # A
+000100b0: 7070 656e 6420 6e65 776c 696e 6520 746f  ppend newline to
+000100c0: 2074 6162 6c65 2074 6578 740a 2020 2020   table text.    
+000100d0: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
+000100e0: 6c65 5465 7874 426f 782e 7661 6c75 6520  leTextBox.value 
+000100f0: 3d20 7461 626c 6554 6578 7420 2023 2053  = tableText  # S
+00010100: 6574 2065 7870 6572 696d 656e 7420 7461  et experiment ta
+00010110: 626c 6520 7465 7874 2062 6f78 2076 616c  ble text box val
+00010120: 7565 2074 6f20 7465 7874 2073 7472 696e  ue to text strin
+00010130: 670a 0a0a 6465 6620 7361 7665 4578 7065  g...def saveExpe
+00010140: 7269 6d65 6e74 4461 7461 2829 3a0a 2020  rimentData():.  
+00010150: 2020 676c 6f62 616c 2074 7562 6573 4d61    global tubesMa
+00010160: 7374 6572 0a20 2020 2067 6c6f 6261 6c20  ster.    global 
+00010170: 6f70 656e 4669 6c65 0a20 2020 2067 6c6f  openFile.    glo
+00010180: 6261 6c20 6170 700a 2020 2020 676c 6f62  bal app.    glob
+00010190: 616c 2065 7870 6572 696d 656e 7454 6162  al experimentTab
+000101a0: 5461 626c 6550 6172 616d 7348 7273 4c6f  TableParamsHrsLo
+000101b0: 7744 726f 7064 6f77 6e0a 2020 2020 676c  wDropdown.    gl
+000101c0: 6f62 616c 2065 7870 6572 696d 656e 7454  obal experimentT
+000101d0: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
+000101e0: 4869 6768 4472 6f70 646f 776e 0a0a 2020  HighDropdown..  
+000101f0: 2020 6461 7461 4669 6c65 4e61 6d65 203d    dataFileName =
+00010200: 2061 7070 2e73 656c 6563 745f 6669 6c65   app.select_file
+00010210: 280a 2020 2020 2020 2020 7469 746c 653d  (.        title=
+00010220: 2253 6176 6520 6461 7461 2061 732e 2e2e  "Save data as...
+00010230: 222c 0a20 2020 2020 2020 2066 6f6c 6465  ",.        folde
+00010240: 723d 776f 726b 696e 6744 6972 2c0a 2020  r=workingDir,.  
+00010250: 2020 2020 2020 6669 6c65 7479 7065 733d        filetypes=
+00010260: 5b5b 2243 5356 222c 2022 2a2e 6373 7622  [["CSV", "*.csv"
+00010270: 5d5d 2c0a 2020 2020 2020 2020 7361 7665  ]],.        save
+00010280: 3d54 7275 652c 0a20 2020 2020 2020 2066  =True,.        f
+00010290: 696c 656e 616d 653d 286f 7065 6e46 696c  ilename=(openFil
+000102a0: 655b 6f70 656e 4669 6c65 2e72 696e 6465  e[openFile.rinde
+000102b0: 7828 222f 2229 2b31 3a2d 355d 202b 2022  x("/")+1:-5] + "
+000102c0: 5f64 6174 6122 292c 0a20 2020 2029 2020  _data"),.    )  
+000102d0: 2320 4765 7420 6669 6c65 206e 616d 6520  # Get file name 
+000102e0: 616e 6420 6669 6c65 2073 6176 6520 6c6f  and file save lo
+000102f0: 6361 7469 6f6e 2066 726f 6d20 7573 6572  cation from user
+00010300: 2069 6e70 7574 2066 726f 6d20 6170 7020   input from app 
+00010310: 706f 7075 700a 2020 2020 0a20 2020 2074  popup.    .    t
+00010320: 6162 6c65 526f 7773 203d 205b 0a20 2020  ableRows = [.   
+00010330: 2020 2020 205b 0a20 2020 2020 2020 2020       [.         
+00010340: 2020 2022 456e 7472 7922 2c0a 2020 2020     "Entry",.    
+00010350: 2020 2020 2020 2020 2250 6163 6b22 2c0a          "Pack",.
+00010360: 2020 2020 2020 2020 2020 2020 2254 7562              "Tub
+00010370: 6520 2322 2c0a 2020 2020 2020 2020 2020  e #",.          
+00010380: 2020 2250 6572 696f 6420 284c 696e 6561    "Period (Linea
+00010390: 7220 5265 6772 6573 7369 6f6e 2920 2868  r Regression) (h
+000103a0: 7273 2922 2c0a 2020 2020 2020 2020 2020  rs)",.          
+000103b0: 2020 2250 6572 696f 6420 2853 6f6b 6f6c    "Period (Sokol
+000103c0: 6f76 652d 4275 7368 656c 6c29 2028 6872  ove-Bushell) (hr
+000103d0: 7329 222c 0a20 2020 2020 2020 2020 2020  s)",.           
+000103e0: 2022 5065 7269 6f64 2028 4c6f 6d62 2d53   "Period (Lomb-S
+000103f0: 6361 7267 6c65 2920 2868 7273 2922 2c0a  cargle) (hrs)",.
+00010400: 2020 2020 2020 2020 2020 2020 2250 6572              "Per
+00010410: 696f 6420 2857 6176 656c 6574 2f43 5754  iod (Wavelet/CWT
+00010420: 2920 2868 7273 2922 2c0a 2020 2020 2020  ) (hrs)",.      
+00010430: 2020 2020 2020 2243 5754 2053 6c6f 7065        "CWT Slope
+00010440: 2028 6872 732f 6872 2922 2c0a 2020 2020   (hrs/hr)",.    
+00010450: 2020 2020 2020 2020 2247 726f 7774 6820          "Growth 
+00010460: 5261 7465 2028 6d6d 2f68 7229 220a 2020  Rate (mm/hr)".  
+00010470: 2020 2020 2020 5d0a 2020 2020 5d20 2023        ].    ]  #
+00010480: 2050 6f70 756c 6174 6520 7461 626c 6520   Populate table 
+00010490: 726f 7773 2077 6974 6820 6865 6164 6572  rows with header
+000104a0: 7320 616e 6420 6120 626c 616e 6b20 726f  s and a blank ro
+000104b0: 770a 2020 2020 6d61 7854 696d 654d 6172  w.    maxTimeMar
+000104c0: 6b73 4c65 6e67 7468 203d 2030 2020 2320  ksLength = 0  # 
+000104d0: 426c 616e 6b20 7661 7269 6162 6c65 2066  Blank variable f
+000104e0: 6f72 206d 6f73 7420 7469 6d65 206d 6172  or most time mar
+000104f0: 6b73 2069 6e20 6120 7475 6265 2069 6e20  ks in a tube in 
+00010500: 6669 6c65 0a20 2020 2066 6f72 2074 7562  file.    for tub
+00010510: 6520 696e 2074 7562 6573 4d61 7374 6572  e in tubesMaster
+00010520: 3a20 2023 2046 6f72 2065 6163 6820 7475  :  # For each tu
+00010530: 6265 2069 6e20 6d61 7374 6572 2074 7562  be in master tub
+00010540: 6573 206c 6973 740a 2020 2020 2020 2020  es list.        
+00010550: 6966 206c 656e 2874 7562 655b 2274 696d  if len(tube["tim
+00010560: 654d 6172 6b73 225d 2920 3e20 6d61 7854  eMarks"]) > maxT
+00010570: 696d 654d 6172 6b73 4c65 6e67 7468 3a20  imeMarksLength: 
+00010580: 2023 2049 6620 7468 6520 7475 6265 2063   # If the tube c
+00010590: 6f6e 7461 696e 7320 6d6f 7265 2074 696d  ontains more tim
+000105a0: 6520 6d61 726b 7320 7468 616e 2074 6865  e marks than the
+000105b0: 2063 7572 7265 6e74 206d 6178 0a20 2020   current max.   
+000105c0: 2020 2020 2020 2020 206d 6178 5469 6d65           maxTime
+000105d0: 4d61 726b 734c 656e 6774 6820 3d20 6c65  MarksLength = le
+000105e0: 6e28 7475 6265 5b22 7469 6d65 4d61 726b  n(tube["timeMark
+000105f0: 7322 5d29 0a20 2020 2074 6f74 616c 4d61  s"]).    totalMa
+00010600: 726b 486f 7572 7320 3d20 7475 6265 734d  rkHours = tubesM
+00010610: 6173 7465 725b 305d 5b22 6d61 726b 486f  aster[0]["markHo
+00010620: 7572 7322 5d5b 3a6d 6178 5469 6d65 4d61  urs"][:maxTimeMa
+00010630: 726b 734c 656e 6774 685d 0a20 2020 2069  rksLength].    i
+00010640: 6620 6578 7065 7269 6d65 6e74 5461 6254  f experimentTabT
+00010650: 6162 6c65 5061 7261 6d73 4872 734c 6f77  ableParamsHrsLow
+00010660: 4472 6f70 646f 776e 2e76 616c 7565 203d  Dropdown.value =
+00010670: 3d20 2222 2061 6e64 2065 7870 6572 696d  = "" and experim
+00010680: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
+00010690: 7348 7273 4869 6768 4472 6f70 646f 776e  sHrsHighDropdown
+000106a0: 2e76 616c 7565 203d 3d20 2222 3a0a 2020  .value == "":.  
+000106b0: 2020 2020 2020 666f 7220 7469 6d65 2069        for time i
+000106c0: 6e20 746f 7461 6c4d 6172 6b48 6f75 7273  n totalMarkHours
+000106d0: 3a0a 2020 2020 2020 2020 2020 2020 6578  :.            ex
+000106e0: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
+000106f0: 5061 7261 6d73 4872 734c 6f77 4472 6f70  ParamsHrsLowDrop
+00010700: 646f 776e 2e61 7070 656e 6428 7469 6d65  down.append(time
+00010710: 290a 2020 2020 2020 2020 2020 2020 6578  ).            ex
+00010720: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
+00010730: 5061 7261 6d73 4872 7348 6967 6844 726f  ParamsHrsHighDro
+00010740: 7064 6f77 6e2e 6170 7065 6e64 2874 696d  pdown.append(tim
+00010750: 6529 0a20 2020 2020 2020 2065 7870 6572  e).        exper
+00010760: 696d 656e 7454 6162 5461 626c 6550 6172  imentTabTablePar
+00010770: 616d 7348 7273 4c6f 7744 726f 7064 6f77  amsHrsLowDropdow
+00010780: 6e2e 7661 6c75 6520 3d20 7374 7228 746f  n.value = str(to
+00010790: 7461 6c4d 6172 6b48 6f75 7273 5b30 5d29  talMarkHours[0])
+000107a0: 0a20 2020 2020 2020 2065 7870 6572 696d  .        experim
+000107b0: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
+000107c0: 7348 7273 4869 6768 4472 6f70 646f 776e  sHrsHighDropdown
+000107d0: 2e76 616c 7565 203d 2073 7472 2874 6f74  .value = str(tot
+000107e0: 616c 4d61 726b 486f 7572 735b 2d31 5d29  alMarkHours[-1])
+000107f0: 0a20 2020 2069 6620 666c 6f61 7428 6578  .    if float(ex
+00010800: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
+00010810: 5061 7261 6d73 4872 7348 6967 6844 726f  ParamsHrsHighDro
+00010820: 7064 6f77 6e2e 7661 6c75 6529 203c 3d20  pdown.value) <= 
+00010830: 666c 6f61 7428 6578 7065 7269 6d65 6e74  float(experiment
+00010840: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
+00010850: 734c 6f77 4472 6f70 646f 776e 2e76 616c  sLowDropdown.val
+00010860: 7565 293a 0a20 2020 2020 2020 2020 2020  ue):.           
+00010870: 2065 7870 6572 696d 656e 7454 6162 5461   experimentTabTa
+00010880: 626c 6550 6172 616d 7348 7273 4869 6768  bleParamsHrsHigh
+00010890: 4472 6f70 646f 776e 2e76 616c 7565 203d  Dropdown.value =
+000108a0: 2073 7472 2874 6f74 616c 4d61 726b 486f   str(totalMarkHo
+000108b0: 7572 735b 746f 7461 6c4d 6172 6b48 6f75  urs[totalMarkHou
+000108c0: 7273 2e69 6e64 6578 2866 6c6f 6174 2865  rs.index(float(e
+000108d0: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
+000108e0: 6550 6172 616d 7348 7273 4c6f 7744 726f  eParamsHrsLowDro
+000108f0: 7064 6f77 6e2e 7661 6c75 6529 292b 315d  pdown.value))+1]
+00010900: 290a 2020 2020 666f 7220 7475 6265 2069  ).    for tube i
+00010910: 6e20 7475 6265 734d 6173 7465 723a 2020  n tubesMaster:  
+00010920: 2320 466f 7220 6561 6368 2074 7562 6520  # For each tube 
+00010930: 696e 206d 6173 7465 7220 7475 6265 206c  in master tube l
+00010940: 6973 740a 2020 2020 2020 2020 7475 6265  ist.        tube
+00010950: 5065 7269 6f64 7320 3d20 6361 6c63 756c  Periods = calcul
+00010960: 6174 6550 6572 696f 6444 6174 6128 7475  atePeriodData(tu
+00010970: 6265 5b22 6465 6e73 6974 7950 726f 6669  be["densityProfi
+00010980: 6c65 225d 2c20 7475 6265 5b22 6d61 726b  le"], tube["mark
+00010990: 486f 7572 7322 5d2c 2074 7562 655b 2274  Hours"], tube["t
+000109a0: 696d 654d 6172 6b73 225d 2c20 7475 6265  imeMarks"], tube
+000109b0: 5b22 6261 6e64 4d61 726b 7322 5d2c 2031  ["bandMarks"], 1
+000109c0: 342c 2033 322c 2074 7562 655b 2274 7562  4, 32, tube["tub
+000109d0: 6552 616e 6765 225d 2c20 666c 6f61 7428  eRange"], float(
+000109e0: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
+000109f0: 6c65 5061 7261 6d73 4872 734c 6f77 4472  leParamsHrsLowDr
+00010a00: 6f70 646f 776e 2e76 616c 7565 292c 2066  opdown.value), f
+00010a10: 6c6f 6174 2865 7870 6572 696d 656e 7454  loat(experimentT
+00010a20: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
+00010a30: 4869 6768 4472 6f70 646f 776e 2e76 616c  HighDropdown.val
+00010a40: 7565 2929 2020 2320 4361 6c63 756c 6174  ue))  # Calculat
+00010a50: 6520 7065 7269 6f64 7320 616e 6420 7065  e periods and pe
+00010a60: 7269 6f64 6f67 7261 6d73 2066 6f72 2063  riodograms for c
+00010a70: 7572 7265 6e74 2074 7562 650a 2020 2020  urrent tube.    
+00010a80: 2020 2020 7461 626c 6552 6f77 732e 6170      tableRows.ap
+00010a90: 7065 6e64 280a 2020 2020 2020 2020 2020  pend(.          
+00010aa0: 2020 5b0a 2020 2020 2020 2020 2020 2020    [.            
+00010ab0: 2020 2020 2220 2022 202b 2073 7472 2874      "  " + str(t
+00010ac0: 7562 6573 4d61 7374 6572 2e69 6e64 6578  ubesMaster.index
+00010ad0: 2874 7562 6529 202b 2031 292c 0a20 2020  (tube) + 1),.   
+00010ae0: 2020 2020 2020 2020 2020 2020 2073 7472               str
+00010af0: 2874 7562 655b 2273 6574 4e61 6d65 225d  (tube["setName"]
+00010b00: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+00010b10: 2020 2022 2020 2220 2b20 7374 7228 7475     "  " + str(tu
+00010b20: 6265 5b22 7475 6265 4e75 6d62 6572 225d  be["tubeNumber"]
+00010b30: 202b 2031 292c 0a20 2020 2020 2020 2020   + 1),.         
+00010b40: 2020 2020 2020 2073 7472 2872 6f75 6e64         str(round
+00010b50: 2874 7562 6550 6572 696f 6473 5b22 7065  (tubePeriods["pe
+00010b60: 7269 6f64 4c69 6e65 6172 5265 6772 6573  riodLinearRegres
+00010b70: 7369 6f6e 225d 2c20 3329 292c 0a20 2020  sion"], 3)),.   
+00010b80: 2020 2020 2020 2020 2020 2020 2073 7472               str
+00010b90: 2872 6f75 6e64 2874 7562 6550 6572 696f  (round(tubePerio
+00010ba0: 6473 5b22 7065 7269 6f64 536f 6b6f 6c6f  ds["periodSokolo
+00010bb0: 7665 4275 7368 656c 6c22 5d2c 2033 2929  veBushell"], 3))
+00010bc0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00010bd0: 2020 7374 7228 726f 756e 6428 7475 6265    str(round(tube
+00010be0: 5065 7269 6f64 735b 2270 6572 696f 644c  Periods["periodL
+00010bf0: 6f6d 6253 6361 7267 6c65 225d 2c20 3329  ombScargle"], 3)
+00010c00: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+00010c10: 2020 2073 7472 2872 6f75 6e64 2874 7562     str(round(tub
+00010c20: 6550 6572 696f 6473 5b22 7065 7269 6f64  ePeriods["period
+00010c30: 5761 7665 6c65 7422 5d2c 2033 2929 2c0a  Wavelet"], 3)),.
+00010c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010c50: 7374 7228 726f 756e 6428 7475 6265 5065  str(round(tubePe
+00010c60: 7269 6f64 735b 2273 6c6f 7065 5761 7665  riods["slopeWave
+00010c70: 6c65 7422 5d2c 2033 2929 2c0a 2020 2020  let"], 3)),.    
+00010c80: 2020 2020 2020 2020 2020 2020 7374 7228              str(
+00010c90: 7475 6265 5b22 6772 6f77 7468 5261 7465  tube["growthRate
+00010ca0: 225d 290a 2020 2020 2020 2020 2020 2020  "]).            
+00010cb0: 5d0a 2020 2020 2020 2020 2920 2023 2041  ].        )  # A
+00010cc0: 6464 2072 6f77 2074 6f20 6578 7065 7269  dd row to experi
+00010cd0: 6d65 6e74 2074 6162 6c65 206f 6620 5b45  ment table of [E
+00010ce0: 6e74 7279 206e 756d 6265 722c 2053 6574  ntry number, Set
+00010cf0: 206e 756d 6265 722c 2054 7562 6520 6e75   number, Tube nu
+00010d00: 6d62 6572 2069 6e20 7365 742c 2050 6572  mber in set, Per
+00010d10: 696f 6473 5d0a 2020 2020 7769 7468 206f  iods].    with o
+00010d20: 7065 6e28 6461 7461 4669 6c65 4e61 6d65  pen(dataFileName
+00010d30: 2c20 2777 272c 206e 6577 6c69 6e65 3d27  , 'w', newline='
+00010d40: 272c 2065 6e63 6f64 696e 673d 2775 7466  ', encoding='utf
+00010d50: 2d31 3627 2920 6173 2063 7376 6669 6c65  -16') as csvfile
+00010d60: 3a20 2023 204f 7065 6e20 6373 7620 6669  :  # Open csv fi
+00010d70: 6c65 0a20 2020 2020 2020 2072 6f77 5772  le.        rowWr
+00010d80: 6974 6572 203d 2063 7376 2e77 7269 7465  iter = csv.write
+00010d90: 7228 6373 7666 696c 652c 2064 656c 696d  r(csvfile, delim
+00010da0: 6974 6572 3d27 2c27 2920 2023 2057 7269  iter=',')  # Wri
+00010db0: 7465 2074 6f20 6669 6c65 2064 656c 696d  te to file delim
+00010dc0: 6974 6564 2062 7920 222c 220a 2020 2020  ited by ",".    
+00010dd0: 2020 2020 666f 7220 726f 7720 696e 2074      for row in t
+00010de0: 6162 6c65 526f 7773 3a0a 2020 2020 2020  ableRows:.      
+00010df0: 2020 2020 2020 726f 7757 7269 7465 722e        rowWriter.
+00010e00: 7772 6974 6572 6f77 2872 6f77 2920 2023  writerow(row)  #
+00010e10: 2057 7269 7465 2072 6f77 2074 6f20 6669   Write row to fi
+00010e20: 6c65 0a0a 0a64 6566 2070 6f70 756c 6174  le...def populat
+00010e30: 6553 7461 7469 7374 6963 616c 416e 616c  eStatisticalAnal
+00010e40: 7973 6973 4c69 7374 7328 293a 0a20 2020  ysisLists():.   
+00010e50: 2022 2222 506f 7075 6c61 7465 2073 7461   """Populate sta
+00010e60: 7469 7374 6963 616c 2061 6e61 6c79 7369  tistical analysi
+00010e70: 7320 6f70 7469 6f6e 206c 6973 7473 2e22  s option lists."
+00010e80: 2222 0a20 2020 200a 2020 2020 0a20 2020  "".    .    .   
+00010e90: 2067 6c6f 6261 6c20 7475 6265 734d 6173   global tubesMas
+00010ea0: 7465 720a 2020 2020 676c 6f62 616c 2065  ter.    global e
+00010eb0: 7870 6572 696d 656e 7454 6162 5374 6174  xperimentTabStat
+00010ec0: 6973 7469 6361 6c41 6e61 6c79 7369 7353  isticalAnalysisS
+00010ed0: 6574 4c69 7374 0a20 2020 2067 6c6f 6261  etList.    globa
+00010ee0: 6c20 6578 7065 7269 6d65 6e74 5461 6253  l experimentTabS
+00010ef0: 7461 7469 7374 6963 616c 416e 616c 7973  tatisticalAnalys
+00010f00: 6973 5475 6265 4c69 7374 0a0a 0a20 2020  isTubeList...   
+00010f10: 2023 2049 6465 6e74 6966 7920 7768 6963   # Identify whic
+00010f20: 6820 696e 666f 726d 6174 696f 6e20 746f  h information to
+00010f30: 2070 7574 2069 6e20 7768 6963 6820 6c69   put in which li
+00010f40: 7374 2061 6e64 2068 6176 6520 7365 6c65  st and have sele
+00010f50: 6374 6564 0a20 2020 2073 6574 7354 6f44  cted.    setsToD
+00010f60: 6973 706c 6179 203d 205b 5d20 2023 2042  isplay = []  # B
+00010f70: 6c61 6e6b 206c 6973 7420 6f66 2074 7562  lank list of tub
+00010f80: 6520 7365 7473 0a20 2020 2074 7562 6573  e sets.    tubes
+00010f90: 546f 4469 7370 6c61 7920 3d20 5b5d 2020  ToDisplay = []  
+00010fa0: 2320 426c 616e 6b20 6c69 7374 206f 6620  # Blank list of 
+00010fb0: 7475 6265 7320 696e 2073 656c 6563 7465  tubes in selecte
+00010fc0: 6420 7365 7473 0a20 2020 2073 6574 7353  d sets.    setsS
+00010fd0: 656c 6563 7465 6420 3d20 6578 7065 7269  elected = experi
+00010fe0: 6d65 6e74 5461 6253 7461 7469 7374 6963  mentTabStatistic
+00010ff0: 616c 416e 616c 7973 6973 5365 744c 6973  alAnalysisSetLis
+00011000: 742e 7661 6c75 6520 2023 2053 6574 206c  t.value  # Set l
+00011010: 6973 7420 6f66 2073 656c 6563 7465 6420  ist of selected 
+00011020: 7365 7473 0a20 2020 2069 6620 7365 7473  sets.    if sets
+00011030: 5365 6c65 6374 6564 2069 7320 4e6f 6e65  Selected is None
+00011040: 3a20 2023 2049 6620 6e6f 2073 6574 7320  :  # If no sets 
+00011050: 6172 6520 7365 6c65 6374 6564 0a20 2020  are selected.   
+00011060: 2020 2020 2073 6574 7353 656c 6563 7465       setsSelecte
+00011070: 6420 3d20 5b5d 2020 2320 5365 7420 7365  d = []  # Set se
+00011080: 7473 5365 6c65 6374 6564 2074 6f20 626c  tsSelected to bl
+00011090: 616e 6b20 6c69 7374 2069 6e73 7465 6164  ank list instead
+000110a0: 206f 6620 4e6f 6e65 0a20 2020 2074 7562   of None.    tub
+000110b0: 6573 5365 6c65 6374 6564 203d 2065 7870  esSelected = exp
+000110c0: 6572 696d 656e 7454 6162 5374 6174 6973  erimentTabStatis
+000110d0: 7469 6361 6c41 6e61 6c79 7369 7354 7562  ticalAnalysisTub
+000110e0: 654c 6973 742e 7661 6c75 6520 2023 2053  eList.value  # S
+000110f0: 6574 206c 6973 7420 6f66 2073 656c 6563  et list of selec
+00011100: 7465 6420 7475 6265 730a 2020 2020 6966  ted tubes.    if
+00011110: 2074 7562 6573 5365 6c65 6374 6564 2069   tubesSelected i
+00011120: 7320 4e6f 6e65 3a20 2023 2049 6620 6e6f  s None:  # If no
+00011130: 2074 7562 6573 2061 7265 2073 656c 6563   tubes are selec
+00011140: 7465 640a 2020 2020 2020 2020 7475 6265  ted.        tube
+00011150: 7353 656c 6563 7465 6420 3d20 5b5d 2020  sSelected = []  
+00011160: 2320 5365 7420 7475 6265 7353 656c 6563  # Set tubesSelec
+00011170: 7465 6420 746f 2062 6c61 6e6b 206c 6973  ted to blank lis
+00011180: 7420 696e 7374 6561 6420 6f66 204e 6f6e  t instead of Non
+00011190: 650a 2020 2020 666f 7220 7475 6265 2069  e.    for tube i
+000111a0: 6e20 7475 6265 734d 6173 7465 723a 2020  n tubesMaster:  
+000111b0: 2320 466f 7220 6561 6368 2074 7562 6520  # For each tube 
+000111c0: 696e 206d 6173 7465 7220 7475 6265 7320  in master tubes 
+000111d0: 6c69 7374 0a20 2020 2020 2020 2069 6620  list.        if 
+000111e0: 7475 6265 5b22 7365 744e 616d 6522 5d20  tube["setName"] 
+000111f0: 6e6f 7420 696e 2073 6574 7354 6f44 6973  not in setsToDis
+00011200: 706c 6179 3a20 2023 2049 6620 7475 6265  play:  # If tube
+00011210: 2073 6574 206e 616d 6520 6973 206e 6f74   set name is not
+00011220: 2069 6e20 6c69 7374 206f 6620 7365 7420   in list of set 
+00011230: 6f70 7469 6f6e 730a 2020 2020 2020 2020  options.        
+00011240: 2020 2020 7365 7473 546f 4469 7370 6c61      setsToDispla
+00011250: 792e 6170 7065 6e64 2874 7562 655b 2273  y.append(tube["s
+00011260: 6574 4e61 6d65 225d 2920 2023 2041 6464  etName"])  # Add
+00011270: 2074 7562 6520 7365 7420 6e61 6d65 2074   tube set name t
+00011280: 6f20 6c69 7374 206f 6620 7365 7420 6f70  o list of set op
+00011290: 7469 6f6e 730a 2020 2020 2020 2020 6966  tions.        if
+000112a0: 2074 7562 655b 2273 6574 4e61 6d65 225d   tube["setName"]
+000112b0: 2069 6e20 7365 7473 5365 6c65 6374 6564   in setsSelected
+000112c0: 3a20 2023 2049 6620 7475 6265 2073 6574  :  # If tube set
+000112d0: 206e 616d 6520 6973 2069 6e20 6c69 7374   name is in list
+000112e0: 206f 6620 7365 6c65 6374 6564 2073 6574   of selected set
+000112f0: 730a 2020 2020 2020 2020 2020 2020 7475  s.            tu
+00011300: 6265 7354 6f44 6973 706c 6179 2e61 7070  besToDisplay.app
+00011310: 656e 6428 7475 6265 5b22 7365 744e 616d  end(tube["setNam
+00011320: 6522 5d20 2b20 2220 7c20 2220 2b20 7374  e"] + " | " + st
+00011330: 7228 7475 6265 5b22 7475 6265 4e75 6d62  r(tube["tubeNumb
+00011340: 6572 225d 202b 2031 2929 2020 2320 4164  er"] + 1))  # Ad
+00011350: 6420 7365 7420 616e 6420 7475 6265 2074  d set and tube t
+00011360: 6f20 6c69 7374 206f 6620 7475 6265 206f  o list of tube o
+00011370: 7074 696f 6e73 0a20 2020 200a 2020 2020  ptions.    .    
+00011380: 2320 4163 636f 756e 7420 666f 7220 6e65  # Account for ne
+00011390: 7720 6669 6c65 206f 7065 6e73 0a20 2020  w file opens.   
+000113a0: 2069 6620 736f 7274 6564 2865 7870 6572   if sorted(exper
+000113b0: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
+000113c0: 6361 6c41 6e61 6c79 7369 7353 6574 4c69  calAnalysisSetLi
+000113d0: 7374 2e69 7465 6d73 2920 213d 2073 6f72  st.items) != sor
+000113e0: 7465 6428 7365 7473 546f 4469 7370 6c61  ted(setsToDispla
+000113f0: 7929 3a20 2023 2049 6620 7365 7473 2069  y):  # If sets i
+00011400: 6e20 6c69 7374 2064 6f6e 2774 206d 6174  n list don't mat
+00011410: 6368 2063 7572 7265 6e74 206f 7065 6e20  ch current open 
+00011420: 6669 6c65 0a20 2020 2020 2020 2077 6869  file.        whi
+00011430: 6c65 206c 656e 2865 7870 6572 696d 656e  le len(experimen
+00011440: 7454 6162 5374 6174 6973 7469 6361 6c41  tTabStatisticalA
+00011450: 6e61 6c79 7369 7353 6574 4c69 7374 2e69  nalysisSetList.i
+00011460: 7465 6d73 2920 3e20 303a 2020 2320 556e  tems) > 0:  # Un
+00011470: 7469 6c20 7365 7420 6c69 7374 2069 7320  til set list is 
+00011480: 656d 7074 790a 2020 2020 2020 2020 2020  empty.          
+00011490: 2020 666f 7220 6974 656d 2069 6e20 6578    for item in ex
+000114a0: 7065 7269 6d65 6e74 5461 6253 7461 7469  perimentTabStati
+000114b0: 7374 6963 616c 416e 616c 7973 6973 5365  sticalAnalysisSe
+000114c0: 744c 6973 742e 6974 656d 733a 2020 2320  tList.items:  # 
+000114d0: 466f 7220 6561 6368 2069 7465 6d20 696e  For each item in
+000114e0: 2073 6574 206c 6973 740a 2020 2020 2020   set list.      
+000114f0: 2020 2020 2020 2020 2020 6578 7065 7269            experi
+00011500: 6d65 6e74 5461 6253 7461 7469 7374 6963  mentTabStatistic
+00011510: 616c 416e 616c 7973 6973 5365 744c 6973  alAnalysisSetLis
+00011520: 742e 7265 6d6f 7665 2869 7465 6d29 2020  t.remove(item)  
+00011530: 2320 5265 6d6f 7665 2069 7465 6d20 6672  # Remove item fr
+00011540: 6f6d 2073 6574 206c 6973 740a 2020 2020  om set list.    
+00011550: 2020 2020 666f 7220 696e 6465 782c 2073      for index, s
+00011560: 6574 4e61 6d65 2069 6e20 656e 756d 6572  etName in enumer
+00011570: 6174 6528 7365 7473 546f 4469 7370 6c61  ate(setsToDispla
+00011580: 7929 3a20 2023 2046 6f72 2065 6163 6820  y):  # For each 
+00011590: 7365 7420 746f 2064 6973 706c 6179 0a20  set to display. 
+000115a0: 2020 2020 2020 2020 2020 2065 7870 6572             exper
+000115b0: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
+000115c0: 6361 6c41 6e61 6c79 7369 7353 6574 4c69  calAnalysisSetLi
+000115d0: 7374 2e69 6e73 6572 7428 696e 6465 782c  st.insert(index,
+000115e0: 2073 6574 4e61 6d65 2920 2023 2041 6464   setName)  # Add
+000115f0: 2073 6574 206e 616d 6520 746f 2074 7562   set name to tub
+00011600: 6520 6c69 7374 0a20 2020 2020 2020 2073  e list.        s
+00011610: 6574 7353 656c 6563 7465 6420 3d20 5b5d  etsSelected = []
+00011620: 0a20 2020 200a 2020 2020 2343 6861 6e67  .    .    #Chang
+00011630: 6520 656c 656d 656e 7473 206f 6620 7365  e elements of se
+00011640: 7420 616e 6420 7475 6265 206c 6973 7473  t and tube lists
+00011650: 2074 6f20 7265 666c 6563 7420 7573 6572   to reflect user
+00011660: 2073 656c 6563 7469 6f6e 730a 2020 2020   selections.    
+00011670: 6966 206c 656e 2865 7870 6572 696d 656e  if len(experimen
+00011680: 7454 6162 5374 6174 6973 7469 6361 6c41  tTabStatisticalA
+00011690: 6e61 6c79 7369 7353 6574 4c69 7374 2e69  nalysisSetList.i
+000116a0: 7465 6d73 2920 3d3d 2030 3a20 2023 2049  tems) == 0:  # I
+000116b0: 6620 7365 7420 6c69 7374 2069 7320 656d  f set list is em
+000116c0: 7074 790a 2020 2020 2020 2020 666f 7220  pty.        for 
+000116d0: 696e 6465 782c 2073 6574 4e61 6d65 2069  index, setName i
+000116e0: 6e20 656e 756d 6572 6174 6528 7365 7473  n enumerate(sets
+000116f0: 546f 4469 7370 6c61 7929 3a20 2023 2046  ToDisplay):  # F
+00011700: 6f72 2065 6163 6820 7365 7420 746f 2064  or each set to d
+00011710: 6973 706c 6179 0a20 2020 2020 2020 2020  isplay.         
+00011720: 2020 2065 7870 6572 696d 656e 7454 6162     experimentTab
+00011730: 5374 6174 6973 7469 6361 6c41 6e61 6c79  StatisticalAnaly
+00011740: 7369 7353 6574 4c69 7374 2e69 6e73 6572  sisSetList.inser
+00011750: 7428 696e 6465 782c 2073 6574 4e61 6d65  t(index, setName
+00011760: 2920 2023 2041 6464 2073 6574 206e 616d  )  # Add set nam
+00011770: 6520 746f 2073 6574 206c 6973 740a 2020  e to set list.  
+00011780: 2020 7768 696c 6520 6c65 6e28 6578 7065    while len(expe
+00011790: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
+000117a0: 6963 616c 416e 616c 7973 6973 5475 6265  icalAnalysisTube
+000117b0: 4c69 7374 2e69 7465 6d73 2920 3e20 303a  List.items) > 0:
+000117c0: 2020 2320 556e 7469 6c20 7475 6265 206c    # Until tube l
+000117d0: 6973 7420 6973 2065 6d70 7479 0a20 2020  ist is empty.   
+000117e0: 2020 2020 2066 6f72 2069 7465 6d20 696e       for item in
+000117f0: 2065 7870 6572 696d 656e 7454 6162 5374   experimentTabSt
+00011800: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
+00011810: 7354 7562 654c 6973 742e 6974 656d 733a  sTubeList.items:
+00011820: 2020 2320 466f 7220 6561 6368 2069 7465    # For each ite
+00011830: 6d20 696e 2074 7562 6520 6c69 7374 0a20  m in tube list. 
+00011840: 2020 2020 2020 2020 2020 2065 7870 6572             exper
+00011850: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
+00011860: 6361 6c41 6e61 6c79 7369 7354 7562 654c  calAnalysisTubeL
+00011870: 6973 742e 7265 6d6f 7665 2869 7465 6d29  ist.remove(item)
+00011880: 2020 2320 5265 6d6f 7665 2069 7465 6d20    # Remove item 
+00011890: 6672 6f6d 2074 7562 6520 6c69 7374 0a20  from tube list. 
+000118a0: 2020 2066 6f72 2069 6e64 6578 2c20 7475     for index, tu
+000118b0: 6265 4e61 6d65 2069 6e20 656e 756d 6572  beName in enumer
+000118c0: 6174 6528 7475 6265 7354 6f44 6973 706c  ate(tubesToDispl
+000118d0: 6179 293a 2020 2320 466f 7220 6561 6368  ay):  # For each
+000118e0: 2074 7562 6520 746f 2064 6973 706c 6179   tube to display
+000118f0: 0a20 2020 2020 2020 2065 7870 6572 696d  .        experim
+00011900: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
+00011910: 6c41 6e61 6c79 7369 7354 7562 654c 6973  lAnalysisTubeLis
+00011920: 742e 696e 7365 7274 2869 6e64 6578 2c20  t.insert(index, 
+00011930: 7475 6265 4e61 6d65 2920 2023 2041 6464  tubeName)  # Add
+00011940: 2074 7562 6520 6e61 6d65 2074 6f20 7475   tube name to tu
+00011950: 6265 206c 6973 740a 2020 2020 6578 7065  be list.    expe
+00011960: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
+00011970: 6963 616c 416e 616c 7973 6973 5475 6265  icalAnalysisTube
+00011980: 4c69 7374 2e76 616c 7565 203d 2074 7562  List.value = tub
+00011990: 6573 5365 6c65 6374 6564 2020 2320 5072  esSelected  # Pr
+000119a0: 6573 656c 6563 7420 7573 6572 2d73 7065  eselect user-spe
+000119b0: 6369 6669 6564 2074 7562 6573 0a0a 0a64  cified tubes...d
+000119c0: 6566 2070 6572 666f 726d 5374 6174 6973  ef performStatis
+000119d0: 7469 6361 6c41 6e61 6c79 7369 7328 293a  ticalAnalysis():
+000119e0: 0a20 2020 2022 2222 5065 7266 6f72 6d20  .    """Perform 
+000119f0: 7374 6174 6973 7469 6361 6c20 616e 616c  statistical anal
+00011a00: 6179 7369 7320 6f66 2070 6572 696f 6473  aysis of periods
+00011a10: 206f 6620 7365 6c65 6374 6564 2074 7562   of selected tub
+00011a20: 6573 2061 6e64 2064 6973 706c 6179 2072  es and display r
+00011a30: 6573 756c 7473 2e22 2222 0a0a 0a20 2020  esults."""...   
+00011a40: 2067 6c6f 6261 6c20 7475 6265 734d 6173   global tubesMas
+00011a50: 7465 720a 2020 2020 676c 6f62 616c 2065  ter.    global e
+00011a60: 7870 6572 696d 656e 7454 6162 5374 6174  xperimentTabStat
+00011a70: 6973 7469 6361 6c41 6e61 6c79 7369 7354  isticalAnalysisT
+00011a80: 7562 654c 6973 740a 2020 2020 676c 6f62  ubeList.    glob
+00011a90: 616c 2065 7870 6572 696d 656e 7454 6162  al experimentTab
+00011aa0: 5374 6174 6973 7469 6361 6c41 6e61 6c79  StatisticalAnaly
+00011ab0: 7369 734d 6574 686f 644c 6973 740a 2020  sisMethodList.  
+00011ac0: 2020 676c 6f62 616c 2065 7870 6572 696d    global experim
+00011ad0: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
+00011ae0: 6c41 6e61 6c79 7369 734f 7574 7075 7454  lAnalysisOutputT
+00011af0: 6578 7442 6f78 0a20 2020 2067 6c6f 6261  extBox.    globa
+00011b00: 6c20 6578 7065 7269 6d65 6e74 5461 6254  l experimentTabT
+00011b10: 6162 6c65 5061 7261 6d73 4872 734c 6f77  ableParamsHrsLow
+00011b20: 4472 6f70 646f 776e 0a20 2020 2067 6c6f  Dropdown.    glo
+00011b30: 6261 6c20 6578 7065 7269 6d65 6e74 5461  bal experimentTa
+00011b40: 6254 6162 6c65 5061 7261 6d73 4872 7348  bTableParamsHrsH
+00011b50: 6967 6844 726f 7064 6f77 6e0a 0a0a 2020  ighDropdown...  
+00011b60: 2020 2320 4765 7420 7365 6c65 6374 6564    # Get selected
+00011b70: 2074 7562 6573 2061 6e64 206d 6574 686f   tubes and metho
+00011b80: 6420 6672 6f6d 206c 6973 7420 626f 7865  d from list boxe
+00011b90: 730a 2020 2020 7475 6265 7353 656c 6563  s.    tubesSelec
+00011ba0: 7465 6420 3d20 6578 7065 7269 6d65 6e74  ted = experiment
+00011bb0: 5461 6253 7461 7469 7374 6963 616c 416e  TabStatisticalAn
+00011bc0: 616c 7973 6973 5475 6265 4c69 7374 2e76  alysisTubeList.v
+00011bd0: 616c 7565 2020 2320 5365 7420 6c69 7374  alue  # Set list
+00011be0: 206f 6620 7365 6c65 6374 6564 2074 7562   of selected tub
+00011bf0: 6573 2066 726f 6d20 6f70 7469 6f6e 7320  es from options 
+00011c00: 6c69 7374 0a20 2020 206d 6574 686f 6420  list.    method 
+00011c10: 3d20 2270 6572 696f 6422 202b 2065 7870  = "period" + exp
+00011c20: 6572 696d 656e 7454 6162 5374 6174 6973  erimentTabStatis
+00011c30: 7469 6361 6c41 6e61 6c79 7369 734d 6574  ticalAnalysisMet
+00011c40: 686f 644c 6973 742e 7661 6c75 652e 7265  hodList.value.re
+00011c50: 706c 6163 6528 222d 222c 2022 2229 2e72  place("-", "").r
+00011c60: 6570 6c61 6365 2822 2028 4357 5429 222c  eplace(" (CWT)",
+00011c70: 2022 2229 2e72 6570 6c61 6365 2822 2022   "").replace(" "
+00011c80: 2c20 2222 290a 2020 2020 6973 5761 7665  , "").    isWave
+00011c90: 6c65 7420 3d20 4661 6c73 650a 2020 2020  let = False.    
+00011ca0: 6966 2065 7870 6572 696d 656e 7454 6162  if experimentTab
+00011cb0: 5374 6174 6973 7469 6361 6c41 6e61 6c79  StatisticalAnaly
+00011cc0: 7369 734d 6574 686f 644c 6973 742e 7661  sisMethodList.va
+00011cd0: 6c75 6520 3d3d 2022 5761 7665 6c65 7420  lue == "Wavelet 
+00011ce0: 2843 5754 2922 3a0a 2020 2020 2020 2020  (CWT)":.        
+00011cf0: 6973 5761 7665 6c65 7420 3d20 5472 7565  isWavelet = True
+00011d00: 0a20 2020 206d 6178 5469 6d65 4d61 726b  .    maxTimeMark
+00011d10: 734c 656e 6774 6820 3d20 300a 2020 2020  sLength = 0.    
+00011d20: 666f 7220 7475 6265 2069 6e20 7475 6265  for tube in tube
+00011d30: 734d 6173 7465 723a 0a20 2020 2020 2020  sMaster:.       
+00011d40: 2069 6620 6c65 6e28 7475 6265 5b22 7469   if len(tube["ti
+00011d50: 6d65 4d61 726b 7322 5d29 203e 206d 6178  meMarks"]) > max
+00011d60: 5469 6d65 4d61 726b 734c 656e 6774 683a  TimeMarksLength:
+00011d70: 0a20 2020 2020 2020 2020 2020 206d 6178  .            max
+00011d80: 5469 6d65 4d61 726b 734c 656e 6774 6820  TimeMarksLength 
+00011d90: 3d20 6c65 6e28 7475 6265 5b22 7469 6d65  = len(tube["time
+00011da0: 4d61 726b 7322 5d29 0a20 2020 2074 6f74  Marks"]).    tot
+00011db0: 616c 4d61 726b 486f 7572 7320 3d20 7475  alMarkHours = tu
+00011dc0: 6265 734d 6173 7465 725b 305d 5b22 6d61  besMaster[0]["ma
+00011dd0: 726b 486f 7572 7322 5d5b 3a6d 6178 5469  rkHours"][:maxTi
+00011de0: 6d65 4d61 726b 734c 656e 6774 685d 0a20  meMarksLength]. 
+00011df0: 2020 2069 6620 6578 7065 7269 6d65 6e74     if experiment
+00011e00: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
+00011e10: 734c 6f77 4472 6f70 646f 776e 2e76 616c  sLowDropdown.val
+00011e20: 7565 203d 3d20 2222 2061 6e64 2065 7870  ue == "" and exp
+00011e30: 6572 696d 656e 7454 6162 5461 626c 6550  erimentTabTableP
+00011e40: 6172 616d 7348 7273 4869 6768 4472 6f70  aramsHrsHighDrop
+00011e50: 646f 776e 2e76 616c 7565 203d 3d20 2222  down.value == ""
+00011e60: 3a0a 2020 2020 2020 2020 666f 7220 7469  :.        for ti
+00011e70: 6d65 2069 6e20 746f 7461 6c4d 6172 6b48  me in totalMarkH
+00011e80: 6f75 7273 3a0a 2020 2020 2020 2020 2020  ours:.          
+00011e90: 2020 6578 7065 7269 6d65 6e74 5461 6254    experimentTabT
+00011ea0: 6162 6c65 5061 7261 6d73 4872 734c 6f77  ableParamsHrsLow
+00011eb0: 4472 6f70 646f 776e 2e61 7070 656e 6428  Dropdown.append(
+00011ec0: 7469 6d65 290a 2020 2020 2020 2020 2020  time).          
+00011ed0: 2020 6578 7065 7269 6d65 6e74 5461 6254    experimentTabT
+00011ee0: 6162 6c65 5061 7261 6d73 4872 7348 6967  ableParamsHrsHig
+00011ef0: 6844 726f 7064 6f77 6e2e 6170 7065 6e64  hDropdown.append
+00011f00: 2874 696d 6529 0a20 2020 2020 2020 2065  (time).        e
+00011f10: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
+00011f20: 6550 6172 616d 7348 7273 4c6f 7744 726f  eParamsHrsLowDro
+00011f30: 7064 6f77 6e2e 7661 6c75 6520 3d20 746f  pdown.value = to
+00011f40: 7461 6c4d 6172 6b48 6f75 7273 5b30 5d0a  talMarkHours[0].
+00011f50: 2020 2020 2020 2020 6578 7065 7269 6d65          experime
+00011f60: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
+00011f70: 4872 7348 6967 6844 726f 7064 6f77 6e2e  HrsHighDropdown.
+00011f80: 7661 6c75 6520 3d20 7374 7228 746f 7461  value = str(tota
+00011f90: 6c4d 6172 6b48 6f75 7273 5b2d 315d 290a  lMarkHours[-1]).
+00011fa0: 2020 2020 6966 2066 6c6f 6174 2865 7870      if float(exp
+00011fb0: 6572 696d 656e 7454 6162 5461 626c 6550  erimentTabTableP
+00011fc0: 6172 616d 7348 7273 4869 6768 4472 6f70  aramsHrsHighDrop
+00011fd0: 646f 776e 2e76 616c 7565 2920 3c3d 2066  down.value) <= f
+00011fe0: 6c6f 6174 2865 7870 6572 696d 656e 7454  loat(experimentT
+00011ff0: 6162 5461 626c 6550 6172 616d 7348 7273  abTableParamsHrs
+00012000: 4c6f 7744 726f 7064 6f77 6e2e 7661 6c75  LowDropdown.valu
+00012010: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
+00012020: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
+00012030: 6c65 5061 7261 6d73 4872 7348 6967 6844  leParamsHrsHighD
+00012040: 726f 7064 6f77 6e2e 7661 6c75 6520 3d20  ropdown.value = 
+00012050: 7374 7228 746f 7461 6c4d 6172 6b48 6f75  str(totalMarkHou
+00012060: 7273 5b74 6f74 616c 4d61 726b 486f 7572  rs[totalMarkHour
+00012070: 732e 696e 6465 7828 666c 6f61 7428 6578  s.index(float(ex
+00012080: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
+00012090: 5061 7261 6d73 4872 734c 6f77 4472 6f70  ParamsHrsLowDrop
+000120a0: 646f 776e 2e76 616c 7565 2929 2b31 5d29  down.value))+1])
+000120b0: 0a0a 2020 2020 2343 616c 6375 6c61 7465  ..    #Calculate
+000120c0: 2070 6572 696f 6473 206f 6620 7365 6c65   periods of sele
+000120d0: 6374 6564 2074 7562 6573 0a20 2020 2073  cted tubes.    s
+000120e0: 656c 6563 7465 6450 6572 696f 6473 203d  electedPeriods =
+000120f0: 205b 5d20 2023 2042 6c61 6e6b 206c 6973   []  # Blank lis
+00012100: 7420 6f66 2070 6572 696f 6473 2066 6f72  t of periods for
+00012110: 2061 6e61 6c79 7369 730a 2020 2020 7365   analysis.    se
+00012120: 6c65 6374 6564 536c 6f70 6573 203d 205b  lectedSlopes = [
+00012130: 5d0a 2020 2020 666f 7220 7475 6265 2069  ].    for tube i
+00012140: 6e20 7475 6265 734d 6173 7465 723a 2020  n tubesMaster:  
+00012150: 2320 466f 7220 6561 6368 2074 7562 6520  # For each tube 
+00012160: 696e 206d 6173 7465 7220 7475 6265 7320  in master tubes 
+00012170: 6c69 7374 0a20 2020 2020 2020 2069 6620  list.        if 
+00012180: 2874 7562 655b 2273 6574 4e61 6d65 225d  (tube["setName"]
+00012190: 202b 2022 207c 2022 202b 2073 7472 2874   + " | " + str(t
+000121a0: 7562 655b 2274 7562 654e 756d 6265 7222  ube["tubeNumber"
+000121b0: 5d20 2b20 3129 2920 696e 2074 7562 6573  ] + 1)) in tubes
+000121c0: 5365 6c65 6374 6564 3a20 2023 2049 6620  Selected:  # If 
+000121d0: 7475 6265 2061 6e64 2073 6574 206e 616d  tube and set nam
+000121e0: 6520 6d61 7463 6820 6120 7365 6c65 6374  e match a select
+000121f0: 6564 2074 7562 6520 6f70 7469 6f6e 0a20  ed tube option. 
+00012200: 2020 2020 2020 2020 2020 2070 6572 696f             perio
+00012210: 6444 6174 6120 3d20 6361 6c63 756c 6174  dData = calculat
+00012220: 6550 6572 696f 6444 6174 6128 7475 6265  ePeriodData(tube
+00012230: 5b22 6465 6e73 6974 7950 726f 6669 6c65  ["densityProfile
+00012240: 225d 2c20 7475 6265 5b22 6d61 726b 486f  "], tube["markHo
+00012250: 7572 7322 5d2c 2074 7562 655b 2274 696d  urs"], tube["tim
+00012260: 654d 6172 6b73 225d 2c20 7475 6265 5b22  eMarks"], tube["
+00012270: 6261 6e64 4d61 726b 7322 5d2c 2031 342c  bandMarks"], 14,
+00012280: 2033 322c 2074 7562 655b 2274 7562 6552   32, tube["tubeR
+00012290: 616e 6765 225d 2c20 666c 6f61 7428 6578  ange"], float(ex
+000122a0: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
+000122b0: 5061 7261 6d73 4872 734c 6f77 4472 6f70  ParamsHrsLowDrop
+000122c0: 646f 776e 2e76 616c 7565 292c 2066 6c6f  down.value), flo
+000122d0: 6174 2865 7870 6572 696d 656e 7454 6162  at(experimentTab
+000122e0: 5461 626c 6550 6172 616d 7348 7273 4869  TableParamsHrsHi
+000122f0: 6768 4472 6f70 646f 776e 2e76 616c 7565  ghDropdown.value
+00012300: 2929 0a20 2020 2020 2020 2020 2020 2073  )).            s
+00012310: 656c 6563 7465 6450 6572 696f 6473 2e61  electedPeriods.a
+00012320: 7070 656e 6428 7065 7269 6f64 4461 7461  ppend(periodData
+00012330: 5b6d 6574 686f 645d 2920 2023 2041 6464  [method])  # Add
+00012340: 2073 656c 6563 7465 6420 7065 7269 6f64   selected period
+00012350: 2074 6f20 6c69 7374 206f 6620 7065 7269   to list of peri
+00012360: 6f64 7320 666f 7220 616e 616c 7973 6973  ods for analysis
+00012370: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00012380: 6973 5761 7665 6c65 743a 0a20 2020 2020  isWavelet:.     
+00012390: 2020 2020 2020 2020 2020 2073 656c 6563             selec
+000123a0: 7465 6453 6c6f 7065 732e 6170 7065 6e64  tedSlopes.append
+000123b0: 2870 6572 696f 6444 6174 615b 2273 6c6f  (periodData["slo
+000123c0: 7065 5761 7665 6c65 7422 5d29 0a20 2020  peWavelet"]).   
+000123d0: 200a 2020 2020 2320 4361 6c63 756c 6174   .    # Calculat
+000123e0: 6520 6d65 616e 2c20 7374 616e 6461 7264  e mean, standard
+000123f0: 2064 6576 6961 7469 6f6e 2c20 616e 6420   deviation, and 
+00012400: 7374 616e 6461 7264 2065 7272 6f72 206f  standard error o
+00012410: 6620 6d65 616e 7320 616e 6420 6469 7370  f means and disp
+00012420: 6c61 7920 7468 656d 0a20 2020 206d 6561  lay them.    mea
+00012430: 6e50 6572 696f 6420 3d20 6e75 6d70 792e  nPeriod = numpy.
+00012440: 6d65 616e 2873 656c 6563 7465 6450 6572  mean(selectedPer
+00012450: 696f 6473 2920 2023 2043 616c 6375 6c61  iods)  # Calcula
+00012460: 7465 206d 6561 6e20 6f66 2073 656c 6563  te mean of selec
+00012470: 7465 6420 7065 7269 6f64 730a 2020 2020  ted periods.    
+00012480: 6d65 616e 536c 6f70 6520 3d20 2222 0a20  meanSlope = "". 
+00012490: 2020 2069 6620 6973 5761 7665 6c65 743a     if isWavelet:
+000124a0: 0a20 2020 2020 2020 206d 6561 6e53 6c6f  .        meanSlo
+000124b0: 7065 203d 2022 536c 6f70 653a 5c6e 2220  pe = "Slope:\n" 
+000124c0: 2b20 7374 7228 726f 756e 6428 6e75 6d70  + str(round(nump
+000124d0: 792e 6d65 616e 2873 656c 6563 7465 6453  y.mean(selectedS
+000124e0: 6c6f 7065 7329 2c20 3329 2920 2b20 2220  lopes), 3)) + " 
+000124f0: 6872 732f 6872 5c6e 5c6e 220a 2020 2020  hrs/hr\n\n".    
+00012500: 7374 616e 6461 7264 4465 7669 6174 696f  standardDeviatio
+00012510: 6e20 3d20 6e75 6d70 792e 7374 6428 7365  n = numpy.std(se
+00012520: 6c65 6374 6564 5065 7269 6f64 7329 2020  lectedPeriods)  
+00012530: 2320 4361 6c63 756c 6174 6520 7374 616e  # Calculate stan
+00012540: 6461 7264 2064 6576 6961 7469 6f6e 206f  dard deviation o
+00012550: 6620 7365 6c65 6374 6564 2070 6572 696f  f selected perio
+00012560: 6473 0a20 2020 2073 7461 6e64 6172 6445  ds.    standardE
+00012570: 7272 6f72 4f66 4d65 616e 7320 3d20 7374  rrorOfMeans = st
+00012580: 616e 6461 7264 4465 7669 6174 696f 6e20  andardDeviation 
+00012590: 2f20 6e75 6d70 792e 7371 7274 286c 656e  / numpy.sqrt(len
+000125a0: 2873 656c 6563 7465 6450 6572 696f 6473  (selectedPeriods
+000125b0: 2929 2020 2320 4361 6c63 756c 6174 6520  ))  # Calculate 
+000125c0: 7374 616e 6461 7264 2065 7272 6f72 206f  standard error o
+000125d0: 6620 7365 6c65 6374 6564 2070 6572 696f  f selected perio
+000125e0: 6473 0a20 2020 2065 7870 6572 696d 656e  ds.    experimen
+000125f0: 7454 6162 5374 6174 6973 7469 6361 6c41  tTabStatisticalA
+00012600: 6e61 6c79 7369 734f 7574 7075 7454 6578  nalysisOutputTex
+00012610: 7442 6f78 2e76 616c 7565 203d 2028 0a20  tBox.value = (. 
+00012620: 2020 2020 2020 2022 6e20 2823 2074 7562         "n (# tub
+00012630: 6573 2920 3d20 220a 2020 2020 2020 2020  es) = ".        
+00012640: 2b20 7374 7228 6c65 6e28 7365 6c65 6374  + str(len(select
+00012650: 6564 5065 7269 6f64 7329 290a 2020 2020  edPeriods)).    
+00012660: 2020 2020 2b20 225c 6e5c 6e22 0a20 2020      + "\n\n".   
+00012670: 2020 2020 202b 2022 4d65 616e 2050 6572       + "Mean Per
+00012680: 696f 645c 6e28 220a 2020 2020 2020 2020  iod\n(".        
+00012690: 2b20 6578 7065 7269 6d65 6e74 5461 6253  + experimentTabS
+000126a0: 7461 7469 7374 6963 616c 416e 616c 7973  tatisticalAnalys
+000126b0: 6973 4d65 7468 6f64 4c69 7374 2e76 616c  isMethodList.val
+000126c0: 7565 0a20 2020 2020 2020 202b 2022 293a  ue.        + "):
+000126d0: 5c6e 220a 2020 2020 2020 2020 2b20 7374  \n".        + st
+000126e0: 7228 726f 756e 6428 6d65 616e 5065 7269  r(round(meanPeri
+000126f0: 6f64 2c20 3329 290a 2020 2020 2020 2020  od, 3)).        
+00012700: 2b20 2220 6872 735c 6e5c 6e22 0a20 2020  + " hrs\n\n".   
+00012710: 2020 2020 202b 2073 7472 286d 6561 6e53       + str(meanS
+00012720: 6c6f 7065 290a 2020 2020 2020 2020 2b20  lope).        + 
+00012730: 2253 7461 6e64 6172 645c 6e44 6576 6961  "Standard\nDevia
+00012740: 7469 6f6e 3a5c 6e22 0a20 2020 2020 2020  tion:\n".       
+00012750: 202b 2073 7472 2872 6f75 6e64 2873 7461   + str(round(sta
+00012760: 6e64 6172 6444 6576 6961 7469 6f6e 2c20  ndardDeviation, 
+00012770: 3329 290a 2020 2020 2020 2020 2b20 225c  3)).        + "\
+00012780: 6e5c 6e53 7461 6e64 6172 6420 4572 726f  n\nStandard Erro
+00012790: 725c 6e6f 6620 4d65 616e 733a 5c6e 220a  r\nof Means:\n".
+000127a0: 2020 2020 2020 2020 2b20 7374 7228 726f          + str(ro
+000127b0: 756e 6428 7374 616e 6461 7264 4572 726f  und(standardErro
+000127c0: 724f 664d 6561 6e73 2c20 3329 290a 2020  rOfMeans, 3)).  
+000127d0: 2020 2920 2023 2050 6f70 756c 6174 6520    )  # Populate 
+000127e0: 6f75 7470 7574 2062 6f78 2077 6974 6820  output box with 
+000127f0: 616e 616c 7973 6973 2072 6573 756c 7473  analysis results
+00012800: 0a0a 0a64 6566 2070 6f70 756c 6174 6550  ...def populateP
+00012810: 6c6f 7473 2829 3a0a 2020 2020 2222 2250  lots():.    """P
+00012820: 6f70 756c 6174 6520 6465 6e73 6974 6f6d  opulate densitom
+00012830: 6574 7279 2061 6e64 2070 6572 696f 646f  etry and periodo
+00012840: 6772 616d 2070 6c6f 7473 2062 6173 6564  gram plots based
+00012850: 206f 6e20 7365 6c65 6374 6564 2074 7562   on selected tub
+00012860: 652e 2222 220a 0a0a 2020 2020 676c 6f62  e."""...    glob
+00012870: 616c 2074 7562 6573 4d61 7374 6572 0a20  al tubesMaster. 
+00012880: 2020 2067 6c6f 6261 6c20 6578 7065 7269     global experi
+00012890: 6d65 6e74 5461 6250 6c6f 7446 7261 6d65  mentTabPlotFrame
+000128a0: 0a20 2020 2067 6c6f 6261 6c20 6578 7065  .    global expe
+000128b0: 7269 6d65 6e74 5461 6250 6c6f 7443 616e  rimentTabPlotCan
+000128c0: 7661 730a 2020 2020 676c 6f62 616c 2065  vas.    global e
+000128d0: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
+000128e0: 5475 6265 5365 6c65 6374 696f 6e53 6574  TubeSelectionSet
+000128f0: 4c69 7374 0a20 2020 2067 6c6f 6261 6c20  List.    global 
+00012900: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00012910: 7454 7562 6553 656c 6563 7469 6f6e 5475  tTubeSelectionTu
+00012920: 6265 4c69 7374 0a20 2020 2067 6c6f 6261  beList.    globa
+00012930: 6c20 6578 7065 7269 6d65 6e74 5461 6250  l experimentTabP
+00012940: 6c6f 7454 7562 6553 656c 6563 7469 6f6e  lotTubeSelection
+00012950: 4d65 7468 6f64 4c69 7374 0a20 2020 2067  MethodList.    g
+00012960: 6c6f 6261 6c20 6578 7065 7269 6d65 6e74  lobal experiment
+00012970: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
+00012980: 734c 6f77 4472 6f70 646f 776e 0a20 2020  sLowDropdown.   
+00012990: 2067 6c6f 6261 6c20 6578 7065 7269 6d65   global experime
+000129a0: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
+000129b0: 4872 7348 6967 6844 726f 7064 6f77 6e0a  HrsHighDropdown.
+000129c0: 2020 2020 676c 6f62 616c 2063 616e 7661      global canva
+000129d0: 730a 2020 2020 676c 6f62 616c 2070 6c6f  s.    global plo
+000129e0: 7449 6d61 6765 4172 7261 790a 2020 2020  tImageArray.    
+000129f0: 676c 6f62 616c 2061 7070 5061 7261 6d65  global appParame
+00012a00: 7465 7273 0a0a 2020 2020 2320 4765 7420  ters..    # Get 
+00012a10: 7365 6c65 6374 6564 2074 7562 6520 616e  selected tube an
+00012a20: 6420 6d65 7468 6f64 2069 6e66 6f72 6d61  d method informa
+00012a30: 7469 6f6e 0a20 2020 206d 6178 5469 6d65  tion.    maxTime
+00012a40: 4d61 726b 734c 656e 6774 6820 3d20 300a  MarksLength = 0.
+00012a50: 2020 2020 666f 7220 7475 6265 2069 6e20      for tube in 
+00012a60: 7475 6265 734d 6173 7465 723a 0a20 2020  tubesMaster:.   
+00012a70: 2020 2020 2069 6620 6c65 6e28 7475 6265       if len(tube
+00012a80: 5b22 7469 6d65 4d61 726b 7322 5d29 203e  ["timeMarks"]) >
+00012a90: 206d 6178 5469 6d65 4d61 726b 734c 656e   maxTimeMarksLen
+00012aa0: 6774 683a 0a20 2020 2020 2020 2020 2020  gth:.           
+00012ab0: 206d 6178 5469 6d65 4d61 726b 734c 656e   maxTimeMarksLen
+00012ac0: 6774 6820 3d20 6c65 6e28 7475 6265 5b22  gth = len(tube["
+00012ad0: 7469 6d65 4d61 726b 7322 5d29 0a20 2020  timeMarks"]).   
+00012ae0: 2074 6f74 616c 4d61 726b 486f 7572 7320   totalMarkHours 
+00012af0: 3d20 7475 6265 734d 6173 7465 725b 305d  = tubesMaster[0]
+00012b00: 5b22 6d61 726b 486f 7572 7322 5d5b 3a6d  ["markHours"][:m
+00012b10: 6178 5469 6d65 4d61 726b 734c 656e 6774  axTimeMarksLengt
+00012b20: 685d 0a20 2020 2069 6620 6578 7065 7269  h].    if experi
+00012b30: 6d65 6e74 5461 6254 6162 6c65 5061 7261  mentTabTablePara
+00012b40: 6d73 4872 734c 6f77 4472 6f70 646f 776e  msHrsLowDropdown
+00012b50: 2e76 616c 7565 203d 3d20 2222 2061 6e64  .value == "" and
+00012b60: 2065 7870 6572 696d 656e 7454 6162 5461   experimentTabTa
+00012b70: 626c 6550 6172 616d 7348 7273 4869 6768  bleParamsHrsHigh
+00012b80: 4472 6f70 646f 776e 2e76 616c 7565 203d  Dropdown.value =
+00012b90: 3d20 2222 3a0a 2020 2020 2020 2020 666f  = "":.        fo
+00012ba0: 7220 7469 6d65 2069 6e20 746f 7461 6c4d  r time in totalM
+00012bb0: 6172 6b48 6f75 7273 3a0a 2020 2020 2020  arkHours:.      
+00012bc0: 2020 2020 2020 6578 7065 7269 6d65 6e74        experiment
+00012bd0: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
+00012be0: 734c 6f77 4472 6f70 646f 776e 2e61 7070  sLowDropdown.app
+00012bf0: 656e 6428 7469 6d65 290a 2020 2020 2020  end(time).      
+00012c00: 2020 2020 2020 6578 7065 7269 6d65 6e74        experiment
+00012c10: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
+00012c20: 7348 6967 6844 726f 7064 6f77 6e2e 6170  sHighDropdown.ap
+00012c30: 7065 6e64 2874 696d 6529 0a20 2020 2020  pend(time).     
+00012c40: 2020 2065 7870 6572 696d 656e 7454 6162     experimentTab
+00012c50: 5461 626c 6550 6172 616d 7348 7273 4c6f  TableParamsHrsLo
+00012c60: 7744 726f 7064 6f77 6e2e 7661 6c75 6520  wDropdown.value 
+00012c70: 3d20 746f 7461 6c4d 6172 6b48 6f75 7273  = totalMarkHours
+00012c80: 5b30 5d0a 2020 2020 2020 2020 6578 7065  [0].        expe
+00012c90: 7269 6d65 6e74 5461 6254 6162 6c65 5061  rimentTabTablePa
+00012ca0: 7261 6d73 4872 7348 6967 6844 726f 7064  ramsHrsHighDropd
+00012cb0: 6f77 6e2e 7661 6c75 6520 3d20 7374 7228  own.value = str(
+00012cc0: 746f 7461 6c4d 6172 6b48 6f75 7273 5b2d  totalMarkHours[-
+00012cd0: 315d 290a 2020 2020 6966 2066 6c6f 6174  1]).    if float
+00012ce0: 2865 7870 6572 696d 656e 7454 6162 5461  (experimentTabTa
+00012cf0: 626c 6550 6172 616d 7348 7273 4869 6768  bleParamsHrsHigh
+00012d00: 4472 6f70 646f 776e 2e76 616c 7565 2920  Dropdown.value) 
+00012d10: 3c3d 2066 6c6f 6174 2865 7870 6572 696d  <= float(experim
+00012d20: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
+00012d30: 7348 7273 4c6f 7744 726f 7064 6f77 6e2e  sHrsLowDropdown.
+00012d40: 7661 6c75 6529 3a0a 2020 2020 2020 2020  value):.        
+00012d50: 2020 2020 6578 7065 7269 6d65 6e74 5461      experimentTa
+00012d60: 6254 6162 6c65 5061 7261 6d73 4872 7348  bTableParamsHrsH
+00012d70: 6967 6844 726f 7064 6f77 6e2e 7661 6c75  ighDropdown.valu
+00012d80: 6520 3d20 7374 7228 746f 7461 6c4d 6172  e = str(totalMar
+00012d90: 6b48 6f75 7273 5b74 6f74 616c 4d61 726b  kHours[totalMark
+00012da0: 486f 7572 732e 696e 6465 7828 666c 6f61  Hours.index(floa
+00012db0: 7428 6578 7065 7269 6d65 6e74 5461 6254  t(experimentTabT
+00012dc0: 6162 6c65 5061 7261 6d73 4872 734c 6f77  ableParamsHrsLow
+00012dd0: 4472 6f70 646f 776e 2e76 616c 7565 2929  Dropdown.value))
+00012de0: 2b31 5d29 0a20 2020 200a 2020 2020 6d65  +1]).    .    me
+00012df0: 7468 6f64 203d 204e 6f6e 6520 2023 2049  thod = None  # I
+00012e00: 6e69 7469 616c 697a 6520 6d65 7468 6f64  nitialize method
+00012e10: 2076 6172 6961 626c 650a 2020 2020 6d61   variable.    ma
+00012e20: 7463 6820 6578 7065 7269 6d65 6e74 5461  tch experimentTa
+00012e30: 6250 6c6f 7454 7562 6553 656c 6563 7469  bPlotTubeSelecti
+00012e40: 6f6e 4d65 7468 6f64 4c69 7374 2e76 616c  onMethodList.val
+00012e50: 7565 3a20 2023 2042 6173 6564 206f 6e20  ue:  # Based on 
+00012e60: 706c 6f74 206d 6574 686f 6420 7365 6c65  plot method sele
+00012e70: 6374 6564 0a20 2020 2020 2020 2063 6173  cted.        cas
+00012e80: 6520 2253 6f6b 6f6c 6f76 652d 4275 7368  e "Sokolove-Bush
+00012e90: 656c 6c22 3a20 2023 2049 6620 6d65 7468  ell":  # If meth
+00012ea0: 6f64 2069 7320 536f 6b6f 6c6f 7665 2d42  od is Sokolove-B
+00012eb0: 7573 6865 6c6c 0a20 2020 2020 2020 2020  ushell.         
+00012ec0: 2020 206d 6574 686f 6420 3d20 5b22 7065     method = ["pe
+00012ed0: 7269 6f64 6f67 7261 6d43 6869 5371 7561  riodogramChiSqua
+00012ee0: 7265 6453 6f6b 6f6c 6f76 6542 7573 6865  redSokoloveBushe
+00012ef0: 6c6c 222c 2022 6672 6571 7565 6e63 6965  ll", "frequencie
+00012f00: 7353 6f6b 6f6c 6f76 6542 7573 6865 6c6c  sSokoloveBushell
+00012f10: 225d 2020 2320 5365 7420 6d65 7468 6f64  "]  # Set method
+00012f20: 2074 6f20 5342 0a20 2020 2020 2020 2063   to SB.        c
+00012f30: 6173 6520 224c 6f6d 622d 5363 6172 676c  ase "Lomb-Scargl
+00012f40: 6522 3a20 2023 2049 6620 6d65 7468 6f64  e":  # If method
+00012f50: 2069 7320 4c6f 6d62 2d53 6361 7267 6c65   is Lomb-Scargle
+00012f60: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
+00012f70: 686f 6420 3d20 5b22 7065 7269 6f64 6f67  hod = ["periodog
+00012f80: 7261 6d50 6f77 6572 5370 6563 7472 756d  ramPowerSpectrum
+00012f90: 4c6f 6d62 5363 6172 676c 6522 2c20 2266  LombScargle", "f
+00012fa0: 7265 7175 656e 6369 6573 4c6f 6d62 5363  requenciesLombSc
+00012fb0: 6172 676c 6522 5d20 2023 2053 6574 206d  argle"]  # Set m
+00012fc0: 6574 686f 6420 746f 204c 530a 2020 2020  ethod to LS.    
+00012fd0: 2020 2020 6361 7365 2022 5761 7665 6c65      case "Wavele
+00012fe0: 7420 2843 5754 2922 3a20 2023 2049 6620  t (CWT)":  # If 
+00012ff0: 6d65 7468 6f64 2069 7320 7761 7665 6c65  method is wavele
+00013000: 740a 2020 2020 2020 2020 2020 2020 6d65  t.            me
+00013010: 7468 6f64 203d 205b 2261 6d70 6c69 7475  thod = ["amplitu
+00013020: 6465 7357 6176 656c 6574 222c 2022 6672  desWavelet", "fr
+00013030: 6571 7565 6e63 6965 7357 6176 656c 6574  equenciesWavelet
+00013040: 222c 2022 7065 7269 6f64 7359 4178 6973  ", "periodsYAxis
+00013050: 5761 7665 6c65 7422 5d0a 2020 2020 7475  Wavelet"].    tu
+00013060: 6265 7353 656c 6563 7465 6420 3d20 6578  besSelected = ex
+00013070: 7065 7269 6d65 6e74 5461 6250 6c6f 7454  perimentTabPlotT
+00013080: 7562 6553 656c 6563 7469 6f6e 5475 6265  ubeSelectionTube
+00013090: 4c69 7374 2e76 616c 7565 2020 2320 5365  List.value  # Se
+000130a0: 7420 7365 6c65 6374 6564 2074 7562 6520  t selected tube 
+000130b0: 6e61 6d65 2074 6f20 7661 6c75 6520 6672  name to value fr
+000130c0: 6f6d 206c 6973 7420 626f 780a 2020 2020  om list box.    
+000130d0: 7475 6265 546f 506c 6f74 203d 205b 5d20  tubeToPlot = [] 
+000130e0: 2023 2045 6d70 7479 206c 6973 7420 666f   # Empty list fo
+000130f0: 7220 6461 7461 206f 6620 7365 6c65 6374  r data of select
+00013100: 6564 2074 7562 650a 2020 2020 666f 7220  ed tube.    for 
+00013110: 7475 6265 2069 6e20 7475 6265 734d 6173  tube in tubesMas
+00013120: 7465 723a 2020 2320 466f 7220 6561 6368  ter:  # For each
+00013130: 2074 7562 6520 696e 2067 6c6f 6261 6c20   tube in global 
+00013140: 6d61 7374 6572 2074 7562 6573 206c 6973  master tubes lis
+00013150: 740a 2020 2020 2020 2020 6966 2028 7475  t.        if (tu
+00013160: 6265 5b22 7365 744e 616d 6522 5d20 2b20  be["setName"] + 
+00013170: 2220 7c20 2220 2b20 7374 7228 7475 6265  " | " + str(tube
+00013180: 5b22 7475 6265 4e75 6d62 6572 225d 202b  ["tubeNumber"] +
+00013190: 2031 2929 203d 3d20 7475 6265 7353 656c   1)) == tubesSel
+000131a0: 6563 7465 643a 2020 2320 4966 206d 6174  ected:  # If mat
+000131b0: 6368 6573 206e 616d 6520 6f66 2073 656c  ches name of sel
+000131c0: 6563 7465 6420 7475 6265 0a20 2020 2020  ected tube.     
+000131d0: 2020 2020 2020 2074 7562 6554 6f50 6c6f         tubeToPlo
+000131e0: 7420 3d20 7475 6265 2020 2320 5365 7420  t = tube  # Set 
+000131f0: 7475 6265 2074 6f20 706c 6f74 2074 6f20  tube to plot to 
+00013200: 7468 6973 2074 7562 650a 2020 2020 0a20  this tube.    . 
+00013210: 2020 2070 6572 696f 6444 6174 6120 3d20     periodData = 
+00013220: 6361 6c63 756c 6174 6550 6572 696f 6444  calculatePeriodD
+00013230: 6174 6128 7475 6265 546f 506c 6f74 5b22  ata(tubeToPlot["
+00013240: 6465 6e73 6974 7950 726f 6669 6c65 225d  densityProfile"]
+00013250: 2c20 7475 6265 546f 506c 6f74 5b22 6d61  , tubeToPlot["ma
+00013260: 726b 486f 7572 7322 5d2c 2074 7562 6554  rkHours"], tubeT
+00013270: 6f50 6c6f 745b 2274 696d 654d 6172 6b73  oPlot["timeMarks
+00013280: 225d 2c20 7475 6265 546f 506c 6f74 5b22  "], tubeToPlot["
+00013290: 6261 6e64 4d61 726b 7322 5d2c 2031 342c  bandMarks"], 14,
+000132a0: 2033 322c 2074 7562 6554 6f50 6c6f 745b   32, tubeToPlot[
+000132b0: 2274 7562 6552 616e 6765 225d 2c20 666c  "tubeRange"], fl
+000132c0: 6f61 7428 6578 7065 7269 6d65 6e74 5461  oat(experimentTa
+000132d0: 6254 6162 6c65 5061 7261 6d73 4872 734c  bTableParamsHrsL
+000132e0: 6f77 4472 6f70 646f 776e 2e76 616c 7565  owDropdown.value
+000132f0: 292c 2066 6c6f 6174 2865 7870 6572 696d  ), float(experim
+00013300: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
+00013310: 7348 7273 4869 6768 4472 6f70 646f 776e  sHrsHighDropdown
+00013320: 2e76 616c 7565 2929 2020 2320 4361 6c63  .value))  # Calc
+00013330: 756c 6174 6520 7065 7269 6f64 2064 6174  ulate period dat
+00013340: 6120 666f 7220 7469 6d65 2077 696e 646f  a for time windo
+00013350: 770a 2020 2020 7469 6d65 4d61 726b 7320  w.    timeMarks 
+00013360: 3d20 7065 7269 6f64 4461 7461 5b22 7469  = periodData["ti
+00013370: 6d65 4d61 726b 7322 5d0a 2020 2020 6261  meMarks"].    ba
+00013380: 6e64 4d61 726b 7320 3d20 7065 7269 6f64  ndMarks = period
+00013390: 4461 7461 5b22 6261 6e64 4d61 726b 7322  Data["bandMarks"
+000133a0: 5d0a 2020 2020 6d65 616e 4772 6f77 7468  ].    meanGrowth
+000133b0: 486f 7572 7350 6572 5069 7865 6c20 3d20  HoursPerPixel = 
+000133c0: 312f 7065 7269 6f64 4461 7461 5b22 6d65  1/periodData["me
+000133d0: 616e 4772 6f77 7468 5069 7865 6c73 5065  anGrowthPixelsPe
+000133e0: 7248 6f75 7222 5d0a 2020 2020 6465 6e73  rHour"].    dens
+000133f0: 6974 6f6d 6574 7279 5856 616c 7348 6f75  itometryXValsHou
+00013400: 7273 203d 2070 6572 696f 6444 6174 615b  rs = periodData[
+00013410: 2264 656e 7369 746f 6d65 7472 7958 486f  "densitometryXHo
+00013420: 7572 7322 5d0a 0a20 2020 2074 696d 654d  urs"]..    timeM
+00013430: 6172 6b73 486f 7572 7320 3d20 5b5d 2020  arksHours = []  
+00013440: 2320 426c 616e 6b20 6c69 7374 2066 6f72  # Blank list for
+00013450: 2063 6f72 7265 7370 6f6e 6469 6e67 2074   corresponding t
+00013460: 696d 6573 206f 6620 7469 6d65 206d 6172  imes of time mar
+00013470: 6b73 0a20 2020 2066 6f72 2078 5069 7865  ks.    for xPixe
+00013480: 6c20 696e 2074 696d 654d 6172 6b73 3a20  l in timeMarks: 
+00013490: 2023 2046 6f72 2078 2070 6f73 6974 696f   # For x positio
+000134a0: 6e20 6f66 2065 6163 6820 7469 6d65 206d  n of each time m
+000134b0: 6172 6b0a 2020 2020 2020 2020 7469 6d65  ark.        time
+000134c0: 4d61 726b 7348 6f75 7273 2e61 7070 656e  MarksHours.appen
+000134d0: 6428 726f 756e 6428 2878 5069 7865 6c20  d(round((xPixel 
+000134e0: 2d20 7469 6d65 4d61 726b 735b 305d 2920  - timeMarks[0]) 
+000134f0: 2a20 6d65 616e 4772 6f77 7468 486f 7572  * meanGrowthHour
+00013500: 7350 6572 5069 7865 6c2c 2032 2929 2020  sPerPixel, 2))  
+00013510: 2320 4164 6420 6e6f 726d 616c 697a 6564  # Add normalized
+00013520: 2074 696d 6520 6d61 726b 2078 2070 6f73   time mark x pos
+00013530: 6974 696f 6e20 636f 6e76 6572 7465 6420  ition converted 
+00013540: 746f 2068 6f75 7273 2c20 726f 756e 6465  to hours, rounde
+00013550: 640a 2020 2020 6261 6e64 4d61 726b 7348  d.    bandMarksH
+00013560: 6f75 7273 203d 205b 5d20 2023 2042 6c61  ours = []  # Bla
+00013570: 6e6b 206c 6973 7420 666f 7220 636f 7272  nk list for corr
+00013580: 6573 706f 6e64 696e 6720 7469 6d65 7320  esponding times 
+00013590: 6f66 2062 616e 6420 6d61 726b 730a 2020  of band marks.  
+000135a0: 2020 666f 7220 7850 6978 656c 2069 6e20    for xPixel in 
+000135b0: 6261 6e64 4d61 726b 733a 2020 2320 466f  bandMarks:  # Fo
+000135c0: 7220 7820 706f 7369 7469 6f6e 206f 6620  r x position of 
+000135d0: 6561 6368 2062 616e 6420 6d61 726b 0a20  each band mark. 
+000135e0: 2020 2020 2020 2062 616e 644d 6172 6b73         bandMarks
+000135f0: 486f 7572 732e 6170 7065 6e64 2872 6f75  Hours.append(rou
+00013600: 6e64 2828 7850 6978 656c 2920 2a20 6d65  nd((xPixel) * me
+00013610: 616e 4772 6f77 7468 486f 7572 7350 6572  anGrowthHoursPer
+00013620: 5069 7865 6c2c 2032 2929 2020 2320 4164  Pixel, 2))  # Ad
+00013630: 6420 6e6f 726d 616c 697a 6564 2062 616e  d normalized ban
+00013640: 6420 6d61 726b 2078 2070 6f73 6974 696f  d mark x positio
+00013650: 6e20 636f 6e76 6572 7465 6420 746f 2068  n converted to h
+00013660: 6f75 7273 2c20 726f 756e 6465 640a 2020  ours, rounded.  
+00013670: 2020 6465 6e73 6974 6f6d 6574 7279 5956    densitometryYV
+00013680: 616c 7320 3d20 7065 7269 6f64 4461 7461  als = periodData
+00013690: 5b22 6465 6e73 6974 7950 726f 6669 6c65  ["densityProfile
+000136a0: 225d 2020 2320 5365 7420 7920 7661 6c75  "]  # Set y valu
+000136b0: 6573 206f 6620 6465 6e73 6974 6f6d 6574  es of densitomet
+000136c0: 7279 2074 6f20 706f 7274 696f 6e20 6f66  ry to portion of
+000136d0: 2064 656e 7369 746f 6d65 7472 7920 7769   densitometry wi
+000136e0: 7468 696e 2074 696d 6520 7769 6e64 6f77  thin time window
+000136f0: 0a20 2020 2023 2043 7265 6174 6520 7065  .    # Create pe
+00013700: 7269 6f64 6f67 7261 6d20 706c 6f74 2064  riodogram plot d
+00013710: 6174 610a 2020 2020 736c 6f70 6543 6f65  ata.    slopeCoe
+00013720: 6666 203d 2070 6572 696f 6444 6174 615b  ff = periodData[
+00013730: 2273 6c6f 7065 436f 6566 6622 5d20 2023  "slopeCoeff"]  #
+00013740: 2053 6574 2073 6c6f 7065 2063 6f65 6666   Set slope coeff
+00013750: 6963 6965 6e74 0a20 2020 2063 7774 5841  icient.    cwtXA
+00013760: 7869 7320 3d20 5b30 5d0a 2020 2020 6377  xis = [0].    cw
+00013770: 7459 4178 6973 203d 205b 305d 0a20 2020  tYAxis = [0].   
+00013780: 2063 7774 5a41 7869 7320 3d20 5b30 5d0a   cwtZAxis = [0].
+00013790: 2020 2020 7065 7269 6f64 6f67 7261 6d58      periodogramX
+000137a0: 5661 6c73 203d 205b 5d20 2023 2042 6c61  Vals = []  # Bla
+000137b0: 6e6b 206c 6973 7420 666f 7220 7820 7661  nk list for x va
+000137c0: 6c75 6573 206f 6620 7065 7269 6f64 6f67  lues of periodog
+000137d0: 7261 6d0a 2020 2020 7065 7269 6f64 6f67  ram.    periodog
+000137e0: 7261 6d59 5661 6c73 203d 205b 5d20 2023  ramYVals = []  #
+000137f0: 2042 6c61 6e6b 206c 6973 7420 666f 7220   Blank list for 
+00013800: 7920 7661 6c75 6573 206f 6620 7065 7269  y values of peri
+00013810: 6f64 6f67 7261 6d0a 2020 2020 6966 206d  odogram.    if m
+00013820: 6574 686f 6420 3d3d 205b 2261 6d70 6c69  ethod == ["ampli
+00013830: 7475 6465 7357 6176 656c 6574 222c 2022  tudesWavelet", "
+00013840: 6672 6571 7565 6e63 6965 7357 6176 656c  frequenciesWavel
+00013850: 6574 222c 2022 7065 7269 6f64 7359 4178  et", "periodsYAx
+00013860: 6973 5761 7665 6c65 7422 5d3a 0a20 2020  isWavelet"]:.   
+00013870: 2020 2020 2063 7774 5941 7869 7320 3d20       cwtYAxis = 
+00013880: 7065 7269 6f64 4461 7461 5b6d 6574 686f  periodData[metho
+00013890: 645b 325d 5d0a 2020 2020 2020 2020 6377  d[2]].        cw
+000138a0: 7458 4178 6973 203d 2070 6572 696f 6444  tXAxis = periodD
+000138b0: 6174 615b 2264 656e 7369 746f 6d65 7472  ata["densitometr
+000138c0: 7958 486f 7572 7322 5d0a 2020 2020 2020  yXHours"].      
+000138d0: 2020 6377 745a 4178 6973 203d 2070 6572    cwtZAxis = per
+000138e0: 696f 6444 6174 615b 6d65 7468 6f64 5b30  iodData[method[0
+000138f0: 5d5d 0a20 2020 2065 6c73 653a 0a20 2020  ]].    else:.   
+00013900: 2020 2020 2063 616c 6375 6c61 7465 6450       calculatedP
+00013910: 6572 696f 646f 6772 616d 4672 6571 7565  eriodogramFreque
+00013920: 6e63 6965 7320 3d20 7065 7269 6f64 4461  ncies = periodDa
+00013930: 7461 5b6d 6574 686f 645b 315d 5d20 2023  ta[method[1]]  #
+00013940: 2053 6574 206c 6973 7420 6361 6c63 756c   Set list calcul
+00013950: 6174 6564 2070 6572 696f 646f 6772 616d  ated periodogram
+00013960: 2066 7265 7175 656e 6369 6573 0a20 2020   frequencies.   
+00013970: 2020 2020 2063 616c 6375 6c61 7465 6450       calculatedP
+00013980: 6572 696f 646f 6772 616d 5956 616c 7320  eriodogramYVals 
+00013990: 3d20 7065 7269 6f64 4461 7461 5b6d 6574  = periodData[met
+000139a0: 686f 645b 305d 5d20 2023 2053 6574 206c  hod[0]]  # Set l
+000139b0: 6973 7420 6f66 2063 616c 6375 6c61 7465  ist of calculate
+000139c0: 6420 7065 7269 6f64 6f67 7261 6d20 7920  d periodogram y 
+000139d0: 7661 6c75 6573 0a20 2020 2020 2020 2066  values.        f
+000139e0: 6f72 2066 7265 7175 656e 6379 2069 6e20  or frequency in 
+000139f0: 7261 6e67 6528 6c65 6e28 6361 6c63 756c  range(len(calcul
+00013a00: 6174 6564 5065 7269 6f64 6f67 7261 6d46  atedPeriodogramF
+00013a10: 7265 7175 656e 6369 6573 2929 3a20 2023  requencies)):  #
+00013a20: 2046 6f72 2065 6163 6820 6672 6571 7565   For each freque
+00013a30: 6e63 7920 696e 2070 6572 696f 646f 6772  ncy in periodogr
+00013a40: 616d 2066 7265 7175 656e 6369 6573 0a20  am frequencies. 
+00013a50: 2020 2020 2020 2020 2020 2069 6620 6d65             if me
+00013a60: 7468 6f64 203d 3d20 5b22 7065 7269 6f64  thod == ["period
+00013a70: 6f67 7261 6d43 6869 5371 7561 7265 6453  ogramChiSquaredS
+00013a80: 6f6b 6f6c 6f76 6542 7573 6865 6c6c 222c  okoloveBushell",
+00013a90: 2022 6672 6571 7565 6e63 6965 7353 6f6b   "frequenciesSok
+00013aa0: 6f6c 6f76 6542 7573 6865 6c6c 225d 3a20  oloveBushell"]: 
+00013ab0: 2023 2049 6620 6d65 7468 6f64 2069 7320   # If method is 
+00013ac0: 3420 2853 6f6b 6f6c 6f76 652d 4275 7368  4 (Sokolove-Bush
+00013ad0: 656c 6c29 0a20 2020 2020 2020 2020 2020  ell).           
+00013ae0: 2020 2020 2070 6572 696f 6420 3d20 3120       period = 1 
+00013af0: 2f20 6361 6c63 756c 6174 6564 5065 7269  / calculatedPeri
+00013b00: 6f64 6f67 7261 6d46 7265 7175 656e 6369  odogramFrequenci
+00013b10: 6573 5b66 7265 7175 656e 6379 5d20 2023  es[frequency]  #
+00013b20: 2053 6574 2070 6572 696f 6420 746f 2070   Set period to p
+00013b30: 6572 696f 6420 666f 7220 532d 4220 6672  eriod for S-B fr
+00013b40: 6571 7565 6e63 790a 2020 2020 2020 2020  equency.        
+00013b50: 2020 2020 656c 6966 206d 6574 686f 6420      elif method 
+00013b60: 3d3d 205b 2270 6572 696f 646f 6772 616d  == ["periodogram
+00013b70: 506f 7765 7253 7065 6374 7275 6d4c 6f6d  PowerSpectrumLom
+00013b80: 6253 6361 7267 6c65 222c 2022 6672 6571  bScargle", "freq
+00013b90: 7565 6e63 6965 734c 6f6d 6253 6361 7267  uenciesLombScarg
+00013ba0: 6c65 225d 3a20 2023 2049 6620 6d65 7468  le"]:  # If meth
+00013bb0: 6f64 2069 7320 4c6f 6d62 2d53 6361 7267  od is Lomb-Scarg
+00013bc0: 6c65 0a20 2020 2020 2020 2020 2020 2020  le.             
+00013bd0: 2020 2070 6572 696f 6420 3d20 2832 202a     period = (2 *
+00013be0: 206e 756d 7079 2e70 6929 202f 2063 616c   numpy.pi) / cal
+00013bf0: 6375 6c61 7465 6450 6572 696f 646f 6772  culatedPeriodogr
+00013c00: 616d 4672 6571 7565 6e63 6965 735b 6672  amFrequencies[fr
+00013c10: 6571 7565 6e63 795d 2020 2320 5365 7420  equency]  # Set 
+00013c20: 7065 7269 6f64 2074 6f20 7065 7269 6f64  period to period
+00013c30: 2066 6f72 204c 2d53 2061 6e67 756c 6172   for L-S angular
+00013c40: 2066 7265 7175 656e 6379 0a20 2020 2020   frequency.     
+00013c50: 2020 2020 2020 2078 5661 6c20 3d20 7065         xVal = pe
+00013c60: 7269 6f64 202a 206d 6561 6e47 726f 7774  riod * meanGrowt
+00013c70: 6848 6f75 7273 5065 7250 6978 656c 202a  hHoursPerPixel *
+00013c80: 2073 6c6f 7065 436f 6566 6620 2023 2053   slopeCoeff  # S
+00013c90: 6574 2078 2076 616c 7565 2069 6e20 686f  et x value in ho
+00013ca0: 7572 7320 746f 2070 726f 6475 6374 206f  urs to product o
+00013cb0: 6620 7065 7269 6f64 2069 6e20 7069 7865  f period in pixe
+00013cc0: 6c73 2c20 736c 6f70 6520 636f 6566 6669  ls, slope coeffi
+00013cd0: 6369 656e 742c 2061 6e64 2072 6174 696f  cient, and ratio
+00013ce0: 206f 6620 686f 7572 7320 746f 2070 6978   of hours to pix
+00013cf0: 656c 7320 746f 2067 6574 2061 6374 7561  els to get actua
+00013d00: 6c20 7065 7269 6f64 2069 6e20 686f 7572  l period in hour
+00013d10: 730a 2020 2020 2020 2020 2020 2020 6966  s.            if
+00013d20: 2078 5661 6c20 3e3d 2031 3420 616e 6420   xVal >= 14 and 
+00013d30: 7856 616c 203c 3d20 3332 3a20 2023 2049  xVal <= 32:  # I
+00013d40: 6620 7820 7661 6c75 6520 696e 2068 6f75  f x value in hou
+00013d50: 7273 2069 7320 7769 7468 696e 2070 6572  rs is within per
+00013d60: 696f 6420 7261 6e67 650a 2020 2020 2020  iod range.      
+00013d70: 2020 2020 2020 2020 2020 7065 7269 6f64            period
+00013d80: 6f67 7261 6d58 5661 6c73 2e61 7070 656e  ogramXVals.appen
+00013d90: 6428 7856 616c 2920 2023 2041 6464 2078  d(xVal)  # Add x
+00013da0: 2076 616c 7565 2074 6f20 6c69 7374 206f   value to list o
+00013db0: 6620 7065 7269 6f64 6f67 7261 6d20 7820  f periodogram x 
+00013dc0: 7661 6c75 6573 0a20 2020 2020 2020 2020  values.         
+00013dd0: 2020 2020 2020 2069 6620 6d65 7468 6f64         if method
+00013de0: 203d 3d20 5b22 7065 7269 6f64 6f67 7261   == ["periodogra
+00013df0: 6d43 6869 5371 7561 7265 6453 6f6b 6f6c  mChiSquaredSokol
+00013e00: 6f76 6542 7573 6865 6c6c 222c 2022 6672  oveBushell", "fr
+00013e10: 6571 7565 6e63 6965 7353 6f6b 6f6c 6f76  equenciesSokolov
+00013e20: 6542 7573 6865 6c6c 225d 3a20 2023 2049  eBushell"]:  # I
+00013e30: 6620 6d65 7468 6f64 2069 7320 3420 2853  f method is 4 (S
+00013e40: 6f6b 6f6c 6f76 652d 4275 7368 656c 6c29  okolove-Bushell)
+00013e50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013e60: 2020 2020 2070 6572 696f 646f 6772 616d       periodogram
+00013e70: 5956 616c 732e 6170 7065 6e64 2863 616c  YVals.append(cal
+00013e80: 6375 6c61 7465 6450 6572 696f 646f 6772  culatedPeriodogr
+00013e90: 616d 5956 616c 735b 6672 6571 7565 6e63  amYVals[frequenc
+00013ea0: 795d 2920 2023 2041 6464 2063 6f72 7265  y])  # Add corre
+00013eb0: 7370 6f6e 6469 6e67 2079 2076 616c 7565  sponding y value
+00013ec0: 2074 6f20 6c69 7374 206f 6620 7065 7269   to list of peri
+00013ed0: 6f64 6f67 7261 6d20 7920 7661 6c75 6573  odogram y values
+00013ee0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013ef0: 2065 6c69 6620 6d65 7468 6f64 203d 3d20   elif method == 
+00013f00: 5b22 7065 7269 6f64 6f67 7261 6d50 6f77  ["periodogramPow
+00013f10: 6572 5370 6563 7472 756d 4c6f 6d62 5363  erSpectrumLombSc
+00013f20: 6172 676c 6522 2c20 2266 7265 7175 656e  argle", "frequen
+00013f30: 6369 6573 4c6f 6d62 5363 6172 676c 6522  ciesLombScargle"
+00013f40: 5d3a 2020 2320 4966 206d 6574 686f 6420  ]:  # If method 
+00013f50: 6973 204c 6f6d 622d 5363 6172 676c 653a  is Lomb-Scargle:
+00013f60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013f70: 2020 2020 2070 6572 696f 646f 6772 616d       periodogram
+00013f80: 5956 616c 732e 6170 7065 6e64 2863 616c  YVals.append(cal
+00013f90: 6375 6c61 7465 6450 6572 696f 646f 6772  culatedPeriodogr
+00013fa0: 616d 5956 616c 735b 6672 6571 7565 6e63  amYVals[frequenc
+00013fb0: 795d 2f31 3030 3030 2920 2023 2041 6464  y]/10000)  # Add
+00013fc0: 2063 6f72 7265 7370 6f6e 6469 6e67 2079   corresponding y
+00013fd0: 2076 616c 7565 2074 6f20 6c69 7374 206f   value to list o
+00013fe0: 6620 7065 7269 6f64 6f67 7261 6d20 7920  f periodogram y 
+00013ff0: 7661 6c75 6573 0a20 2020 200a 2020 2020  values.    .    
+00014000: 2320 4372 6561 7465 2064 656e 7369 746f  # Create densito
+00014010: 6d65 7472 7920 616e 6420 7065 7269 6f64  metry and period
+00014020: 6f67 7261 6d20 706c 6f74 730a 2020 2020  ogram plots.    
+00014030: 706c 742e 7263 5061 7261 6d73 5b22 666f  plt.rcParams["fo
+00014040: 6e74 2e66 616d 696c 7922 5d20 3d20 2241  nt.family"] = "A
+00014050: 7269 616c 220a 2020 2020 6772 6964 5370  rial".    gridSp
+00014060: 6563 4c61 796f 7574 203d 2067 7269 6473  ecLayout = grids
+00014070: 7065 632e 4772 6964 5370 6563 2832 2c32  pec.GridSpec(2,2
+00014080: 2c20 7769 6474 685f 7261 7469 6f73 3d5b  , width_ratios=[
+00014090: 3230 2c31 5d2c 2068 6569 6768 745f 7261  20,1], height_ra
+000140a0: 7469 6f73 3d5b 312c 315d 2c20 6873 7061  tios=[1,1], hspa
+000140b0: 6365 3d30 2e35 3529 2020 2320 5370 6563  ce=0.55)  # Spec
+000140c0: 6966 6963 6174 696f 6e20 666f 7220 6772  ification for gr
+000140d0: 6964 206f 6620 6d75 6c74 692d 706c 6f74  id of multi-plot
+000140e0: 2066 6967 7572 650a 2020 2020 6e75 6d50   figure.    numP
+000140f0: 6978 656c 7346 6f72 4669 6775 7265 446f  ixelsForFigureDo
+00014100: 776e 6c6f 6164 203d 2031 2f70 6c74 2e72  wnload = 1/plt.r
+00014110: 6350 6172 616d 735b 2766 6967 7572 652e  cParams['figure.
+00014120: 6470 6927 5d20 2023 2053 6574 206e 756d  dpi']  # Set num
+00014130: 6265 7220 6f66 2070 6978 656c 7320 666f  ber of pixels fo
+00014140: 7220 6669 6775 7265 2064 6f77 6e6c 6f61  r figure downloa
+00014150: 640a 2020 2020 7475 6265 446f 7562 6c65  d.    tubeDouble
+00014160: 4669 6775 7265 203d 2070 6c74 2e66 6967  Figure = plt.fig
+00014170: 7572 6528 6669 6773 697a 653d 2869 6e74  ure(figsize=(int
+00014180: 2873 6372 6565 6e57 6964 7468 2a30 2e35  (screenWidth*0.5
+00014190: 292a 6e75 6d50 6978 656c 7346 6f72 4669  )*numPixelsForFi
+000141a0: 6775 7265 446f 776e 6c6f 6164 2c20 696e  gureDownload, in
+000141b0: 7428 6170 7048 6569 6768 742a 302e 3429  t(appHeight*0.4)
+000141c0: 2a6e 756d 5069 7865 6c73 466f 7246 6967  *numPixelsForFig
+000141d0: 7572 6544 6f77 6e6c 6f61 6429 2920 2023  ureDownload))  #
+000141e0: 2043 7265 6174 6520 6669 6775 7265 2074   Create figure t
+000141f0: 6f20 636f 6e74 6169 6e20 626f 7468 2070  o contain both p
+00014200: 6c6f 7473 0a20 2020 2074 7562 6544 6f75  lots.    tubeDou
+00014210: 626c 6546 6967 7572 6550 6c6f 7473 203d  bleFigurePlots =
+00014220: 205b 4e6f 6e65 2c20 4e6f 6e65 2c20 4e6f   [None, None, No
+00014230: 6e65 5d20 2023 2042 6c61 6e6b 206c 6973  ne]  # Blank lis
+00014240: 7420 6f66 2070 6c6f 7473 2069 6e20 6669  t of plots in fi
+00014250: 6775 7265 0a20 2020 2074 7562 6544 6f75  gure.    tubeDou
+00014260: 626c 6546 6967 7572 6550 6c6f 7473 5b30  bleFigurePlots[0
+00014270: 5d20 3d20 7475 6265 446f 7562 6c65 4669  ] = tubeDoubleFi
+00014280: 6775 7265 2e61 6464 5f73 7562 706c 6f74  gure.add_subplot
+00014290: 2867 7269 6453 7065 634c 6179 6f75 745b  (gridSpecLayout[
+000142a0: 302c 305d 2920 2023 2053 6574 2075 7020  0,0])  # Set up 
+000142b0: 6669 7273 7420 706c 6f74 2069 6e20 6669  first plot in fi
+000142c0: 6775 7265 0a20 2020 2074 7562 6544 6f75  gure.    tubeDou
+000142d0: 626c 6546 6967 7572 6550 6c6f 7473 5b31  bleFigurePlots[1
+000142e0: 5d20 3d20 7475 6265 446f 7562 6c65 4669  ] = tubeDoubleFi
+000142f0: 6775 7265 2e61 6464 5f73 7562 706c 6f74  gure.add_subplot
+00014300: 2867 7269 6453 7065 634c 6179 6f75 745b  (gridSpecLayout[
+00014310: 312c 305d 2920 2023 2053 6574 2075 7020  1,0])  # Set up 
+00014320: 7365 636f 6e64 2070 6c6f 7420 696e 2066  second plot in f
+00014330: 6967 7572 6520 0a20 2020 2074 7562 6544  igure .    tubeD
+00014340: 6f75 626c 6546 6967 7572 6550 6c6f 7473  oubleFigurePlots
+00014350: 5b32 5d20 3d20 7475 6265 446f 7562 6c65  [2] = tubeDouble
+00014360: 4669 6775 7265 2e61 6464 5f73 7562 706c  Figure.add_subpl
+00014370: 6f74 2867 7269 6453 7065 634c 6179 6f75  ot(gridSpecLayou
+00014380: 745b 312c 315d 2920 2023 2053 6574 2075  t[1,1])  # Set u
+00014390: 7020 7365 636f 6e64 2070 6c6f 7420 696e  p second plot in
+000143a0: 2066 6967 7572 6520 0a20 2020 2074 7562   figure .    tub
+000143b0: 6544 6f75 626c 6546 6967 7572 6550 6c6f  eDoubleFigurePlo
+000143c0: 7473 5b32 5d2e 7365 745f 7669 7369 626c  ts[2].set_visibl
+000143d0: 6528 4661 6c73 6529 0a20 2020 2064 656e  e(False).    den
+000143e0: 7369 746f 6d65 7472 7958 4178 6973 4c61  sitometryXAxisLa
+000143f0: 6265 6c73 203d 206d 6174 706c 6f74 6c69  bels = matplotli
+00014400: 622e 7469 636b 6572 2e46 6978 6564 4c6f  b.ticker.FixedLo
+00014410: 6361 746f 7228 6c69 7374 2872 616e 6765  cator(list(range
+00014420: 2830 2c20 3330 312c 2031 3229 2929 2020  (0, 301, 12)))  
+00014430: 2320 5365 7420 6465 6e73 6974 6f6d 6574  # Set densitomet
+00014440: 7279 2078 2061 7869 7320 6d61 6a6f 7220  ry x axis major 
+00014450: 6c61 6265 6c73 2074 6f20 6576 6572 7920  labels to every 
+00014460: 3132 2068 6f75 7273 0a20 2020 2064 656e  12 hours.    den
+00014470: 7369 746f 6d65 7472 7959 4178 6973 4c61  sitometryYAxisLa
+00014480: 6265 6c73 203d 206d 6174 706c 6f74 6c69  bels = matplotli
+00014490: 622e 7469 636b 6572 2e46 6978 6564 4c6f  b.ticker.FixedLo
+000144a0: 6361 746f 7228 5b30 2c20 3630 2c20 3132  cator([0, 60, 12
+000144b0: 302c 2031 3830 2c20 3234 302c 2032 3535  0, 180, 240, 255
+000144c0: 5d29 2020 2320 5365 7420 6465 6e73 6974  ])  # Set densit
+000144d0: 6f6d 6574 7279 2079 2061 7869 7320 6d61  ometry y axis ma
+000144e0: 6a6f 7220 6c61 6265 6c73 0a20 2020 2064  jor labels.    d
+000144f0: 656e 7369 746f 6d65 7472 7958 4178 6973  ensitometryXAxis
+00014500: 4d69 6e6f 724c 6162 656c 7320 3d20 6d61  MinorLabels = ma
+00014510: 7470 6c6f 746c 6962 2e74 6963 6b65 722e  tplotlib.ticker.
+00014520: 4669 7865 644c 6f63 6174 6f72 286c 6973  FixedLocator(lis
+00014530: 7428 7261 6e67 6528 302c 2033 3031 2c20  t(range(0, 301, 
+00014540: 3629 2929 2020 2320 5365 7420 6465 6e73  6)))  # Set dens
+00014550: 6974 6f6d 6574 7279 2078 2061 7869 7320  itometry x axis 
+00014560: 6d69 6e6f 7220 6c61 6265 6c73 2074 6f20  minor labels to 
+00014570: 6576 6572 7920 3320 686f 7572 730a 2020  every 3 hours.  
+00014580: 2020 7065 7269 6f64 6f67 7261 6d58 4178    periodogramXAx
+00014590: 6973 4c61 6265 6c73 203d 206d 6174 706c  isLabels = matpl
+000145a0: 6f74 6c69 622e 7469 636b 6572 2e46 6978  otlib.ticker.Fix
+000145b0: 6564 4c6f 6361 746f 7228 6c69 7374 2872  edLocator(list(r
+000145c0: 616e 6765 2870 6572 696f 6444 6174 615b  ange(periodData[
+000145d0: 226d 696e 5065 7269 6f64 225d 2c20 7065  "minPeriod"], pe
+000145e0: 7269 6f64 4461 7461 5b22 6d61 7850 6572  riodData["maxPer
+000145f0: 696f 6422 5d20 2b20 3129 2929 2020 2320  iod"] + 1)))  # 
+00014600: 5365 7420 7065 7269 6f64 6f67 7261 6d20  Set periodogram 
+00014610: 7820 6178 6973 206d 616a 6f72 206c 6162  x axis major lab
+00014620: 656c 7320 746f 2065 6163 6820 686f 7572  els to each hour
+00014630: 2069 6e20 7261 6e67 6520 6f66 2068 6f75   in range of hou
+00014640: 7273 0a20 2020 2063 7774 5841 7869 734c  rs.    cwtXAxisL
+00014650: 6162 656c 7320 3d20 6d61 7470 6c6f 746c  abels = matplotl
+00014660: 6962 2e74 6963 6b65 722e 4669 7865 644c  ib.ticker.FixedL
+00014670: 6f63 6174 6f72 286c 6973 7428 7261 6e67  ocator(list(rang
+00014680: 6528 696e 7428 6e75 6d70 792e 6d69 6e28  e(int(numpy.min(
+00014690: 6377 7458 4178 6973 2929 2c20 696e 7428  cwtXAxis)), int(
+000146a0: 6e75 6d70 792e 6d61 7828 6377 7458 4178  numpy.max(cwtXAx
+000146b0: 6973 2929 2c20 3132 2929 290a 2020 2020  is)), 12))).    
+000146c0: 7475 6265 446f 7562 6c65 4669 6775 7265  tubeDoubleFigure
+000146d0: 506c 6f74 735b 305d 2e70 6c6f 7428 6465  Plots[0].plot(de
+000146e0: 6e73 6974 6f6d 6574 7279 5856 616c 7348  nsitometryXValsH
+000146f0: 6f75 7273 2c20 6465 6e73 6974 6f6d 6574  ours, densitomet
+00014700: 7279 5956 616c 732c 206c 6162 656c 3d22  ryYVals, label="
+00014710: 4465 6e73 6974 795c 6e70 726f 6669 6c65  Density\nprofile
+00014720: 222c 2063 6f6c 6f72 3d61 7070 5061 7261  ", color=appPara
+00014730: 6d65 7465 7273 5b22 636f 6c6f 7247 7261  meters["colorGra
+00014740: 7068 225d 2920 2023 2043 7265 6174 6520  ph"])  # Create 
+00014750: 6669 7273 7420 706c 6f74 206f 6620 6465  first plot of de
+00014760: 6e73 6974 6f6d 6574 7279 0a20 2020 2074  nsitometry.    t
+00014770: 7562 6544 6f75 626c 6546 6967 7572 6550  ubeDoubleFigureP
+00014780: 6c6f 7473 5b30 5d2e 6d61 7267 696e 7328  lots[0].margins(
+00014790: 3029 0a20 2020 2074 7562 6544 6f75 626c  0).    tubeDoubl
+000147a0: 6546 6967 7572 6550 6c6f 7473 5b30 5d2e  eFigurePlots[0].
+000147b0: 7861 7869 732e 7365 745f 6d61 6a6f 725f  xaxis.set_major_
+000147c0: 6c6f 6361 746f 7228 6465 6e73 6974 6f6d  locator(densitom
+000147d0: 6574 7279 5841 7869 734c 6162 656c 7329  etryXAxisLabels)
+000147e0: 2020 2320 5365 7420 7820 6178 6973 206d    # Set x axis m
+000147f0: 616a 6f72 2074 6963 6b20 6c61 6265 6c73  ajor tick labels
+00014800: 206f 6620 6465 6e73 6974 6f6d 6574 7279   of densitometry
+00014810: 2070 6c6f 740a 2020 2020 7475 6265 446f   plot.    tubeDo
+00014820: 7562 6c65 4669 6775 7265 506c 6f74 735b  ubleFigurePlots[
+00014830: 305d 2e79 6178 6973 2e73 6574 5f6d 616a  0].yaxis.set_maj
+00014840: 6f72 5f6c 6f63 6174 6f72 2864 656e 7369  or_locator(densi
+00014850: 746f 6d65 7472 7959 4178 6973 4c61 6265  tometryYAxisLabe
+00014860: 6c73 2920 2023 2053 6574 2079 2061 7869  ls)  # Set y axi
+00014870: 7320 6d61 6a6f 7220 7469 636b 206c 6162  s major tick lab
+00014880: 656c 7320 6f66 2064 656e 7369 746f 6d65  els of densitome
+00014890: 7472 7920 706c 6f74 0a20 2020 2074 7562  try plot.    tub
+000148a0: 6544 6f75 626c 6546 6967 7572 6550 6c6f  eDoubleFigurePlo
+000148b0: 7473 5b30 5d2e 7861 7869 732e 7365 745f  ts[0].xaxis.set_
+000148c0: 6d69 6e6f 725f 6c6f 6361 746f 7228 6465  minor_locator(de
+000148d0: 6e73 6974 6f6d 6574 7279 5841 7869 734d  nsitometryXAxisM
+000148e0: 696e 6f72 4c61 6265 6c73 2920 2023 2053  inorLabels)  # S
+000148f0: 6574 2078 2061 7869 7320 6d69 6e6f 7220  et x axis minor 
+00014900: 7469 636b 206c 6162 656c 7320 6f66 2064  tick labels of d
+00014910: 656e 7369 746f 6d65 7472 7920 706c 6f74  ensitometry plot
+00014920: 0a20 2020 2074 7562 6544 6f75 626c 6546  .    tubeDoubleF
+00014930: 6967 7572 6550 6c6f 7473 5b30 5d2e 7365  igurePlots[0].se
+00014940: 7428 0a20 2020 2020 2020 2078 6c61 6265  t(.        xlabe
+00014950: 6c3d 2254 696d 6520 2868 7273 2922 2c20  l="Time (hrs)", 
+00014960: 0a20 2020 2020 2020 2079 6c61 6265 6c3d  .        ylabel=
+00014970: 2244 656e 7369 7479 222c 200a 2020 2020  "Density", .    
+00014980: 2020 2020 7469 746c 653d 2244 656e 7369      title="Densi
+00014990: 746f 6d65 7472 7922 0a20 2020 2029 2020  tometry".    )  
+000149a0: 2320 5365 7420 6465 6e73 6974 6f6d 6574  # Set densitomet
+000149b0: 7279 2070 6c6f 7420 6c61 6265 6c73 0a20  ry plot labels. 
+000149c0: 2020 2074 7562 6544 6f75 626c 6546 6967     tubeDoubleFig
+000149d0: 7572 6550 6c6f 7473 5b30 5d2e 766c 696e  urePlots[0].vlin
+000149e0: 6573 280a 2020 2020 2020 2020 7469 6d65  es(.        time
+000149f0: 4d61 726b 7348 6f75 7273 2c0a 2020 2020  MarksHours,.    
+00014a00: 2020 2020 6e75 6d70 792e 6d69 6e28 6465      numpy.min(de
+00014a10: 6e73 6974 6f6d 6574 7279 5956 616c 7329  nsitometryYVals)
+00014a20: 2c0a 2020 2020 2020 2020 6e75 6d70 792e  ,.        numpy.
+00014a30: 6d61 7828 6465 6e73 6974 6f6d 6574 7279  max(densitometry
+00014a40: 5956 616c 7329 2c0a 2020 2020 2020 2020  YVals),.        
+00014a50: 636f 6c6f 7273 3d61 7070 5061 7261 6d65  colors=appParame
+00014a60: 7465 7273 5b22 636f 6c6f 7256 6572 7422  ters["colorVert"
+00014a70: 5d2c 0a20 2020 2020 2020 206c 6162 656c  ],.        label
+00014a80: 3d22 5469 6d65 204d 6172 6b73 222c 0a20  ="Time Marks",. 
+00014a90: 2020 2029 2020 2320 5365 7420 6465 6e73     )  # Set dens
+00014aa0: 6974 6f6d 6574 7279 2070 6c6f 7420 7665  itometry plot ve
+00014ab0: 7274 6963 616c 206c 696e 6573 2066 6f72  rtical lines for
+00014ac0: 2074 696d 6520 6d61 726b 730a 2020 2020   time marks.    
+00014ad0: 7475 6265 446f 7562 6c65 4669 6775 7265  tubeDoubleFigure
+00014ae0: 506c 6f74 735b 305d 2e76 6c69 6e65 7328  Plots[0].vlines(
+00014af0: 0a20 2020 2020 2020 2062 616e 644d 6172  .        bandMar
+00014b00: 6b73 486f 7572 732c 200a 2020 2020 2020  ksHours, .      
+00014b10: 2020 6e75 6d70 792e 6d69 6e28 6465 6e73    numpy.min(dens
+00014b20: 6974 6f6d 6574 7279 5956 616c 7329 2c20  itometryYVals), 
+00014b30: 0a20 2020 2020 2020 206e 756d 7079 2e6d  .        numpy.m
+00014b40: 6178 2864 656e 7369 746f 6d65 7472 7959  ax(densitometryY
+00014b50: 5661 6c73 292c 200a 2020 2020 2020 2020  Vals), .        
+00014b60: 636f 6c6f 7273 3d61 7070 5061 7261 6d65  colors=appParame
+00014b70: 7465 7273 5b22 636f 6c6f 7242 616e 6422  ters["colorBand"
+00014b80: 5d2c 200a 2020 2020 2020 2020 6c61 6265  ], .        labe
+00014b90: 6c3d 2242 616e 6420 5065 616b 7322 0a20  l="Band Peaks". 
+00014ba0: 2020 2029 2020 2320 5365 7420 6465 6e73     )  # Set dens
+00014bb0: 6974 6f6d 6574 7279 2070 6c6f 7420 7665  itometry plot ve
+00014bc0: 7274 6963 616c 206c 696e 6573 2066 6f72  rtical lines for
+00014bd0: 2062 616e 6420 6d61 726b 730a 2020 2020   band marks.    
+00014be0: 7475 6265 446f 7562 6c65 4669 6775 7265  tubeDoubleFigure
+00014bf0: 506c 6f74 735b 305d 2e6c 6567 656e 6428  Plots[0].legend(
+00014c00: 6e63 6f6c 3d31 2c20 6c6f 633d 2275 7070  ncol=1, loc="upp
+00014c10: 6572 2072 6967 6874 222c 2066 6f6e 7473  er right", fonts
+00014c20: 697a 653d 2273 6d61 6c6c 222c 2062 626f  ize="small", bbo
+00014c30: 785f 746f 5f61 6e63 686f 723d 2831 2e33  x_to_anchor=(1.3
+00014c40: 2c20 3129 2920 2023 2053 6574 206c 6567  , 1))  # Set leg
+00014c50: 656e 6420 666f 7220 6465 6e73 6974 6f6d  end for densitom
+00014c60: 6574 7279 2070 6c6f 740a 2020 2020 6966  etry plot.    if
+00014c70: 206d 6574 686f 6420 3d3d 205b 2270 6572   method == ["per
+00014c80: 696f 646f 6772 616d 4368 6953 7175 6172  iodogramChiSquar
+00014c90: 6564 536f 6b6f 6c6f 7665 4275 7368 656c  edSokoloveBushel
+00014ca0: 6c22 2c20 2266 7265 7175 656e 6369 6573  l", "frequencies
+00014cb0: 536f 6b6f 6c6f 7665 4275 7368 656c 6c22  SokoloveBushell"
+00014cc0: 5d3a 2020 2320 4966 2075 7369 6e67 2053  ]:  # If using S
+00014cd0: 2d42 2070 6572 696f 646f 6772 616d 0a20  -B periodogram. 
+00014ce0: 2020 2020 2020 2074 7562 6544 6f75 626c         tubeDoubl
+00014cf0: 6546 6967 7572 6550 6c6f 7473 5b31 5d2e  eFigurePlots[1].
+00014d00: 706c 6f74 2870 6572 696f 646f 6772 616d  plot(periodogram
+00014d10: 5856 616c 732c 2070 6572 696f 646f 6772  XVals, periodogr
+00014d20: 616d 5956 616c 732c 206c 6162 656c 3d22  amYVals, label="
+00014d30: 4368 6920 5371 7561 7265 6422 2c20 636f  Chi Squared", co
+00014d40: 6c6f 723d 6170 7050 6172 616d 6574 6572  lor=appParameter
+00014d50: 735b 2263 6f6c 6f72 4772 6170 6822 5d29  s["colorGraph"])
+00014d60: 2020 2320 4372 6561 7465 2073 6563 6f6e    # Create secon
+00014d70: 6420 706c 6f74 206f 6620 532d 4220 7065  d plot of S-B pe
+00014d80: 7269 6f64 6f67 7261 6d0a 2020 2020 656c  riodogram.    el
+00014d90: 6966 206d 6574 686f 6420 3d3d 205b 2270  if method == ["p
+00014da0: 6572 696f 646f 6772 616d 506f 7765 7253  eriodogramPowerS
+00014db0: 7065 6374 7275 6d4c 6f6d 6253 6361 7267  pectrumLombScarg
+00014dc0: 6c65 222c 2022 6672 6571 7565 6e63 6965  le", "frequencie
+00014dd0: 734c 6f6d 6253 6361 7267 6c65 225d 3a20  sLombScargle"]: 
+00014de0: 2023 2049 6620 7573 696e 6720 4c2d 5320   # If using L-S 
+00014df0: 7065 7269 6f64 6f67 7261 6d0a 2020 2020  periodogram.    
+00014e00: 2020 2020 7475 6265 446f 7562 6c65 4669      tubeDoubleFi
+00014e10: 6775 7265 506c 6f74 735b 315d 2e70 6c6f  gurePlots[1].plo
+00014e20: 7428 7065 7269 6f64 6f67 7261 6d58 5661  t(periodogramXVa
+00014e30: 6c73 2c20 7065 7269 6f64 6f67 7261 6d59  ls, periodogramY
+00014e40: 5661 6c73 2c20 6c61 6265 6c3d 2253 7065  Vals, label="Spe
+00014e50: 6374 7261 6c20 4465 6e73 6974 7922 2c20  ctral Density", 
+00014e60: 636f 6c6f 723d 6170 7050 6172 616d 6574  color=appParamet
+00014e70: 6572 735b 2263 6f6c 6f72 4772 6170 6822  ers["colorGraph"
+00014e80: 5d29 2020 2320 4372 6561 7465 2073 6563  ])  # Create sec
+00014e90: 6f6e 6420 706c 6f74 206f 7320 4c2d 5320  ond plot os L-S 
+00014ea0: 7065 7269 6f64 6f67 7261 6d0a 2020 2020  periodogram.    
+00014eb0: 656c 7365 3a20 2023 2049 6620 7573 696e  else:  # If usin
+00014ec0: 6720 7761 7665 6c65 7420 6d65 7468 6f64  g wavelet method
+00014ed0: 0a20 2020 2020 2020 2074 7562 6544 6f75  .        tubeDou
+00014ee0: 626c 6546 6967 7572 6550 6c6f 7473 5b31  bleFigurePlots[1
+00014ef0: 5d2e 696d 7368 6f77 2863 7774 5a41 7869  ].imshow(cwtZAxi
+00014f00: 732c 2063 6d61 703d 6170 7050 6172 616d  s, cmap=appParam
+00014f10: 6574 6572 735b 2268 6561 746d 6170 225d  eters["heatmap"]
+00014f20: 2c20 6578 7465 6e74 3d28 6377 7458 4178  , extent=(cwtXAx
+00014f30: 6973 5b30 5d2c 2063 7774 5841 7869 735b  is[0], cwtXAxis[
+00014f40: 2d31 5d2c 2063 7774 5941 7869 735b 305d  -1], cwtYAxis[0]
+00014f50: 2c20 6377 7459 4178 6973 5b2d 315d 292c  , cwtYAxis[-1]),
+00014f60: 2061 7370 6563 743d 2261 7574 6f22 2923   aspect="auto")#
+00014f70: 2c20 6173 7065 6374 3d61 7830 6173 7065  , aspect=ax0aspe
+00014f80: 6374 0a20 2020 2020 2020 2074 7562 6544  ct.        tubeD
+00014f90: 6f75 626c 6546 6967 7572 652e 636f 6c6f  oubleFigure.colo
+00014fa0: 7262 6172 286d 6174 706c 6f74 6c69 622e  rbar(matplotlib.
+00014fb0: 636d 2e53 6361 6c61 724d 6170 7061 626c  cm.ScalarMappabl
+00014fc0: 6528 6e6f 726d 3d6d 6174 706c 6f74 6c69  e(norm=matplotli
+00014fd0: 622e 636f 6c6f 7273 2e4e 6f72 6d61 6c69  b.colors.Normali
+00014fe0: 7a65 286e 756d 7079 2e6d 696e 2863 7774  ze(numpy.min(cwt
+00014ff0: 5a41 7869 7329 2c20 6e75 6d70 792e 6d61  ZAxis), numpy.ma
+00015000: 7828 6377 745a 4178 6973 2929 2c20 636d  x(cwtZAxis)), cm
+00015010: 6170 3d61 7070 5061 7261 6d65 7465 7273  ap=appParameters
+00015020: 5b22 6865 6174 6d61 7022 5d29 2c20 6178  ["heatmap"]), ax
+00015030: 3d74 7562 6544 6f75 626c 6546 6967 7572  =tubeDoubleFigur
+00015040: 6550 6c6f 7473 5b32 5d2c 2066 7261 6374  ePlots[2], fract
+00015050: 696f 6e3d 302e 352c 2073 6872 696e 6b3d  ion=0.5, shrink=
+00015060: 302e 382c 2061 7370 6563 743d 352c 2070  0.8, aspect=5, p
+00015070: 6164 3d30 2c20 6c6f 6361 7469 6f6e 3d22  ad=0, location="
+00015080: 6c65 6674 222c 2061 6e63 686f 723d 2830  left", anchor=(0
+00015090: 2c20 3129 292e 7365 745f 6c61 6265 6c28  , 1)).set_label(
+000150a0: 2241 6d70 6c69 7475 6465 222c 2073 697a  "Amplitude", siz
+000150b0: 653d 382c 206c 6162 656c 7061 643d 2d35  e=8, labelpad=-5
+000150c0: 3029 0a20 2020 2069 6620 6d65 7468 6f64  0).    if method
+000150d0: 203d 3d20 5b22 616d 706c 6974 7564 6573   == ["amplitudes
+000150e0: 5761 7665 6c65 7422 2c20 2266 7265 7175  Wavelet", "frequ
+000150f0: 656e 6369 6573 5761 7665 6c65 7422 2c20  enciesWavelet", 
+00015100: 2270 6572 696f 6473 5941 7869 7357 6176  "periodsYAxisWav
+00015110: 656c 6574 225d 3a0a 2020 2020 2020 2020  elet"]:.        
+00015120: 7475 6265 446f 7562 6c65 4669 6775 7265  tubeDoubleFigure
+00015130: 506c 6f74 735b 315d 2e78 6178 6973 2e73  Plots[1].xaxis.s
+00015140: 6574 5f6d 616a 6f72 5f6c 6f63 6174 6f72  et_major_locator
+00015150: 2863 7774 5841 7869 734c 6162 656c 7329  (cwtXAxisLabels)
+00015160: 0a20 2020 2020 2020 2074 7562 6544 6f75  .        tubeDou
+00015170: 626c 6546 6967 7572 6550 6c6f 7473 5b31  bleFigurePlots[1
+00015180: 5d2e 7365 7428 0a20 2020 2020 2020 2020  ].set(.         
+00015190: 2020 2078 6c61 6265 6c3d 2254 696d 6520     xlabel="Time 
+000151a0: 2868 7273 2922 2c0a 2020 2020 2020 2020  (hrs)",.        
+000151b0: 2020 2020 7469 746c 653d 2243 6f6e 7469      title="Conti
+000151c0: 6e75 6f75 7320 5761 7665 6c65 7420 5472  nuous Wavelet Tr
+000151d0: 616e 7366 6f72 6d22 2c0a 2020 2020 2020  ansform",.      
+000151e0: 2020 290a 2020 2020 656c 7365 3a0a 2020    ).    else:.  
+000151f0: 2020 2020 2020 7475 6265 446f 7562 6c65        tubeDouble
+00015200: 4669 6775 7265 506c 6f74 735b 315d 2e78  FigurePlots[1].x
+00015210: 6178 6973 2e73 6574 5f6d 616a 6f72 5f6c  axis.set_major_l
+00015220: 6f63 6174 6f72 2870 6572 696f 646f 6772  ocator(periodogr
+00015230: 616d 5841 7869 734c 6162 656c 7329 2020  amXAxisLabels)  
+00015240: 2320 5365 7420 7820 6178 6973 206d 616a  # Set x axis maj
+00015250: 6f72 206c 6162 656c 7320 666f 7220 7065  or labels for pe
+00015260: 7269 6f64 6f67 7261 6d20 706c 6f74 0a20  riodogram plot. 
+00015270: 2020 2020 2020 2074 7562 6544 6f75 626c         tubeDoubl
+00015280: 6546 6967 7572 6550 6c6f 7473 5b31 5d2e  eFigurePlots[1].
+00015290: 7365 7428 0a20 2020 2020 2020 2020 2020  set(.           
+000152a0: 2078 6c61 6265 6c3d 2250 6572 696f 6420   xlabel="Period 
+000152b0: 2868 7273 2922 2c0a 2020 2020 2020 2020  (hrs)",.        
+000152c0: 2020 2020 7469 746c 653d 2250 6572 696f      title="Perio
+000152d0: 646f 6772 616d 220a 2020 2020 2020 2020  dogram".        
+000152e0: 2920 2023 2053 6574 206c 6162 656c 7320  )  # Set labels 
+000152f0: 666f 7220 7065 7269 6f64 6f67 7261 6d20  for periodogram 
+00015300: 706c 6f74 0a20 2020 2069 6620 6d65 7468  plot.    if meth
+00015310: 6f64 203d 3d20 5b22 7065 7269 6f64 6f67  od == ["periodog
+00015320: 7261 6d43 6869 5371 7561 7265 6453 6f6b  ramChiSquaredSok
+00015330: 6f6c 6f76 6542 7573 6865 6c6c 222c 2022  oloveBushell", "
+00015340: 6672 6571 7565 6e63 6965 7353 6f6b 6f6c  frequenciesSokol
+00015350: 6f76 6542 7573 6865 6c6c 225d 3a20 2023  oveBushell"]:  #
+00015360: 2049 6620 7573 696e 6720 532d 4220 7065   If using S-B pe
+00015370: 7269 6f64 6f67 7261 6d0a 2020 2020 2020  riodogram.      
+00015380: 2020 7475 6265 446f 7562 6c65 4669 6775    tubeDoubleFigu
+00015390: 7265 506c 6f74 735b 315d 2e73 6574 2879  rePlots[1].set(y
+000153a0: 6c61 6265 6c3d 2243 6869 2053 7175 6172  label="Chi Squar
+000153b0: 6564 2229 2020 2320 5365 7420 7920 6c61  ed")  # Set y la
+000153c0: 6265 6c20 666f 7220 532d 4220 7065 7269  bel for S-B peri
+000153d0: 6f64 6f67 7261 6d0a 2020 2020 656c 6966  odogram.    elif
+000153e0: 206d 6574 686f 6420 3d3d 205b 2270 6572   method == ["per
+000153f0: 696f 646f 6772 616d 506f 7765 7253 7065  iodogramPowerSpe
+00015400: 6374 7275 6d4c 6f6d 6253 6361 7267 6c65  ctrumLombScargle
+00015410: 222c 2022 6672 6571 7565 6e63 6965 734c  ", "frequenciesL
+00015420: 6f6d 6253 6361 7267 6c65 225d 3a20 2023  ombScargle"]:  #
+00015430: 2049 6620 7573 696e 6720 4c2d 5320 7065   If using L-S pe
+00015440: 7269 6f64 6f67 7261 6d0a 2020 2020 2020  riodogram.      
+00015450: 2020 7475 6265 446f 7562 6c65 4669 6775    tubeDoubleFigu
+00015460: 7265 506c 6f74 735b 315d 2e73 6574 2879  rePlots[1].set(y
+00015470: 6c61 6265 6c3d 2253 7065 6374 7261 6c20  label="Spectral 
+00015480: 4465 6e73 6974 795c 6e28 7820 245c 6d61  Density\n(x $\ma
+00015490: 7468 7265 6775 6c61 727b 3130 5e7b 2d34  thregular{10^{-4
+000154a0: 7d7d 2429 2229 2020 2320 5365 7420 7920  }}$)")  # Set y 
+000154b0: 6c61 6265 6c20 666f 7220 4c2d 5320 7065  label for L-S pe
+000154c0: 7269 6f64 6f67 7261 6d0a 2020 2020 656c  riodogram.    el
+000154d0: 7365 3a20 2023 2049 6620 7573 696e 6720  se:  # If using 
+000154e0: 7761 7665 6c65 7420 6d65 7468 6f64 0a20  wavelet method. 
+000154f0: 2020 2020 2020 2074 7562 6544 6f75 626c         tubeDoubl
+00015500: 6546 6967 7572 6550 6c6f 7473 5b31 5d2e  eFigurePlots[1].
+00015510: 7365 7428 796c 6162 656c 3d22 5065 7269  set(ylabel="Peri
+00015520: 6f64 2028 6872 7329 2229 0a20 2020 2069  od (hrs)").    i
+00015530: 6620 6d65 7468 6f64 2021 3d20 5b22 616d  f method != ["am
+00015540: 706c 6974 7564 6573 5761 7665 6c65 7422  plitudesWavelet"
+00015550: 2c20 2266 7265 7175 656e 6369 6573 5761  , "frequenciesWa
+00015560: 7665 6c65 7422 2c20 2270 6572 696f 6473  velet", "periods
+00015570: 5941 7869 7357 6176 656c 6574 225d 3a0a  YAxisWavelet"]:.
+00015580: 2020 2020 2020 2020 7475 6265 446f 7562          tubeDoub
+00015590: 6c65 4669 6775 7265 506c 6f74 735b 315d  leFigurePlots[1]
+000155a0: 2e6c 6567 656e 6428 666f 6e74 7369 7a65  .legend(fontsize
+000155b0: 3d22 736d 616c 6c22 2920 2023 2053 6574  ="small")  # Set
+000155c0: 206c 6567 656e 6420 666f 7220 7065 7269   legend for peri
+000155d0: 6f64 6f67 7261 6d20 706c 6f74 0a20 2020  odogram plot.   
+000155e0: 2074 7562 6544 6f75 626c 6546 6967 7572   tubeDoubleFigur
+000155f0: 6550 6c6f 7473 5b30 5d2e 7469 746c 652e  ePlots[0].title.
+00015600: 7365 745f 7369 7a65 2831 3229 0a20 2020  set_size(12).   
+00015610: 2074 7562 6544 6f75 626c 6546 6967 7572   tubeDoubleFigur
+00015620: 6550 6c6f 7473 5b31 5d2e 7469 746c 652e  ePlots[1].title.
+00015630: 7365 745f 7369 7a65 2831 3229 0a20 2020  set_size(12).   
+00015640: 2061 7830 706f 7320 3d20 7475 6265 446f   ax0pos = tubeDo
+00015650: 7562 6c65 4669 6775 7265 506c 6f74 735b  ubleFigurePlots[
+00015660: 305d 2e67 6574 5f70 6f73 6974 696f 6e28  0].get_position(
+00015670: 290a 2020 2020 6178 3170 6f73 203d 2074  ).    ax1pos = t
+00015680: 7562 6544 6f75 626c 6546 6967 7572 6550  ubeDoubleFigureP
+00015690: 6c6f 7473 5b31 5d2e 6765 745f 706f 7369  lots[1].get_posi
+000156a0: 7469 6f6e 2829 0a20 2020 2061 7832 706f  tion().    ax2po
+000156b0: 7320 3d20 7475 6265 446f 7562 6c65 4669  s = tubeDoubleFi
+000156c0: 6775 7265 506c 6f74 735b 325d 2e67 6574  gurePlots[2].get
+000156d0: 5f70 6f73 6974 696f 6e28 290a 2020 2020  _position().    
+000156e0: 7475 6265 446f 7562 6c65 4669 6775 7265  tubeDoubleFigure
+000156f0: 506c 6f74 735b 305d 2e73 6574 5f70 6f73  Plots[0].set_pos
+00015700: 6974 696f 6e28 5b61 7830 706f 732e 7830  ition([ax0pos.x0
+00015710: 2c20 6178 3070 6f73 2e79 302b 302e 312c  , ax0pos.y0+0.1,
+00015720: 2061 7830 706f 732e 7769 6474 682c 2061   ax0pos.width, a
+00015730: 7830 706f 732e 6865 6967 6874 202a 2030  x0pos.height * 0
+00015740: 2e38 5d29 0a20 2020 2074 7562 6544 6f75  .8]).    tubeDou
+00015750: 626c 6546 6967 7572 6550 6c6f 7473 5b31  bleFigurePlots[1
+00015760: 5d2e 7365 745f 706f 7369 7469 6f6e 285b  ].set_position([
+00015770: 6178 3170 6f73 2e78 302c 2061 7831 706f  ax1pos.x0, ax1po
+00015780: 732e 7930 2b30 2e31 2c20 6178 3170 6f73  s.y0+0.1, ax1pos
+00015790: 2e77 6964 7468 2c20 6178 3170 6f73 2e68  .width, ax1pos.h
+000157a0: 6569 6768 7420 2a20 302e 385d 290a 2020  eight * 0.8]).  
+000157b0: 2020 7475 6265 446f 7562 6c65 4669 6775    tubeDoubleFigu
+000157c0: 7265 506c 6f74 735b 325d 2e73 6574 5f70  rePlots[2].set_p
+000157d0: 6f73 6974 696f 6e28 5b61 7832 706f 732e  osition([ax2pos.
+000157e0: 7830 2c20 6178 3270 6f73 2e79 302b 302e  x0, ax2pos.y0+0.
+000157f0: 312c 2061 7832 706f 732e 7769 6474 682c  1, ax2pos.width,
+00015800: 2061 7832 706f 732e 6865 6967 6874 202a   ax2pos.height *
+00015810: 2030 2e38 5d29 0a0a 2020 2020 6966 2063   0.8])..    if c
+00015820: 616e 7661 7320 6973 206e 6f74 204e 6f6e  anvas is not Non
+00015830: 653a 0a20 2020 2020 2020 2063 616e 7661  e:.        canva
+00015840: 732e 6765 745f 746b 5f77 6964 6765 7428  s.get_tk_widget(
+00015850: 292e 7061 636b 5f66 6f72 6765 7428 2920  ).pack_forget() 
+00015860: 2023 2043 6c65 6172 2070 6c6f 7420 6361   # Clear plot ca
+00015870: 6e76 6173 0a20 2020 2063 616e 7661 7320  nvas.    canvas 
+00015880: 3d20 4669 6775 7265 4361 6e76 6173 546b  = FigureCanvasTk
+00015890: 4167 6728 7475 6265 446f 7562 6c65 4669  Agg(tubeDoubleFi
+000158a0: 6775 7265 2c20 6d61 7374 6572 3d65 7870  gure, master=exp
+000158b0: 6572 696d 656e 7454 6162 506c 6f74 4361  erimentTabPlotCa
+000158c0: 6e76 6173 2920 2023 2050 6f70 756c 6174  nvas)  # Populat
+000158d0: 6520 706c 6f74 2063 616e 7661 7320 7769  e plot canvas wi
+000158e0: 7468 2066 6967 7572 650a 2020 2020 6361  th figure.    ca
+000158f0: 6e76 6173 2e64 7261 7728 2920 2023 2044  nvas.draw()  # D
+00015900: 7261 7720 6669 6775 7265 206f 6e74 6f20  raw figure onto 
+00015910: 6361 6e76 6173 0a20 2020 2063 616e 7661  canvas.    canva
+00015920: 732e 6765 745f 746b 5f77 6964 6765 7428  s.get_tk_widget(
+00015930: 292e 7061 636b 2829 2020 2320 5061 636b  ).pack()  # Pack
+00015940: 2070 6c6f 7420 6361 6e76 6173 0a20 2020   plot canvas.   
+00015950: 2070 6c6f 7449 6d61 6765 4172 7261 7920   plotImageArray 
+00015960: 3d20 7475 6265 446f 7562 6c65 4669 6775  = tubeDoubleFigu
+00015970: 7265 0a0a 0a64 6566 2070 6f70 756c 6174  re...def populat
+00015980: 6550 6c6f 7454 7562 6553 656c 6563 7469  ePlotTubeSelecti
+00015990: 6f6e 4c69 7374 7328 293a 0a20 2020 2022  onLists():.    "
+000159a0: 2222 506f 7075 6c61 7465 2070 6c6f 7474  ""Populate plott
+000159b0: 696e 6720 6f70 7469 6f6e 206c 6973 7473  ing option lists
+000159c0: 2222 220a 0a0a 2020 2020 676c 6f62 616c  """...    global
+000159d0: 2074 7562 6573 4d61 7374 6572 0a20 2020   tubesMaster.   
+000159e0: 2067 6c6f 6261 6c20 6578 7065 7269 6d65   global experime
+000159f0: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
+00015a00: 6563 7469 6f6e 5365 744c 6973 740a 2020  ectionSetList.  
+00015a10: 2020 676c 6f62 616c 2065 7870 6572 696d    global experim
+00015a20: 656e 7454 6162 506c 6f74 5475 6265 5365  entTabPlotTubeSe
+00015a30: 6c65 6374 696f 6e54 7562 654c 6973 740a  lectionTubeList.
+00015a40: 0a0a 2020 2020 2347 6574 2069 6e66 6f72  ..    #Get infor
+00015a50: 6d61 7469 6f6e 2066 6f72 2073 656c 6563  mation for selec
+00015a60: 7465 6420 7365 7420 616e 6420 7475 6265  ted set and tube
+00015a70: 0a20 2020 2073 6574 7354 6f44 6973 706c  .    setsToDispl
+00015a80: 6179 203d 205b 5d20 2023 2042 6c61 6e6b  ay = []  # Blank
+00015a90: 206c 6973 7420 6f66 2074 7562 6520 7365   list of tube se
+00015aa0: 7473 0a20 2020 2074 7562 6573 546f 4469  ts.    tubesToDi
+00015ab0: 7370 6c61 7920 3d20 5b5d 2020 2320 426c  splay = []  # Bl
+00015ac0: 616e 6b20 6c69 7374 206f 6620 7475 6265  ank list of tube
+00015ad0: 730a 2020 2020 7365 7473 5365 6c65 6374  s.    setsSelect
+00015ae0: 6564 203d 2065 7870 6572 696d 656e 7454  ed = experimentT
+00015af0: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
+00015b00: 696f 6e53 6574 4c69 7374 2e76 616c 7565  ionSetList.value
+00015b10: 2020 2320 5365 7420 7365 6c65 6374 6564    # Set selected
+00015b20: 2073 6574 0a20 2020 2069 6620 7365 7473   set.    if sets
+00015b30: 5365 6c65 6374 6564 2069 7320 4e6f 6e65  Selected is None
+00015b40: 3a20 2023 2049 6620 6e6f 2073 6574 2073  :  # If no set s
+00015b50: 656c 6563 7465 640a 2020 2020 2020 2020  elected.        
+00015b60: 7365 7473 5365 6c65 6374 6564 203d 2022  setsSelected = "
+00015b70: 2220 2023 2053 6574 2073 656c 6563 7465  "  # Set selecte
+00015b80: 6420 7365 7420 746f 2062 6c61 6e6b 2073  d set to blank s
+00015b90: 7472 696e 6720 696e 7374 6561 6420 6f66  tring instead of
+00015ba0: 204e 6f6e 650a 2020 2020 7475 6265 5365   None.    tubeSe
+00015bb0: 6c65 6374 6564 203d 2065 7870 6572 696d  lected = experim
+00015bc0: 656e 7454 6162 506c 6f74 5475 6265 5365  entTabPlotTubeSe
+00015bd0: 6c65 6374 696f 6e54 7562 654c 6973 742e  lectionTubeList.
+00015be0: 7661 6c75 6520 2023 2053 6574 2073 656c  value  # Set sel
+00015bf0: 6563 7465 6420 7475 6265 0a20 2020 2069  ected tube.    i
+00015c00: 6620 7475 6265 5365 6c65 6374 6564 2069  f tubeSelected i
+00015c10: 7320 4e6f 6e65 3a20 2023 2049 6620 6e6f  s None:  # If no
+00015c20: 2074 7562 6520 7365 6c65 6374 6564 0a20   tube selected. 
+00015c30: 2020 2020 2020 2074 7562 6553 656c 6563         tubeSelec
+00015c40: 7465 6420 3d20 2222 2020 2320 5365 7420  ted = ""  # Set 
+00015c50: 7365 6c65 6374 6564 2073 6574 2074 6f20  selected set to 
+00015c60: 626c 616e 6b20 7374 7269 6e67 2069 6e73  blank string ins
+00015c70: 7465 6164 206f 6620 4e6f 6e65 0a20 2020  tead of None.   
+00015c80: 2066 6f72 2074 7562 6520 696e 2074 7562   for tube in tub
+00015c90: 6573 4d61 7374 6572 3a20 2023 2046 6f72  esMaster:  # For
+00015ca0: 2065 6163 6820 7475 6265 2069 6e20 6d61   each tube in ma
+00015cb0: 7374 6572 2074 7562 6573 206c 6973 740a  ster tubes list.
+00015cc0: 2020 2020 2020 2020 6966 2074 7562 655b          if tube[
+00015cd0: 2273 6574 4e61 6d65 225d 206e 6f74 2069  "setName"] not i
+00015ce0: 6e20 7365 7473 546f 4469 7370 6c61 793a  n setsToDisplay:
+00015cf0: 2020 2320 4966 2073 6574 206e 616d 6520    # If set name 
+00015d00: 6f66 2074 7562 6520 6973 206e 6f74 2069  of tube is not i
+00015d10: 6e20 6c69 7374 206f 6620 7365 7420 6f70  n list of set op
+00015d20: 7469 6f6e 730a 2020 2020 2020 2020 2020  tions.          
+00015d30: 2020 7365 7473 546f 4469 7370 6c61 792e    setsToDisplay.
+00015d40: 6170 7065 6e64 2874 7562 655b 2273 6574  append(tube["set
+00015d50: 4e61 6d65 225d 2920 2023 2041 6464 2074  Name"])  # Add t
+00015d60: 7562 6520 7365 7420 6e61 6d65 2074 6f20  ube set name to 
+00015d70: 6c69 7374 206f 6620 7365 7420 6f70 7469  list of set opti
+00015d80: 6f6e 730a 2020 2020 2020 2020 6966 2074  ons.        if t
+00015d90: 7562 655b 2273 6574 4e61 6d65 225d 2069  ube["setName"] i
+00015da0: 6e20 7365 7473 5365 6c65 6374 6564 3a20  n setsSelected: 
+00015db0: 2023 2049 6620 7475 6265 2073 6574 206e   # If tube set n
+00015dc0: 616d 6520 6973 2069 6e20 6c69 7374 206f  ame is in list o
+00015dd0: 6620 7365 6c65 6374 6564 2073 6574 730a  f selected sets.
+00015de0: 2020 2020 2020 2020 2020 2020 7475 6265              tube
+00015df0: 7354 6f44 6973 706c 6179 2e61 7070 656e  sToDisplay.appen
+00015e00: 6428 7475 6265 5b22 7365 744e 616d 6522  d(tube["setName"
+00015e10: 5d20 2b20 2220 7c20 2220 2b20 7374 7228  ] + " | " + str(
+00015e20: 7475 6265 5b22 7475 6265 4e75 6d62 6572  tube["tubeNumber
+00015e30: 225d 202b 2031 2929 2020 2320 4164 6420  "] + 1))  # Add 
+00015e40: 7365 7420 616e 6420 7475 6265 2074 6f20  set and tube to 
+00015e50: 6c69 7374 206f 6620 7475 6265 206f 7074  list of tube opt
+00015e60: 696f 6e73 0a20 2020 200a 2020 2020 2320  ions.    .    # 
+00015e70: 4163 636f 756e 7420 666f 7220 6e65 7720  Account for new 
+00015e80: 6669 6c65 206f 7065 6e73 0a20 2020 2069  file opens.    i
+00015e90: 6620 736f 7274 6564 2865 7870 6572 696d  f sorted(experim
+00015ea0: 656e 7454 6162 506c 6f74 5475 6265 5365  entTabPlotTubeSe
+00015eb0: 6c65 6374 696f 6e53 6574 4c69 7374 2e69  lectionSetList.i
+00015ec0: 7465 6d73 2920 213d 2073 6f72 7465 6428  tems) != sorted(
+00015ed0: 7365 7473 546f 4469 7370 6c61 7929 3a20  setsToDisplay): 
+00015ee0: 2023 2049 6620 7365 7473 2069 6e20 6c69   # If sets in li
+00015ef0: 7374 2064 6f6e 2774 206d 6174 6368 2063  st don't match c
+00015f00: 7572 7265 6e74 206f 7065 6e20 6669 6c65  urrent open file
+00015f10: 0a20 2020 2020 2020 2077 6869 6c65 206c  .        while l
+00015f20: 656e 2865 7870 6572 696d 656e 7454 6162  en(experimentTab
+00015f30: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
+00015f40: 6e53 6574 4c69 7374 2e69 7465 6d73 2920  nSetList.items) 
+00015f50: 3e20 303a 2020 2320 556e 7469 6c20 7365  > 0:  # Until se
+00015f60: 7420 6c69 7374 2069 7320 656d 7074 790a  t list is empty.
+00015f70: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00015f80: 6974 656d 2069 6e20 6578 7065 7269 6d65  item in experime
+00015f90: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
+00015fa0: 6563 7469 6f6e 5365 744c 6973 742e 6974  ectionSetList.it
+00015fb0: 656d 733a 2020 2320 466f 7220 6561 6368  ems:  # For each
+00015fc0: 2069 7465 6d20 696e 2073 6574 206c 6973   item in set lis
+00015fd0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
+00015fe0: 2020 6578 7065 7269 6d65 6e74 5461 6250    experimentTabP
+00015ff0: 6c6f 7454 7562 6553 656c 6563 7469 6f6e  lotTubeSelection
+00016000: 5365 744c 6973 742e 7265 6d6f 7665 2869  SetList.remove(i
+00016010: 7465 6d29 2020 2320 5265 6d6f 7665 2069  tem)  # Remove i
+00016020: 7465 6d20 6672 6f6d 2073 6574 206c 6973  tem from set lis
+00016030: 740a 2020 2020 2020 2020 666f 7220 696e  t.        for in
+00016040: 6465 782c 2073 6574 4e61 6d65 2069 6e20  dex, setName in 
+00016050: 656e 756d 6572 6174 6528 7365 7473 546f  enumerate(setsTo
+00016060: 4469 7370 6c61 7929 3a20 2023 2046 6f72  Display):  # For
+00016070: 2065 6163 6820 7365 7420 746f 2064 6973   each set to dis
+00016080: 706c 6179 0a20 2020 2020 2020 2020 2020  play.           
+00016090: 2065 7870 6572 696d 656e 7454 6162 506c   experimentTabPl
+000160a0: 6f74 5475 6265 5365 6c65 6374 696f 6e53  otTubeSelectionS
+000160b0: 6574 4c69 7374 2e69 6e73 6572 7428 696e  etList.insert(in
+000160c0: 6465 782c 2073 6574 4e61 6d65 2920 2023  dex, setName)  #
+000160d0: 2041 6464 2073 6574 206e 616d 6520 746f   Add set name to
+000160e0: 2074 7562 6520 6c69 7374 0a20 2020 2020   tube list.     
+000160f0: 2020 2073 6574 7353 656c 6563 7465 6420     setsSelected 
+00016100: 3d20 5b5d 0a20 2020 200a 2020 2020 2343  = [].    .    #C
+00016110: 6861 6e67 6520 656c 656d 656e 7473 206f  hange elements o
+00016120: 6620 7365 7420 616e 6420 7475 6265 206c  f set and tube l
+00016130: 6973 7473 2074 6f20 7265 666c 6563 7420  ists to reflect 
+00016140: 7573 6572 2073 656c 6563 7469 6f6e 730a  user selections.
+00016150: 2020 2020 6966 206c 656e 2865 7870 6572      if len(exper
+00016160: 696d 656e 7454 6162 506c 6f74 5475 6265  imentTabPlotTube
+00016170: 5365 6c65 6374 696f 6e53 6574 4c69 7374  SelectionSetList
+00016180: 2e69 7465 6d73 2920 3d3d 2030 3a20 2023  .items) == 0:  #
+00016190: 2049 6620 7365 7420 6c69 7374 2069 7320   If set list is 
+000161a0: 656d 7074 790a 2020 2020 2020 2020 666f  empty.        fo
+000161b0: 7220 696e 6465 782c 2073 6574 4e61 6d65  r index, setName
+000161c0: 2069 6e20 656e 756d 6572 6174 6528 7365   in enumerate(se
+000161d0: 7473 546f 4469 7370 6c61 7929 3a20 2023  tsToDisplay):  #
+000161e0: 2046 6f72 2065 6163 6820 7365 7420 746f   For each set to
+000161f0: 2064 6973 706c 6179 0a20 2020 2020 2020   display.       
+00016200: 2020 2020 2065 7870 6572 696d 656e 7454       experimentT
+00016210: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
+00016220: 696f 6e53 6574 4c69 7374 2e69 6e73 6572  ionSetList.inser
+00016230: 7428 696e 6465 782c 2073 6574 4e61 6d65  t(index, setName
+00016240: 2920 2023 2041 6464 2073 6574 206e 616d  )  # Add set nam
+00016250: 6520 746f 2073 6574 206c 6973 740a 2020  e to set list.  
+00016260: 2020 7768 696c 6520 6c65 6e28 6578 7065    while len(expe
+00016270: 7269 6d65 6e74 5461 6250 6c6f 7454 7562  rimentTabPlotTub
+00016280: 6553 656c 6563 7469 6f6e 5475 6265 4c69  eSelectionTubeLi
+00016290: 7374 2e69 7465 6d73 2920 3e20 303a 2020  st.items) > 0:  
+000162a0: 2320 556e 7469 6c20 7475 6265 206c 6973  # Until tube lis
+000162b0: 7420 6973 2065 6d70 7479 0a20 2020 2020  t is empty.     
+000162c0: 2020 2066 6f72 2069 7465 6d20 696e 2065     for item in e
+000162d0: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
+000162e0: 5475 6265 5365 6c65 6374 696f 6e54 7562  TubeSelectionTub
+000162f0: 654c 6973 742e 6974 656d 733a 2020 2320  eList.items:  # 
+00016300: 466f 7220 6561 6368 2069 7465 6d20 696e  For each item in
+00016310: 2074 7562 6520 6c69 7374 0a20 2020 2020   tube list.     
+00016320: 2020 2020 2020 2065 7870 6572 696d 656e         experimen
+00016330: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
+00016340: 6374 696f 6e54 7562 654c 6973 742e 7265  ctionTubeList.re
+00016350: 6d6f 7665 2869 7465 6d29 2020 2320 5265  move(item)  # Re
+00016360: 6d6f 7665 2069 7465 6d20 6672 6f6d 2074  move item from t
+00016370: 7562 6520 6c69 7374 0a20 2020 2066 6f72  ube list.    for
+00016380: 2069 6e64 6578 2c20 7475 6265 4e61 6d65   index, tubeName
+00016390: 2069 6e20 656e 756d 6572 6174 6528 7475   in enumerate(tu
+000163a0: 6265 7354 6f44 6973 706c 6179 293a 2020  besToDisplay):  
+000163b0: 2320 466f 7220 6561 6368 2074 7562 6520  # For each tube 
+000163c0: 746f 2064 6973 706c 6179 0a20 2020 2020  to display.     
+000163d0: 2020 2065 7870 6572 696d 656e 7454 6162     experimentTab
+000163e0: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
+000163f0: 6e54 7562 654c 6973 742e 696e 7365 7274  nTubeList.insert
+00016400: 2869 6e64 6578 2c20 7475 6265 4e61 6d65  (index, tubeName
+00016410: 2920 2023 2041 6464 2074 7562 6520 6e61  )  # Add tube na
+00016420: 6d65 2074 6f20 7475 6265 206c 6973 740a  me to tube list.
+00016430: 2020 2020 6578 7065 7269 6d65 6e74 5461      experimentTa
+00016440: 6250 6c6f 7454 7562 6553 656c 6563 7469  bPlotTubeSelecti
+00016450: 6f6e 5475 6265 4c69 7374 2e76 616c 7565  onTubeList.value
+00016460: 203d 2074 7562 6553 656c 6563 7465 6420   = tubeSelected 
+00016470: 2023 2050 7265 7365 6c65 6374 2075 7365   # Preselect use
+00016480: 722d 7370 6563 6966 6965 6420 7475 6265  r-specified tube
+00016490: 730a 0a0a 6465 6620 7361 7665 5374 6174  s...def saveStat
+000164a0: 6973 7469 6361 6c41 6e61 6c79 7369 7344  isticalAnalysisD
+000164b0: 6174 6128 293a 0a20 2020 2022 2222 5361  ata():.    """Sa
+000164c0: 7665 2073 7461 7469 7374 6963 616c 2061  ve statistical a
+000164d0: 6e61 6c79 7369 7320 6f75 7470 7574 2061  nalysis output a
+000164e0: 7320 6373 762e 2222 220a 2020 2020 0a20  s csv.""".    . 
+000164f0: 2020 200a 2020 2020 676c 6f62 616c 2077     .    global w
+00016500: 6f72 6b69 6e67 4469 720a 2020 2020 676c  orkingDir.    gl
+00016510: 6f62 616c 2065 7870 6572 696d 656e 7454  obal experimentT
+00016520: 6162 5374 6174 6973 7469 6361 6c41 6e61  abStatisticalAna
+00016530: 6c79 7369 7353 6574 4c69 7374 0a20 2020  lysisSetList.   
+00016540: 2067 6c6f 6261 6c20 6578 7065 7269 6d65   global experime
+00016550: 6e74 5461 6253 7461 7469 7374 6963 616c  ntTabStatistical
+00016560: 416e 616c 7973 6973 5475 6265 4c69 7374  AnalysisTubeList
+00016570: 0a20 2020 2067 6c6f 6261 6c20 6578 7065  .    global expe
+00016580: 7269 6d65 6e74 5461 6254 6162 6c65 5061  rimentTabTablePa
+00016590: 7261 6d73 4872 734c 6f77 4472 6f70 646f  ramsHrsLowDropdo
+000165a0: 776e 0a20 2020 2067 6c6f 6261 6c20 6578  wn.    global ex
+000165b0: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
+000165c0: 5061 7261 6d73 4872 7348 6967 6844 726f  ParamsHrsHighDro
+000165d0: 7064 6f77 6e0a 2020 2020 676c 6f62 616c  pdown.    global
+000165e0: 2074 7562 6573 4d61 7374 6572 0a20 2020   tubesMaster.   
+000165f0: 200a 0a20 2020 2023 2047 6574 2069 6e66   ..    # Get inf
+00016600: 6f72 6d61 7469 6f6e 206f 6620 7365 6c65  ormation of sele
+00016610: 6374 6564 2074 7562 6573 0a20 2020 2073  cted tubes.    s
+00016620: 6574 4e61 6d65 7353 656c 6563 7465 6420  etNamesSelected 
+00016630: 3d20 6578 7065 7269 6d65 6e74 5461 6253  = experimentTabS
+00016640: 7461 7469 7374 6963 616c 416e 616c 7973  tatisticalAnalys
+00016650: 6973 5365 744c 6973 742e 7661 6c75 650a  isSetList.value.
+00016660: 2020 2020 7475 6265 7353 656c 6563 7465      tubesSelecte
+00016670: 6420 3d20 6578 7065 7269 6d65 6e74 5461  d = experimentTa
+00016680: 6253 7461 7469 7374 6963 616c 416e 616c  bStatisticalAnal
+00016690: 7973 6973 5475 6265 4c69 7374 2e76 616c  ysisTubeList.val
+000166a0: 7565 0a20 2020 2066 696c 6552 6f77 7320  ue.    fileRows 
+000166b0: 3d20 5b5d 2020 2320 426c 616e 6b20 6c69  = []  # Blank li
+000166c0: 7374 206f 6620 7065 7269 6f64 7320 666f  st of periods fo
+000166d0: 7220 616e 616c 7973 6973 0a20 2020 2066  r analysis.    f
+000166e0: 6f72 2074 7562 6520 696e 2074 7562 6573  or tube in tubes
+000166f0: 4d61 7374 6572 3a20 2023 2046 6f72 2065  Master:  # For e
+00016700: 6163 6820 7475 6265 2069 6e20 6d61 7374  ach tube in mast
+00016710: 6572 2074 7562 6573 206c 6973 740a 2020  er tubes list.  
+00016720: 2020 2020 2020 6966 2028 7475 6265 5b22        if (tube["
+00016730: 7365 744e 616d 6522 5d20 2b20 2220 7c20  setName"] + " | 
+00016740: 2220 2b20 7374 7228 7475 6265 5b22 7475  " + str(tube["tu
+00016750: 6265 4e75 6d62 6572 225d 202b 2031 2929  beNumber"] + 1))
+00016760: 2069 6e20 7475 6265 7353 656c 6563 7465   in tubesSelecte
+00016770: 643a 2020 2320 4966 2074 7562 6520 616e  d:  # If tube an
+00016780: 6420 7365 7420 6e61 6d65 206d 6174 6368  d set name match
+00016790: 2061 2073 656c 6563 7465 6420 7475 6265   a selected tube
+000167a0: 206f 7074 696f 6e0a 2020 2020 2020 2020   option.        
+000167b0: 2020 2020 7065 7269 6f64 7320 3d20 6361      periods = ca
+000167c0: 6c63 756c 6174 6550 6572 696f 6444 6174  lculatePeriodDat
+000167d0: 6128 7475 6265 5b22 6465 6e73 6974 7950  a(tube["densityP
+000167e0: 726f 6669 6c65 225d 2c20 7475 6265 5b22  rofile"], tube["
+000167f0: 6d61 726b 486f 7572 7322 5d2c 2074 7562  markHours"], tub
+00016800: 655b 2274 696d 654d 6172 6b73 225d 2c20  e["timeMarks"], 
+00016810: 7475 6265 5b22 6261 6e64 4d61 726b 7322  tube["bandMarks"
+00016820: 5d2c 2031 342c 2033 322c 2074 7562 655b  ], 14, 32, tube[
+00016830: 2274 7562 6552 616e 6765 225d 2c20 666c  "tubeRange"], fl
+00016840: 6f61 7428 6578 7065 7269 6d65 6e74 5461  oat(experimentTa
+00016850: 6254 6162 6c65 5061 7261 6d73 4872 734c  bTableParamsHrsL
+00016860: 6f77 4472 6f70 646f 776e 2e76 616c 7565  owDropdown.value
+00016870: 292c 2066 6c6f 6174 2865 7870 6572 696d  ), float(experim
+00016880: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
+00016890: 7348 7273 4869 6768 4472 6f70 646f 776e  sHrsHighDropdown
+000168a0: 2e76 616c 7565 2929 0a20 2020 2020 2020  .value)).       
+000168b0: 2020 2020 2066 696c 6552 6f77 203d 205b       fileRow = [
+000168c0: 7475 6265 5b22 7365 744e 616d 6522 5d2c  tube["setName"],
+000168d0: 2073 7472 2874 7562 655b 2274 7562 654e   str(tube["tubeN
+000168e0: 756d 6265 7222 5d2b 3129 2c20 726f 756e  umber"]+1), roun
+000168f0: 6428 7065 7269 6f64 735b 2270 6572 696f  d(periods["perio
+00016900: 644c 696e 6561 7252 6567 7265 7373 696f  dLinearRegressio
+00016910: 6e22 5d2c 2033 292c 2072 6f75 6e64 2870  n"], 3), round(p
+00016920: 6572 696f 6473 5b22 7065 7269 6f64 536f  eriods["periodSo
+00016930: 6b6f 6c6f 7665 4275 7368 656c 6c22 5d2c  koloveBushell"],
+00016940: 2033 292c 2072 6f75 6e64 2870 6572 696f   3), round(perio
+00016950: 6473 5b22 7065 7269 6f64 4c6f 6d62 5363  ds["periodLombSc
+00016960: 6172 676c 6522 5d2c 2033 292c 2072 6f75  argle"], 3), rou
+00016970: 6e64 2870 6572 696f 6473 5b22 7065 7269  nd(periods["peri
+00016980: 6f64 5761 7665 6c65 7422 5d2c 2033 295d  odWavelet"], 3)]
+00016990: 2020 2320 4c69 7374 206f 6620 7365 7420    # List of set 
+000169a0: 6e61 6d65 2c20 7475 6265 206e 616d 652c  name, tube name,
+000169b0: 2061 6e64 2061 6c6c 2074 6872 6565 2070   and all three p
+000169c0: 6572 696f 6473 2066 6f72 2065 6163 6820  eriods for each 
+000169d0: 7475 6265 0a20 2020 2020 2020 2020 2020  tube.           
+000169e0: 2066 696c 6552 6f77 732e 6170 7065 6e64   fileRows.append
+000169f0: 2866 696c 6552 6f77 2920 2023 2041 6464  (fileRow)  # Add
+00016a00: 2073 656c 6563 7465 6420 7065 7269 6f64   selected period
+00016a10: 2074 6f20 6c69 7374 206f 6620 7065 7269   to list of peri
+00016a20: 6f64 7320 666f 7220 616e 616c 7973 6973  ods for analysis
+00016a30: 0a20 2020 200a 2020 2020 2343 7265 6174  .    .    #Creat
+00016a40: 6520 6669 6c65 2063 6f6e 7465 6e74 730a  e file contents.
+00016a50: 2020 2020 7065 7269 6f64 734d 616e 7561      periodsManua
+00016a60: 6c20 3d20 5b5d 2020 2320 426c 616e 6b20  l = []  # Blank 
+00016a70: 6c69 7374 2066 6f72 206d 616e 7561 6c20  list for manual 
+00016a80: 7065 7269 6f64 730a 2020 2020 7065 7269  periods.    peri
+00016a90: 6f64 7353 6f6b 6f6c 6f76 6542 7573 6865  odsSokoloveBushe
+00016aa0: 6c6c 3d20 5b5d 2020 2320 426c 616e 6b20  ll= []  # Blank 
+00016ab0: 6c69 7374 2066 6f72 2053 2d42 2070 6572  list for S-B per
+00016ac0: 696f 6473 0a20 2020 2070 6572 696f 6473  iods.    periods
+00016ad0: 4c6f 6d62 5363 6172 676c 6520 3d20 5b5d  LombScargle = []
+00016ae0: 2020 2320 426c 616e 6b20 6c69 7374 2066    # Blank list f
+00016af0: 6f72 204c 2d53 2070 6572 696f 6473 0a20  or L-S periods. 
+00016b00: 2020 2066 6f72 2072 6f77 2069 6e20 6669     for row in fi
+00016b10: 6c65 526f 7773 3a20 2023 2046 6f72 2065  leRows:  # For e
+00016b20: 6163 6820 6669 6c65 2072 6f77 0a20 2020  ach file row.   
+00016b30: 2020 2020 2070 6572 696f 6473 4d61 6e75       periodsManu
+00016b40: 616c 2e61 7070 656e 6428 726f 775b 325d  al.append(row[2]
+00016b50: 2920 2023 2041 6464 206d 616e 7561 6c20  )  # Add manual 
+00016b60: 7065 7269 6f64 2074 6f20 6c69 7374 206f  period to list o
+00016b70: 6620 6d61 6e75 616c 2070 6572 696f 6473  f manual periods
+00016b80: 0a20 2020 2020 2020 2070 6572 696f 6473  .        periods
+00016b90: 536f 6b6f 6c6f 7665 4275 7368 656c 6c2e  SokoloveBushell.
+00016ba0: 6170 7065 6e64 2872 6f77 5b33 5d29 2020  append(row[3])  
+00016bb0: 2320 4164 6420 532d 4220 7065 7269 6f64  # Add S-B period
+00016bc0: 2074 6f20 6c69 7374 206f 6620 532d 4220   to list of S-B 
+00016bd0: 7065 7269 6f64 730a 2020 2020 2020 2020  periods.        
+00016be0: 7065 7269 6f64 734c 6f6d 6253 6361 7267  periodsLombScarg
+00016bf0: 6c65 2e61 7070 656e 6428 726f 775b 345d  le.append(row[4]
+00016c00: 2920 2023 2041 6464 204c 2d53 2070 6572  )  # Add L-S per
+00016c10: 696f 6420 746f 206c 6973 7420 6f66 204c  iod to list of L
+00016c20: 2d53 2070 6572 696f 6473 0a20 2020 2066  -S periods.    f
+00016c30: 696c 6552 6f77 732e 6170 7065 6e64 285b  ileRows.append([
+00016c40: 224d 6561 6e22 2c20 226e 203d 2022 2b73  "Mean", "n = "+s
+00016c50: 7472 286c 656e 2870 6572 696f 6473 4d61  tr(len(periodsMa
+00016c60: 6e75 616c 2929 2c20 6e75 6d70 792e 6d65  nual)), numpy.me
+00016c70: 616e 2870 6572 696f 6473 4d61 6e75 616c  an(periodsManual
+00016c80: 292c 206e 756d 7079 2e6d 6561 6e28 7065  ), numpy.mean(pe
+00016c90: 7269 6f64 7353 6f6b 6f6c 6f76 6542 7573  riodsSokoloveBus
+00016ca0: 6865 6c6c 292c 206e 756d 7079 2e6d 6561  hell), numpy.mea
+00016cb0: 6e28 7065 7269 6f64 734c 6f6d 6253 6361  n(periodsLombSca
+00016cc0: 7267 6c65 295d 2920 2023 2041 6464 2072  rgle)])  # Add r
+00016cd0: 6f77 2074 6f20 6669 6c65 2066 6f72 206d  ow to file for m
+00016ce0: 6561 6e73 206f 6620 6561 6368 2070 6572  eans of each per
+00016cf0: 696f 6420 7479 7065 0a20 2020 2066 696c  iod type.    fil
+00016d00: 6552 6f77 732e 6170 7065 6e64 285b 2253  eRows.append(["S
+00016d10: 7461 6e64 6172 6420 4465 7669 6174 696f  tandard Deviatio
+00016d20: 6e22 2c20 2222 2c20 6e75 6d70 792e 7374  n", "", numpy.st
+00016d30: 6428 7065 7269 6f64 734d 616e 7561 6c29  d(periodsManual)
+00016d40: 2c20 6e75 6d70 792e 7374 6428 7065 7269  , numpy.std(peri
+00016d50: 6f64 7353 6f6b 6f6c 6f76 6542 7573 6865  odsSokoloveBushe
+00016d60: 6c6c 292c 206e 756d 7079 2e73 7464 2870  ll), numpy.std(p
+00016d70: 6572 696f 6473 4c6f 6d62 5363 6172 676c  eriodsLombScargl
+00016d80: 6529 5d29 2020 2320 4164 6420 726f 7720  e)])  # Add row 
+00016d90: 746f 2066 696c 6520 666f 7220 7374 616e  to file for stan
+00016da0: 6461 7264 2064 6576 6961 7469 6f6e 7320  dard deviations 
+00016db0: 6f66 2065 6163 6820 7065 7269 6f64 2074  of each period t
+00016dc0: 7970 650a 2020 2020 6669 6c65 526f 7773  ype.    fileRows
+00016dd0: 2e61 7070 656e 6428 5b22 5374 616e 6461  .append(["Standa
+00016de0: 7264 2045 7272 6f72 206f 6620 4d65 616e  rd Error of Mean
+00016df0: 7322 2c20 2222 2c20 6e75 6d70 792e 7374  s", "", numpy.st
+00016e00: 6428 7065 7269 6f64 734d 616e 7561 6c29  d(periodsManual)
+00016e10: 2f6e 756d 7079 2e73 7172 7428 6c65 6e28  /numpy.sqrt(len(
+00016e20: 7065 7269 6f64 734d 616e 7561 6c29 292c  periodsManual)),
+00016e30: 206e 756d 7079 2e73 7464 2870 6572 696f   numpy.std(perio
+00016e40: 6473 536f 6b6f 6c6f 7665 4275 7368 656c  dsSokoloveBushel
+00016e50: 6c29 2f6e 756d 7079 2e73 7172 7428 6c65  l)/numpy.sqrt(le
+00016e60: 6e28 7065 7269 6f64 7353 6f6b 6f6c 6f76  n(periodsSokolov
+00016e70: 6542 7573 6865 6c6c 2929 2c20 6e75 6d70  eBushell)), nump
+00016e80: 792e 7374 6428 7065 7269 6f64 734c 6f6d  y.std(periodsLom
+00016e90: 6253 6361 7267 6c65 292f 6e75 6d70 792e  bScargle)/numpy.
+00016ea0: 7371 7274 286c 656e 2870 6572 696f 6473  sqrt(len(periods
+00016eb0: 4c6f 6d62 5363 6172 676c 6529 295d 2920  LombScargle))]) 
+00016ec0: 2023 2041 6464 2072 6f77 2074 6f20 6669   # Add row to fi
+00016ed0: 6c65 2066 6f72 2073 7461 6e64 6172 6420  le for standard 
+00016ee0: 6572 726f 7273 206f 6620 6d65 616e 7320  errors of means 
+00016ef0: 6f66 2065 6163 6820 7065 7269 6f64 2074  of each period t
+00016f00: 7970 650a 2020 2020 6461 7461 4669 6c65  ype.    dataFile
+00016f10: 4e61 6d65 203d 2061 7070 2e73 656c 6563  Name = app.selec
+00016f20: 745f 6669 6c65 280a 2020 2020 2020 2020  t_file(.        
+00016f30: 7469 746c 653d 2253 6176 6520 7065 7269  title="Save peri
+00016f40: 6f64 2064 6174 6120 6173 2e2e 2e22 2c0a  od data as...",.
+00016f50: 2020 2020 2020 2020 666f 6c64 6572 3d77          folder=w
+00016f60: 6f72 6b69 6e67 4469 722c 0a20 2020 2020  orkingDir,.     
+00016f70: 2020 2066 696c 6574 7970 6573 3d5b 5b22     filetypes=[["
+00016f80: 4353 5622 2c20 222a 2e63 7376 225d 5d2c  CSV", "*.csv"]],
+00016f90: 0a20 2020 2020 2020 2073 6176 653d 5472  .        save=Tr
+00016fa0: 7565 2c0a 2020 2020 2020 2020 6669 6c65  ue,.        file
+00016fb0: 6e61 6d65 3d28 225f 222e 6a6f 696e 2873  name=("_".join(s
+00016fc0: 6574 4e61 6d65 7353 656c 6563 7465 6429  etNamesSelected)
+00016fd0: 202b 2022 5f70 6572 696f 645f 6461 7461   + "_period_data
+00016fe0: 2229 2c0a 2020 2020 2920 2023 2047 6574  "),.    )  # Get
+00016ff0: 2075 7365 7220 7365 6c65 6374 696f 6e20   user selection 
+00017000: 6f66 2066 696c 6520 6e61 6d65 2061 6e64  of file name and
+00017010: 206c 6f63 6174 696f 6e20 7769 7468 2061   location with a
+00017020: 7070 2070 6f70 7570 0a20 2020 2077 6974  pp popup.    wit
+00017030: 6820 6f70 656e 2864 6174 6146 696c 654e  h open(dataFileN
+00017040: 616d 652c 2027 7727 2c20 6e65 776c 696e  ame, 'w', newlin
+00017050: 653d 2727 2c20 656e 636f 6469 6e67 3d27  e='', encoding='
+00017060: 7574 662d 3136 2729 2061 7320 6461 7461  utf-16') as data
+00017070: 4669 6c65 3a20 2023 204f 7065 6e20 7573  File:  # Open us
+00017080: 6572 2d73 7065 6369 6669 6564 2063 7376  er-specified csv
+00017090: 2066 696c 6520 6c6f 6361 7469 6f6e 0a20   file location. 
+000170a0: 2020 2020 2020 2072 6f77 5772 6974 6572         rowWriter
+000170b0: 203d 2063 7376 2e77 7269 7465 7228 6461   = csv.writer(da
+000170c0: 7461 4669 6c65 2c20 6465 6c69 6d69 7465  taFile, delimite
+000170d0: 723d 272c 2729 2020 2320 5772 6974 6520  r=',')  # Write 
+000170e0: 726f 7773 2064 656c 696d 6974 6564 2062  rows delimited b
+000170f0: 7920 222c 220a 2020 2020 2020 2020 726f  y ",".        ro
+00017100: 7757 7269 7465 722e 7772 6974 6572 6f77  wWriter.writerow
+00017110: 285b 2250 6163 6b20 4e61 6d65 222c 2022  (["Pack Name", "
+00017120: 5475 6265 2023 222c 2022 cf84 2028 6872  Tube #", ".. (hr
+00017130: 7329 2028 4c69 6e65 6172 2052 6567 7265  s) (Linear Regre
+00017140: 7373 696f 6e29 222c 2022 cf84 2028 6872  ssion)", ".. (hr
+00017150: 7329 2028 536f 6b6f 6c6f 7665 2d42 7573  s) (Sokolove-Bus
+00017160: 6865 6c6c 2922 2c20 22cf 8420 2868 7273  hell)", ".. (hrs
+00017170: 2920 284c 6f6d 622d 5363 6172 676c 6529  ) (Lomb-Scargle)
+00017180: 225d 2920 2023 2057 7269 7465 2074 6974  "])  # Write tit
+00017190: 6c65 2072 6f77 0a20 2020 2020 2020 2066  le row.        f
+000171a0: 6f72 2066 696c 6552 6f77 2069 6e20 6669  or fileRow in fi
+000171b0: 6c65 526f 7773 3a20 2023 2046 6f72 2065  leRows:  # For e
+000171c0: 6163 6820 6669 6c65 2072 6f77 0a20 2020  ach file row.   
+000171d0: 2020 2020 2020 2020 2072 6f77 5772 6974           rowWrit
+000171e0: 6572 2e77 7269 7465 726f 7728 6669 6c65  er.writerow(file
+000171f0: 526f 7729 2020 2320 5772 6974 6520 726f  Row)  # Write ro
+00017200: 7720 746f 2066 696c 650a 0a0a 6465 6620  w to file...def 
+00017210: 7361 7665 506c 6f74 2829 3a0a 2020 2020  savePlot():.    
+00017220: 2222 2253 6176 6520 706c 6f74 2061 7320  """Save plot as 
+00017230: 696d 6167 652e 2222 220a 0a0a 2020 2020  image."""...    
+00017240: 676c 6f62 616c 2070 6c6f 7449 6d61 6765  global plotImage
+00017250: 4172 7261 790a 2020 2020 676c 6f62 616c  Array.    global
+00017260: 2077 6f72 6b69 6e67 4469 720a 2020 2020   workingDir.    
+00017270: 676c 6f62 616c 2065 7870 6572 696d 656e  global experimen
+00017280: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
+00017290: 6374 696f 6e53 6574 4c69 7374 0a20 2020  ctionSetList.   
+000172a0: 2067 6c6f 6261 6c20 6578 7065 7269 6d65   global experime
+000172b0: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
+000172c0: 6563 7469 6f6e 5475 6265 4c69 7374 0a20  ectionTubeList. 
+000172d0: 2020 200a 0a20 2020 2069 6620 706c 6f74     ..    if plot
+000172e0: 496d 6167 6541 7272 6179 2069 7320 6e6f  ImageArray is no
+000172f0: 7420 4e6f 6e65 3a20 2023 2049 6620 706c  t None:  # If pl
+00017300: 6f74 7320 6861 7665 2061 6c72 6561 6479  ots have already
+00017310: 2062 6565 6e20 6372 6561 7465 640a 2020   been created.  
+00017320: 2020 2020 2020 7475 6265 4e75 6d62 6572        tubeNumber
+00017330: 203d 2065 7870 6572 696d 656e 7454 6162   = experimentTab
+00017340: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
+00017350: 6e54 7562 654c 6973 742e 7661 6c75 655b  nTubeList.value[
+00017360: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00017370: 7454 7562 6553 656c 6563 7469 6f6e 5475  tTubeSelectionTu
+00017380: 6265 4c69 7374 2e76 616c 7565 2e72 696e  beList.value.rin
+00017390: 6465 7828 227c 2229 2b32 3a5d 2020 2320  dex("|")+2:]  # 
+000173a0: 4765 7420 7475 6265 206e 756d 6265 7220  Get tube number 
+000173b0: 6672 6f6d 2074 7562 6520 6e61 6d65 2069  from tube name i
+000173c0: 6e20 7475 6265 206c 6973 7420 7365 6c65  n tube list sele
+000173d0: 6374 696f 6e0a 2020 2020 2020 2020 6d65  ction.        me
+000173e0: 7468 6f64 203d 2065 7870 6572 696d 656e  thod = experimen
+000173f0: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
+00017400: 6374 696f 6e4d 6574 686f 644c 6973 742e  ctionMethodList.
+00017410: 7661 6c75 652e 7265 706c 6163 6528 2257  value.replace("W
+00017420: 6176 656c 6574 2028 4357 5429 222c 2022  avelet (CWT)", "
+00017430: 4357 5422 2920 2023 2047 6574 206d 6574  CWT")  # Get met
+00017440: 686f 6420 6672 6f6d 2073 656c 6563 7469  hod from selecti
+00017450: 6f6e 2069 6e20 6d65 7468 6f64 206c 6973  on in method lis
+00017460: 740a 2020 2020 2020 2020 706c 6f74 4669  t.        plotFi
+00017470: 6c65 4e61 6d65 203d 2061 7070 2e73 656c  leName = app.sel
+00017480: 6563 745f 6669 6c65 280a 2020 2020 2020  ect_file(.      
+00017490: 2020 2020 2020 7469 746c 653d 2253 6176        title="Sav
+000174a0: 6520 706c 6f74 2061 732e 2e2e 222c 0a20  e plot as...",. 
+000174b0: 2020 2020 2020 2020 2020 2066 6f6c 6465             folde
+000174c0: 723d 776f 726b 696e 6744 6972 2c0a 2020  r=workingDir,.  
+000174d0: 2020 2020 2020 2020 2020 6669 6c65 7479            filety
+000174e0: 7065 733d 5b5b 2253 5647 222c 2022 2a2e  pes=[["SVG", "*.
+000174f0: 7376 6722 5d2c 205b 2250 4e47 222c 2022  svg"], ["PNG", "
+00017500: 2a2e 706e 6722 5d2c 205b 224a 5047 222c  *.png"], ["JPG",
+00017510: 2022 2a2e 6a70 6722 5d2c 205b 224a 5045   "*.jpg"], ["JPE
+00017520: 4722 2c20 222a 2e6a 7065 6722 5d2c 205b  G", "*.jpeg"], [
+00017530: 2254 4946 4622 2c20 222a 2e74 6966 225d  "TIFF", "*.tif"]
+00017540: 5d2c 0a20 2020 2020 2020 2020 2020 2073  ],.            s
+00017550: 6176 653d 5472 7565 2c0a 2020 2020 2020  ave=True,.      
+00017560: 2020 2020 2020 6669 6c65 6e61 6d65 3d28        filename=(
+00017570: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00017580: 7454 7562 6553 656c 6563 7469 6f6e 5365  tTubeSelectionSe
+00017590: 744c 6973 742e 7661 6c75 6520 2b20 225f  tList.value + "_
+000175a0: 7475 6265 2220 2b20 7475 6265 4e75 6d62  tube" + tubeNumb
+000175b0: 6572 202b 2022 5f22 202b 206d 6574 686f  er + "_" + metho
+000175c0: 6429 2c0a 2020 2020 2020 2020 2920 2023  d),.        )  #
+000175d0: 2047 6574 2066 696c 6520 6e61 6d65 2061   Get file name a
+000175e0: 6e64 2073 6176 6520 6c6f 6361 7469 6f6e  nd save location
+000175f0: 2066 726f 6d20 7573 6572 2076 6961 2061   from user via a
+00017600: 7070 2070 6f70 7570 0a20 2020 2020 2020  pp popup.       
+00017610: 206e 6577 4669 6775 7265 203d 2063 6f70   newFigure = cop
+00017620: 792e 6465 6570 636f 7079 2870 6c6f 7449  y.deepcopy(plotI
+00017630: 6d61 6765 4172 7261 7929 0a20 2020 2020  mageArray).     
+00017640: 2020 206e 6577 4669 6775 7265 2e73 6574     newFigure.set
+00017650: 5f64 7069 2831 3230 3029 0a20 2020 2020  _dpi(1200).     
+00017660: 2020 206e 6577 4669 6775 7265 2e73 6176     newFigure.sav
+00017670: 6566 6967 2870 6c6f 7446 696c 654e 616d  efig(plotFileNam
+00017680: 652c 2064 7069 3d31 3230 3029 0a0a 0a64  e, dpi=1200)...d
+00017690: 6566 2073 6176 6544 656e 7369 746f 6d65  ef saveDensitome
+000176a0: 7472 7944 6174 6128 293a 0a20 2020 2022  tryData():.    "
+000176b0: 2222 5361 7665 2064 656e 7369 746f 6d65  ""Save densitome
+000176c0: 7472 7920 6461 7461 2061 7320 6373 762e  try data as csv.
+000176d0: 2222 220a 2020 2020 0a20 2020 200a 2020  """.    .    .  
+000176e0: 2020 676c 6f62 616c 2077 6f72 6b69 6e67    global working
+000176f0: 4469 720a 2020 2020 676c 6f62 616c 2065  Dir.    global e
+00017700: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
+00017710: 5475 6265 5365 6c65 6374 696f 6e53 6574  TubeSelectionSet
+00017720: 4c69 7374 0a20 2020 2067 6c6f 6261 6c20  List.    global 
+00017730: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00017740: 7454 7562 6553 656c 6563 7469 6f6e 5475  tTubeSelectionTu
+00017750: 6265 4c69 7374 0a20 2020 2067 6c6f 6261  beList.    globa
+00017760: 6c20 6578 7065 7269 6d65 6e74 5461 6254  l experimentTabT
+00017770: 6162 6c65 5061 7261 6d73 4872 734c 6f77  ableParamsHrsLow
+00017780: 4472 6f70 646f 776e 0a20 2020 2067 6c6f  Dropdown.    glo
+00017790: 6261 6c20 6578 7065 7269 6d65 6e74 5461  bal experimentTa
+000177a0: 6254 6162 6c65 5061 7261 6d73 4872 7348  bTableParamsHrsH
+000177b0: 6967 6844 726f 7064 6f77 6e0a 2020 2020  ighDropdown.    
+000177c0: 676c 6f62 616c 2074 7562 6573 4d61 7374  global tubesMast
+000177d0: 6572 0a20 2020 200a 0a20 2020 2073 6574  er.    ..    set
+000177e0: 4e61 6d65 203d 2065 7870 6572 696d 656e  Name = experimen
+000177f0: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
+00017800: 6374 696f 6e53 6574 4c69 7374 2e76 616c  ctionSetList.val
+00017810: 7565 2020 2320 4765 7420 7365 7420 6e61  ue  # Get set na
+00017820: 6d65 2066 726f 6d20 7365 6c65 6374 696f  me from selectio
+00017830: 6e20 696e 2073 6574 206c 6973 7420 0a20  n in set list . 
+00017840: 2020 2074 7562 654e 756d 6265 7220 3d20     tubeNumber = 
+00017850: 696e 7428 6578 7065 7269 6d65 6e74 5461  int(experimentTa
+00017860: 6250 6c6f 7454 7562 6553 656c 6563 7469  bPlotTubeSelecti
+00017870: 6f6e 5475 6265 4c69 7374 2e76 616c 7565  onTubeList.value
+00017880: 5b65 7870 6572 696d 656e 7454 6162 506c  [experimentTabPl
+00017890: 6f74 5475 6265 5365 6c65 6374 696f 6e54  otTubeSelectionT
+000178a0: 7562 654c 6973 742e 7661 6c75 652e 7269  ubeList.value.ri
+000178b0: 6e64 6578 2822 7c22 292b 323a 5d29 2020  ndex("|")+2:])  
+000178c0: 2320 4765 7420 7475 6265 206e 756d 6265  # Get tube numbe
+000178d0: 7220 6672 6f6d 2073 656c 6563 7465 6420  r from selected 
+000178e0: 7475 6265 206e 616d 6520 696e 2074 7562  tube name in tub
+000178f0: 6520 6c69 7374 0a20 2020 2064 656e 7369  e list.    densi
+00017900: 746f 6d65 7472 7946 696c 654e 616d 6520  tometryFileName 
+00017910: 3d20 6170 702e 7365 6c65 6374 5f66 696c  = app.select_fil
+00017920: 6528 0a20 2020 2020 2020 2074 6974 6c65  e(.        title
+00017930: 3d22 5361 7665 2064 656e 7369 746f 6d65  ="Save densitome
+00017940: 7472 7920 6173 2e2e 2e22 2c0a 2020 2020  try as...",.    
+00017950: 2020 2020 666f 6c64 6572 3d77 6f72 6b69      folder=worki
+00017960: 6e67 4469 722c 0a20 2020 2020 2020 2066  ngDir,.        f
+00017970: 696c 6574 7970 6573 3d5b 5b22 4353 5622  iletypes=[["CSV"
+00017980: 2c20 222a 2e63 7376 225d 5d2c 0a20 2020  , "*.csv"]],.   
+00017990: 2020 2020 2073 6176 653d 5472 7565 2c0a       save=True,.
+000179a0: 2020 2020 2020 2020 6669 6c65 6e61 6d65          filename
+000179b0: 3d28 7365 744e 616d 6520 2b20 225f 7475  =(setName + "_tu
+000179c0: 6265 2220 2b20 7374 7228 7475 6265 4e75  be" + str(tubeNu
+000179d0: 6d62 6572 2920 2b20 225f 6465 6e73 6974  mber) + "_densit
+000179e0: 6f6d 6574 7279 5f64 6174 6122 292c 0a20  ometry_data"),. 
+000179f0: 2020 2029 2020 2320 4765 7420 6669 6c65     )  # Get file
+00017a00: 206e 616d 6520 616e 6420 6669 6c65 2073   name and file s
+00017a10: 6176 6520 6c6f 6361 7469 6f6e 2066 726f  ave location fro
+00017a20: 6d20 7573 6572 2069 6e70 7574 2066 726f  m user input fro
+00017a30: 6d20 6170 7020 706f 7075 700a 2020 2020  m app popup.    
+00017a40: 6465 6e73 6974 7950 726f 6669 6c65 203d  densityProfile =
+00017a50: 205b 5d20 2023 2042 6c61 6e6b 206c 6973   []  # Blank lis
+00017a60: 7420 666f 7220 6465 6e73 6974 7920 7072  t for density pr
+00017a70: 6f66 696c 650a 2020 2020 7469 6d65 4d61  ofile.    timeMa
+00017a80: 726b 7320 3d20 5b5d 2020 2320 426c 616e  rks = []  # Blan
+00017a90: 6b20 6c69 7374 2066 6f72 2074 696d 6520  k list for time 
+00017aa0: 6d61 726b 730a 2020 2020 6261 6e64 4d61  marks.    bandMa
+00017ab0: 726b 7320 3d20 5b5d 2020 2320 426c 616e  rks = []  # Blan
+00017ac0: 6b20 6c69 7374 2066 6f72 2062 616e 6b20  k list for bank 
+00017ad0: 6d61 726b 730a 2020 2020 6d61 726b 486f  marks.    markHo
+00017ae0: 7572 7320 3d20 5b5d 2020 2320 426c 616e  urs = []  # Blan
+00017af0: 6b20 6c69 7374 2066 6f72 206d 6172 6b20  k list for mark 
+00017b00: 686f 7572 730a 2020 2020 7475 6265 5261  hours.    tubeRa
+00017b10: 6e67 6520 3d20 5b5d 0a20 2020 2066 6f72  nge = [].    for
+00017b20: 2074 7562 6520 696e 2074 7562 6573 4d61   tube in tubesMa
+00017b30: 7374 6572 3a20 2023 2046 6f72 2065 6163  ster:  # For eac
+00017b40: 6820 7475 6265 2069 6e20 676c 6f62 616c  h tube in global
+00017b50: 206d 6173 7465 7220 7475 6265 7320 6c69   master tubes li
+00017b60: 7374 0a20 2020 2020 2020 2069 6620 7475  st.        if tu
+00017b70: 6265 5b22 7365 744e 616d 6522 5d20 3d3d  be["setName"] ==
+00017b80: 2073 6574 4e61 6d65 2061 6e64 2074 7562   setName and tub
+00017b90: 655b 2274 7562 654e 756d 6265 7222 5d20  e["tubeNumber"] 
+00017ba0: 3d3d 2074 7562 654e 756d 6265 722d 313a  == tubeNumber-1:
+00017bb0: 2020 2320 4966 2074 7562 6520 6d61 7463    # If tube matc
+00017bc0: 6865 7320 7365 6c65 6374 6564 2074 7562  hes selected tub
+00017bd0: 650a 2020 2020 2020 2020 2020 2020 6465  e.            de
+00017be0: 6e73 6974 7950 726f 6669 6c65 203d 2074  nsityProfile = t
+00017bf0: 7562 655b 2264 656e 7369 7479 5072 6f66  ube["densityProf
+00017c00: 696c 6522 5d20 2023 2053 6574 2064 656e  ile"]  # Set den
+00017c10: 7369 7479 2070 726f 6669 6c65 2074 6f20  sity profile to 
+00017c20: 6375 7272 656e 7420 7475 6265 2773 2064  current tube's d
+00017c30: 656e 7369 7479 2070 726f 6669 6c65 0a20  ensity profile. 
+00017c40: 2020 2020 2020 2020 2020 2074 696d 654d             timeM
+00017c50: 6172 6b73 203d 2074 7562 655b 2274 696d  arks = tube["tim
+00017c60: 654d 6172 6b73 225d 0a20 2020 2020 2020  eMarks"].       
+00017c70: 2020 2020 206d 6172 6b48 6f75 7273 203d       markHours =
+00017c80: 2074 7562 655b 226d 6172 6b48 6f75 7273   tube["markHours
+00017c90: 225d 0a20 2020 2020 2020 2020 2020 2062  "].            b
+00017ca0: 616e 644d 6172 6b73 203d 2074 7562 655b  andMarks = tube[
+00017cb0: 2262 616e 644d 6172 6b73 225d 0a20 2020  "bandMarks"].   
+00017cc0: 2020 2020 2020 2020 2074 7562 6552 616e           tubeRan
+00017cd0: 6765 203d 2074 7562 655b 2274 7562 6552  ge = tube["tubeR
+00017ce0: 616e 6765 225d 0a20 2020 2070 6572 696f  ange"].    perio
+00017cf0: 6444 6174 6120 3d20 6361 6c63 756c 6174  dData = calculat
+00017d00: 6550 6572 696f 6444 6174 6128 6465 6e73  ePeriodData(dens
+00017d10: 6974 7950 726f 6669 6c65 2c20 6d61 726b  ityProfile, mark
+00017d20: 486f 7572 732c 2074 696d 654d 6172 6b73  Hours, timeMarks
+00017d30: 2c20 6261 6e64 4d61 726b 732c 2031 342c  , bandMarks, 14,
+00017d40: 2033 322c 2074 7562 6552 616e 6765 2c20   32, tubeRange, 
+00017d50: 666c 6f61 7428 6578 7065 7269 6d65 6e74  float(experiment
+00017d60: 5461 6254 6162 6c65 5061 7261 6d73 4872  TabTableParamsHr
+00017d70: 734c 6f77 4472 6f70 646f 776e 2e76 616c  sLowDropdown.val
+00017d80: 7565 292c 2066 6c6f 6174 2865 7870 6572  ue), float(exper
+00017d90: 696d 656e 7454 6162 5461 626c 6550 6172  imentTabTablePar
+00017da0: 616d 7348 7273 4869 6768 4472 6f70 646f  amsHrsHighDropdo
+00017db0: 776e 2e76 616c 7565 2929 0a20 2020 2064  wn.value)).    d
+00017dc0: 656e 7369 746f 6d65 7472 7958 5661 6c73  ensitometryXVals
+00017dd0: 486f 7572 7320 3d20 7065 7269 6f64 4461  Hours = periodDa
+00017de0: 7461 5b22 6465 6e73 6974 6f6d 6574 7279  ta["densitometry
+00017df0: 5848 6f75 7273 225d 0a20 2020 2064 656e  XHours"].    den
+00017e00: 7369 746f 6d65 7472 7943 6c69 7070 6564  sitometryClipped
+00017e10: 203d 2070 6572 696f 6444 6174 615b 2264   = periodData["d
+00017e20: 656e 7369 7479 5072 6f66 696c 6522 5d0a  ensityProfile"].
+00017e30: 2020 2020 6465 6e73 6974 7950 726f 6669      densityProfi
+00017e40: 6c65 4e6f 5469 6d65 4d61 726b 7320 3d20  leNoTimeMarks = 
+00017e50: 7065 7269 6f64 4461 7461 5b22 6465 6e73  periodData["dens
+00017e60: 6974 794e 6f54 696d 654d 6172 6b73 225d  ityNoTimeMarks"]
+00017e70: 0a20 2020 2064 656e 7369 7479 5072 6f66  .    densityProf
+00017e80: 696c 6553 6d6f 6f74 6820 3d20 7361 7667  ileSmooth = savg
+00017e90: 6f6c 5f66 696c 7465 7228 6465 6e73 6974  ol_filter(densit
+00017ea0: 7950 726f 6669 6c65 4e6f 5469 6d65 4d61  yProfileNoTimeMa
+00017eb0: 726b 732c 2077 696e 646f 775f 6c65 6e67  rks, window_leng
+00017ec0: 7468 3d33 302c 2070 6f6c 796f 7264 6572  th=30, polyorder
+00017ed0: 3d34 2c20 6d6f 6465 3d22 696e 7465 7270  =4, mode="interp
+00017ee0: 2229 2020 2320 4372 6561 7465 206c 6973  ")  # Create lis
+00017ef0: 7420 666f 7220 5361 7669 747a 6b79 2d47  t for Savitzky-G
+00017f00: 6f6c 6179 2073 6d6f 6f74 6865 6420 6465  olay smoothed de
+00017f10: 6e73 6974 7920 7072 6f66 696c 6520 6f66  nsity profile of
+00017f20: 206d 6172 6b73 2d63 6f72 7265 6374 6564   marks-corrected
+00017f30: 2064 6174 6173 6574 2023 5249 4748 5448   dataset #RIGHTH
+00017f40: 4552 450a 0a20 2020 2077 6974 6820 6f70  ERE..    with op
+00017f50: 656e 2864 656e 7369 746f 6d65 7472 7946  en(densitometryF
+00017f60: 696c 654e 616d 652c 2027 7727 2c20 6e65  ileName, 'w', ne
+00017f70: 776c 696e 653d 2727 2c20 656e 636f 6469  wline='', encodi
+00017f80: 6e67 3d27 7574 662d 3136 2729 2061 7320  ng='utf-16') as 
+00017f90: 6373 7666 696c 653a 2020 2320 4f70 656e  csvfile:  # Open
+00017fa0: 2063 7376 2066 696c 650a 2020 2020 2020   csv file.      
+00017fb0: 2020 726f 7757 7269 7465 7220 3d20 6373    rowWriter = cs
+00017fc0: 762e 7772 6974 6572 2863 7376 6669 6c65  v.writer(csvfile
+00017fd0: 2c20 6465 6c69 6d69 7465 723d 272c 2729  , delimiter=',')
+00017fe0: 2020 2320 5772 6974 6520 746f 2066 696c    # Write to fil
+00017ff0: 6520 6465 6c69 6d69 7465 6420 6279 2022  e delimited by "
+00018000: 2c22 0a20 2020 2020 2020 2072 6f77 5772  ,".        rowWr
+00018010: 6974 6572 2e77 7269 7465 726f 7728 5b22  iter.writerow(["
+00018020: 5469 6d65 2028 6872 7329 222c 2022 4465  Time (hrs)", "De
+00018030: 6e73 6974 7920 5072 6f66 696c 6522 2c20  nsity Profile", 
+00018040: 2249 6e74 6572 706f 6c61 7465 6420 4465  "Interpolated De
+00018050: 6e73 6974 7920 5072 6f66 696c 6520 284e  nsity Profile (N
+00018060: 6f20 5469 6d65 204d 6172 6b73 2922 5d29  o Time Marks)"])
+00018070: 2020 2320 5772 6974 6520 7469 746c 6520    # Write title 
+00018080: 726f 7720 746f 2066 696c 650a 2020 2020  row to file.    
+00018090: 2020 2020 666f 7220 696e 6465 7820 696e      for index in
+000180a0: 2072 616e 6765 286c 656e 2864 656e 7369   range(len(densi
+000180b0: 746f 6d65 7472 7943 6c69 7070 6564 2929  tometryClipped))
+000180c0: 3a0a 2020 2020 2020 2020 2020 2020 6e65  :.            ne
+000180d0: 774c 696e 6520 3d20 5b64 656e 7369 746f  wLine = [densito
+000180e0: 6d65 7472 7958 5661 6c73 486f 7572 735b  metryXValsHours[
+000180f0: 696e 6465 785d 2c20 6465 6e73 6974 6f6d  index], densitom
+00018100: 6574 7279 436c 6970 7065 645b 696e 6465  etryClipped[inde
+00018110: 785d 2c20 6465 6e73 6974 7950 726f 6669  x], densityProfi
+00018120: 6c65 536d 6f6f 7468 5b69 6e64 6578 5d5d  leSmooth[index]]
+00018130: 0a20 2020 2020 2020 2020 2020 2023 6e65  .            #ne
+00018140: 774c 696e 6520 3d20 5b64 656e 7369 746f  wLine = [densito
+00018150: 6d65 7472 7958 5661 6c73 486f 7572 735b  metryXValsHours[
+00018160: 696e 6465 785d 2c20 6465 6e73 6974 6f6d  index], densitom
+00018170: 6574 7279 436c 6970 7065 645b 696e 6465  etryClipped[inde
+00018180: 785d 5d0a 2020 2020 2020 2020 2020 2020  x]].            
+00018190: 726f 7757 7269 7465 722e 7772 6974 6572  rowWriter.writer
+000181a0: 6f77 286e 6577 4c69 6e65 2920 2023 2057  ow(newLine)  # W
+000181b0: 7269 7465 2072 6f77 2074 6f20 6669 6c65  rite row to file
+000181c0: 0a0a 0a64 6566 2073 6176 6550 6572 696f  ...def savePerio
+000181d0: 646f 6772 616d 4461 7461 2829 3a0a 2020  dogramData():.  
+000181e0: 2020 2222 2253 6176 6520 7065 7269 6f64    """Save period
+000181f0: 6f67 7261 6d20 6461 7461 2061 7320 6373  ogram data as cs
+00018200: 762e 2222 220a 2020 2020 0a20 2020 200a  v.""".    .    .
+00018210: 2020 2020 676c 6f62 616c 2077 6f72 6b69      global worki
+00018220: 6e67 4469 720a 2020 2020 676c 6f62 616c  ngDir.    global
+00018230: 2065 7870 6572 696d 656e 7454 6162 506c   experimentTabPl
+00018240: 6f74 5475 6265 5365 6c65 6374 696f 6e53  otTubeSelectionS
+00018250: 6574 4c69 7374 0a20 2020 2067 6c6f 6261  etList.    globa
+00018260: 6c20 6578 7065 7269 6d65 6e74 5461 6250  l experimentTabP
+00018270: 6c6f 7454 7562 6553 656c 6563 7469 6f6e  lotTubeSelection
+00018280: 5475 6265 4c69 7374 0a20 2020 2067 6c6f  TubeList.    glo
+00018290: 6261 6c20 6578 7065 7269 6d65 6e74 5461  bal experimentTa
+000182a0: 6250 6c6f 7454 7562 6553 656c 6563 7469  bPlotTubeSelecti
+000182b0: 6f6e 4d65 7468 6f64 4c69 7374 0a20 2020  onMethodList.   
+000182c0: 2067 6c6f 6261 6c20 6578 7065 7269 6d65   global experime
+000182d0: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
+000182e0: 4872 734c 6f77 4472 6f70 646f 776e 0a20  HrsLowDropdown. 
+000182f0: 2020 2067 6c6f 6261 6c20 6578 7065 7269     global experi
+00018300: 6d65 6e74 5461 6254 6162 6c65 5061 7261  mentTabTablePara
+00018310: 6d73 4872 7348 6967 6844 726f 7064 6f77  msHrsHighDropdow
+00018320: 6e0a 2020 2020 676c 6f62 616c 2074 7562  n.    global tub
+00018330: 6573 4d61 7374 6572 0a0a 0a20 2020 2073  esMaster...    s
+00018340: 6574 4e61 6d65 203d 2065 7870 6572 696d  etName = experim
+00018350: 656e 7454 6162 506c 6f74 5475 6265 5365  entTabPlotTubeSe
+00018360: 6c65 6374 696f 6e53 6574 4c69 7374 2e76  lectionSetList.v
+00018370: 616c 7565 2020 2320 4765 7420 7365 7420  alue  # Get set 
+00018380: 6e61 6d65 2066 726f 6d20 7365 6c65 6374  name from select
+00018390: 696f 6e20 696e 2073 6574 206c 6973 740a  ion in set list.
+000183a0: 2020 2020 7475 6265 4e75 6d62 6572 203d      tubeNumber =
+000183b0: 2069 6e74 2865 7870 6572 696d 656e 7454   int(experimentT
+000183c0: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
+000183d0: 696f 6e54 7562 654c 6973 742e 7661 6c75  ionTubeList.valu
+000183e0: 655b 6578 7065 7269 6d65 6e74 5461 6250  e[experimentTabP
+000183f0: 6c6f 7454 7562 6553 656c 6563 7469 6f6e  lotTubeSelection
+00018400: 5475 6265 4c69 7374 2e76 616c 7565 2e72  TubeList.value.r
+00018410: 696e 6465 7828 227c 2229 2b32 3a5d 2920  index("|")+2:]) 
+00018420: 2023 2047 6574 2074 7562 6520 6e75 6d62   # Get tube numb
+00018430: 6572 2066 726f 6d20 7365 6c65 6374 6564  er from selected
+00018440: 2074 7562 6520 6e61 6d65 2069 6e20 7475   tube name in tu
+00018450: 6265 206c 6973 740a 2020 2020 6d65 7468  be list.    meth
+00018460: 6f64 203d 2065 7870 6572 696d 656e 7454  od = experimentT
+00018470: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
+00018480: 696f 6e4d 6574 686f 644c 6973 742e 7661  ionMethodList.va
+00018490: 6c75 6520 2023 2047 6574 206d 6574 686f  lue  # Get metho
+000184a0: 6420 6672 6f6d 2073 656c 6563 7469 6f6e  d from selection
+000184b0: 2069 6e20 6d65 7468 6f64 206c 6973 740a   in method list.
+000184c0: 2020 2020 7065 7269 6f64 6f67 7261 6d6d      periodogramm
+000184d0: 6574 7279 4669 6c65 4e61 6d65 203d 2061  etryFileName = a
+000184e0: 7070 2e73 656c 6563 745f 6669 6c65 280a  pp.select_file(.
+000184f0: 2020 2020 2020 2020 7469 746c 653d 2253          title="S
+00018500: 6176 6520 6461 7461 2061 732e 2e2e 222c  ave data as...",
+00018510: 0a20 2020 2020 2020 2066 6f6c 6465 723d  .        folder=
+00018520: 776f 726b 696e 6744 6972 2c0a 2020 2020  workingDir,.    
+00018530: 2020 2020 6669 6c65 7479 7065 733d 5b5b      filetypes=[[
+00018540: 2243 5356 222c 2022 2a2e 6373 7622 5d5d  "CSV", "*.csv"]]
+00018550: 2c0a 2020 2020 2020 2020 7361 7665 3d54  ,.        save=T
+00018560: 7275 652c 0a20 2020 2020 2020 2066 696c  rue,.        fil
+00018570: 656e 616d 653d 2873 6574 4e61 6d65 202b  ename=(setName +
+00018580: 2022 5f74 7562 6522 202b 2073 7472 2874   "_tube" + str(t
+00018590: 7562 654e 756d 6265 7229 202b 2022 5f22  ubeNumber) + "_"
+000185a0: 202b 206d 6574 686f 642e 7374 7269 7028   + method.strip(
+000185b0: 2920 2b20 225f 6461 7461 2229 2c0a 2020  ) + "_data"),.  
+000185c0: 2020 2920 2023 2047 6574 2066 696c 6520    )  # Get file 
+000185d0: 6e61 6d65 2061 6e64 2073 6176 6520 6c6f  name and save lo
+000185e0: 6361 7469 6f6e 2066 726f 6d20 7573 6572  cation from user
+000185f0: 2069 6e70 7574 2066 726f 6d20 6170 7020   input from app 
+00018600: 706f 7075 700a 2020 2020 6d65 7468 6f64  popup.    method
+00018610: 203d 204e 6f6e 6520 2023 2049 6e69 7469   = None  # Initi
+00018620: 616c 697a 6520 6d65 7468 6f64 2076 6172  alize method var
+00018630: 6961 626c 650a 2020 2020 6d61 7463 6820  iable.    match 
+00018640: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00018650: 7454 7562 6553 656c 6563 7469 6f6e 4d65  tTubeSelectionMe
+00018660: 7468 6f64 4c69 7374 2e76 616c 7565 3a20  thodList.value: 
+00018670: 2023 2042 6173 6564 206f 6e20 706c 6f74   # Based on plot
+00018680: 206d 6574 686f 6420 7365 6c65 6374 6564   method selected
+00018690: 0a20 2020 2020 2020 2063 6173 6520 2253  .        case "S
+000186a0: 6f6b 6f6c 6f76 652d 4275 7368 656c 6c22  okolove-Bushell"
+000186b0: 3a20 2023 2049 6620 6d65 7468 6f64 2069  :  # If method i
+000186c0: 7320 536f 6b6f 6c6f 7665 2d42 7573 6865  s Sokolove-Bushe
+000186d0: 6c6c 0a20 2020 2020 2020 2020 2020 206d  ll.            m
+000186e0: 6574 686f 6420 3d20 5b22 7065 7269 6f64  ethod = ["period
+000186f0: 6f67 7261 6d43 6869 5371 7561 7265 6453  ogramChiSquaredS
+00018700: 6f6b 6f6c 6f76 6542 7573 6865 6c6c 222c  okoloveBushell",
+00018710: 2022 6672 6571 7565 6e63 6965 7353 6f6b   "frequenciesSok
+00018720: 6f6c 6f76 6542 7573 6865 6c6c 225d 2020  oloveBushell"]  
+00018730: 2320 5365 7420 6d65 7468 6f64 2074 6f20  # Set method to 
+00018740: 3420 666f 7220 696e 6465 7820 696e 2070  4 for index in p
+00018750: 6572 696f 6420 6461 7461 0a20 2020 2020  eriod data.     
+00018760: 2020 2063 6173 6520 224c 6f6d 622d 5363     case "Lomb-Sc
+00018770: 6172 676c 6522 3a20 2023 2049 6620 6d65  argle":  # If me
+00018780: 7468 6f64 2069 7320 4c6f 6d62 2d53 6361  thod is Lomb-Sca
+00018790: 7267 6c65 0a20 2020 2020 2020 2020 2020  rgle.           
+000187a0: 206d 6574 686f 6420 3d20 5b22 7065 7269   method = ["peri
+000187b0: 6f64 6f67 7261 6d50 6f77 6572 5370 6563  odogramPowerSpec
+000187c0: 7472 756d 4c6f 6d62 5363 6172 676c 6522  trumLombScargle"
+000187d0: 2c20 2266 7265 7175 656e 6369 6573 4c6f  , "frequenciesLo
+000187e0: 6d62 5363 6172 676c 6522 5d20 2023 2053  mbScargle"]  # S
+000187f0: 6574 206d 6574 686f 6420 746f 2036 2066  et method to 6 f
+00018800: 6f72 2069 6e64 6578 2069 6e20 7065 7269  or index in peri
+00018810: 6f64 2064 6174 610a 2020 2020 2020 2020  od data.        
+00018820: 6361 7365 2022 5761 7665 6c65 7420 2843  case "Wavelet (C
+00018830: 5754 2922 3a20 2023 2049 6620 6d65 7468  WT)":  # If meth
+00018840: 6f64 2069 7320 7761 7665 6c65 740a 2020  od is wavelet.  
+00018850: 2020 2020 2020 2020 2020 6d65 7468 6f64            method
+00018860: 203d 205b 2261 6d70 6c69 7475 6465 7357   = ["amplitudesW
+00018870: 6176 656c 6574 222c 2022 6672 6571 7565  avelet", "freque
+00018880: 6e63 6965 7357 6176 656c 6574 222c 2022  nciesWavelet", "
+00018890: 7065 7269 6f64 7359 4178 6973 5761 7665  periodsYAxisWave
+000188a0: 6c65 7422 5d0a 2020 2020 7475 6265 546f  let"].    tubeTo
+000188b0: 506c 6f74 203d 205b 5d20 2023 2042 6c61  Plot = []  # Bla
+000188c0: 6e6b 206c 6973 7420 666f 7220 7475 6265  nk list for tube
+000188d0: 2064 6174 6120 6f66 2074 7562 6520 746f   data of tube to
+000188e0: 2070 6c6f 740a 2020 2020 666f 7220 7475   plot.    for tu
+000188f0: 6265 2069 6e20 7475 6265 734d 6173 7465  be in tubesMaste
+00018900: 723a 2020 2320 466f 7220 6561 6368 2074  r:  # For each t
+00018910: 7562 6520 696e 2067 6c6f 6261 6c20 6d61  ube in global ma
+00018920: 7374 6572 2074 7562 6573 206c 6973 740a  ster tubes list.
+00018930: 2020 2020 2020 2020 6966 2074 7562 655b          if tube[
+00018940: 2273 6574 4e61 6d65 225d 203d 3d20 7365  "setName"] == se
+00018950: 744e 616d 6520 616e 6420 7475 6265 5b22  tName and tube["
+00018960: 7475 6265 4e75 6d62 6572 225d 203d 3d20  tubeNumber"] == 
+00018970: 7475 6265 4e75 6d62 6572 2d31 3a20 2023  tubeNumber-1:  #
+00018980: 2049 6620 7475 6265 206d 6174 6368 6573   If tube matches
+00018990: 2073 656c 6563 7465 6420 7475 6265 206e   selected tube n
+000189a0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+000189b0: 7475 6265 546f 506c 6f74 203d 2074 7562  tubeToPlot = tub
+000189c0: 6520 2023 2053 6574 2074 7562 6520 746f  e  # Set tube to
+000189d0: 2063 7572 7265 6e74 2074 7562 650a 2020   current tube.  
+000189e0: 2020 7065 7269 6f64 4461 7461 203d 2063    periodData = c
+000189f0: 616c 6375 6c61 7465 5065 7269 6f64 4461  alculatePeriodDa
+00018a00: 7461 2874 7562 6554 6f50 6c6f 745b 2264  ta(tubeToPlot["d
+00018a10: 656e 7369 7479 5072 6f66 696c 6522 5d2c  ensityProfile"],
+00018a20: 2074 7562 6554 6f50 6c6f 745b 226d 6172   tubeToPlot["mar
+00018a30: 6b48 6f75 7273 225d 2c20 7475 6265 546f  kHours"], tubeTo
+00018a40: 506c 6f74 5b22 7469 6d65 4d61 726b 7322  Plot["timeMarks"
+00018a50: 5d2c 2074 7562 6554 6f50 6c6f 745b 2262  ], tubeToPlot["b
+00018a60: 616e 644d 6172 6b73 225d 2c20 3134 2c20  andMarks"], 14, 
+00018a70: 3332 2c20 7475 6265 546f 506c 6f74 5b22  32, tubeToPlot["
+00018a80: 7475 6265 5261 6e67 6522 5d2c 2066 6c6f  tubeRange"], flo
+00018a90: 6174 2865 7870 6572 696d 656e 7454 6162  at(experimentTab
+00018aa0: 5461 626c 6550 6172 616d 7348 7273 4c6f  TableParamsHrsLo
+00018ab0: 7744 726f 7064 6f77 6e2e 7661 6c75 6529  wDropdown.value)
+00018ac0: 2c20 666c 6f61 7428 6578 7065 7269 6d65  , float(experime
+00018ad0: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
+00018ae0: 4872 7348 6967 6844 726f 7064 6f77 6e2e  HrsHighDropdown.
+00018af0: 7661 6c75 6529 2920 2023 2043 616c 6375  value))  # Calcu
+00018b00: 6c61 7465 2070 6572 696f 6420 6461 7461  late period data
+00018b10: 2066 6f72 2073 656c 6563 7465 6420 7475   for selected tu
+00018b20: 6265 0a20 2020 2070 6572 696f 646f 6772  be.    periodogr
+00018b30: 616d 5856 616c 7320 3d20 5b5d 2020 2320  amXVals = []  # 
+00018b40: 426c 616e 6b20 6c69 7374 2066 6f72 2078  Blank list for x
+00018b50: 2061 7869 7320 7661 6c75 6573 206f 6620   axis values of 
+00018b60: 7065 7269 6f64 6f67 7261 6d20 706c 6f74  periodogram plot
+00018b70: 0a20 2020 2070 6572 696f 646f 6772 616d  .    periodogram
+00018b80: 5956 616c 7320 3d20 5b5d 2020 2320 426c  YVals = []  # Bl
+00018b90: 616e 6b20 6c69 7374 2066 6f72 2079 2061  ank list for y a
+00018ba0: 7869 7320 7661 6c75 6573 206f 6620 7065  xis values of pe
+00018bb0: 7269 6f64 6f67 7261 6d20 706c 6f74 0a20  riodogram plot. 
+00018bc0: 2020 2070 6572 696f 646f 6772 616d 4672     periodogramFr
+00018bd0: 6571 7565 6e63 6965 7320 3d20 5b5d 2020  equencies = []  
+00018be0: 2320 426c 616e 6b20 6c69 7374 206f 6620  # Blank list of 
+00018bf0: 7065 7269 6f64 6f67 7261 6d20 6672 6571  periodogram freq
+00018c00: 7565 6e63 6965 730a 2020 2020 6361 6c63  uencies.    calc
+00018c10: 756c 6174 6564 5065 7269 6f64 6f67 7261  ulatedPeriodogra
+00018c20: 6d46 7265 7175 656e 6369 6573 203d 2070  mFrequencies = p
+00018c30: 6572 696f 6444 6174 615b 6d65 7468 6f64  eriodData[method
+00018c40: 5b31 5d5d 2020 2320 4c69 7374 206f 6620  [1]]  # List of 
+00018c50: 6361 6c63 756c 6174 6564 2070 6572 696f  calculated perio
+00018c60: 646f 6772 616d 2066 7265 7175 656e 6369  dogram frequenci
+00018c70: 6573 0a20 2020 2063 616c 6375 6c61 7465  es.    calculate
+00018c80: 6450 6572 696f 646f 6772 616d 5956 616c  dPeriodogramYVal
+00018c90: 7320 3d20 7065 7269 6f64 4461 7461 5b6d  s = periodData[m
+00018ca0: 6574 686f 645b 305d 5d20 2023 204c 6973  ethod[0]]  # Lis
+00018cb0: 7420 6f66 2063 616c 6375 6c61 7465 6420  t of calculated 
+00018cc0: 7065 7269 6f64 6f67 7261 6d20 7920 7661  periodogram y va
+00018cd0: 6c75 6573 0a20 2020 2063 616c 6375 6c61  lues.    calcula
+00018ce0: 7465 6443 5754 5856 616c 7320 3d20 7065  tedCWTXVals = pe
+00018cf0: 7269 6f64 4461 7461 5b22 6465 6e73 6974  riodData["densit
+00018d00: 6f6d 6574 7279 5848 6f75 7273 225d 0a20  ometryXHours"]. 
+00018d10: 2020 2063 616c 6375 6c61 7465 6443 5754     calculatedCWT
+00018d20: 5956 616c 7320 3d20 7065 7269 6f64 4461  YVals = periodDa
+00018d30: 7461 5b22 7065 7269 6f64 7359 4178 6973  ta["periodsYAxis
+00018d40: 5761 7665 6c65 7422 5d0a 2020 2020 6361  Wavelet"].    ca
+00018d50: 6c63 756c 6174 6564 4357 5441 6d70 6c69  lculatedCWTAmpli
+00018d60: 7475 6465 7320 3d20 7065 7269 6f64 4461  tudes = periodDa
+00018d70: 7461 5b22 616d 706c 6974 7564 6573 5761  ta["amplitudesWa
+00018d80: 7665 6c65 7422 5d0a 2020 2020 736c 6f70  velet"].    slop
+00018d90: 6543 6f65 6666 203d 2070 6572 696f 6444  eCoeff = periodD
+00018da0: 6174 615b 2273 6c6f 7065 436f 6566 6622  ata["slopeCoeff"
+00018db0: 5d20 2023 2043 616c 6375 6c61 7465 6420  ]  # Calculated 
+00018dc0: 736c 6f70 6520 636f 6566 6669 6369 656e  slope coefficien
+00018dd0: 740a 2020 2020 6d65 616e 4772 6f77 7468  t.    meanGrowth
+00018de0: 486f 7572 7350 6572 5069 7865 6c20 3d20  HoursPerPixel = 
+00018df0: 3120 2f20 7065 7269 6f64 4461 7461 5b22  1 / periodData["
+00018e00: 6d65 616e 4772 6f77 7468 5069 7865 6c73  meanGrowthPixels
+00018e10: 5065 7248 6f75 7222 5d0a 2020 2020 666f  PerHour"].    fo
+00018e20: 7220 696e 6465 7820 696e 2072 616e 6765  r index in range
+00018e30: 2830 2c20 6c65 6e28 6361 6c63 756c 6174  (0, len(calculat
+00018e40: 6564 5065 7269 6f64 6f67 7261 6d46 7265  edPeriodogramFre
+00018e50: 7175 656e 6369 6573 2929 3a20 2023 2046  quencies)):  # F
+00018e60: 6f72 2065 6163 6820 6361 6c63 756c 6174  or each calculat
+00018e70: 6564 2070 6572 696f 646f 6772 616d 2066  ed periodogram f
+00018e80: 7265 7175 656e 6379 0a20 2020 2020 2020  requency.       
+00018e90: 2069 6620 6d65 7468 6f64 203d 3d20 5b22   if method == ["
+00018ea0: 7065 7269 6f64 6f67 7261 6d43 6869 5371  periodogramChiSq
+00018eb0: 7561 7265 6453 6f6b 6f6c 6f76 6542 7573  uaredSokoloveBus
+00018ec0: 6865 6c6c 222c 2022 6672 6571 7565 6e63  hell", "frequenc
+00018ed0: 6965 7353 6f6b 6f6c 6f76 6542 7573 6865  iesSokoloveBushe
+00018ee0: 6c6c 225d 3a20 2023 2049 6620 7573 696e  ll"]:  # If usin
+00018ef0: 6720 532d 4220 7065 7269 6f64 6f67 7261  g S-B periodogra
+00018f00: 6d0a 2020 2020 2020 2020 2020 2020 7065  m.            pe
+00018f10: 7269 6f64 203d 2031 202f 2063 616c 6375  riod = 1 / calcu
+00018f20: 6c61 7465 6450 6572 696f 646f 6772 616d  latedPeriodogram
+00018f30: 4672 6571 7565 6e63 6965 735b 696e 6465  Frequencies[inde
+00018f40: 785d 2020 2320 5365 7420 7065 7269 6f64  x]  # Set period
+00018f50: 2066 6f72 2053 2d42 2070 6572 696f 646f   for S-B periodo
+00018f60: 6772 616d 2066 7265 7175 656e 6379 0a20  gram frequency. 
+00018f70: 2020 2020 2020 2065 6c69 6620 6d65 7468         elif meth
+00018f80: 6f64 203d 3d20 5b22 7065 7269 6f64 6f67  od == ["periodog
+00018f90: 7261 6d50 6f77 6572 5370 6563 7472 756d  ramPowerSpectrum
+00018fa0: 4c6f 6d62 5363 6172 676c 6522 2c20 2266  LombScargle", "f
+00018fb0: 7265 7175 656e 6369 6573 4c6f 6d62 5363  requenciesLombSc
+00018fc0: 6172 676c 6522 5d3a 2020 2320 4966 2075  argle"]:  # If u
+00018fd0: 7369 6e67 204c 2d53 2070 6572 696f 646f  sing L-S periodo
+00018fe0: 6772 616d 0a20 2020 2020 2020 2020 2020  gram.           
+00018ff0: 2070 6572 696f 6420 3d20 2832 202a 206e   period = (2 * n
+00019000: 756d 7079 2e70 6929 202f 2063 616c 6375  umpy.pi) / calcu
+00019010: 6c61 7465 6450 6572 696f 646f 6772 616d  latedPeriodogram
+00019020: 4672 6571 7565 6e63 6965 735b 696e 6465  Frequencies[inde
+00019030: 785d 2020 2320 5365 7420 7065 7269 6f64  x]  # Set period
+00019040: 2066 6f72 204c 2d53 2070 6572 696f 646f   for L-S periodo
+00019050: 6772 616d 2061 6e67 756c 6172 2066 7265  gram angular fre
+00019060: 7175 656e 6379 0a20 2020 2020 2020 2065  quency.        e
+00019070: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00019080: 2070 6572 696f 6420 3d20 300a 2020 2020   period = 0.    
+00019090: 2020 2020 7856 616c 203d 2070 6572 696f      xVal = perio
+000190a0: 6420 2a20 6d65 616e 4772 6f77 7468 486f  d * meanGrowthHo
+000190b0: 7572 7350 6572 5069 7865 6c20 2a20 736c  ursPerPixel * sl
+000190c0: 6f70 6543 6f65 6666 2020 2320 5365 7420  opeCoeff  # Set 
+000190d0: 7820 7661 6c75 6520 746f 2070 726f 6475  x value to produ
+000190e0: 6374 206f 6620 7065 7269 6f64 2069 6e20  ct of period in 
+000190f0: 7069 7865 6c73 2c20 6d65 616e 2067 726f  pixels, mean gro
+00019100: 7774 6820 7261 7465 2069 7320 686f 7572  wth rate is hour
+00019110: 732f 7069 7865 6c2c 2061 6e64 2073 6c6f  s/pixel, and slo
+00019120: 7065 2063 6f65 6666 6963 6965 6e74 2028  pe coefficient (
+00019130: 7065 7269 6f64 2069 6e20 686f 7572 7329  period in hours)
+00019140: 0a20 2020 2020 2020 2069 6620 7856 616c  .        if xVal
+00019150: 203e 3d20 3134 2061 6e64 2078 5661 6c20   >= 14 and xVal 
+00019160: 3c3d 2033 323a 2020 2320 4966 2078 2076  <= 32:  # If x v
+00019170: 616c 7565 2069 7320 7769 7468 696e 2077  alue is within w
+00019180: 696e 646f 7720 6f66 2074 6573 7465 6420  indow of tested 
+00019190: 7065 7269 6f64 730a 2020 2020 2020 2020  periods.        
+000191a0: 2020 2020 7065 7269 6f64 6f67 7261 6d58      periodogramX
+000191b0: 5661 6c73 2e61 7070 656e 6428 7856 616c  Vals.append(xVal
+000191c0: 2920 2023 2041 6464 2078 2076 616c 7565  )  # Add x value
+000191d0: 2074 6f20 7065 7269 6f64 6f67 7261 6d20   to periodogram 
+000191e0: 7820 7661 6c75 6573 0a20 2020 2020 2020  x values.       
+000191f0: 2020 2020 2070 6572 696f 646f 6772 616d       periodogram
+00019200: 5956 616c 732e 6170 7065 6e64 2863 616c  YVals.append(cal
+00019210: 6375 6c61 7465 6450 6572 696f 646f 6772  culatedPeriodogr
+00019220: 616d 5956 616c 735b 696e 6465 785d 2920  amYVals[index]) 
+00019230: 2023 2041 6464 2079 2076 616c 7565 2074   # Add y value t
+00019240: 6f20 7065 7269 6f64 6f67 7261 6d20 7920  o periodogram y 
+00019250: 7661 6c75 6573 0a20 2020 2020 2020 2020  values.         
+00019260: 2020 2070 6572 696f 646f 6772 616d 4672     periodogramFr
+00019270: 6571 7565 6e63 6965 732e 6170 7065 6e64  equencies.append
+00019280: 2863 616c 6375 6c61 7465 6450 6572 696f  (calculatedPerio
+00019290: 646f 6772 616d 4672 6571 7565 6e63 6965  dogramFrequencie
+000192a0: 735b 696e 6465 785d 2920 2023 2041 6464  s[index])  # Add
+000192b0: 2066 7265 7175 656e 6379 2074 6f20 7065   frequency to pe
+000192c0: 7269 6f64 6f67 7261 6d20 6672 6571 7565  riodogram freque
+000192d0: 6e63 6965 730a 2020 2020 7769 7468 206f  ncies.    with o
+000192e0: 7065 6e28 7065 7269 6f64 6f67 7261 6d6d  pen(periodogramm
+000192f0: 6574 7279 4669 6c65 4e61 6d65 2c20 2777  etryFileName, 'w
+00019300: 272c 206e 6577 6c69 6e65 3d27 272c 2065  ', newline='', e
+00019310: 6e63 6f64 696e 673d 2775 7466 2d31 3627  ncoding='utf-16'
+00019320: 2920 6173 2063 7376 6669 6c65 3a20 2023  ) as csvfile:  #
+00019330: 204f 7065 6e20 6669 6c65 2074 6f20 7361   Open file to sa
+00019340: 7665 2064 6174 610a 2020 2020 2020 2020  ve data.        
+00019350: 726f 7757 7269 7465 7220 3d20 6373 762e  rowWriter = csv.
+00019360: 7772 6974 6572 2863 7376 6669 6c65 2c20  writer(csvfile, 
+00019370: 6465 6c69 6d69 7465 723d 272c 2729 2020  delimiter=',')  
+00019380: 2320 5772 6974 6520 6373 7620 6465 6c69  # Write csv deli
+00019390: 6d69 7465 6420 6279 2022 2c22 0a20 2020  mited by ",".   
+000193a0: 2020 2020 2069 6620 6d65 7468 6f64 203d       if method =
+000193b0: 3d20 5b22 7065 7269 6f64 6f67 7261 6d43  = ["periodogramC
+000193c0: 6869 5371 7561 7265 6453 6f6b 6f6c 6f76  hiSquaredSokolov
+000193d0: 6542 7573 6865 6c6c 222c 2022 6672 6571  eBushell", "freq
+000193e0: 7565 6e63 6965 7353 6f6b 6f6c 6f76 6542  uenciesSokoloveB
+000193f0: 7573 6865 6c6c 225d 3a20 2023 2049 6620  ushell"]:  # If 
+00019400: 7573 696e 6720 532d 4220 7065 7269 6f64  using S-B period
+00019410: 6f67 7261 6d0a 2020 2020 2020 2020 2020  ogram.          
+00019420: 2020 726f 7757 7269 7465 722e 7772 6974    rowWriter.writ
+00019430: 6572 6f77 285b 2246 7265 7175 656e 6379  erow(["Frequency
+00019440: 222c 2022 5065 7269 6f64 2028 6872 7329  ", "Period (hrs)
+00019450: 222c 2022 4368 6920 5371 7561 7265 6422  ", "Chi Squared"
+00019460: 5d29 2020 2320 5772 6974 6520 532d 4220  ])  # Write S-B 
+00019470: 7065 7269 6f64 6f67 7261 6d20 7469 746c  periodogram titl
+00019480: 6520 726f 770a 2020 2020 2020 2020 656c  e row.        el
+00019490: 6966 206d 6574 686f 6420 3d3d 205b 2270  if method == ["p
+000194a0: 6572 696f 646f 6772 616d 506f 7765 7253  eriodogramPowerS
+000194b0: 7065 6374 7275 6d4c 6f6d 6253 6361 7267  pectrumLombScarg
+000194c0: 6c65 222c 2022 6672 6571 7565 6e63 6965  le", "frequencie
+000194d0: 734c 6f6d 6253 6361 7267 6c65 225d 3a20  sLombScargle"]: 
+000194e0: 2023 2049 6620 7573 696e 6720 4c2d 5320   # If using L-S 
+000194f0: 7065 7269 6f64 6f67 7261 6d0a 2020 2020  periodogram.    
+00019500: 2020 2020 2020 2020 726f 7757 7269 7465          rowWrite
+00019510: 722e 7772 6974 6572 6f77 285b 2241 6e67  r.writerow(["Ang
+00019520: 756c 6172 2046 7265 7175 656e 6379 222c  ular Frequency",
+00019530: 2022 5065 7269 6f64 2028 6872 7329 222c   "Period (hrs)",
+00019540: 2022 5370 6563 7472 616c 2044 656e 7369   "Spectral Densi
+00019550: 7479 225d 2920 2023 2057 7269 7465 204c  ty"])  # Write L
+00019560: 2d53 2070 6572 696f 646f 6772 616d 2074  -S periodogram t
+00019570: 6974 6c65 2072 6f77 0a20 2020 2020 2020  itle row.       
+00019580: 2065 6c73 653a 2020 2320 4966 2075 7369   else:  # If usi
+00019590: 6e67 2077 6176 656c 6574 206d 6574 686f  ng wavelet metho
+000195a0: 640a 2020 2020 2020 2020 2020 2020 6865  d.            he
+000195b0: 6164 6572 526f 7720 3d20 5b22 5065 7269  aderRow = ["Peri
+000195c0: 6f64 2028 6872 7329 225d 0a20 2020 2020  od (hrs)"].     
+000195d0: 2020 2020 2020 2066 6f72 2074 696d 6520         for time 
+000195e0: 696e 2063 616c 6375 6c61 7465 6443 5754  in calculatedCWT
+000195f0: 5856 616c 733a 0a20 2020 2020 2020 2020  XVals:.         
+00019600: 2020 2020 2020 2068 6561 6465 7252 6f77         headerRow
+00019610: 2e61 7070 656e 6428 7469 6d65 290a 2020  .append(time).  
+00019620: 2020 2020 2020 2020 2020 726f 7757 7269            rowWri
+00019630: 7465 722e 7772 6974 6572 6f77 2868 6561  ter.writerow(hea
+00019640: 6465 7252 6f77 290a 2020 2020 2020 2020  derRow).        
+00019650: 6966 206d 6574 686f 6420 213d 205b 2261  if method != ["a
+00019660: 6d70 6c69 7475 6465 7357 6176 656c 6574  mplitudesWavelet
+00019670: 222c 2022 6672 6571 7565 6e63 6965 7357  ", "frequenciesW
+00019680: 6176 656c 6574 222c 2022 7065 7269 6f64  avelet", "period
+00019690: 7359 4178 6973 5761 7665 6c65 7422 5d3a  sYAxisWavelet"]:
+000196a0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+000196b0: 2069 6e64 6578 2069 6e20 7261 6e67 6528   index in range(
+000196c0: 302c 206c 656e 2870 6572 696f 646f 6772  0, len(periodogr
+000196d0: 616d 5856 616c 7329 293a 2020 2320 466f  amXVals)):  # Fo
+000196e0: 7220 6561 6368 2070 6572 696f 646f 6772  r each periodogr
+000196f0: 616d 2078 2076 616c 7565 0a20 2020 2020  am x value.     
+00019700: 2020 2020 2020 2020 2020 206e 6577 4c69             newLi
+00019710: 6e65 203d 205b 7065 7269 6f64 6f67 7261  ne = [periodogra
+00019720: 6d46 7265 7175 656e 6369 6573 5b69 6e64  mFrequencies[ind
+00019730: 6578 5d2c 2070 6572 696f 646f 6772 616d  ex], periodogram
+00019740: 5856 616c 735b 696e 6465 785d 2c20 7065  XVals[index], pe
+00019750: 7269 6f64 6f67 7261 6d59 5661 6c73 5b69  riodogramYVals[i
+00019760: 6e64 6578 5d5d 2020 2320 5365 7420 6c69  ndex]]  # Set li
+00019770: 6e65 2074 6f20 636f 6e74 6169 6e20 6672  ne to contain fr
+00019780: 6571 7565 6e63 792c 2070 6572 696f 642c  equency, period,
+00019790: 2061 6e64 2073 636f 7265 0a20 2020 2020   and score.     
+000197a0: 2020 2020 2020 2020 2020 2072 6f77 5772             rowWr
+000197b0: 6974 6572 2e77 7269 7465 726f 7728 6e65  iter.writerow(ne
+000197c0: 774c 696e 6529 2020 2320 5772 6974 6520  wLine)  # Write 
+000197d0: 6c69 6e65 2074 6f20 6669 6c65 0a20 2020  line to file.   
+000197e0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000197f0: 2020 2020 2020 2066 6f72 2069 6e64 6578         for index
+00019800: 2069 6e20 7261 6e67 6528 302c 206c 656e   in range(0, len
+00019810: 2863 616c 6375 6c61 7465 6443 5754 5956  (calculatedCWTYV
+00019820: 616c 7329 293a 0a20 2020 2020 2020 2020  als)):.         
+00019830: 2020 2020 2020 206e 6577 4c69 6e65 203d         newLine =
+00019840: 205b 6361 6c63 756c 6174 6564 4357 5459   [calculatedCWTY
+00019850: 5661 6c73 5b69 6e64 6578 5d5d 0a20 2020  Vals[index]].   
+00019860: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+00019870: 2076 616c 7565 2069 6e20 6361 6c63 756c   value in calcul
+00019880: 6174 6564 4357 5441 6d70 6c69 7475 6465  atedCWTAmplitude
+00019890: 735b 696e 6465 782c 203a 5d3a 0a20 2020  s[index, :]:.   
+000198a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000198b0: 206e 6577 4c69 6e65 2e61 7070 656e 6428   newLine.append(
+000198c0: 7661 6c75 6529 0a20 2020 2020 2020 2020  value).         
+000198d0: 2020 2020 2020 2072 6f77 5772 6974 6572         rowWriter
+000198e0: 2e77 7269 7465 726f 7728 6e65 774c 696e  .writerow(newLin
+000198f0: 6529 0a0a 0a64 6566 2073 6176 6554 7562  e)...def saveTub
+00019900: 6573 546f 4669 6c65 2873 6574 4e61 6d65  esToFile(setName
+00019910: 293a 0a20 2020 2022 2222 5374 6f72 6520  ):.    """Store 
+00019920: 7475 6265 7320 6672 6f6d 2069 6d61 6765  tubes from image
+00019930: 2069 6e20 6d61 7374 6572 2074 7562 6573   in master tubes
+00019940: 206c 6973 742c 2061 6e64 2073 6176 6520   list, and save 
+00019950: 6d61 7374 6572 2074 7562 6573 206c 6973  master tubes lis
+00019960: 7420 746f 2066 696c 652e 2222 220a 0a0a  t to file."""...
+00019970: 2020 2020 676c 6f62 616c 2074 7562 6542      global tubeB
+00019980: 6f75 6e64 730a 2020 2020 676c 6f62 616c  ounds.    global
+00019990: 2074 696d 654d 6172 6b4c 696e 6573 0a20   timeMarkLines. 
+000199a0: 2020 2067 6c6f 6261 6c20 6261 6e64 4c69     global bandLi
+000199b0: 6e65 730a 2020 2020 676c 6f62 616c 2074  nes.    global t
+000199c0: 7562 6573 4d61 7374 6572 0a20 2020 2067  ubesMaster.    g
+000199d0: 6c6f 6261 6c20 6465 6e73 6974 7950 726f  lobal densityPro
+000199e0: 6669 6c65 730a 2020 2020 676c 6f62 616c  files.    global
+000199f0: 206d 6172 6b48 6f75 7273 0a20 2020 2067   markHours.    g
+00019a00: 6c6f 6261 6c20 696d 6167 654e 616d 650a  lobal imageName.
+00019a10: 2020 2020 676c 6f62 616c 2066 696e 616c      global final
+00019a20: 496d 6167 650a 2020 2020 676c 6f62 616c  Image.    global
+00019a30: 2074 7562 654c 656e 6774 680a 2020 2020   tubeLength.    
+00019a40: 676c 6f62 616c 206f 7065 6e46 696c 650a  global openFile.
+00019a50: 0a0a 2020 2020 7365 744e 616d 6573 496e  ..    setNamesIn
+00019a60: 4669 6c65 203d 205b 5d20 2023 2042 6c61  File = []  # Bla
+00019a70: 6e6b 206c 6973 7420 666f 7220 6578 6973  nk list for exis
+00019a80: 7469 6e67 2073 6574 206e 616d 6573 2061  ting set names a
+00019a90: 6c72 6561 6479 2069 6e20 6669 6c65 0a20  lready in file. 
+00019aa0: 2020 2066 6f72 2074 7562 6520 696e 2074     for tube in t
+00019ab0: 7562 6573 4d61 7374 6572 3a20 2023 2046  ubesMaster:  # F
+00019ac0: 6f72 2065 6163 6820 7475 6265 2061 6c72  or each tube alr
+00019ad0: 6561 6479 2069 6e20 6669 6c65 0a20 2020  eady in file.   
+00019ae0: 2020 2020 2073 6574 4e61 6d65 7349 6e46       setNamesInF
+00019af0: 696c 652e 6170 7065 6e64 2874 7562 655b  ile.append(tube[
+00019b00: 2273 6574 4e61 6d65 225d 2920 2023 2041  "setName"])  # A
+00019b10: 6464 2073 6574 206e 616d 6520 666f 7220  dd set name for 
+00019b20: 7475 6265 2074 6f20 6c69 7374 206f 6620  tube to list of 
+00019b30: 7365 7420 6e61 6d65 7320 616c 7265 6164  set names alread
+00019b40: 7920 696e 2066 696c 650a 2020 2020 6966  y in file.    if
+00019b50: 2073 6574 4e61 6d65 2069 6e20 7365 744e   setName in setN
+00019b60: 616d 6573 496e 4669 6c65 3a20 2023 2049  amesInFile:  # I
+00019b70: 6620 6375 7272 656e 7420 7365 7420 6e61  f current set na
+00019b80: 6d65 2061 6c72 6561 6479 2069 6e20 6669  me already in fi
+00019b90: 6c65 0a20 2020 2020 2020 2073 6574 4e61  le.        setNa
+00019ba0: 6d65 203d 2073 6574 4e61 6d65 202b 2022  me = setName + "
+00019bb0: 5f31 2220 2023 2041 6464 2022 5f31 2220  _1"  # Add "_1" 
+00019bc0: 746f 2073 6574 206e 616d 650a 2020 2020  to set name.    
+00019bd0: 7365 744e 616d 652e 7265 706c 6163 6528  setName.replace(
+00019be0: 2225 222c 2022 2229 2020 2320 4465 6c65  "%", "")  # Dele
+00019bf0: 7465 2061 6e79 2025 2028 7573 6564 2061  te any % (used a
+00019c00: 7320 6465 6c69 6d69 7465 7220 696e 2066  s delimiter in f
+00019c10: 696c 6529 0a20 2020 2074 6f70 5475 6265  ile).    topTube
+00019c20: 5469 6d65 4d61 726b 7320 3d20 5b5d 2020  TimeMarks = []  
+00019c30: 2320 426c 616e 6b20 6c69 7374 206f 6620  # Blank list of 
+00019c40: 7469 6d65 206d 6172 6b20 7820 7661 6c75  time mark x valu
+00019c50: 6573 0a20 2020 2066 6f72 206c 696e 6520  es.    for line 
+00019c60: 696e 2074 696d 654d 6172 6b4c 696e 6573  in timeMarkLines
+00019c70: 3a20 2023 2046 6f72 2065 6163 6820 6c69  :  # For each li
+00019c80: 6e65 2069 6e20 6c69 7374 206f 6620 7469  ne in list of ti
+00019c90: 6d65 206d 6172 6b73 0a20 2020 2020 2020  me marks.       
+00019ca0: 2069 6620 6c69 6e65 5b32 5d20 3d3d 2030   if line[2] == 0
+00019cb0: 3a20 2023 2049 6620 6c69 6e65 2069 7320  :  # If line is 
+00019cc0: 696e 2063 7572 7265 6e74 2074 7562 650a  in current tube.
+00019cd0: 2020 2020 2020 2020 2020 2020 746f 7054              topT
+00019ce0: 7562 6554 696d 654d 6172 6b73 2e61 7070  ubeTimeMarks.app
+00019cf0: 656e 6428 6c69 6e65 5b30 5d29 2020 2320  end(line[0])  # 
+00019d00: 4164 6420 6c69 6e65 2078 2074 6f20 7469  Add line x to ti
+00019d10: 6d65 4d61 726b 730a 2020 2020 746f 7054  meMarks.    topT
+00019d20: 7562 6554 696d 654d 6172 6b73 2e73 6f72  ubeTimeMarks.sor
+00019d30: 7428 2920 2023 2053 6f72 7420 7469 6d65  t()  # Sort time
+00019d40: 206d 6172 6b73 206c 6f77 2074 6f20 6869   marks low to hi
+00019d50: 6768 2f6c 6566 7420 746f 2072 6967 6874  gh/left to right
+00019d60: 0a20 2020 2069 6620 7475 6265 4c65 6e67  .    if tubeLeng
+00019d70: 7468 203d 3d20 2222 3a0a 2020 2020 2020  th == "":.      
+00019d80: 2020 6d6d 5065 7250 6978 656c 496e 496d    mmPerPixelInIm
+00019d90: 6167 6520 3d20 224e 2f41 220a 2020 2020  age = "N/A".    
+00019da0: 656c 7365 3a0a 2020 2020 2020 2020 6d6d  else:.        mm
+00019db0: 5065 7250 6978 656c 496e 496d 6167 6520  PerPixelInImage 
+00019dc0: 3d20 696e 7428 7475 6265 4c65 6e67 7468  = int(tubeLength
+00019dd0: 2920 2f20 2874 6f70 5475 6265 5469 6d65  ) / (topTubeTime
+00019de0: 4d61 726b 735b 2d31 5d20 2d20 746f 7054  Marks[-1] - topT
+00019df0: 7562 6554 696d 654d 6172 6b73 5b30 5d29  ubeTimeMarks[0])
+00019e00: 0a20 2020 2066 6f72 2074 7562 6520 696e  .    for tube in
+00019e10: 2072 616e 6765 2830 2c20 6c65 6e28 7475   range(0, len(tu
+00019e20: 6265 426f 756e 6473 2929 3a20 2023 2046  beBounds)):  # F
+00019e30: 6f72 2065 6163 6820 7475 6265 2069 6e20  or each tube in 
+00019e40: 7475 6265 426f 756e 6473 0a20 2020 2020  tubeBounds.     
+00019e50: 2020 2074 7562 6552 616e 6765 203d 2074     tubeRange = t
+00019e60: 7562 6542 6f75 6e64 735b 7475 6265 5d20  ubeBounds[tube] 
+00019e70: 2023 2059 2062 6f75 6e64 7320 6f66 2074   # Y bounds of t
+00019e80: 7562 650a 2020 2020 2020 2020 6465 6e73  ube.        dens
+00019e90: 6974 7950 726f 6669 6c65 203d 2064 656e  ityProfile = den
+00019ea0: 7369 7479 5072 6f66 696c 6573 5b74 7562  sityProfiles[tub
+00019eb0: 655d 2020 2320 4465 6e73 6974 7920 7072  e]  # Density pr
+00019ec0: 6f66 696c 6520 6f66 2074 7562 650a 2020  ofile of tube.  
+00019ed0: 2020 2020 2020 7469 6d65 4d61 726b 7320        timeMarks 
+00019ee0: 3d20 5b5d 2020 2320 426c 616e 6b20 6c69  = []  # Blank li
+00019ef0: 7374 206f 6620 7469 6d65 206d 6172 6b20  st of time mark 
+00019f00: 7820 7661 6c75 6573 0a20 2020 2020 2020  x values.       
+00019f10: 2066 6f72 206c 696e 6520 696e 2074 696d   for line in tim
+00019f20: 654d 6172 6b4c 696e 6573 3a20 2023 2046  eMarkLines:  # F
+00019f30: 6f72 2065 6163 6820 6c69 6e65 2069 6e20  or each line in 
+00019f40: 6c69 7374 206f 6620 7469 6d65 206d 6172  list of time mar
+00019f50: 6b73 0a20 2020 2020 2020 2020 2020 2069  ks.            i
+00019f60: 6620 6c69 6e65 5b32 5d20 3d3d 2074 7562  f line[2] == tub
+00019f70: 653a 2020 2320 4966 206c 696e 6520 6973  e:  # If line is
+00019f80: 2069 6e20 6375 7272 656e 7420 7475 6265   in current tube
+00019f90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019fa0: 2074 696d 654d 6172 6b73 2e61 7070 656e   timeMarks.appen
+00019fb0: 6428 6c69 6e65 5b30 5d29 2020 2320 4164  d(line[0])  # Ad
+00019fc0: 6420 6c69 6e65 2078 2074 6f20 7469 6d65  d line x to time
+00019fd0: 4d61 726b 730a 2020 2020 2020 2020 7469  Marks.        ti
+00019fe0: 6d65 4d61 726b 732e 736f 7274 2829 2020  meMarks.sort()  
+00019ff0: 2320 536f 7274 2074 696d 6520 6d61 726b  # Sort time mark
+0001a000: 7320 6c6f 7720 746f 2068 6967 682f 6c65  s low to high/le
+0001a010: 6674 2074 6f20 7269 6768 740a 2020 2020  ft to right.    
+0001a020: 2020 2020 6261 6e64 4d61 726b 7320 3d20      bandMarks = 
+0001a030: 5b5d 2020 2320 426c 616e 6b20 6c69 7374  []  # Blank list
+0001a040: 206f 6620 6261 6e64 206d 6172 6b20 7820   of band mark x 
+0001a050: 7661 6c75 6573 0a20 2020 2020 2020 2066  values.        f
+0001a060: 6f72 206c 696e 6520 696e 2062 616e 644c  or line in bandL
+0001a070: 696e 6573 3a20 2023 2046 6f72 2065 6163  ines:  # For eac
+0001a080: 6820 6c69 6e65 2069 6e20 6c69 7374 206f  h line in list o
+0001a090: 6620 6261 6e64 206d 6172 6b73 0a20 2020  f band marks.   
+0001a0a0: 2020 2020 2020 2020 2069 6620 6c69 6e65           if line
+0001a0b0: 5b32 5d20 3d3d 2074 7562 653a 2020 2320  [2] == tube:  # 
+0001a0c0: 4966 206c 696e 6520 6973 2069 6e20 6375  If line is in cu
+0001a0d0: 7272 656e 7420 7475 6265 0a20 2020 2020  rrent tube.     
+0001a0e0: 2020 2020 2020 2020 2020 2062 616e 644d             bandM
+0001a0f0: 6172 6b73 2e61 7070 656e 6428 6c69 6e65  arks.append(line
+0001a100: 5b30 5d29 2020 2320 4164 6420 6c69 6e65  [0])  # Add line
+0001a110: 2078 2074 6f20 6261 6e64 4d61 726b 730a   x to bandMarks.
+0001a120: 2020 2020 2020 2020 6261 6e64 4d61 726b          bandMark
+0001a130: 732e 736f 7274 2829 2020 2320 536f 7274  s.sort()  # Sort
+0001a140: 2062 616e 6420 6d61 726b 7320 6c6f 7720   band marks low 
+0001a150: 746f 2068 6967 682f 6c65 6674 2074 6f20  to high/left to 
+0001a160: 7269 6768 740a 2020 2020 2020 2020 696d  right.        im
+0001a170: 6167 6553 7472 696e 6720 3d20 6e75 6d70  ageString = nump
+0001a180: 792e 6172 7261 7928 6669 6e61 6c49 6d61  y.array(finalIma
+0001a190: 6765 2e63 6f6e 7665 7274 2822 4c22 2929  ge.convert("L"))
+0001a1a0: 2e74 6f6c 6973 7428 2923 6e75 6d70 792e  .tolist()#numpy.
+0001a1b0: 6172 7261 7932 7374 7269 6e67 286e 756d  array2string(num
+0001a1c0: 7079 2e61 7272 6179 2866 696e 616c 496d  py.array(finalIm
+0001a1d0: 6167 652e 636f 6e76 6572 7428 224c 2229  age.convert("L")
+0001a1e0: 292c 2073 6570 6172 6174 6f72 3d22 2c22  ), separator=","
+0001a1f0: 292e 7374 7269 7028 292e 7265 706c 6163  ).strip().replac
+0001a200: 6528 225c 6e22 2c20 2222 2920 2023 2043  e("\n", "")  # C
+0001a210: 6f6e 7665 7274 206e 756d 7079 2069 6d61  onvert numpy ima
+0001a220: 6765 2061 7272 6179 2074 6f20 7374 7269  ge array to stri
+0001a230: 6e67 2066 6f72 2073 746f 7261 6765 2074  ng for storage t
+0001a240: 6f20 6669 6c65 0a20 2020 2020 2020 2074  o file.        t
+0001a250: 696d 6547 6170 7320 3d20 5b5d 2020 2320  imeGaps = []  # 
+0001a260: 4c69 7374 206f 6620 7469 6d65 2067 6170  List of time gap
+0001a270: 7320 696e 2070 6978 656c 7320 7065 7220  s in pixels per 
+0001a280: 686f 7572 0a20 2020 2020 2020 2066 6f72  hour.        for
+0001a290: 206d 6172 6b20 696e 2072 616e 6765 2830   mark in range(0
+0001a2a0: 2c20 6c65 6e28 7469 6d65 4d61 726b 7329  , len(timeMarks)
+0001a2b0: 202d 2031 293a 2020 2320 466f 7220 6561   - 1):  # For ea
+0001a2c0: 6368 2032 2063 6f6e 7365 6375 7469 7665  ch 2 consecutive
+0001a2d0: 2074 696d 6520 6d61 726b 7320 616e 6420   time marks and 
+0001a2e0: 636f 7272 6573 706f 6e64 696e 6720 686f  corresponding ho
+0001a2f0: 7572 2076 616c 7565 730a 2020 2020 2020  ur values.      
+0001a300: 2020 2020 2020 7469 6d65 4761 7073 2e61        timeGaps.a
+0001a310: 7070 656e 6428 2874 696d 654d 6172 6b73  ppend((timeMarks
+0001a320: 5b6d 6172 6b20 2b20 315d 202d 2074 696d  [mark + 1] - tim
+0001a330: 654d 6172 6b73 5b6d 6172 6b5d 292f 2028  eMarks[mark])/ (
+0001a340: 6d61 726b 486f 7572 735b 6d61 726b 202b  markHours[mark +
+0001a350: 2031 5d20 2d20 6d61 726b 486f 7572 735b   1] - markHours[
+0001a360: 6d61 726b 5d29 2920 2023 2041 6464 206c  mark]))  # Add l
+0001a370: 656e 6774 6820 6f66 2067 6170 2069 6e20  ength of gap in 
+0001a380: 7069 7865 6c73 2070 6572 2068 6f75 7220  pixels per hour 
+0001a390: 746f 206c 6973 7420 6f66 2074 696d 6520  to list of time 
+0001a3a0: 6761 7073 0a20 2020 2020 2020 206d 6561  gaps.        mea
+0001a3b0: 6e47 726f 7774 6850 6978 656c 7350 6572  nGrowthPixelsPer
+0001a3c0: 486f 7572 203d 206e 756d 7079 2e6d 6561  Hour = numpy.mea
+0001a3d0: 6e28 7469 6d65 4761 7073 2920 2023 204d  n(timeGaps)  # M
+0001a3e0: 6561 6e20 7469 6d65 2067 6170 2069 6e20  ean time gap in 
+0001a3f0: 7069 7865 6c73 2070 6572 2068 6f75 720a  pixels per hour.
+0001a400: 2020 2020 2020 2020 6966 206d 6d50 6572          if mmPer
+0001a410: 5069 7865 6c49 6e49 6d61 6765 203d 3d20  PixelInImage == 
+0001a420: 224e 2f41 223a 0a20 2020 2020 2020 2020  "N/A":.         
+0001a430: 2020 2067 726f 7774 6852 6174 6520 3d20     growthRate = 
+0001a440: 224e 2f41 220a 2020 2020 2020 2020 656c  "N/A".        el
+0001a450: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001a460: 6772 6f77 7468 5261 7465 203d 2072 6f75  growthRate = rou
+0001a470: 6e64 286d 6d50 6572 5069 7865 6c49 6e49  nd(mmPerPixelInI
+0001a480: 6d61 6765 202a 206d 6561 6e47 726f 7774  mage * meanGrowt
+0001a490: 6850 6978 656c 7350 6572 486f 7572 2c20  hPixelsPerHour, 
+0001a4a0: 3229 236d 6d20 7065 7220 686f 7572 0a20  2)#mm per hour. 
+0001a4b0: 2020 2020 2020 2074 7562 6573 4d61 7374         tubesMast
+0001a4c0: 6572 2e61 7070 656e 6428 0a20 2020 2020  er.append(.     
+0001a4d0: 2020 2020 2020 207b 0a20 2020 2020 2020         {.       
+0001a4e0: 2020 2020 2020 2020 2022 7365 744e 616d           "setNam
+0001a4f0: 6522 3a20 7365 744e 616d 652c 0a20 2020  e": setName,.   
+0001a500: 2020 2020 2020 2020 2020 2020 2022 696d               "im
+0001a510: 6167 654e 616d 6522 3a20 696d 6167 654e  ageName": imageN
+0001a520: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
+0001a530: 2020 2020 2022 696d 6167 6544 6174 6122       "imageData"
+0001a540: 3a20 696d 6167 6553 7472 696e 672c 0a20  : imageString,. 
+0001a550: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001a560: 7475 6265 4e75 6d62 6572 223a 2074 7562  tubeNumber": tub
+0001a570: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0001a580: 2020 2022 6d61 726b 486f 7572 7322 3a20     "markHours": 
+0001a590: 6d61 726b 486f 7572 732c 0a20 2020 2020  markHours,.     
+0001a5a0: 2020 2020 2020 2020 2020 2022 6465 6e73             "dens
+0001a5b0: 6974 7950 726f 6669 6c65 223a 2064 656e  ityProfile": den
+0001a5c0: 7369 7479 5072 6f66 696c 652c 0a20 2020  sityProfile,.   
+0001a5d0: 2020 2020 2020 2020 2020 2020 2022 6772               "gr
+0001a5e0: 6f77 7468 5261 7465 223a 2067 726f 7774  owthRate": growt
+0001a5f0: 6852 6174 652c 0a20 2020 2020 2020 2020  hRate,.         
+0001a600: 2020 2020 2020 2022 7475 6265 5261 6e67         "tubeRang
+0001a610: 6522 3a20 7475 6265 5261 6e67 652c 0a20  e": tubeRange,. 
+0001a620: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001a630: 7469 6d65 4d61 726b 7322 3a20 7469 6d65  timeMarks": time
+0001a640: 4d61 726b 732c 0a20 2020 2020 2020 2020  Marks,.         
+0001a650: 2020 2020 2020 2022 6261 6e64 4d61 726b         "bandMark
+0001a660: 7322 3a20 6261 6e64 4d61 726b 730a 2020  s": bandMarks.  
+0001a670: 2020 2020 2020 2020 2020 7d0a 2020 2020            }.    
+0001a680: 2020 2020 2920 2023 2041 6464 2074 7562      )  # Add tub
+0001a690: 6520 696e 666f 2074 6f20 6d61 7374 6572  e info to master
+0001a6a0: 2074 7562 6573 206c 6973 740a 2020 2020   tubes list.    
+0001a6b0: 7361 7665 4578 7065 7269 6d65 6e74 4669  saveExperimentFi
+0001a6c0: 6c65 2829 2020 2320 5361 7665 2074 7562  le()  # Save tub
+0001a6d0: 6573 2074 6f20 6669 6c65 0a20 2020 2063  es to file.    c
+0001a6e0: 616e 6365 6c49 6d61 6765 416e 616c 7973  ancelImageAnalys
+0001a6f0: 6973 2829 2020 2320 5265 7365 7420 696d  is()  # Reset im
+0001a700: 6167 6520 616e 616c 7973 6973 0a20 2020  age analysis.   
+0001a710: 2070 6f70 756c 6174 6545 7870 6572 696d   populateExperim
+0001a720: 656e 7444 6174 6154 6162 6c65 2829 2020  entDataTable()  
+0001a730: 2320 506f 7075 6c61 7465 2065 7870 6572  # Populate exper
+0001a740: 696d 656e 7420 6461 7461 2074 6162 6c65  iment data table
+0001a750: 0a0a 0a64 6566 2070 726f 6365 6564 4861  ...def proceedHa
+0001a760: 6e64 6c65 7228 293a 0a20 2020 2022 2222  ndler():.    """
+0001a770: 4861 6e64 6c65 2063 6c69 636b 7320 6f6e  Handle clicks on
+0001a780: 2070 726f 6365 6564 2062 7574 746f 6e20   proceed button 
+0001a790: 6261 7365 6420 6f6e 2061 6e61 6c79 7369  based on analysi
+0001a7a0: 7320 7374 6174 652e 2222 220a 0a0a 2020  s state."""...  
+0001a7b0: 2020 676c 6f62 616c 2061 6e61 6c53 7461    global analSta
+0001a7c0: 7465 0a20 2020 2067 6c6f 6261 6c20 7475  te.    global tu
+0001a7d0: 6265 426f 756e 6473 0a20 2020 2067 6c6f  beBounds.    glo
+0001a7e0: 6261 6c20 6d61 726b 486f 7572 730a 2020  bal markHours.  
+0001a7f0: 2020 676c 6f62 616c 2074 696d 654d 6172    global timeMar
+0001a800: 6b4c 696e 6573 0a20 2020 2067 6c6f 6261  kLines.    globa
+0001a810: 6c20 6261 6e64 4c69 6e65 730a 0a0a 2020  l bandLines...  
+0001a820: 2020 6d61 7463 6820 616e 616c 5374 6174    match analStat
+0001a830: 653a 2020 2320 4261 7365 6420 6f6e 2061  e:  # Based on a
+0001a840: 6e61 6c79 7369 7320 7374 6174 650a 2020  nalysis state.  
+0001a850: 2020 2020 2020 6361 7365 2032 3a20 2023        case 2:  #
+0001a860: 2041 6e61 6c79 7369 7320 7374 6174 6520   Analysis state 
+0001a870: 3220 2874 7562 6520 626f 756e 6473 290a  2 (tube bounds).
+0001a880: 2020 2020 2020 2020 2020 2020 6964 656e              iden
+0001a890: 7469 6679 5261 6365 5475 6265 426f 756e  tifyRaceTubeBoun
+0001a8a0: 6473 2829 0a20 2020 2020 2020 2063 6173  ds().        cas
+0001a8b0: 6520 353a 2020 2320 416e 616c 7973 6973  e 5:  # Analysis
+0001a8c0: 2073 7461 7465 2035 2028 7469 6d65 206d   state 5 (time m
+0001a8d0: 6172 6b73 290a 2020 2020 2020 2020 2020  arks).          
+0001a8e0: 2020 6964 656e 7469 6679 4261 6e64 696e    identifyBandin
+0001a8f0: 6728 290a 2020 2020 2020 2020 6361 7365  g().        case
+0001a900: 2037 3a20 2023 2041 6e61 6c79 7369 7320   7:  # Analysis 
+0001a910: 7374 6174 6520 3720 2862 616e 6420 6c6f  state 7 (band lo
+0001a920: 6361 7469 6f6e 7329 0a20 2020 2020 2020  cations).       
+0001a930: 2020 2020 2064 7261 774c 696e 6573 2854       drawLines(T
+0001a940: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
+0001a950: 2061 6e61 6c53 7461 7465 203d 2038 2020   analState = 8  
+0001a960: 2320 5365 7420 616e 616c 7973 6973 2073  # Set analysis s
+0001a970: 7461 7465 2074 6f20 380a 2020 2020 2020  tate to 8.      
+0001a980: 2020 2020 2020 666f 7220 7475 6265 2069        for tube i
+0001a990: 6e20 7261 6e67 6528 302c 206c 656e 2874  n range(0, len(t
+0001a9a0: 7562 6542 6f75 6e64 7329 293a 2020 2320  ubeBounds)):  # 
+0001a9b0: 466f 7220 6561 6368 2074 7562 6520 696e  For each tube in
+0001a9c0: 2074 7562 6542 6f75 6e64 730a 2020 2020   tubeBounds.    
+0001a9d0: 2020 2020 2020 2020 2020 2020 7475 6265              tube
+0001a9e0: 5261 6e67 6520 3d20 7475 6265 426f 756e  Range = tubeBoun
+0001a9f0: 6473 5b74 7562 655d 2020 2320 5920 626f  ds[tube]  # Y bo
+0001aa00: 756e 6473 206f 6620 7475 6265 0a20 2020  unds of tube.   
+0001aa10: 2020 2020 2020 2020 2020 2020 2064 656e               den
+0001aa20: 7369 7479 5072 6f66 696c 6520 3d20 6465  sityProfile = de
+0001aa30: 6e73 6974 7950 726f 6669 6c65 735b 7475  nsityProfiles[tu
+0001aa40: 6265 5d20 2023 2044 656e 7369 7479 2070  be]  # Density p
+0001aa50: 726f 6669 6c65 206f 6620 7475 6265 0a20  rofile of tube. 
+0001aa60: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0001aa70: 696d 654d 6172 6b73 203d 205b 5d20 2023  imeMarks = []  #
+0001aa80: 2042 6c61 6e6b 206c 6973 7420 6f66 2074   Blank list of t
+0001aa90: 696d 6520 6d61 726b 2078 2076 616c 7565  ime mark x value
+0001aaa0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+0001aab0: 2020 666f 7220 6c69 6e65 2069 6e20 7469    for line in ti
+0001aac0: 6d65 4d61 726b 4c69 6e65 733a 2020 2320  meMarkLines:  # 
+0001aad0: 466f 7220 6561 6368 206c 696e 6520 696e  For each line in
+0001aae0: 206c 6973 7420 6f66 2074 696d 6520 6d61   list of time ma
+0001aaf0: 726b 730a 2020 2020 2020 2020 2020 2020  rks.            
+0001ab00: 2020 2020 2020 2020 6966 206c 696e 655b          if line[
+0001ab10: 325d 203d 3d20 7475 6265 3a20 2023 2049  2] == tube:  # I
+0001ab20: 6620 6c69 6e65 2069 7320 696e 2063 7572  f line is in cur
+0001ab30: 7265 6e74 2074 7562 650a 2020 2020 2020  rent tube.      
+0001ab40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab50: 2020 7469 6d65 4d61 726b 732e 6170 7065    timeMarks.appe
+0001ab60: 6e64 286c 696e 655b 305d 2920 2023 2041  nd(line[0])  # A
+0001ab70: 6464 206c 696e 6520 7820 746f 2074 696d  dd line x to tim
+0001ab80: 654d 6172 6b73 0a20 2020 2020 2020 2020  eMarks.         
+0001ab90: 2020 2020 2020 2074 696d 654d 6172 6b73         timeMarks
+0001aba0: 2e73 6f72 7428 2920 2023 2053 6f72 7420  .sort()  # Sort 
+0001abb0: 7469 6d65 206d 6172 6b73 206c 6f77 2074  time marks low t
+0001abc0: 6f20 6869 6768 2f6c 6566 7420 746f 2072  o high/left to r
+0001abd0: 6967 6874 0a20 2020 2020 2020 2020 2020  ight.           
+0001abe0: 2020 2020 2062 616e 644d 6172 6b73 203d       bandMarks =
+0001abf0: 205b 5d20 2023 2042 6c61 6e6b 206c 6973   []  # Blank lis
+0001ac00: 7420 6f66 2062 616e 6420 6d61 726b 2078  t of band mark x
+0001ac10: 2076 616c 7565 730a 2020 2020 2020 2020   values.        
+0001ac20: 2020 2020 2020 2020 666f 7220 6c69 6e65          for line
+0001ac30: 2069 6e20 6261 6e64 4c69 6e65 733a 2020   in bandLines:  
+0001ac40: 2320 466f 7220 6561 6368 206c 696e 6520  # For each line 
+0001ac50: 696e 206c 6973 7420 6f66 2062 616e 6420  in list of band 
+0001ac60: 6d61 726b 730a 2020 2020 2020 2020 2020  marks.          
+0001ac70: 2020 2020 2020 2020 2020 6966 206c 696e            if lin
+0001ac80: 655b 325d 203d 3d20 7475 6265 3a20 2023  e[2] == tube:  #
+0001ac90: 2049 6620 6c69 6e65 2069 7320 696e 2063   If line is in c
+0001aca0: 7572 7265 6e74 2074 7562 650a 2020 2020  urrent tube.    
+0001acb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001acc0: 2020 2020 6261 6e64 4d61 726b 732e 6170      bandMarks.ap
+0001acd0: 7065 6e64 286c 696e 655b 305d 2920 2023  pend(line[0])  #
+0001ace0: 2041 6464 206c 696e 6520 7820 746f 2062   Add line x to b
+0001acf0: 616e 644d 6172 6b73 0a20 2020 2020 2020  andMarks.       
+0001ad00: 2020 2020 2020 2020 2062 616e 644d 6172           bandMar
+0001ad10: 6b73 2e73 6f72 7428 2920 2023 2053 6f72  ks.sort()  # Sor
+0001ad20: 7420 6261 6e64 206d 6172 6b73 206c 6f77  t band marks low
+0001ad30: 2074 6f20 6869 6768 2f6c 6566 7420 746f   to high/left to
+0001ad40: 2072 6967 6874 0a20 2020 2020 2020 2020   right.         
+0001ad50: 2020 2020 2020 2070 6572 696f 6473 203d         periods =
+0001ad60: 2063 616c 6375 6c61 7465 5065 7269 6f64   calculatePeriod
+0001ad70: 4461 7461 2864 656e 7369 7479 5072 6f66  Data(densityProf
+0001ad80: 696c 652c 206d 6172 6b48 6f75 7273 2c20  ile, markHours, 
+0001ad90: 7469 6d65 4d61 726b 732c 2062 616e 644d  timeMarks, bandM
+0001ada0: 6172 6b73 2c20 3134 2c20 3332 2c20 7475  arks, 14, 32, tu
+0001adb0: 6265 5261 6e67 652c 206d 6172 6b48 6f75  beRange, markHou
+0001adc0: 7273 5b30 5d2c 206d 6172 6b48 6f75 7273  rs[0], markHours
+0001add0: 5b6c 656e 2874 696d 654d 6172 6b73 292d  [len(timeMarks)-
+0001ade0: 315d 2920 2023 2043 616c 6375 6c61 7465  1])  # Calculate
+0001adf0: 2070 6572 696f 6420 6461 7461 206f 6620   period data of 
+0001ae00: 7475 6265 0a20 2020 2020 2020 2020 2020  tube.           
+0001ae10: 2020 2020 2070 7265 6c69 6d43 6f6e 7465       prelimConte
+0001ae20: 6e74 735b 7475 6265 202b 2032 5d5b 325d  nts[tube + 2][2]
+0001ae30: 203d 2073 7472 2872 6f75 6e64 2870 6572   = str(round(per
+0001ae40: 696f 6473 5b22 7065 7269 6f64 4c69 6e65  iods["periodLine
+0001ae50: 6172 5265 6772 6573 7369 6f6e 225d 2c20  arRegression"], 
+0001ae60: 3229 2920 2023 2041 6464 206d 616e 7561  2))  # Add manua
+0001ae70: 6c6c 7920 6361 6c63 756c 6174 6564 2070  lly calculated p
+0001ae80: 6572 696f 6420 2872 6f75 6e64 6564 2920  eriod (rounded) 
+0001ae90: 746f 2070 7265 6c69 6d69 6e61 7279 2064  to preliminary d
+0001aea0: 6174 6120 6c69 7374 0a20 2020 2020 2020  ata list.       
+0001aeb0: 2020 2020 2075 7064 6174 6550 7265 6c69       updatePreli
+0001aec0: 6d69 6e61 7279 4461 7461 4469 7370 6c61  minaryDataDispla
+0001aed0: 7928 2920 2023 2055 7064 6174 6520 7072  y()  # Update pr
+0001aee0: 656c 696d 696e 6172 7920 6461 7461 2074  eliminary data t
+0001aef0: 6578 7420 626f 780a 2020 2020 2020 2020  ext box.        
+0001af00: 2020 2020 7072 6f63 6565 6442 7574 746f      proceedButto
+0001af10: 6e2e 6469 7361 626c 6528 2920 2023 2044  n.disable()  # D
+0001af20: 6973 6162 6c65 2070 726f 6365 6564 2062  isable proceed b
+0001af30: 7574 746f 6e0a 2020 2020 2020 2020 2020  utton.          
+0001af40: 2020 7361 7665 5475 6265 7354 6f46 696c    saveTubesToFil
+0001af50: 6542 7574 746f 6e2e 656e 6162 6c65 2829  eButton.enable()
+0001af60: 2020 2320 456e 6162 6c65 2073 6176 6520    # Enable save 
+0001af70: 7475 6265 7320 6275 7474 6f6e 0a0a 0a64  tubes button...d
+0001af80: 6566 206b 6579 4269 6e64 4861 6e64 6c65  ef keyBindHandle
+0001af90: 7228 6b65 7973 293a 2020 2320 5368 6966  r(keys):  # Shif
+0001afa0: 742c 2043 6f6d 6d61 6e64 2f43 7472 6c2c  t, Command/Ctrl,
+0001afb0: 2053 2c20 4f2c 2050 2c20 442c 2048 2c20   S, O, P, D, H, 
+0001afc0: 430a 2020 2020 2222 2248 616e 646c 6520  C.    """Handle 
+0001afd0: 7573 6573 206f 6620 6d75 6c74 696b 6579  uses of multikey
+0001afe0: 2068 6f74 6b65 7973 2074 6f20 7065 7266   hotkeys to perf
+0001aff0: 6f72 6d20 7072 6f67 7261 6d20 6675 6e63  orm program func
+0001b000: 7469 6f6e 7322 2222 0a0a 2020 2020 0a20  tions"""..    . 
+0001b010: 2020 2067 6c6f 6261 6c20 6b65 7950 7265     global keyPre
+0001b020: 7373 6573 0a0a 2020 2020 0a20 2020 206d  sses..    .    m
+0001b030: 6174 6368 206b 6579 733a 2020 2320 4261  atch keys:  # Ba
+0001b040: 7365 6420 6f6e 206c 6973 7420 6f66 2070  sed on list of p
+0001b050: 7265 7373 6564 206b 6579 730a 2020 2020  ressed keys.    
+0001b060: 2020 2020 6361 7365 205b 302c 2031 2c20      case [0, 1, 
+0001b070: 312c 2030 2c20 302c 2030 2c20 302c 2030  1, 0, 0, 0, 0, 0
+0001b080: 5d3a 2020 2320 4966 2063 6f6d 6d61 6e64  ]:  # If command
+0001b090: 2c20 7320 7072 6573 7365 640a 2020 2020  , s pressed.    
+0001b0a0: 2020 2020 2020 2020 7361 7665 4578 7065          saveExpe
+0001b0b0: 7269 6d65 6e74 4669 6c65 2829 2020 2320  rimentFile()  # 
+0001b0c0: 5361 7665 2065 7870 6572 696d 656e 740a  Save experiment.
+0001b0d0: 2020 2020 2020 2020 2020 2020 6b65 7950              keyP
+0001b0e0: 7265 7373 6573 203d 205b 302c 2030 2c20  resses = [0, 0, 
+0001b0f0: 302c 2030 2c20 302c 2030 2c20 302c 2030  0, 0, 0, 0, 0, 0
+0001b100: 5d20 2023 2052 6573 6574 206b 6579 2070  ]  # Reset key p
+0001b110: 7265 7373 206c 6973 740a 2020 2020 2020  ress list.      
+0001b120: 2020 6361 7365 205b 312c 2031 2c20 312c    case [1, 1, 1,
+0001b130: 2030 2c20 302c 2030 2c20 302c 2030 5d3a   0, 0, 0, 0, 0]:
+0001b140: 2020 2320 4966 2073 6869 6674 2c20 636f    # If shift, co
+0001b150: 6d6d 616e 642c 2073 2070 7265 7373 6564  mmand, s pressed
+0001b160: 0a20 2020 2020 2020 2020 2020 2073 6176  .            sav
+0001b170: 6545 7870 6572 696d 656e 7446 696c 6541  eExperimentFileA
+0001b180: 7328 2920 2023 2053 6176 6520 6173 0a20  s()  # Save as. 
+0001b190: 2020 2020 2020 2020 2020 206b 6579 5072             keyPr
+0001b1a0: 6573 7365 7320 3d20 5b30 2c20 302c 2030  esses = [0, 0, 0
+0001b1b0: 2c20 302c 2030 2c20 302c 2030 2c20 305d  , 0, 0, 0, 0, 0]
+0001b1c0: 2020 2320 5265 7365 7420 6b65 7920 7072    # Reset key pr
+0001b1d0: 6573 7320 6c69 7374 0a20 2020 2020 2020  ess list.       
+0001b1e0: 2063 6173 6520 5b30 2c20 312c 2030 2c20   case [0, 1, 0, 
+0001b1f0: 312c 2030 2c20 302c 2030 2c20 305d 3a20  1, 0, 0, 0, 0]: 
+0001b200: 2023 2049 6620 636f 6d6d 616e 642c 206f   # If command, o
+0001b210: 2070 7265 7373 6564 0a20 2020 2020 2020   pressed.       
+0001b220: 2020 2020 206f 7065 6e45 7870 6572 696d       openExperim
+0001b230: 656e 7446 696c 6528 2920 2023 204f 7065  entFile()  # Ope
+0001b240: 6e20 6578 7065 7269 6d65 6e74 2066 696c  n experiment fil
+0001b250: 650a 2020 2020 2020 2020 2020 2020 6b65  e.            ke
+0001b260: 7950 7265 7373 6573 203d 205b 302c 2030  yPresses = [0, 0
+0001b270: 2c20 302c 2030 2c20 302c 2030 2c20 302c  , 0, 0, 0, 0, 0,
+0001b280: 2030 5d20 2023 2052 6573 6574 206b 6579   0]  # Reset key
+0001b290: 2070 7265 7373 206c 6973 740a 2020 2020   press list.    
+0001b2a0: 2020 2020 6361 7365 205b 302c 2031 2c20      case [0, 1, 
+0001b2b0: 302c 2030 2c20 302c 2031 2c20 302c 2030  0, 0, 0, 1, 0, 0
+0001b2c0: 5d3a 2020 2320 4966 2063 6f6d 6d61 6e64  ]:  # If command
+0001b2d0: 2c20 6420 7072 6573 7365 640a 2020 2020  , d pressed.    
+0001b2e0: 2020 2020 2020 2020 7365 7457 6f72 6b69          setWorki
+0001b2f0: 6e67 4469 7265 6374 6f72 7928 2920 2023  ngDirectory()  #
+0001b300: 2053 6574 2077 6f72 6b69 6e67 2064 6972   Set working dir
+0001b310: 6563 746f 7279 0a20 2020 2020 2020 2020  ectory.         
+0001b320: 2020 206b 6579 5072 6573 7365 7320 3d20     keyPresses = 
+0001b330: 5b30 2c20 302c 2030 2c20 302c 2030 2c20  [0, 0, 0, 0, 0, 
+0001b340: 302c 2030 2c20 305d 2020 2320 5265 7365  0, 0, 0]  # Rese
+0001b350: 7420 6b65 7920 7072 6573 7320 6c69 7374  t key press list
+0001b360: 0a20 2020 2020 2020 2063 6173 6520 5b30  .        case [0
+0001b370: 2c20 312c 2030 2c20 302c 2030 2c20 302c  , 1, 0, 0, 0, 0,
+0001b380: 2031 2c20 305d 3a20 2023 2049 6620 636f   1, 0]:  # If co
+0001b390: 6d6d 616e 642c 2068 2070 7265 7373 6564  mmand, h pressed
+0001b3a0: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+0001b3b0: 704d 6169 6e28 2920 2023 204f 7065 6e20  pMain()  # Open 
+0001b3c0: 6d61 696e 2068 656c 7020 7061 6765 0a20  main help page. 
+0001b3d0: 2020 2020 2020 2020 2020 206b 6579 5072             keyPr
+0001b3e0: 6573 7365 7320 3d20 5b30 2c20 302c 2030  esses = [0, 0, 0
+0001b3f0: 2c20 302c 2030 2c20 302c 2030 2c20 305d  , 0, 0, 0, 0, 0]
+0001b400: 2020 2320 5265 7365 7420 6b65 7920 7072    # Reset key pr
+0001b410: 6573 7320 6c69 7374 0a20 2020 2020 2020  ess list.       
+0001b420: 2063 6173 6520 5b30 2c20 312c 2030 2c20   case [0, 1, 0, 
+0001b430: 302c 2031 2c20 302c 2030 2c20 305d 3a20  0, 1, 0, 0, 0]: 
+0001b440: 2023 2049 6620 636f 6d6d 616e 642c 2070   # If command, p
+0001b450: 2070 7265 7373 6564 0a20 2020 2020 2020   pressed.       
+0001b460: 2020 2020 2067 7261 7068 6963 7350 7265       graphicsPre
+0001b470: 6665 7265 6e63 6573 5072 6f6d 7074 2829  ferencesPrompt()
+0001b480: 2020 2320 4f70 656e 2067 7261 7068 6963    # Open graphic
+0001b490: 7320 7365 7474 696e 6773 0a20 2020 2020  s settings.     
+0001b4a0: 2020 2020 2020 206b 6579 5072 6573 7365         keyPresse
+0001b4b0: 7320 3d20 5b30 2c20 302c 2030 2c20 302c  s = [0, 0, 0, 0,
+0001b4c0: 2030 2c20 302c 2030 2c20 305d 2020 2320   0, 0, 0, 0]  # 
+0001b4d0: 5265 7365 7420 6b65 7920 7072 6573 7320  Reset key press 
+0001b4e0: 6c69 7374 0a20 2020 2020 2020 2063 6173  list.        cas
+0001b4f0: 6520 5b30 2c20 312c 2030 2c20 302c 2030  e [0, 1, 0, 0, 0
+0001b500: 2c20 302c 2030 2c20 315d 3a20 2023 2049  , 0, 0, 1]:  # I
+0001b510: 6620 636f 6d6d 616e 642c 2070 2070 7265  f command, p pre
+0001b520: 7373 6564 0a20 2020 2020 2020 2020 2020  ssed.           
+0001b530: 2063 6c6f 7365 4578 7065 7269 6d65 6e74   closeExperiment
+0001b540: 4669 6c65 2829 2020 2320 4f70 656e 2067  File()  # Open g
+0001b550: 7261 7068 6963 7320 7365 7474 696e 6773  raphics settings
+0001b560: 0a20 2020 2020 2020 2020 2020 206b 6579  .            key
+0001b570: 5072 6573 7365 7320 3d20 5b30 2c20 302c  Presses = [0, 0,
+0001b580: 2030 2c20 302c 2030 2c20 302c 2030 2c20   0, 0, 0, 0, 0, 
+0001b590: 305d 2020 2320 5265 7365 7420 6b65 7920  0]  # Reset key 
+0001b5a0: 7072 6573 7320 6c69 7374 0a0a 0a64 6566  press list...def
+0001b5b0: 206b 6579 5072 6573 7328 6b65 7950 7265   keyPress(keyPre
+0001b5c0: 7373 6564 293a 0a20 2020 2022 2222 4861  ssed):.    """Ha
+0001b5d0: 6e64 6c65 2065 6163 6820 6b65 7920 7072  ndle each key pr
+0001b5e0: 6573 7320 7265 6769 7374 6572 6564 2062  ess registered b
+0001b5f0: 7920 6170 7020 6f62 6a65 6374 2e22 2222  y app object."""
+0001b600: 0a20 2020 200a 2020 2020 0a20 2020 2067  .    .    .    g
+0001b610: 6c6f 6261 6c20 6b65 7950 7265 7373 6573  lobal keyPresses
+0001b620: 0a0a 2020 2020 0a20 2020 206d 6174 6368  ..    .    match
+0001b630: 205b 7374 7228 6b65 7950 7265 7373 6564   [str(keyPressed
+0001b640: 2e6b 6579 292c 2073 7472 286b 6579 5072  .key), str(keyPr
+0001b650: 6573 7365 642e 6b65 7963 6f64 6529 5d3a  essed.keycode)]:
+0001b660: 2020 2320 4261 7365 6420 6f6e 206b 6579    # Based on key
+0001b670: 2061 6e64 206b 6579 636f 6465 206f 6620   and keycode of 
+0001b680: 6b65 7920 7072 6573 7365 640a 2020 2020  key pressed.    
+0001b690: 2020 2020 6361 7365 205b 2222 2c20 2239      case ["", "9
+0001b6a0: 3433 3738 3231 3432 225d 3a20 2023 2053  43782142"]:  # S
+0001b6b0: 6869 6674 0a20 2020 2020 2020 2020 2020  hift.           
+0001b6c0: 206b 6579 5072 6573 7365 735b 305d 203d   keyPresses[0] =
+0001b6d0: 2031 0a20 2020 2020 2020 2063 6173 6520   1.        case 
+0001b6e0: 5b22 222c 2022 3932 3238 3130 3632 3222  ["", "922810622"
+0001b6f0: 5d3a 2020 2320 436f 6d6d 616e 6420 0a20  ]:  # Command . 
+0001b700: 2020 2020 2020 2020 2020 206b 6579 5072             keyPr
+0001b710: 6573 7365 735b 315d 203d 2031 0a20 2020  esses[1] = 1.   
+0001b720: 2020 2020 2063 6173 6520 5b22 222c 2022       case ["", "
+0001b730: 3938 3939 3139 3438 3622 5d3a 2020 2320  989919486"]:  # 
+0001b740: 436f 6e74 726f 6c20 0a20 2020 2020 2020  Control .       
+0001b750: 2020 2020 206b 6579 5072 6573 7365 735b       keyPresses[
+0001b760: 315d 203d 2031 0a20 2020 2020 2020 2063  1] = 1.        c
+0001b770: 6173 6520 5b22 7322 2c20 2231 3637 3737  ase ["s", "16777
+0001b780: 3333 3122 5d20 7c20 5b22 5322 2c20 2232  331"] | ["S", "2
+0001b790: 3039 3731 3630 3322 5d3a 2020 2320 530a  0971603"]:  # S.
+0001b7a0: 2020 2020 2020 2020 2020 2020 6b65 7950              keyP
+0001b7b0: 7265 7373 6573 5b32 5d20 3d20 310a 2020  resses[2] = 1.  
+0001b7c0: 2020 2020 2020 6361 7365 205b 226f 222c        case ["o",
+0001b7d0: 2022 3532 3030 3933 3830 3722 5d20 7c20   "520093807"] | 
+0001b7e0: 5b22 4f22 2c20 2235 3234 3238 3830 3739  ["O", "524288079
+0001b7f0: 225d 3a20 2023 204f 0a20 2020 2020 2020  "]:  # O.       
+0001b800: 2020 2020 206b 6579 5072 6573 7365 735b       keyPresses[
+0001b810: 335d 203d 2031 0a20 2020 2020 2020 2063  3] = 1.        c
+0001b820: 6173 6520 5b22 7022 2c20 2235 3837 3230  ase ["p", "58720
+0001b830: 3236 3732 225d 207c 205b 2250 222c 2022  2672"] | ["P", "
+0001b840: 3539 3133 3936 3934 3422 5d3a 2020 2320  591396944"]:  # 
+0001b850: 500a 2020 2020 2020 2020 2020 2020 6b65  P.            ke
+0001b860: 7950 7265 7373 6573 5b34 5d20 3d20 310a  yPresses[4] = 1.
+0001b870: 2020 2020 2020 2020 6361 7365 205b 2264          case ["d
+0001b880: 222c 2022 3333 3535 3435 3332 225d 207c  ", "33554532"] |
+0001b890: 205b 2244 222c 2022 3337 3734 3838 3034   ["D", "37748804
+0001b8a0: 225d 3a20 2023 2044 0a20 2020 2020 2020  "]:  # D.       
+0001b8b0: 2020 2020 206b 6579 5072 6573 7365 735b       keyPresses[
+0001b8c0: 355d 203d 2031 0a20 2020 2020 2020 2063  5] = 1.        c
+0001b8d0: 6173 6520 5b22 6822 2c20 2236 3731 3038  ase ["h", "67108
+0001b8e0: 3936 3822 5d20 7c20 5b22 4822 2c20 2237  968"] | ["H", "7
+0001b8f0: 3133 3033 3234 3022 5d3a 2020 2320 480a  1303240"]:  # H.
+0001b900: 2020 2020 2020 2020 2020 2020 6b65 7950              keyP
+0001b910: 7265 7373 6573 5b36 5d20 3d20 310a 2020  resses[6] = 1.  
+0001b920: 2020 2020 2020 6361 7365 205b 2763 272c        case ['c',
+0001b930: 2027 3133 3432 3137 3832 3727 5d20 7c20   '134217827'] | 
+0001b940: 5b27 4327 2c20 2731 3338 3431 3230 3939  ['C', '138412099
+0001b950: 275d 3a20 2023 2043 0a20 2020 2020 2020  ']:  # C.       
+0001b960: 2020 2020 206b 6579 5072 6573 7365 735b       keyPresses[
+0001b970: 375d 203d 2031 0a20 2020 206b 6579 4269  7] = 1.    keyBi
+0001b980: 6e64 4861 6e64 6c65 7228 6b65 7950 7265  ndHandler(keyPre
+0001b990: 7373 6573 290a 0a0a 6465 6620 6b65 7952  sses)...def keyR
+0001b9a0: 656c 6561 7365 286b 6579 5265 6c65 6173  elease(keyReleas
+0001b9b0: 6564 293a 0a20 2020 2022 2222 4861 6e64  ed):.    """Hand
+0001b9c0: 6c65 2065 6163 6820 6b65 7920 7265 6c65  le each key rele
+0001b9d0: 6173 6520 7265 6769 7374 6572 6564 2062  ase registered b
+0001b9e0: 7920 6170 7020 6f62 6a65 6374 2e22 2222  y app object."""
+0001b9f0: 0a20 2020 200a 2020 2020 0a20 2020 2067  .    .    .    g
+0001ba00: 6c6f 6261 6c20 6b65 7950 7265 7373 6573  lobal keyPresses
+0001ba10: 0a0a 2020 2020 0a20 2020 206d 6174 6368  ..    .    match
+0001ba20: 205b 7374 7228 6b65 7952 656c 6561 7365   [str(keyRelease
+0001ba30: 642e 6b65 7929 2c20 7374 7228 6b65 7952  d.key), str(keyR
+0001ba40: 656c 6561 7365 642e 6b65 7963 6f64 6529  eleased.keycode)
+0001ba50: 5d3a 2020 2320 4261 7365 6420 6f6e 206b  ]:  # Based on k
+0001ba60: 6579 2061 6e64 206b 6579 636f 6465 206f  ey and keycode o
+0001ba70: 6620 6b65 7920 7265 6c65 6173 6564 0a20  f key released. 
+0001ba80: 2020 2020 2020 2063 6173 6520 5b22 222c         case ["",
+0001ba90: 2022 3934 3337 3832 3134 3222 5d3a 2020   "943782142"]:  
+0001baa0: 2320 5368 6966 740a 2020 2020 2020 2020  # Shift.        
+0001bab0: 2020 2020 6b65 7950 7265 7373 6573 5b30      keyPresses[0
+0001bac0: 5d20 3d20 300a 2020 2020 2020 2020 6361  ] = 0.        ca
+0001bad0: 7365 205b 2222 2c20 2239 3232 3831 3036  se ["", "9228106
+0001bae0: 3232 225d 3a20 2023 2043 6f6d 6d61 6e64  22"]:  # Command
+0001baf0: 0a20 2020 2020 2020 2020 2020 206b 6579  .            key
+0001bb00: 5072 6573 7365 735b 315d 203d 2030 0a20  Presses[1] = 0. 
+0001bb10: 2020 2020 2020 2063 6173 6520 5b22 222c         case ["",
+0001bb20: 2022 3938 3939 3139 3438 3622 5d3a 2020   "989919486"]:  
+0001bb30: 2320 436f 6e74 726f 6c0a 2020 2020 2020  # Control.      
+0001bb40: 2020 2020 2020 6b65 7950 7265 7373 6573        keyPresses
+0001bb50: 5b31 5d20 3d20 300a 2020 2020 2020 2020  [1] = 0.        
+0001bb60: 6361 7365 205b 2273 222c 2022 3136 3737  case ["s", "1677
+0001bb70: 3733 3331 225d 207c 205b 2253 222c 2022  7331"] | ["S", "
+0001bb80: 3230 3937 3136 3033 225d 3a20 2023 2053  20971603"]:  # S
+0001bb90: 0a20 2020 2020 2020 2020 2020 206b 6579  .            key
+0001bba0: 5072 6573 7365 735b 325d 203d 2030 0a20  Presses[2] = 0. 
+0001bbb0: 2020 2020 2020 2063 6173 6520 5b22 6f22         case ["o"
+0001bbc0: 2c20 2235 3230 3039 3338 3037 225d 207c  , "520093807"] |
+0001bbd0: 205b 224f 222c 2022 3532 3432 3838 3037   ["O", "52428807
+0001bbe0: 3922 5d3a 2020 2320 4f0a 2020 2020 2020  9"]:  # O.      
+0001bbf0: 2020 2020 2020 6b65 7950 7265 7373 6573        keyPresses
+0001bc00: 5b33 5d20 3d20 300a 2020 2020 2020 2020  [3] = 0.        
+0001bc10: 6361 7365 205b 2270 222c 2022 3538 3732  case ["p", "5872
+0001bc20: 3032 3637 3222 5d20 7c20 5b22 5022 2c20  02672"] | ["P", 
+0001bc30: 2235 3931 3339 3639 3434 225d 3a20 2023  "591396944"]:  #
+0001bc40: 2050 0a20 2020 2020 2020 2020 2020 206b   P.            k
+0001bc50: 6579 5072 6573 7365 735b 345d 203d 2030  eyPresses[4] = 0
+0001bc60: 0a20 2020 2020 2020 2063 6173 6520 5b22  .        case ["
+0001bc70: 6422 2c20 2233 3335 3534 3533 3222 5d20  d", "33554532"] 
+0001bc80: 7c20 5b22 4422 2c20 2233 3737 3438 3830  | ["D", "3774880
+0001bc90: 3422 5d3a 2020 2320 440a 2020 2020 2020  4"]:  # D.      
+0001bca0: 2020 2020 2020 6b65 7950 7265 7373 6573        keyPresses
+0001bcb0: 5b35 5d20 3d20 300a 2020 2020 2020 2020  [5] = 0.        
+0001bcc0: 6361 7365 205b 2268 222c 2022 3637 3130  case ["h", "6710
+0001bcd0: 3839 3638 225d 207c 205b 2248 222c 2022  8968"] | ["H", "
+0001bce0: 3731 3330 3332 3430 225d 3a20 2023 2048  71303240"]:  # H
+0001bcf0: 0a20 2020 2020 2020 2020 2020 206b 6579  .            key
+0001bd00: 5072 6573 7365 735b 365d 203d 2030 0a20  Presses[6] = 0. 
+0001bd10: 2020 2020 2020 2063 6173 6520 5b27 6327         case ['c'
+0001bd20: 2c20 2731 3334 3231 3738 3237 275d 207c  , '134217827'] |
+0001bd30: 205b 2743 272c 2027 3133 3834 3132 3039   ['C', '13841209
+0001bd40: 3927 5d3a 2020 2320 430a 2020 2020 2020  9']:  # C.      
+0001bd50: 2020 2020 2020 6b65 7950 7265 7373 6573        keyPresses
+0001bd60: 5b37 5d20 3d20 310a 0a0a 6465 6620 6865  [7] = 1...def he
+0001bd70: 6c70 4d61 696e 2829 3a0a 2020 2020 2222  lpMain():.    ""
+0001bd80: 2244 6972 6563 7420 7573 6572 2074 6f20  "Direct user to 
+0001bd90: 6d61 696e 2068 656c 7020 7061 6765 2f64  main help page/d
+0001bda0: 6f63 756d 656e 7461 7469 6f6e 2066 6f72  ocumentation for
+0001bdb0: 2061 7070 2e22 2222 0a0a 2020 2020 0a20   app."""..    . 
+0001bdc0: 2020 2077 6562 6272 6f77 7365 722e 6f70     webbrowser.op
+0001bdd0: 656e 280a 2020 2020 2020 2020 2268 7474  en(.        "htt
+0001bde0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001bdf0: 5065 6c68 616d 2d4c 6162 2f72 6879 7468  Pelham-Lab/rhyth
+0001be00: 6d69 6469 6122 2c20 6e65 773d 302c 2061  midia", new=0, a
+0001be10: 7574 6f72 6169 7365 3d54 7275 650a 2020  utoraise=True.  
+0001be20: 2020 290a 0a0a 6465 6620 696e 7665 7274    )...def invert
+0001be30: 436f 6c6f 7228 6865 7829 3a0a 2020 2020  Color(hex):.    
+0001be40: 2222 2249 6e76 6572 7420 636f 6c6f 7220  """Invert color 
+0001be50: 6769 7665 6e20 6173 2068 6578 2063 6f64  given as hex cod
+0001be60: 6520 616e 6420 7265 7475 726e 2068 6578  e and return hex
+0001be70: 2063 6f64 6520 6f66 2069 6e76 6572 7465   code of inverte
+0001be80: 6420 636f 6c6f 722e 2222 220a 0a20 2020  d color."""..   
+0001be90: 200a 2020 2020 6865 7820 3d20 6865 782e   .    hex = hex.
+0001bea0: 6c73 7472 6970 2827 2327 290a 2020 2020  lstrip('#').    
+0001beb0: 7267 6220 3d20 2074 7570 6c65 2832 3535  rgb =  tuple(255
+0001bec0: 202d 2069 6e74 2868 6578 5b69 3a69 202b   - int(hex[i:i +
+0001bed0: 206c 656e 2868 6578 2920 2f2f 2033 5d2c   len(hex) // 3],
+0001bee0: 2031 3629 2066 6f72 2069 2069 6e20 7261   16) for i in ra
+0001bef0: 6e67 6528 302c 206c 656e 2868 6578 292c  nge(0, len(hex),
+0001bf00: 206c 656e 2868 6578 292f 2f33 2929 0a20   len(hex)//3)). 
+0001bf10: 2020 206f 7574 203d 2027 2325 3032 7825     out = '#%02x%
+0001bf20: 3032 7825 3032 7827 2025 2072 6762 0a20  02x%02x' % rgb. 
+0001bf30: 2020 2072 6574 7572 6e20 6f75 740a 0a0a     return out...
+0001bf40: 6465 6620 6772 6170 6869 6373 5072 6566  def graphicsPref
+0001bf50: 6572 656e 6365 7350 726f 6d70 7428 293a  erencesPrompt():
+0001bf60: 0a20 2020 2022 2222 5072 6573 656e 7420  .    """Present 
+0001bf70: 706f 7075 7020 7769 6e64 6f77 2066 6f72  popup window for
+0001bf80: 2063 6861 6e67 696e 6720 6772 6170 6869   changing graphi
+0001bf90: 6373 2070 7265 6665 7265 6e63 6573 2e22  cs preferences."
+0001bfa0: 2222 0a0a 0a20 2020 2067 6c6f 6261 6c20  ""...    global 
+0001bfb0: 6170 7050 6172 616d 6574 6572 730a 0a20  appParameters.. 
+0001bfc0: 2020 200a 2020 2020 6772 6170 6869 6373     .    graphics
+0001bfd0: 5072 6566 6572 656e 6365 7357 696e 646f  PreferencesWindo
+0001bfe0: 7720 3d20 5769 6e64 6f77 2861 7070 2c20  w = Window(app, 
+0001bff0: 7469 746c 653d 2247 7261 7068 6963 7320  title="Graphics 
+0001c000: 5072 6566 6572 656e 6365 7322 2c20 6c61  Preferences", la
+0001c010: 796f 7574 3d22 6772 6964 222c 2077 6964  yout="grid", wid
+0001c020: 7468 3d33 3735 2c20 6865 6967 6874 3d33  th=375, height=3
+0001c030: 3030 2920 2023 2043 7265 6174 6520 706f  00)  # Create po
+0001c040: 7075 7020 7769 6e64 6f77 0a20 2020 2067  pup window.    g
+0001c050: 7261 7068 6963 7350 7265 6665 7265 6e63  raphicsPreferenc
+0001c060: 6573 5769 6e64 6f77 2e73 686f 7728 7761  esWindow.show(wa
+0001c070: 6974 203d 2054 7275 6529 2020 2320 4469  it = True)  # Di
+0001c080: 7370 6c61 7920 706f 7075 7020 7769 6e64  splay popup wind
+0001c090: 6f77 0a0a 2020 2020 6368 616e 6765 4772  ow..    changeGr
+0001c0a0: 6170 6843 6f6c 6f72 4275 7474 6f6e 203d  aphColorButton =
+0001c0b0: 2050 7573 6842 7574 746f 6e28 6772 6170   PushButton(grap
+0001c0c0: 6869 6373 5072 6566 6572 656e 6365 7357  hicsPreferencesW
+0001c0d0: 696e 646f 772c 2067 7269 643d 5b30 2c30  indow, grid=[0,0
+0001c0e0: 5d2c 2074 6578 743d 2247 7261 7068 2043  ], text="Graph C
+0001c0f0: 6f6c 6f72 222c 2068 6569 6768 743d 302c  olor", height=0,
+0001c100: 2077 6964 7468 3d32 302c 2063 6f6d 6d61   width=20, comma
+0001c110: 6e64 3d63 6f6c 6f72 5069 636b 4861 6e64  nd=colorPickHand
+0001c120: 6c65 722c 2061 7267 733d 5b30 5d29 0a20  ler, args=[0]). 
+0001c130: 2020 2063 6861 6e67 6547 7261 7068 436f     changeGraphCo
+0001c140: 6c6f 7242 7574 746f 6e2e 7465 7874 5f73  lorButton.text_s
+0001c150: 697a 6520 3d20 3133 0a20 2020 2063 6861  ize = 13.    cha
+0001c160: 6e67 6547 7261 7068 436f 6c6f 7242 7574  ngeGraphColorBut
+0001c170: 746f 6e2e 666f 6e74 203d 2022 4172 6961  ton.font = "Aria
+0001c180: 6c20 626f 6c64 220a 2020 2020 6368 616e  l bold".    chan
+0001c190: 6765 4772 6170 6843 6f6c 6f72 5465 7874  geGraphColorText
+0001c1a0: 426f 7820 3d20 5465 7874 426f 7828 6772  Box = TextBox(gr
+0001c1b0: 6170 6869 6373 5072 6566 6572 656e 6365  aphicsPreference
+0001c1c0: 7357 696e 646f 772c 2067 7269 643d 5b32  sWindow, grid=[2
+0001c1d0: 2c30 5d2c 2074 6578 743d 6170 7050 6172  ,0], text=appPar
+0001c1e0: 616d 6574 6572 735b 2263 6f6c 6f72 4772  ameters["colorGr
+0001c1f0: 6170 6822 5d2c 2077 6964 7468 3d37 290a  aph"], width=7).
+0001c200: 2020 2020 6368 616e 6765 486f 7269 7a6f      changeHorizo
+0001c210: 6e74 616c 4c69 6e65 436f 6c6f 7242 7574  ntalLineColorBut
+0001c220: 746f 6e20 3d20 5075 7368 4275 7474 6f6e  ton = PushButton
+0001c230: 2867 7261 7068 6963 7350 7265 6665 7265  (graphicsPrefere
+0001c240: 6e63 6573 5769 6e64 6f77 2c20 6772 6964  ncesWindow, grid
+0001c250: 3d5b 302c 315d 2c20 7465 7874 3d22 486f  =[0,1], text="Ho
+0001c260: 7269 7a6f 6e74 616c 204c 696e 6520 436f  rizontal Line Co
+0001c270: 6c6f 7222 2c20 6865 6967 6874 3d30 2c20  lor", height=0, 
+0001c280: 7769 6474 683d 3230 2c20 636f 6d6d 616e  width=20, comman
+0001c290: 643d 636f 6c6f 7250 6963 6b48 616e 646c  d=colorPickHandl
+0001c2a0: 6572 2c20 6172 6773 3d5b 315d 290a 2020  er, args=[1]).  
+0001c2b0: 2020 6368 616e 6765 486f 7269 7a6f 6e74    changeHorizont
+0001c2c0: 616c 4c69 6e65 436f 6c6f 7242 7574 746f  alLineColorButto
+0001c2d0: 6e2e 7465 7874 5f73 697a 6520 3d20 3133  n.text_size = 13
+0001c2e0: 0a20 2020 2063 6861 6e67 6548 6f72 697a  .    changeHoriz
+0001c2f0: 6f6e 7461 6c4c 696e 6543 6f6c 6f72 4275  ontalLineColorBu
+0001c300: 7474 6f6e 2e66 6f6e 7420 3d20 2241 7269  tton.font = "Ari
+0001c310: 616c 2062 6f6c 6422 0a20 2020 2063 6861  al bold".    cha
+0001c320: 6e67 6548 6f72 697a 6f6e 7461 6c4c 696e  ngeHorizontalLin
+0001c330: 6543 6f6c 6f72 5465 7874 426f 7820 3d20  eColorTextBox = 
+0001c340: 5465 7874 426f 7828 6772 6170 6869 6373  TextBox(graphics
+0001c350: 5072 6566 6572 656e 6365 7357 696e 646f  PreferencesWindo
+0001c360: 772c 2067 7269 643d 5b32 2c31 5d2c 2074  w, grid=[2,1], t
+0001c370: 6578 743d 6170 7050 6172 616d 6574 6572  ext=appParameter
+0001c380: 735b 2263 6f6c 6f72 486f 7269 7a22 5d2c  s["colorHoriz"],
+0001c390: 2077 6964 7468 3d37 290a 2020 2020 6368   width=7).    ch
+0001c3a0: 616e 6765 5665 7274 6963 616c 4c69 6e65  angeVerticalLine
+0001c3b0: 436f 6c6f 7242 7574 746f 6e20 3d20 5075  ColorButton = Pu
+0001c3c0: 7368 4275 7474 6f6e 2867 7261 7068 6963  shButton(graphic
+0001c3d0: 7350 7265 6665 7265 6e63 6573 5769 6e64  sPreferencesWind
+0001c3e0: 6f77 2c20 6772 6964 3d5b 302c 325d 2c20  ow, grid=[0,2], 
+0001c3f0: 7465 7874 3d22 5469 6d65 204d 6172 6b20  text="Time Mark 
+0001c400: 436f 6c6f 7222 2c20 6865 6967 6874 3d30  Color", height=0
+0001c410: 2c20 7769 6474 683d 3230 2c20 636f 6d6d  , width=20, comm
+0001c420: 616e 643d 636f 6c6f 7250 6963 6b48 616e  and=colorPickHan
+0001c430: 646c 6572 2c20 6172 6773 3d5b 325d 290a  dler, args=[2]).
+0001c440: 2020 2020 6368 616e 6765 5665 7274 6963      changeVertic
+0001c450: 616c 4c69 6e65 436f 6c6f 7242 7574 746f  alLineColorButto
+0001c460: 6e2e 7465 7874 5f73 697a 6520 3d20 3133  n.text_size = 13
+0001c470: 0a20 2020 2063 6861 6e67 6556 6572 7469  .    changeVerti
+0001c480: 6361 6c4c 696e 6543 6f6c 6f72 4275 7474  calLineColorButt
+0001c490: 6f6e 2e66 6f6e 7420 3d20 2241 7269 616c  on.font = "Arial
+0001c4a0: 2062 6f6c 6422 0a20 2020 2063 6861 6e67   bold".    chang
+0001c4b0: 6556 6572 7469 6361 6c4c 696e 6543 6f6c  eVerticalLineCol
+0001c4c0: 6f72 5465 7874 426f 7820 3d20 5465 7874  orTextBox = Text
+0001c4d0: 426f 7828 6772 6170 6869 6373 5072 6566  Box(graphicsPref
+0001c4e0: 6572 656e 6365 7357 696e 646f 772c 2067  erencesWindow, g
+0001c4f0: 7269 643d 5b32 2c32 5d2c 2074 6578 743d  rid=[2,2], text=
+0001c500: 6170 7050 6172 616d 6574 6572 735b 2263  appParameters["c
+0001c510: 6f6c 6f72 5665 7274 225d 2c20 7769 6474  olorVert"], widt
+0001c520: 683d 3729 0a20 2020 2063 6861 6e67 6542  h=7).    changeB
+0001c530: 616e 644c 696e 6543 6f6c 6f72 4275 7474  andLineColorButt
+0001c540: 6f6e 203d 2050 7573 6842 7574 746f 6e28  on = PushButton(
+0001c550: 6772 6170 6869 6373 5072 6566 6572 656e  graphicsPreferen
+0001c560: 6365 7357 696e 646f 772c 2067 7269 643d  cesWindow, grid=
+0001c570: 5b30 2c33 5d2c 2074 6578 743d 2242 616e  [0,3], text="Ban
+0001c580: 6420 4d61 726b 2043 6f6c 6f72 222c 2068  d Mark Color", h
+0001c590: 6569 6768 743d 302c 2077 6964 7468 3d32  eight=0, width=2
+0001c5a0: 302c 2063 6f6d 6d61 6e64 3d63 6f6c 6f72  0, command=color
+0001c5b0: 5069 636b 4861 6e64 6c65 722c 2061 7267  PickHandler, arg
+0001c5c0: 733d 5b33 5d29 0a20 2020 2063 6861 6e67  s=[3]).    chang
+0001c5d0: 6542 616e 644c 696e 6543 6f6c 6f72 4275  eBandLineColorBu
+0001c5e0: 7474 6f6e 2e74 6578 745f 7369 7a65 203d  tton.text_size =
+0001c5f0: 2031 330a 2020 2020 6368 616e 6765 4261   13.    changeBa
+0001c600: 6e64 4c69 6e65 436f 6c6f 7242 7574 746f  ndLineColorButto
+0001c610: 6e2e 666f 6e74 203d 2022 4172 6961 6c20  n.font = "Arial 
+0001c620: 626f 6c64 220a 2020 2020 6368 616e 6765  bold".    change
+0001c630: 4261 6e64 4c69 6e65 436f 6c6f 7254 6578  BandLineColorTex
+0001c640: 7442 6f78 203d 2054 6578 7442 6f78 2867  tBox = TextBox(g
+0001c650: 7261 7068 6963 7350 7265 6665 7265 6e63  raphicsPreferenc
+0001c660: 6573 5769 6e64 6f77 2c20 6772 6964 3d5b  esWindow, grid=[
+0001c670: 322c 335d 2c20 7465 7874 3d61 7070 5061  2,3], text=appPa
+0001c680: 7261 6d65 7465 7273 5b22 636f 6c6f 7242  rameters["colorB
+0001c690: 616e 6422 5d2c 2077 6964 7468 3d37 290a  and"], width=7).
+0001c6a0: 2020 2020 6368 616e 6765 4865 6174 6d61      changeHeatma
+0001c6b0: 7047 7261 6469 656e 744c 6162 656c 203d  pGradientLabel =
+0001c6c0: 2054 6578 7428 6772 6170 6869 6373 5072   Text(graphicsPr
+0001c6d0: 6566 6572 656e 6365 7357 696e 646f 772c  eferencesWindow,
+0001c6e0: 2067 7269 643d 5b30 2c34 5d2c 2074 6578   grid=[0,4], tex
+0001c6f0: 743d 2248 6561 746d 6170 2047 7261 6469  t="Heatmap Gradi
+0001c700: 656e 743a 222c 2073 697a 653d 3133 2c20  ent:", size=13, 
+0001c710: 666f 6e74 3d22 4172 6961 6c20 626f 6c64  font="Arial bold
+0001c720: 222c 2063 6f6c 6f72 3d22 7768 6974 6522  ", color="white"
+0001c730: 290a 2020 2020 6368 616e 6765 4865 6174  ).    changeHeat
+0001c740: 6d61 7047 7261 6469 656e 7444 726f 7064  mapGradientDropd
+0001c750: 6f77 6e20 3d20 436f 6d62 6f28 6772 6170  own = Combo(grap
+0001c760: 6869 6373 5072 6566 6572 656e 6365 7357  hicsPreferencesW
+0001c770: 696e 646f 772c 2067 7269 643d 5b32 2c34  indow, grid=[2,4
+0001c780: 5d2c 206f 7074 696f 6e73 3d5b 2256 6972  ], options=["Vir
+0001c790: 6964 6973 222c 2022 506c 6173 6d61 222c  idis", "Plasma",
+0001c7a0: 2022 496e 6665 726e 6f22 2c20 224d 6167   "Inferno", "Mag
+0001c7b0: 6d61 222c 2022 4369 7669 6469 7322 5d2c  ma", "Cividis"],
+0001c7c0: 2073 656c 6563 7465 643d 6170 7050 6172   selected=appPar
+0001c7d0: 616d 6574 6572 735b 2268 6561 746d 6170  ameters["heatmap
+0001c7e0: 225d 2c20 636f 6d6d 616e 643d 636f 6c6f  "], command=colo
+0001c7f0: 7250 6963 6b48 616e 646c 6572 290a 2020  rPickHandler).  
+0001c800: 2020 6368 616e 6765 4865 6174 6d61 7047    changeHeatmapG
+0001c810: 7261 6469 656e 7444 726f 7064 6f77 6e2e  radientDropdown.
+0001c820: 7365 6c65 6374 5f64 6566 6175 6c74 2829  select_default()
+0001c830: 0a0a 2020 2020 6368 616e 6765 4772 6170  ..    changeGrap
+0001c840: 6843 6f6c 6f72 5465 7874 426f 782e 7465  hColorTextBox.te
+0001c850: 7874 5f63 6f6c 6f72 203d 2061 7070 5061  xt_color = appPa
+0001c860: 7261 6d65 7465 7273 5b22 636f 6c6f 7247  rameters["colorG
+0001c870: 7261 7068 225d 0a20 2020 2063 6861 6e67  raph"].    chang
+0001c880: 6547 7261 7068 436f 6c6f 7254 6578 7442  eGraphColorTextB
+0001c890: 6f78 2e62 6720 3d20 696e 7665 7274 436f  ox.bg = invertCo
+0001c8a0: 6c6f 7228 6170 7050 6172 616d 6574 6572  lor(appParameter
+0001c8b0: 735b 2263 6f6c 6f72 4772 6170 6822 5d29  s["colorGraph"])
+0001c8c0: 0a20 2020 2063 6861 6e67 6548 6f72 697a  .    changeHoriz
+0001c8d0: 6f6e 7461 6c4c 696e 6543 6f6c 6f72 5465  ontalLineColorTe
+0001c8e0: 7874 426f 782e 7465 7874 5f63 6f6c 6f72  xtBox.text_color
+0001c8f0: 203d 2061 7070 5061 7261 6d65 7465 7273   = appParameters
+0001c900: 5b22 636f 6c6f 7248 6f72 697a 225d 0a20  ["colorHoriz"]. 
+0001c910: 2020 2063 6861 6e67 6548 6f72 697a 6f6e     changeHorizon
+0001c920: 7461 6c4c 696e 6543 6f6c 6f72 5465 7874  talLineColorText
+0001c930: 426f 782e 6267 203d 2069 6e76 6572 7443  Box.bg = invertC
+0001c940: 6f6c 6f72 2861 7070 5061 7261 6d65 7465  olor(appParamete
+0001c950: 7273 5b22 636f 6c6f 7248 6f72 697a 225d  rs["colorHoriz"]
+0001c960: 290a 2020 2020 6368 616e 6765 5665 7274  ).    changeVert
+0001c970: 6963 616c 4c69 6e65 436f 6c6f 7254 6578  icalLineColorTex
+0001c980: 7442 6f78 2e74 6578 745f 636f 6c6f 7220  tBox.text_color 
+0001c990: 3d20 6170 7050 6172 616d 6574 6572 735b  = appParameters[
+0001c9a0: 2263 6f6c 6f72 5665 7274 225d 0a20 2020  "colorVert"].   
+0001c9b0: 2063 6861 6e67 6556 6572 7469 6361 6c4c   changeVerticalL
+0001c9c0: 696e 6543 6f6c 6f72 5465 7874 426f 782e  ineColorTextBox.
+0001c9d0: 6267 203d 2069 6e76 6572 7443 6f6c 6f72  bg = invertColor
+0001c9e0: 2861 7070 5061 7261 6d65 7465 7273 5b22  (appParameters["
+0001c9f0: 636f 6c6f 7256 6572 7422 5d29 0a20 2020  colorVert"]).   
+0001ca00: 2063 6861 6e67 6542 616e 644c 696e 6543   changeBandLineC
+0001ca10: 6f6c 6f72 5465 7874 426f 782e 7465 7874  olorTextBox.text
+0001ca20: 5f63 6f6c 6f72 203d 2061 7070 5061 7261  _color = appPara
+0001ca30: 6d65 7465 7273 5b22 636f 6c6f 7242 616e  meters["colorBan
+0001ca40: 6422 5d0a 2020 2020 6368 616e 6765 4261  d"].    changeBa
+0001ca50: 6e64 4c69 6e65 436f 6c6f 7254 6578 7442  ndLineColorTextB
+0001ca60: 6f78 2e62 6720 3d20 696e 7665 7274 436f  ox.bg = invertCo
+0001ca70: 6c6f 7228 6170 7050 6172 616d 6574 6572  lor(appParameter
+0001ca80: 735b 2263 6f6c 6f72 4261 6e64 225d 290a  s["colorBand"]).
+0001ca90: 0a20 2020 2067 7261 7068 6963 7350 7265  .    graphicsPre
+0001caa0: 6665 7265 6e63 6573 5769 6e64 6f77 2e72  ferencesWindow.r
+0001cab0: 6570 6561 7428 3230 302c 2067 7261 7068  epeat(200, graph
+0001cac0: 6963 7350 7265 6665 7265 6e63 6573 5072  icsPreferencesPr
+0001cad0: 6f6d 7074 5570 6461 7465 2c20 6172 6773  omptUpdate, args
+0001cae0: 3d5b 5b63 6861 6e67 6547 7261 7068 436f  =[[changeGraphCo
+0001caf0: 6c6f 7254 6578 7442 6f78 2c20 6368 616e  lorTextBox, chan
+0001cb00: 6765 486f 7269 7a6f 6e74 616c 4c69 6e65  geHorizontalLine
+0001cb10: 436f 6c6f 7254 6578 7442 6f78 2c20 6368  ColorTextBox, ch
+0001cb20: 616e 6765 5665 7274 6963 616c 4c69 6e65  angeVerticalLine
+0001cb30: 436f 6c6f 7254 6578 7442 6f78 2c20 6368  ColorTextBox, ch
+0001cb40: 616e 6765 4261 6e64 4c69 6e65 436f 6c6f  angeBandLineColo
+0001cb50: 7254 6578 7442 6f78 5d5d 290a 0a0a 6465  rTextBox]])...de
+0001cb60: 6620 6469 7370 6c61 7945 6469 7444 6174  f displayEditDat
+0001cb70: 6150 6f70 7570 2829 3a0a 0a20 2020 2067  aPopup():..    g
+0001cb80: 6c6f 6261 6c20 7475 6265 734d 6173 7465  lobal tubesMaste
+0001cb90: 720a 2020 2020 676c 6f62 616c 2065 6469  r.    global edi
+0001cba0: 7444 6174 6153 6574 4c69 7374 0a0a 0a20  tDataSetList... 
+0001cbb0: 2020 2065 6469 7454 7562 6573 5769 6e64     editTubesWind
+0001cbc0: 6f77 203d 2057 696e 646f 7728 6170 702c  ow = Window(app,
+0001cbd0: 2074 6974 6c65 3d22 4564 6974 2044 6174   title="Edit Dat
+0001cbe0: 6122 2c20 6c61 796f 7574 3d22 6175 746f  a", layout="auto
+0001cbf0: 222c 2077 6964 7468 3d34 3030 2c20 6865  ", width=400, he
+0001cc00: 6967 6874 3d33 3030 2920 2023 2043 7265  ight=300)  # Cre
+0001cc10: 6174 6520 706f 7075 7020 7769 6e64 6f77  ate popup window
+0001cc20: 0a20 2020 2065 6469 7454 7562 6573 5769  .    editTubesWi
+0001cc30: 6e64 6f77 2e73 686f 7728 7761 6974 3d54  ndow.show(wait=T
+0001cc40: 7275 6529 0a0a 2020 2020 6564 6974 4461  rue)..    editDa
+0001cc50: 7461 5365 744c 6973 7446 7261 6d65 203d  taSetListFrame =
+0001cc60: 2042 6f78 2865 6469 7454 7562 6573 5769   Box(editTubesWi
+0001cc70: 6e64 6f77 2c20 7769 6474 683d 3135 302c  ndow, width=150,
+0001cc80: 2068 6569 6768 743d 2266 696c 6c22 2c20   height="fill", 
+0001cc90: 616c 6967 6e3d 226c 6566 7422 290a 2020  align="left").  
+0001cca0: 2020 6564 6974 4461 7461 5365 744c 6973    editDataSetLis
+0001ccb0: 7454 6974 6c65 203d 2054 6578 7428 6564  tTitle = Text(ed
+0001ccc0: 6974 4461 7461 5365 744c 6973 7446 7261  itDataSetListFra
+0001ccd0: 6d65 2c20 7465 7874 3d22 5061 636b 733a  me, text="Packs:
+0001cce0: 222c 2061 6c69 676e 3d22 746f 7022 2c20  ", align="top", 
+0001ccf0: 666f 6e74 3d22 4172 6961 6c20 626f 6c64  font="Arial bold
+0001cd00: 2229 0a20 2020 2065 6469 7444 6174 6153  ").    editDataS
+0001cd10: 6574 4c69 7374 203d 204c 6973 7442 6f78  etList = ListBox
+0001cd20: 280a 2020 2020 2020 2020 6564 6974 4461  (.        editDa
+0001cd30: 7461 5365 744c 6973 7446 7261 6d65 2c0a  taSetListFrame,.
+0001cd40: 2020 2020 2020 2020 7363 726f 6c6c 6261          scrollba
+0001cd50: 723d 5472 7565 2c0a 2020 2020 2020 2020  r=True,.        
+0001cd60: 7769 6474 683d 3135 302c 0a20 2020 2020  width=150,.     
+0001cd70: 2020 2068 6569 6768 743d 2266 696c 6c22     height="fill"
+0001cd80: 2c0a 2020 2020 2020 2020 616c 6967 6e3d  ,.        align=
+0001cd90: 2274 6f70 220a 2020 2020 290a 2020 2020  "top".    ).    
+0001cda0: 6564 6974 4461 7461 4275 7474 6f6e 7346  editDataButtonsF
+0001cdb0: 7261 6d65 203d 2042 6f78 2865 6469 7454  rame = Box(editT
+0001cdc0: 7562 6573 5769 6e64 6f77 2c20 616c 6967  ubesWindow, alig
+0001cdd0: 6e3d 226c 6566 7422 290a 2020 2020 6564  n="left").    ed
+0001cde0: 6974 4461 7461 5265 6e61 6d65 4275 7474  itDataRenameButt
+0001cdf0: 6f6e 203d 2050 7573 6842 7574 746f 6e28  on = PushButton(
+0001ce00: 0a20 2020 2020 2020 2065 6469 7444 6174  .        editDat
+0001ce10: 6142 7574 746f 6e73 4672 616d 652c 0a20  aButtonsFrame,. 
+0001ce20: 2020 2020 2020 2074 6578 743d 2252 656e         text="Ren
+0001ce30: 616d 6522 2c0a 2020 2020 2020 2020 7061  ame",.        pa
+0001ce40: 6479 3d32 2c0a 2020 2020 2020 2020 636f  dy=2,.        co
+0001ce50: 6d6d 616e 643d 6564 6974 4461 7461 5265  mmand=editDataRe
+0001ce60: 6e61 6d65 5072 6f6d 7074 2c0a 2020 2020  namePrompt,.    
+0001ce70: 2020 2020 7769 6474 683d 2266 696c 6c22      width="fill"
+0001ce80: 0a20 2020 2029 0a20 2020 2065 6469 7444  .    ).    editD
+0001ce90: 6174 6152 656d 6f76 6542 7574 746f 6e20  ataRemoveButton 
+0001cea0: 3d20 5075 7368 4275 7474 6f6e 280a 2020  = PushButton(.  
+0001ceb0: 2020 2020 2020 6564 6974 4461 7461 4275        editDataBu
+0001cec0: 7474 6f6e 7346 7261 6d65 2c0a 2020 2020  ttonsFrame,.    
+0001ced0: 2020 2020 7465 7874 3d22 5265 6d6f 7665      text="Remove
+0001cee0: 222c 0a20 2020 2020 2020 2070 6164 793d  ",.        pady=
+0001cef0: 322c 0a20 2020 2020 2020 2063 6f6d 6d61  2,.        comma
+0001cf00: 6e64 3d6c 616d 6264 613a 6564 6974 4461  nd=lambda:editDa
+0001cf10: 7461 506f 7075 7055 7064 6174 6528 6163  taPopupUpdate(ac
+0001cf20: 7469 6f6e 3d22 7265 6d6f 7665 2229 2c0a  tion="remove"),.
+0001cf30: 2020 2020 2020 2020 7769 6474 683d 2266          width="f
+0001cf40: 696c 6c22 0a20 2020 2029 0a20 2020 2065  ill".    ).    e
+0001cf50: 6469 7444 6174 6154 696d 6573 6865 6574  ditDataTimesheet
+0001cf60: 4275 7474 6f6e 203d 2050 7573 6842 7574  Button = PushBut
+0001cf70: 746f 6e28 0a20 2020 2020 2020 2065 6469  ton(.        edi
+0001cf80: 7444 6174 6142 7574 746f 6e73 4672 616d  tDataButtonsFram
+0001cf90: 652c 0a20 2020 2020 2020 2074 6578 743d  e,.        text=
+0001cfa0: 2253 6176 6520 5469 6d65 2044 6174 6122  "Save Time Data"
+0001cfb0: 2c0a 2020 2020 2020 2020 7061 6479 3d32  ,.        pady=2
+0001cfc0: 2c0a 2020 2020 2020 2020 636f 6d6d 616e  ,.        comman
+0001cfd0: 643d 6c61 6d62 6461 3a65 6469 7444 6174  d=lambda:editDat
+0001cfe0: 6150 6f70 7570 5570 6461 7465 2861 6374  aPopupUpdate(act
+0001cff0: 696f 6e3d 2274 696d 6573 2229 2c0a 2020  ion="times"),.  
+0001d000: 2020 2020 2020 7769 6474 683d 2266 696c        width="fil
+0001d010: 6c22 0a20 2020 2029 0a0a 2020 2020 6564  l".    )..    ed
+0001d020: 6974 4461 7461 506f 7075 7055 7064 6174  itDataPopupUpdat
+0001d030: 6528 290a 0a0a 6465 6620 6564 6974 4461  e()...def editDa
+0001d040: 7461 5265 6e61 6d65 5072 6f6d 7074 2829  taRenamePrompt()
+0001d050: 3a0a 2020 2020 0a20 2020 2067 6c6f 6261  :.    .    globa
+0001d060: 6c20 6564 6974 4461 7461 5365 744c 6973  l editDataSetLis
+0001d070: 740a 2020 2020 0a20 2020 2073 6574 4e61  t.    .    setNa
+0001d080: 6d65 203d 2065 6469 7444 6174 6153 6574  me = editDataSet
+0001d090: 4c69 7374 2e76 616c 7565 0a20 2020 2069  List.value.    i
+0001d0a0: 6620 7365 744e 616d 653a 0a20 2020 2020  f setName:.     
+0001d0b0: 2020 2072 656e 616d 6550 6f70 7570 203d     renamePopup =
+0001d0c0: 2057 696e 646f 7728 6170 702c 2074 6974   Window(app, tit
+0001d0d0: 6c65 3d22 5265 6e61 6d65 2070 6163 6b2e  le="Rename pack.
+0001d0e0: 2e2e 222c 2077 6964 7468 3d32 3030 2c20  ..", width=200, 
+0001d0f0: 6865 6967 6874 3d31 3230 2920 2023 2050  height=120)  # P
+0001d100: 6f70 7570 2077 696e 646f 770a 2020 2020  opup window.    
+0001d110: 2020 2020 7265 6e61 6d65 506f 7075 702e      renamePopup.
+0001d120: 7368 6f77 2877 6169 743d 5472 7565 2920  show(wait=True) 
+0001d130: 2023 2053 686f 7720 7769 6e64 6f77 2061   # Show window a
+0001d140: 7320 706f 7075 700a 2020 2020 2020 2020  s popup.        
+0001d150: 7265 6e61 6d65 5465 7874 203d 2054 6578  renameText = Tex
+0001d160: 7428 7265 6e61 6d65 506f 7075 702c 2074  t(renamePopup, t
+0001d170: 6578 743d 2252 656e 616d 6520 7061 636b  ext="Rename pack
+0001d180: 2022 2b73 6574 4e61 6d65 2b22 2074 6f3a   "+setName+" to:
+0001d190: 222c 2061 6c69 676e 3d22 746f 7022 2c20  ", align="top", 
+0001d1a0: 666f 6e74 3d22 4172 6961 6c20 626f 6c64  font="Arial bold
+0001d1b0: 2229 0a20 2020 2020 2020 2072 656e 616d  ").        renam
+0001d1c0: 6554 6578 7442 6f78 203d 2054 6578 7442  eTextBox = TextB
+0001d1d0: 6f78 2872 656e 616d 6550 6f70 7570 2920  ox(renamePopup) 
+0001d1e0: 2023 2054 6578 7420 626f 7820 666f 7220   # Text box for 
+0001d1f0: 6e65 7720 6e61 6d65 206f 6620 7475 6265  new name of tube
+0001d200: 2073 6574 0a20 2020 2020 2020 2072 656e   set.        ren
+0001d210: 616d 6554 6578 7442 6f78 2e66 6f63 7573  ameTextBox.focus
+0001d220: 2829 2020 2320 466f 6375 7320 6e61 6d65  ()  # Focus name
+0001d230: 2074 6578 7420 626f 780a 2020 2020 2020   text box.      
+0001d240: 2020 7265 6e61 6d65 4275 7474 6f6e 203d    renameButton =
+0001d250: 2050 7573 6842 7574 746f 6e28 7265 6e61   PushButton(rena
+0001d260: 6d65 506f 7075 702c 2074 6578 743d 2243  mePopup, text="C
+0001d270: 6f6e 6669 726d 222c 2063 6f6d 6d61 6e64  onfirm", command
+0001d280: 3d6c 616d 6264 613a 205b 6564 6974 4461  =lambda: [editDa
+0001d290: 7461 506f 7075 7055 7064 6174 6528 6163  taPopupUpdate(ac
+0001d2a0: 7469 6f6e 3d22 7265 6e61 6d65 222c 206e  tion="rename", n
+0001d2b0: 6577 4e61 6d65 3d72 656e 616d 6554 6578  ewName=renameTex
+0001d2c0: 7442 6f78 2e76 616c 7565 292c 2072 656e  tBox.value), ren
+0001d2d0: 616d 6550 6f70 7570 2e64 6573 7472 6f79  amePopup.destroy
+0001d2e0: 2829 5d29 2020 2320 4275 7474 6f6e 2074  ()])  # Button t
+0001d2f0: 6f20 7361 7665 2074 7562 6573 2074 6f20  o save tubes to 
+0001d300: 6669 6c65 2061 6e64 2063 6c6f 7365 2070  file and close p
+0001d310: 6f70 7570 0a20 2020 2020 2020 2072 656e  opup.        ren
+0001d320: 616d 6542 7574 746f 6e2e 7465 7874 5f73  ameButton.text_s
+0001d330: 697a 6520 3d20 3133 0a20 2020 2020 2020  ize = 13.       
+0001d340: 2072 656e 616d 6542 7574 746f 6e2e 666f   renameButton.fo
+0001d350: 6e74 203d 2022 4172 6961 6c20 626f 6c64  nt = "Arial bold
+0001d360: 220a 0a0a 6465 6620 6564 6974 4461 7461  "...def editData
+0001d370: 506f 7075 7055 7064 6174 6528 6163 7469  PopupUpdate(acti
+0001d380: 6f6e 3d4e 6f6e 652c 206e 6577 4e61 6d65  on=None, newName
+0001d390: 3d4e 6f6e 6529 3a0a 2020 2020 0a20 2020  =None):.    .   
+0001d3a0: 2067 6c6f 6261 6c20 7475 6265 734d 6173   global tubesMas
+0001d3b0: 7465 720a 2020 2020 676c 6f62 616c 2065  ter.    global e
+0001d3c0: 6469 7444 6174 6153 6574 4c69 7374 0a20  ditDataSetList. 
+0001d3d0: 2020 2067 6c6f 6261 6c20 6f70 656e 4669     global openFi
+0001d3e0: 6c65 0a20 2020 2070 7269 6e74 2873 7472  le.    print(str
+0001d3f0: 286f 7065 6e46 696c 6529 290a 0a20 2020  (openFile))..   
+0001d400: 2073 6574 4e61 6d65 203d 2065 6469 7444   setName = editD
+0001d410: 6174 6153 6574 4c69 7374 2e76 616c 7565  ataSetList.value
+0001d420: 0a20 2020 206d 6174 6368 2061 6374 696f  .    match actio
+0001d430: 6e3a 0a20 2020 2020 2020 2063 6173 6520  n:.        case 
+0001d440: 2272 656e 616d 6522 3a0a 2020 2020 2020  "rename":.      
+0001d450: 2020 2020 2020 666f 7220 7475 6265 2069        for tube i
+0001d460: 6e20 7475 6265 734d 6173 7465 723a 0a20  n tubesMaster:. 
+0001d470: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001d480: 6620 7475 6265 5b22 7365 744e 616d 6522  f tube["setName"
+0001d490: 5d20 3d3d 2073 6574 4e61 6d65 3a0a 2020  ] == setName:.  
+0001d4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d4b0: 2020 7475 6265 5b22 7365 744e 616d 6522    tube["setName"
+0001d4c0: 5d20 3d20 6e65 774e 616d 650a 2020 2020  ] = newName.    
+0001d4d0: 2020 2020 2020 2020 7361 7665 4578 7065          saveExpe
+0001d4e0: 7269 6d65 6e74 4669 6c65 2829 0a20 2020  rimentFile().   
+0001d4f0: 2020 2020 2063 6173 6520 2272 656d 6f76       case "remov
+0001d500: 6522 3a0a 2020 2020 2020 2020 2020 2020  e":.            
+0001d510: 6966 206e 6f74 206e 6577 4e61 6d65 3a0a  if not newName:.
+0001d520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d530: 756e 7469 6c20 3d20 4661 6c73 650a 2020  until = False.  
+0001d540: 2020 2020 2020 2020 2020 2020 2020 7768                wh
+0001d550: 696c 6520 756e 7469 6c20 6973 2046 616c  ile until is Fal
+0001d560: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001d570: 2020 2020 2020 2020 666f 7220 696e 6465          for inde
+0001d580: 782c 2074 7562 6520 696e 2065 6e75 6d65  x, tube in enume
+0001d590: 7261 7465 2874 7562 6573 4d61 7374 6572  rate(tubesMaster
+0001d5a0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0001d5b0: 2020 2020 2020 2020 2020 2069 6620 7475             if tu
+0001d5c0: 6265 5b22 7365 744e 616d 6522 5d20 3d3d  be["setName"] ==
+0001d5d0: 2073 6574 4e61 6d65 3a0a 2020 2020 2020   setName:.      
+0001d5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d5f0: 2020 2020 2020 7475 6265 734d 6173 7465        tubesMaste
+0001d600: 722e 706f 7028 696e 6465 7829 0a20 2020  r.pop(index).   
+0001d610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d620: 2020 2020 2020 2020 2062 7265 616b 0a20           break. 
+0001d630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d640: 2020 2063 6f75 6e74 203d 2030 0a20 2020     count = 0.   
+0001d650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d660: 2066 6f72 2074 7562 6520 696e 2074 7562   for tube in tub
+0001d670: 6573 4d61 7374 6572 3a0a 2020 2020 2020  esMaster:.      
+0001d680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d690: 2020 6966 2074 7562 655b 2273 6574 4e61    if tube["setNa
+0001d6a0: 6d65 225d 203d 3d20 7365 744e 616d 653a  me"] == setName:
+0001d6b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001d6c0: 2020 2020 2020 2020 2020 2020 2063 6f75               cou
+0001d6d0: 6e74 202b 3d20 310a 2020 2020 2020 2020  nt += 1.        
+0001d6e0: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+0001d6f0: 6f75 6e74 203d 3d20 303a 0a20 2020 2020  ount == 0:.     
+0001d700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d710: 2020 2075 6e74 696c 203d 2054 7275 650a     until = True.
+0001d720: 2020 2020 2020 2020 2020 2020 7361 7665              save
+0001d730: 4578 7065 7269 6d65 6e74 4669 6c65 2829  ExperimentFile()
+0001d740: 0a20 2020 2020 2020 2063 6173 6520 2274  .        case "t
+0001d750: 696d 6573 223a 0a20 2020 2020 2020 2020  imes":.         
+0001d760: 2020 2074 696d 654d 6172 6b73 4669 6c65     timeMarksFile
+0001d770: 4e61 6d65 203d 2061 7070 2e73 656c 6563  Name = app.selec
+0001d780: 745f 6669 6c65 280a 2020 2020 2020 2020  t_file(.        
+0001d790: 2020 2020 2020 2020 7469 746c 653d 2253          title="S
+0001d7a0: 6176 6520 7469 6d65 2064 6174 6120 6173  ave time data as
+0001d7b0: 2e2e 2e22 2c0a 2020 2020 2020 2020 2020  ...",.          
+0001d7c0: 2020 2020 2020 666f 6c64 6572 3d77 6f72        folder=wor
+0001d7d0: 6b69 6e67 4469 722c 0a20 2020 2020 2020  kingDir,.       
+0001d7e0: 2020 2020 2020 2020 2066 696c 6574 7970           filetyp
+0001d7f0: 6573 3d5b 5b22 4353 5622 2c20 222a 2e63  es=[["CSV", "*.c
+0001d800: 7376 225d 5d2c 0a20 2020 2020 2020 2020  sv"]],.         
+0001d810: 2020 2020 2020 2073 6176 653d 5472 7565         save=True
+0001d820: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001d830: 2020 6669 6c65 6e61 6d65 3d28 7365 744e    filename=(setN
+0001d840: 616d 6520 2b20 225f 7469 6d65 5f6d 6172  ame + "_time_mar
+0001d850: 6b73 5f6d 6574 6164 6174 6122 292c 0a20  ks_metadata"),. 
+0001d860: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+0001d870: 2020 2020 2020 2020 206d 6172 6b48 6f75           markHou
+0001d880: 7273 203d 204e 6f6e 650a 2020 2020 2020  rs = None.      
+0001d890: 2020 2020 2020 666f 7220 7475 6265 2069        for tube i
+0001d8a0: 6e20 7475 6265 734d 6173 7465 723a 0a20  n tubesMaster:. 
+0001d8b0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001d8c0: 6620 7475 6265 5b22 7365 744e 616d 6522  f tube["setName"
+0001d8d0: 5d20 3d3d 2073 6574 4e61 6d65 3a0a 2020  ] == setName:.  
+0001d8e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d8f0: 2020 6d61 726b 486f 7572 7320 3d20 7475    markHours = tu
+0001d900: 6265 5b22 6d61 726b 486f 7572 7322 5d5b  be["markHours"][
+0001d910: 3a6c 656e 2874 7562 655b 2274 696d 654d  :len(tube["timeM
+0001d920: 6172 6b73 225d 295d 0a20 2020 2020 2020  arks"])].       
+0001d930: 2020 2020 2020 2020 2020 2020 2062 7265               bre
+0001d940: 616b 0a20 2020 2020 2020 2020 2020 206e  ak.            n
+0001d950: 6169 7665 486f 7572 7320 3d20 5b5d 0a20  aiveHours = []. 
+0001d960: 2020 2020 2020 2020 2020 2066 6f72 2069             for i
+0001d970: 6e64 6578 2069 6e20 7261 6e67 6528 6c65  ndex in range(le
+0001d980: 6e28 6d61 726b 486f 7572 7329 293a 0a20  n(markHours)):. 
+0001d990: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+0001d9a0: 6169 7665 486f 7572 732e 6170 7065 6e64  aiveHours.append
+0001d9b0: 286d 6172 6b48 6f75 7273 5b30 5d20 2b20  (markHours[0] + 
+0001d9c0: 3234 202a 2069 6e64 6578 290a 2020 2020  24 * index).    
+0001d9d0: 2020 2020 2020 2020 7769 7468 206f 7065          with ope
+0001d9e0: 6e28 7469 6d65 4d61 726b 7346 696c 654e  n(timeMarksFileN
+0001d9f0: 616d 652c 2027 7727 2c20 6e65 776c 696e  ame, 'w', newlin
+0001da00: 653d 2727 2c20 656e 636f 6469 6e67 3d27  e='', encoding='
+0001da10: 7574 662d 3136 2729 2061 7320 6373 7666  utf-16') as csvf
+0001da20: 696c 653a 2020 2320 4f70 656e 2063 7376  ile:  # Open csv
+0001da30: 2066 696c 650a 2020 2020 2020 2020 2020   file.          
+0001da40: 2020 2020 2020 726f 7757 7269 7465 7220        rowWriter 
+0001da50: 3d20 6373 762e 7772 6974 6572 2863 7376  = csv.writer(csv
+0001da60: 6669 6c65 2c20 6465 6c69 6d69 7465 723d  file, delimiter=
+0001da70: 272c 2729 2020 2320 5772 6974 6520 746f  ',')  # Write to
+0001da80: 2066 696c 6520 6465 6c69 6d69 7465 6420   file delimited 
+0001da90: 6279 2022 2c22 0a20 2020 2020 2020 2020  by ",".         
+0001daa0: 2020 2020 2020 2072 6f77 5772 6974 6572         rowWriter
+0001dab0: 2e77 7269 7465 726f 7728 5b73 6574 4e61  .writerow([setNa
+0001dac0: 6d65 2c20 2222 2c20 2222 5d29 0a20 2020  me, "", ""]).   
+0001dad0: 2020 2020 2020 2020 2020 2020 2072 6f77               row
+0001dae0: 5772 6974 6572 2e77 7269 7465 726f 7728  Writer.writerow(
+0001daf0: 5b22 4d61 726b 2023 222c 2022 486f 7572  ["Mark #", "Hour
+0001db00: 7322 2c20 222b 2f2d 2032 3420 486f 7572  s", "+/- 24 Hour
+0001db10: 2053 6368 6564 756c 6522 5d29 2020 2320   Schedule"])  # 
+0001db20: 5772 6974 6520 7469 746c 6520 726f 7720  Write title row 
+0001db30: 746f 2066 696c 650a 2020 2020 2020 2020  to file.        
+0001db40: 2020 2020 2020 2020 666f 7220 696e 6465          for inde
+0001db50: 782c 2068 6f75 7273 2069 6e20 656e 756d  x, hours in enum
+0001db60: 6572 6174 6528 6d61 726b 486f 7572 7329  erate(markHours)
+0001db70: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001db80: 2020 2020 2020 6465 7669 6174 696f 6e20        deviation 
+0001db90: 3d20 686f 7572 7320 2d20 6e61 6976 6548  = hours - naiveH
+0001dba0: 6f75 7273 5b69 6e64 6578 5d0a 2020 2020  ours[index].    
+0001dbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dbc0: 6e65 774c 696e 6520 3d20 5b73 7472 2869  newLine = [str(i
+0001dbd0: 6e64 6578 202b 2031 292c 2073 7472 2868  ndex + 1), str(h
+0001dbe0: 6f75 7273 292c 2073 7472 2864 6576 6961  ours), str(devia
+0001dbf0: 7469 6f6e 295d 0a20 2020 2020 2020 2020  tion)].         
+0001dc00: 2020 2020 2020 2020 2020 2072 6f77 5772             rowWr
+0001dc10: 6974 6572 2e77 7269 7465 726f 7728 6e65  iter.writerow(ne
+0001dc20: 774c 696e 6529 2020 2320 5772 6974 6520  wLine)  # Write 
+0001dc30: 726f 7720 746f 2066 696c 650a 0a20 2020  row to file..   
+0001dc40: 2023 4765 7420 696e 666f 726d 6174 696f   #Get informatio
+0001dc50: 6e20 666f 7220 7365 7473 2069 6e20 6669  n for sets in fi
+0001dc60: 6c65 0a20 2020 2073 6574 7354 6f44 6973  le.    setsToDis
+0001dc70: 706c 6179 203d 205b 5d20 2023 2042 6c61  play = []  # Bla
+0001dc80: 6e6b 206c 6973 7420 6f66 2074 7562 6520  nk list of tube 
+0001dc90: 7365 7473 0a20 2020 2066 6f72 2074 7562  sets.    for tub
+0001dca0: 6520 696e 2074 7562 6573 4d61 7374 6572  e in tubesMaster
+0001dcb0: 3a20 2023 2046 6f72 2065 6163 6820 7475  :  # For each tu
+0001dcc0: 6265 2069 6e20 6d61 7374 6572 2074 7562  be in master tub
+0001dcd0: 6573 206c 6973 740a 2020 2020 2020 2020  es list.        
+0001dce0: 6966 2074 7562 655b 2273 6574 4e61 6d65  if tube["setName
+0001dcf0: 225d 206e 6f74 2069 6e20 7365 7473 546f  "] not in setsTo
+0001dd00: 4469 7370 6c61 793a 2020 2320 4966 2073  Display:  # If s
+0001dd10: 6574 206e 616d 6520 6f66 2074 7562 6520  et name of tube 
+0001dd20: 6973 206e 6f74 2069 6e20 6c69 7374 206f  is not in list o
+0001dd30: 6620 7365 7420 6f70 7469 6f6e 730a 2020  f set options.  
+0001dd40: 2020 2020 2020 2020 2020 7365 7473 546f            setsTo
+0001dd50: 4469 7370 6c61 792e 6170 7065 6e64 2874  Display.append(t
+0001dd60: 7562 655b 2273 6574 4e61 6d65 225d 2920  ube["setName"]) 
+0001dd70: 2023 2041 6464 2074 7562 6520 7365 7420   # Add tube set 
+0001dd80: 6e61 6d65 2074 6f20 6c69 7374 206f 6620  name to list of 
+0001dd90: 7365 7420 6f70 7469 6f6e 730a 2020 2020  set options.    
+0001dda0: 0a20 2020 2023 4368 616e 6765 2065 6c65  .    #Change ele
+0001ddb0: 6d65 6e74 7320 6f66 2073 6574 206c 6973  ments of set lis
+0001ddc0: 7420 746f 2072 6566 6c65 6374 2075 7365  t to reflect use
+0001ddd0: 7220 7365 6c65 6374 696f 6e73 0a20 2020  r selections.   
+0001dde0: 2077 6869 6c65 206c 656e 2865 6469 7444   while len(editD
+0001ddf0: 6174 6153 6574 4c69 7374 2e69 7465 6d73  ataSetList.items
+0001de00: 2920 3e20 303a 2020 2320 556e 7469 6c20  ) > 0:  # Until 
+0001de10: 7475 6265 206c 6973 7420 6973 2065 6d70  tube list is emp
+0001de20: 7479 0a20 2020 2020 2020 2066 6f72 2069  ty.        for i
+0001de30: 7465 6d20 696e 2065 6469 7444 6174 6153  tem in editDataS
+0001de40: 6574 4c69 7374 2e69 7465 6d73 3a20 2023  etList.items:  #
+0001de50: 2046 6f72 2065 6163 6820 6974 656d 2069   For each item i
+0001de60: 6e20 7475 6265 206c 6973 740a 2020 2020  n tube list.    
+0001de70: 2020 2020 2020 2020 6564 6974 4461 7461          editData
+0001de80: 5365 744c 6973 742e 7265 6d6f 7665 2869  SetList.remove(i
+0001de90: 7465 6d29 2020 2320 5265 6d6f 7665 2069  tem)  # Remove i
+0001dea0: 7465 6d20 6672 6f6d 2074 7562 6520 6c69  tem from tube li
+0001deb0: 7374 0a20 2020 2069 6620 6c65 6e28 6564  st.    if len(ed
+0001dec0: 6974 4461 7461 5365 744c 6973 742e 6974  itDataSetList.it
+0001ded0: 656d 7329 203d 3d20 303a 2020 2320 4966  ems) == 0:  # If
+0001dee0: 2073 6574 206c 6973 7420 6973 2065 6d70   set list is emp
+0001def0: 7479 0a20 2020 2020 2020 2066 6f72 2069  ty.        for i
+0001df00: 6e64 6578 2c20 7365 744e 616d 6520 696e  ndex, setName in
+0001df10: 2065 6e75 6d65 7261 7465 2873 6574 7354   enumerate(setsT
+0001df20: 6f44 6973 706c 6179 293a 2020 2320 466f  oDisplay):  # Fo
+0001df30: 7220 6561 6368 2073 6574 2074 6f20 6469  r each set to di
+0001df40: 7370 6c61 790a 2020 2020 2020 2020 2020  splay.          
+0001df50: 2020 6564 6974 4461 7461 5365 744c 6973    editDataSetLis
+0001df60: 742e 696e 7365 7274 2869 6e64 6578 2c20  t.insert(index, 
+0001df70: 7365 744e 616d 6529 2020 2320 4164 6420  setName)  # Add 
+0001df80: 7365 7420 6e61 6d65 2074 6f20 7365 7420  set name to set 
+0001df90: 6c69 7374 0a0a 0a64 6566 2063 6f6c 6f72  list...def color
+0001dfa0: 5069 636b 4861 6e64 6c65 7228 6275 7474  PickHandler(butt
+0001dfb0: 6f6e 293a 0a20 2020 2022 2222 5072 6f6d  on):.    """Prom
+0001dfc0: 7074 2075 7365 7220 746f 2070 6963 6b20  pt user to pick 
+0001dfd0: 6120 6e65 7720 636f 6c6f 7220 7768 656e  a new color when
+0001dfe0: 2061 2062 7574 746f 6e20 746f 2063 6861   a button to cha
+0001dff0: 6e67 6520 6120 636f 6c6f 7220 7072 6566  nge a color pref
+0001e000: 6572 656e 6365 2069 7320 636c 6963 6b65  erence is clicke
+0001e010: 642e 2222 220a 2020 2020 0a20 2020 200a  d.""".    .    .
+0001e020: 2020 2020 676c 6f62 616c 2061 7070 5061      global appPa
+0001e030: 7261 6d65 7465 7273 0a0a 2020 2020 0a20  rameters..    . 
+0001e040: 2020 206e 6577 436f 6c6f 7220 3d20 2222     newColor = ""
+0001e050: 0a20 2020 206d 6174 6368 2062 7574 746f  .    match butto
+0001e060: 6e3a 0a20 2020 2020 2020 2063 6173 6520  n:.        case 
+0001e070: 303a 0a20 2020 2020 2020 2020 2020 206e  0:.            n
+0001e080: 6577 436f 6c6f 7220 3d20 6170 702e 7365  ewColor = app.se
+0001e090: 6c65 6374 5f63 6f6c 6f72 2863 6f6c 6f72  lect_color(color
+0001e0a0: 3d61 7070 5061 7261 6d65 7465 7273 5b22  =appParameters["
+0001e0b0: 636f 6c6f 7247 7261 7068 225d 290a 2020  colorGraph"]).  
+0001e0c0: 2020 2020 2020 2020 2020 6170 7050 6172            appPar
+0001e0d0: 616d 6574 6572 735b 2263 6f6c 6f72 4772  ameters["colorGr
+0001e0e0: 6170 6822 5d20 3d20 6e65 7743 6f6c 6f72  aph"] = newColor
+0001e0f0: 0a20 2020 2020 2020 2020 2020 2075 7064  .            upd
+0001e100: 6174 6541 7070 5061 7261 6d65 7465 7273  ateAppParameters
+0001e110: 2829 0a20 2020 2020 2020 2063 6173 6520  ().        case 
+0001e120: 313a 0a20 2020 2020 2020 2020 2020 206e  1:.            n
+0001e130: 6577 436f 6c6f 7220 3d20 6170 702e 7365  ewColor = app.se
+0001e140: 6c65 6374 5f63 6f6c 6f72 2863 6f6c 6f72  lect_color(color
+0001e150: 3d61 7070 5061 7261 6d65 7465 7273 5b22  =appParameters["
+0001e160: 636f 6c6f 7248 6f72 697a 225d 290a 2020  colorHoriz"]).  
+0001e170: 2020 2020 2020 2020 2020 6170 7050 6172            appPar
+0001e180: 616d 6574 6572 735b 2263 6f6c 6f72 486f  ameters["colorHo
+0001e190: 7269 7a22 5d20 3d20 6e65 7743 6f6c 6f72  riz"] = newColor
+0001e1a0: 0a20 2020 2020 2020 2020 2020 2075 7064  .            upd
+0001e1b0: 6174 6541 7070 5061 7261 6d65 7465 7273  ateAppParameters
+0001e1c0: 2829 0a20 2020 2020 2020 2063 6173 6520  ().        case 
+0001e1d0: 323a 0a20 2020 2020 2020 2020 2020 206e  2:.            n
+0001e1e0: 6577 436f 6c6f 7220 3d20 6170 702e 7365  ewColor = app.se
+0001e1f0: 6c65 6374 5f63 6f6c 6f72 2863 6f6c 6f72  lect_color(color
+0001e200: 3d61 7070 5061 7261 6d65 7465 7273 5b22  =appParameters["
+0001e210: 636f 6c6f 7256 6572 7422 5d29 0a20 2020  colorVert"]).   
+0001e220: 2020 2020 2020 2020 2061 7070 5061 7261           appPara
+0001e230: 6d65 7465 7273 5b22 636f 6c6f 7256 6572  meters["colorVer
+0001e240: 7422 5d20 3d20 6e65 7743 6f6c 6f72 0a20  t"] = newColor. 
+0001e250: 2020 2020 2020 2020 2020 2075 7064 6174             updat
+0001e260: 6541 7070 5061 7261 6d65 7465 7273 2829  eAppParameters()
+0001e270: 0a20 2020 2020 2020 2063 6173 6520 333a  .        case 3:
+0001e280: 0a20 2020 2020 2020 2020 2020 206e 6577  .            new
+0001e290: 436f 6c6f 7220 3d20 6170 702e 7365 6c65  Color = app.sele
+0001e2a0: 6374 5f63 6f6c 6f72 2863 6f6c 6f72 3d61  ct_color(color=a
+0001e2b0: 7070 5061 7261 6d65 7465 7273 5b22 636f  ppParameters["co
+0001e2c0: 6c6f 7242 616e 6422 5d29 0a20 2020 2020  lorBand"]).     
+0001e2d0: 2020 2020 2020 2061 7070 5061 7261 6d65         appParame
+0001e2e0: 7465 7273 5b22 636f 6c6f 7242 616e 6422  ters["colorBand"
+0001e2f0: 5d20 3d20 6e65 7743 6f6c 6f72 0a20 2020  ] = newColor.   
+0001e300: 2020 2020 2020 2020 2075 7064 6174 6541           updateA
+0001e310: 7070 5061 7261 6d65 7465 7273 2829 0a20  ppParameters(). 
+0001e320: 2020 2020 2020 2063 6173 6520 5f3a 0a20         case _:. 
+0001e330: 2020 2020 2020 2020 2020 2061 7070 5061             appPa
+0001e340: 7261 6d65 7465 7273 5b22 6865 6174 6d61  rameters["heatma
+0001e350: 7022 5d20 3d20 6275 7474 6f6e 2e6c 6f77  p"] = button.low
+0001e360: 6572 2829 0a20 2020 2020 2020 2020 2020  er().           
+0001e370: 2075 7064 6174 6541 7070 5061 7261 6d65   updateAppParame
+0001e380: 7465 7273 2829 0a20 2020 2020 2020 2020  ters().         
+0001e390: 2020 2070 6f70 756c 6174 6550 6c6f 7473     populatePlots
+0001e3a0: 2829 0a20 2020 2020 2020 2020 2020 2072  ().            r
+0001e3b0: 6574 7572 6e0a 2020 2020 6472 6177 4c69  eturn.    drawLi
+0001e3c0: 6e65 7328 5472 7565 290a 0a0a 6465 6620  nes(True)...def 
+0001e3d0: 6772 6170 6869 6373 5072 6566 6572 656e  graphicsPreferen
+0001e3e0: 6365 7350 726f 6d70 7455 7064 6174 6528  cesPromptUpdate(
+0001e3f0: 7465 7874 7329 3a0a 2020 2020 2222 2255  texts):.    """U
+0001e400: 7064 6174 6520 6772 6170 6869 6373 2070  pdate graphics p
+0001e410: 7265 6665 7265 6e63 6573 2077 696e 646f  references windo
+0001e420: 772e 2222 220a 2020 2020 0a20 2020 200a  w.""".    .    .
+0001e430: 2020 2020 676c 6f62 616c 2061 7070 5061      global appPa
+0001e440: 7261 6d65 7465 7273 0a20 2020 200a 2020  rameters.    .  
+0001e450: 2020 0a20 2020 2074 6578 7473 5b30 5d2e    .    texts[0].
+0001e460: 7465 7874 5f63 6f6c 6f72 203d 2061 7070  text_color = app
+0001e470: 5061 7261 6d65 7465 7273 5b22 636f 6c6f  Parameters["colo
+0001e480: 7247 7261 7068 225d 0a20 2020 2074 6578  rGraph"].    tex
+0001e490: 7473 5b30 5d2e 7661 6c75 6520 3d20 6170  ts[0].value = ap
+0001e4a0: 7050 6172 616d 6574 6572 735b 2263 6f6c  pParameters["col
+0001e4b0: 6f72 4772 6170 6822 5d0a 2020 2020 7465  orGraph"].    te
+0001e4c0: 7874 735b 305d 2e62 6720 3d20 696e 7665  xts[0].bg = inve
+0001e4d0: 7274 436f 6c6f 7228 6170 7050 6172 616d  rtColor(appParam
+0001e4e0: 6574 6572 735b 2263 6f6c 6f72 4772 6170  eters["colorGrap
+0001e4f0: 6822 5d29 0a20 2020 2074 6578 7473 5b31  h"]).    texts[1
+0001e500: 5d2e 7465 7874 5f63 6f6c 6f72 203d 2061  ].text_color = a
+0001e510: 7070 5061 7261 6d65 7465 7273 5b22 636f  ppParameters["co
+0001e520: 6c6f 7248 6f72 697a 225d 0a20 2020 2074  lorHoriz"].    t
+0001e530: 6578 7473 5b31 5d2e 7661 6c75 6520 3d20  exts[1].value = 
+0001e540: 6170 7050 6172 616d 6574 6572 735b 2263  appParameters["c
+0001e550: 6f6c 6f72 486f 7269 7a22 5d0a 2020 2020  olorHoriz"].    
+0001e560: 7465 7874 735b 315d 2e62 6720 3d20 696e  texts[1].bg = in
+0001e570: 7665 7274 436f 6c6f 7228 6170 7050 6172  vertColor(appPar
+0001e580: 616d 6574 6572 735b 2263 6f6c 6f72 486f  ameters["colorHo
+0001e590: 7269 7a22 5d29 0a20 2020 2074 6578 7473  riz"]).    texts
+0001e5a0: 5b32 5d2e 7465 7874 5f63 6f6c 6f72 203d  [2].text_color =
+0001e5b0: 2061 7070 5061 7261 6d65 7465 7273 5b22   appParameters["
+0001e5c0: 636f 6c6f 7256 6572 7422 5d0a 2020 2020  colorVert"].    
+0001e5d0: 7465 7874 735b 325d 2e76 616c 7565 203d  texts[2].value =
+0001e5e0: 2061 7070 5061 7261 6d65 7465 7273 5b22   appParameters["
+0001e5f0: 636f 6c6f 7256 6572 7422 5d0a 2020 2020  colorVert"].    
+0001e600: 7465 7874 735b 325d 2e62 6720 3d20 696e  texts[2].bg = in
+0001e610: 7665 7274 436f 6c6f 7228 6170 7050 6172  vertColor(appPar
+0001e620: 616d 6574 6572 735b 2263 6f6c 6f72 5665  ameters["colorVe
+0001e630: 7274 225d 290a 2020 2020 7465 7874 735b  rt"]).    texts[
+0001e640: 335d 2e74 6578 745f 636f 6c6f 7220 3d20  3].text_color = 
+0001e650: 6170 7050 6172 616d 6574 6572 735b 2263  appParameters["c
+0001e660: 6f6c 6f72 4261 6e64 225d 0a20 2020 2074  olorBand"].    t
+0001e670: 6578 7473 5b33 5d2e 7661 6c75 6520 3d20  exts[3].value = 
+0001e680: 6170 7050 6172 616d 6574 6572 735b 2263  appParameters["c
+0001e690: 6f6c 6f72 4261 6e64 225d 0a20 2020 2074  olorBand"].    t
+0001e6a0: 6578 7473 5b33 5d2e 6267 203d 2069 6e76  exts[3].bg = inv
+0001e6b0: 6572 7443 6f6c 6f72 2861 7070 5061 7261  ertColor(appPara
+0001e6c0: 6d65 7465 7273 5b22 636f 6c6f 7242 616e  meters["colorBan
+0001e6d0: 6422 5d29 0a0a 0a64 6566 2064 6973 706c  d"])...def displ
+0001e6e0: 6179 5365 7449 6d61 6765 506f 7075 7028  aySetImagePopup(
+0001e6f0: 293a 0a20 2020 2022 2222 4469 7370 6c61  ):.    """Displa
+0001e700: 7920 696d 6167 6520 666f 7220 7365 6c65  y image for sele
+0001e710: 6374 6564 2073 6574 2066 726f 6d20 696d  cted set from im
+0001e720: 6167 6520 6461 7461 2069 6e20 6669 6c65  age data in file
+0001e730: 2e22 2222 0a20 2020 200a 2020 2020 0a20  .""".    .    . 
+0001e740: 2020 2067 6c6f 6261 6c20 7475 6265 734d     global tubesM
+0001e750: 6173 7465 720a 2020 2020 676c 6f62 616c  aster.    global
+0001e760: 2065 7870 6572 696d 656e 7454 6162 506c   experimentTabPl
+0001e770: 6f74 5475 6265 5365 6c65 6374 696f 6e53  otTubeSelectionS
+0001e780: 6574 4c69 7374 0a0a 2020 2020 0a20 2020  etList..    .   
+0001e790: 2074 7562 6549 6e53 6574 5365 6c65 6374   tubeInSetSelect
+0001e7a0: 6564 203d 204e 6f6e 650a 2020 2020 666f  ed = None.    fo
+0001e7b0: 7220 7475 6265 2069 6e20 7475 6265 734d  r tube in tubesM
+0001e7c0: 6173 7465 723a 0a20 2020 2020 2020 2069  aster:.        i
+0001e7d0: 6620 7475 6265 5b22 7365 744e 616d 6522  f tube["setName"
+0001e7e0: 5d20 3d3d 2065 7870 6572 696d 656e 7454  ] == experimentT
+0001e7f0: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
+0001e800: 696f 6e53 6574 4c69 7374 2e76 616c 7565  ionSetList.value
+0001e810: 3a0a 2020 2020 2020 2020 2020 2020 7475  :.            tu
+0001e820: 6265 496e 5365 7453 656c 6563 7465 6420  beInSetSelected 
+0001e830: 3d20 7475 6265 0a20 2020 200a 2020 2020  = tube.    .    
+0001e840: 7365 744e 616d 6520 3d20 7475 6265 496e  setName = tubeIn
+0001e850: 5365 7453 656c 6563 7465 645b 2273 6574  SetSelected["set
+0001e860: 4e61 6d65 225d 0a20 2020 2069 6d61 6765  Name"].    image
+0001e870: 4e61 6d65 203d 2074 7562 6549 6e53 6574  Name = tubeInSet
+0001e880: 5365 6c65 6374 6564 5b22 696d 6167 654e  Selected["imageN
+0001e890: 616d 6522 5d0a 2020 2020 696d 6167 6544  ame"].    imageD
+0001e8a0: 6174 6120 3d20 7475 6265 496e 5365 7453  ata = tubeInSetS
+0001e8b0: 656c 6563 7465 645b 2269 6d61 6765 4461  elected["imageDa
+0001e8c0: 7461 225d 0a20 2020 2069 6d61 6765 4172  ta"].    imageAr
+0001e8d0: 7261 7920 3d20 6e75 6d70 792e 6172 7261  ray = numpy.arra
+0001e8e0: 7928 696d 6167 6544 6174 6129 2e61 7374  y(imageData).ast
+0001e8f0: 7970 6528 6e75 6d70 792e 7569 6e74 3829  ype(numpy.uint8)
+0001e900: 0a20 2020 2069 6d61 6765 436f 6e76 6572  .    imageConver
+0001e910: 7465 6420 3d20 496d 6167 652e 6672 6f6d  ted = Image.from
+0001e920: 6172 7261 7928 6e75 6d70 792e 7569 6e74  array(numpy.uint
+0001e930: 3828 696d 6167 6541 7272 6179 292c 2027  8(imageArray), '
+0001e940: 4c27 290a 2020 2020 696d 6167 6554 6875  L').    imageThu
+0001e950: 6d62 6e61 696c 5769 6e64 6f77 203d 2057  mbnailWindow = W
+0001e960: 696e 646f 7728 6170 702c 2074 6974 6c65  indow(app, title
+0001e970: 3d22 5061 636b 2049 6d61 6765 3a20 222b  ="Pack Image: "+
+0001e980: 7365 744e 616d 652b 2220 2822 2b69 6d61  setName+" ("+ima
+0001e990: 6765 4e61 6d65 2b22 2922 2c20 7769 6474  geName+")", widt
+0001e9a0: 683d 3131 3630 2c20 6865 6967 6874 3d35  h=1160, height=5
+0001e9b0: 3030 290a 2020 2020 696d 6167 6554 6875  00).    imageThu
+0001e9c0: 6d62 6e61 696c 5069 6374 7572 6520 3d20  mbnailPicture = 
+0001e9d0: 4472 6177 696e 6728 696d 6167 6554 6875  Drawing(imageThu
+0001e9e0: 6d62 6e61 696c 5769 6e64 6f77 2c20 7769  mbnailWindow, wi
+0001e9f0: 6474 683d 3131 3630 2c20 6865 6967 6874  dth=1160, height
+0001ea00: 3d34 3030 290a 2020 2020 696d 6167 6554  =400).    imageT
+0001ea10: 6875 6d62 6e61 696c 5069 6374 7572 652e  humbnailPicture.
+0001ea20: 696d 6167 6528 302c 2030 2c20 696d 6167  image(0, 0, imag
+0001ea30: 6543 6f6e 7665 7274 6564 2c20 3131 3630  eConverted, 1160
+0001ea40: 2c20 3430 3029 0a20 2020 2069 6d61 6765  , 400).    image
+0001ea50: 5468 756d 6e6e 6169 6c44 6f77 6e6c 6f61  ThumnnailDownloa
+0001ea60: 6442 7574 746f 6e20 3d20 5075 7368 4275  dButton = PushBu
+0001ea70: 7474 6f6e 2869 6d61 6765 5468 756d 626e  tton(imageThumbn
+0001ea80: 6169 6c57 696e 646f 772c 2074 6578 743d  ailWindow, text=
+0001ea90: 2244 6f77 6e6c 6f61 6420 496d 6167 6522  "Download Image"
+0001eaa0: 2c20 636f 6d6d 616e 643d 7361 7665 496d  , command=saveIm
+0001eab0: 6167 6546 726f 6d46 696c 652c 2061 7267  ageFromFile, arg
+0001eac0: 733d 5b73 6574 4e61 6d65 2c20 696d 6167  s=[setName, imag
+0001ead0: 6543 6f6e 7665 7274 6564 5d29 0a20 2020  eConverted]).   
+0001eae0: 2069 6d61 6765 5468 756d 626e 6169 6c57   imageThumbnailW
+0001eaf0: 696e 646f 772e 7368 6f77 2829 0a0a 0a64  indow.show()...d
+0001eb00: 6566 2073 6176 6549 6d61 6765 4672 6f6d  ef saveImageFrom
+0001eb10: 4669 6c65 2873 6574 4e61 6d65 2c20 696d  File(setName, im
+0001eb20: 6167 6541 7272 6179 293a 0a20 2020 2022  ageArray):.    "
+0001eb30: 2222 5361 7665 2069 6d61 6765 206f 6620  ""Save image of 
+0001eb40: 7365 6c65 6374 6564 2073 6574 2074 6f20  selected set to 
+0001eb50: 6120 7370 6563 6966 6965 6420 6c6f 6361  a specified loca
+0001eb60: 7469 6f6e 2e22 2222 0a0a 0a20 2020 2067  tion."""...    g
+0001eb70: 6c6f 6261 6c20 776f 726b 696e 6744 6972  lobal workingDir
+0001eb80: 0a20 2020 200a 0a20 2020 2066 696c 654e  .    ..    fileN
+0001eb90: 616d 6520 3d20 6170 702e 7365 6c65 6374  ame = app.select
+0001eba0: 5f66 696c 6528 0a20 2020 2020 2020 2020  _file(.         
+0001ebb0: 2020 2074 6974 6c65 3d22 5361 7665 2069     title="Save i
+0001ebc0: 6d61 6765 2061 732e 2e2e 222c 0a20 2020  mage as...",.   
+0001ebd0: 2020 2020 2020 2020 2066 6f6c 6465 723d           folder=
+0001ebe0: 776f 726b 696e 6744 6972 2c0a 2020 2020  workingDir,.    
+0001ebf0: 2020 2020 2020 2020 6669 6c65 7479 7065          filetype
+0001ec00: 733d 5b5b 2250 4e47 222c 2022 2a2e 706e  s=[["PNG", "*.pn
+0001ec10: 6722 5d2c 205b 224a 5047 222c 2022 2a2e  g"], ["JPG", "*.
+0001ec20: 6a70 6722 5d2c 205b 224a 5045 4722 2c20  jpg"], ["JPEG", 
+0001ec30: 222a 2e6a 7065 6722 5d2c 205b 2254 4946  "*.jpeg"], ["TIF
+0001ec40: 4622 2c20 222a 2e74 6966 225d 2c20 5b22  F", "*.tif"], ["
+0001ec50: 5356 4722 2c20 222a 2e73 7667 225d 5d2c  SVG", "*.svg"]],
+0001ec60: 0a20 2020 2020 2020 2020 2020 2073 6176  .            sav
+0001ec70: 653d 5472 7565 2c0a 2020 2020 2020 2020  e=True,.        
+0001ec80: 2020 2020 6669 6c65 6e61 6d65 3d28 7365      filename=(se
+0001ec90: 744e 616d 6520 2b20 225f 696d 6167 6522  tName + "_image"
+0001eca0: 290a 2020 2020 2020 2020 290a 2020 2020  ).        ).    
+0001ecb0: 696d 6167 6543 6f6e 7665 7274 6564 203d  imageConverted =
+0001ecc0: 2049 6d61 6765 2e66 726f 6d61 7272 6179   Image.fromarray
+0001ecd0: 286e 756d 7079 2e75 696e 7438 2869 6d61  (numpy.uint8(ima
+0001ece0: 6765 4172 7261 7929 2c20 274c 2729 0a20  geArray), 'L'). 
+0001ecf0: 2020 2069 6d61 6765 436f 6e76 6572 7465     imageConverte
+0001ed00: 642e 7361 7665 2866 696c 654e 616d 6529  d.save(fileName)
+0001ed10: 0a0a 0a64 6566 2074 696d 654d 6172 6b54  ...def timeMarkT
+0001ed20: 6162 6c65 5363 726f 6c6c 2864 6972 6563  ableScroll(direc
+0001ed30: 7469 6f6e 293a 0a20 2020 2067 6c6f 6261  tion):.    globa
+0001ed40: 6c20 7469 6d65 4d61 726b 5461 626c 6552  l timeMarkTableR
+0001ed50: 6f77 730a 0a20 2020 2073 686f 776e 5374  ows..    shownSt
+0001ed60: 6174 7573 203d 205b 5d0a 2020 2020 666f  atus = [].    fo
+0001ed70: 7220 726f 7720 696e 2074 696d 654d 6172  r row in timeMar
+0001ed80: 6b54 6162 6c65 526f 7773 3a0a 2020 2020  kTableRows:.    
+0001ed90: 2020 2020 7368 6f77 6e53 7461 7475 732e      shownStatus.
+0001eda0: 6170 7065 6e64 2872 6f77 2e76 6973 6962  append(row.visib
+0001edb0: 6c65 290a 2020 2020 7368 6f77 6e53 7461  le).    shownSta
+0001edc0: 7475 7353 7472 696e 6720 3d20 2248 220a  tusString = "H".
+0001edd0: 2020 2020 666f 7220 7374 6174 7573 2069      for status i
+0001ede0: 6e20 7368 6f77 6e53 7461 7475 735b 313a  n shownStatus[1:
+0001edf0: 5d3a 0a20 2020 2020 2020 2073 686f 776e  ]:.        shown
+0001ee00: 5374 6174 7573 5374 7269 6e67 203d 2073  StatusString = s
+0001ee10: 686f 776e 5374 6174 7573 5374 7269 6e67  hownStatusString
+0001ee20: 202b 2073 7472 2873 7461 7475 7329 5b30   + str(status)[0
+0001ee30: 5d0a 2020 2020 6966 2064 6972 6563 7469  ].    if directi
+0001ee40: 6f6e 203d 3d20 2275 7022 2061 6e64 2073  on == "up" and s
+0001ee50: 686f 776e 5374 6174 7573 5374 7269 6e67  hownStatusString
+0001ee60: 5b2d 315d 203d 3d20 2246 223a 0a20 2020  [-1] == "F":.   
+0001ee70: 2020 2020 2074 696d 654d 6172 6b54 6162       timeMarkTab
+0001ee80: 6c65 526f 7773 5b73 686f 776e 5374 6174  leRows[shownStat
+0001ee90: 7573 5374 7269 6e67 2e69 6e64 6578 2822  usString.index("
+0001eea0: 5422 295d 2e68 6964 6528 290a 2020 2020  T")].hide().    
+0001eeb0: 2020 2020 7469 6d65 4d61 726b 5461 626c      timeMarkTabl
+0001eec0: 6552 6f77 735b 7368 6f77 6e53 7461 7475  eRows[shownStatu
+0001eed0: 7353 7472 696e 672e 7269 6e64 6578 2822  sString.rindex("
+0001eee0: 5422 292b 315d 2e73 686f 7728 290a 2020  T")+1].show().  
+0001eef0: 2020 656c 6966 2064 6972 6563 7469 6f6e    elif direction
+0001ef00: 203d 3d20 2264 6f77 6e22 2061 6e64 2073   == "down" and s
+0001ef10: 686f 776e 5374 6174 7573 5374 7269 6e67  hownStatusString
+0001ef20: 5b31 5d20 3d3d 2022 4622 3a0a 2020 2020  [1] == "F":.    
+0001ef30: 2020 2020 7469 6d65 4d61 726b 5461 626c      timeMarkTabl
+0001ef40: 6552 6f77 735b 7368 6f77 6e53 7461 7475  eRows[shownStatu
+0001ef50: 7353 7472 696e 672e 696e 6465 7828 2254  sString.index("T
+0001ef60: 2229 2d31 5d2e 7368 6f77 2829 0a20 2020  ")-1].show().   
+0001ef70: 2020 2020 2074 696d 654d 6172 6b54 6162       timeMarkTab
+0001ef80: 6c65 526f 7773 5b73 686f 776e 5374 6174  leRows[shownStat
+0001ef90: 7573 5374 7269 6e67 2e72 696e 6465 7828  usString.rindex(
+0001efa0: 2254 2229 5d2e 6869 6465 2829 0a20 2020  "T")].hide().   
+0001efb0: 2061 7070 2e75 7064 6174 6528 2920 2023   app.update()  #
+0001efc0: 2055 7064 6174 6520 6170 7020 6f62 6a65   Update app obje
+0001efd0: 6374 0a20 2020 2068 6f6d 6554 6162 4672  ct.    homeTabFr
+0001efe0: 616d 652e 666f 6375 7328 2920 2023 2046  ame.focus()  # F
+0001eff0: 6f63 7573 206e 6577 2066 7261 6d65 0a20  ocus new frame. 
+0001f000: 2020 2068 6f6d 6554 6162 2e66 6f63 7573     homeTab.focus
+0001f010: 2829 0a0a 0a64 6566 2063 6c6f 7365 4578  ()...def closeEx
+0001f020: 7065 7269 6d65 6e74 4669 6c65 2829 3a0a  perimentFile():.
+0001f030: 2020 2020 676c 6f62 616c 206f 7065 6e46      global openF
+0001f040: 696c 650a 2020 2020 676c 6f62 616c 2074  ile.    global t
+0001f050: 7562 6573 4d61 7374 6572 0a20 2020 2067  ubesMaster.    g
+0001f060: 6c6f 6261 6c20 706c 6f74 7349 6e66 6f0a  lobal plotsInfo.
+0001f070: 0a20 2020 206f 7065 6e46 696c 6520 3d20  .    openFile = 
+0001f080: 2222 0a20 2020 2063 616e 6365 6c49 6d61  "".    cancelIma
+0001f090: 6765 416e 616c 7973 6973 2829 0a20 2020  geAnalysis().   
+0001f0a0: 2074 7562 6573 4d61 7374 6572 203d 205b   tubesMaster = [
+0001f0b0: 5d0a 2020 2020 706c 6f74 7349 6e66 6f20  ].    plotsInfo 
+0001f0c0: 3d20 5b5d 0a20 2020 2069 6620 6361 6e76  = [].    if canv
+0001f0d0: 6173 2069 7320 6e6f 7420 4e6f 6e65 3a0a  as is not None:.
+0001f0e0: 2020 2020 2020 2020 6361 6e76 6173 2e67          canvas.g
+0001f0f0: 6574 5f74 6b5f 7769 6467 6574 2829 2e70  et_tk_widget().p
+0001f100: 6163 6b5f 666f 7267 6574 2829 2020 2320  ack_forget()  # 
+0001f110: 436c 6561 7220 706c 6f74 2063 616e 7661  Clear plot canva
+0001f120: 730a 2020 2020 6578 7065 7269 6d65 6e74  s.    experiment
+0001f130: 5461 6254 6162 6c65 5465 7874 426f 782e  TabTableTextBox.
+0001f140: 7661 6c75 6520 3d20 2222 0a20 2020 2065  value = "".    e
+0001f150: 7870 6572 696d 656e 7454 6162 5374 6174  xperimentTabStat
+0001f160: 6973 7469 6361 6c41 6e61 6c79 7369 7353  isticalAnalysisS
+0001f170: 6574 4c69 7374 2e63 6c65 6172 2829 0a20  etList.clear(). 
+0001f180: 2020 2065 7870 6572 696d 656e 7454 6162     experimentTab
+0001f190: 5374 6174 6973 7469 6361 6c41 6e61 6c79  StatisticalAnaly
+0001f1a0: 7369 7354 7562 654c 6973 742e 636c 6561  sisTubeList.clea
+0001f1b0: 7228 290a 2020 2020 6578 7065 7269 6d65  r().    experime
+0001f1c0: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
+0001f1d0: 6563 7469 6f6e 5365 744c 6973 742e 636c  ectionSetList.cl
+0001f1e0: 6561 7228 290a 2020 2020 6578 7065 7269  ear().    experi
+0001f1f0: 6d65 6e74 5461 6250 6c6f 7454 7562 6553  mentTabPlotTubeS
+0001f200: 656c 6563 7469 6f6e 5475 6265 4c69 7374  electionTubeList
+0001f210: 2e63 6c65 6172 2829 0a20 2020 2065 7870  .clear().    exp
+0001f220: 6572 696d 656e 7454 6162 5374 6174 6973  erimentTabStatis
+0001f230: 7469 6361 6c41 6e61 6c79 7369 734f 7574  ticalAnalysisOut
+0001f240: 7075 7454 6578 7442 6f78 2e76 616c 7565  putTextBox.value
+0001f250: 203d 2022 220a 0a0a 6465 6620 7365 7475   = ""...def setu
+0001f260: 7054 6173 6b73 4f6e 4f70 656e 416e 6452  pTasksOnOpenAndR
+0001f270: 756e 2829 3a20 2023 2054 6173 6b73 2074  un():  # Tasks t
+0001f280: 6f20 7275 6e20 6f6e 206f 7065 6e69 6e67  o run on opening
+0001f290: 2061 7070 0a20 2020 2022 2222 5461 736b   app.    """Task
+0001f2a0: 7320 746f 2072 756e 206f 7065 6e20 6f70  s to run open op
+0001f2b0: 656e 696e 6720 7468 6520 6170 706c 6963  ening the applic
+0001f2c0: 6174 696f 6e2e 2052 6561 6473 2069 6e20  ation. Reads in 
+0001f2d0: 6c6f 6361 6c20 7061 7261 6d65 7465 7273  local parameters
+0001f2e0: 2066 696c 6520 746f 2067 6574 2075 7365   file to get use
+0001f2f0: 722d 6465 6669 6e65 6420 7365 7474 696e  r-defined settin
+0001f300: 6773 2c20 616e 6420 7072 6573 656c 6563  gs, and preselec
+0001f310: 7473 2068 6f6d 6520 7461 622e 2222 220a  ts home tab.""".
+0001f320: 2020 2020 0a20 2020 200a 2020 2020 676c      .    .    gl
+0001f330: 6f62 616c 2061 7070 5061 7261 6d65 7465  obal appParamete
+0001f340: 7273 0a20 2020 2067 6c6f 6261 6c20 776f  rs.    global wo
+0001f350: 726b 696e 6744 6972 0a0a 2020 2020 0a20  rkingDir..    . 
+0001f360: 2020 2064 6972 6563 746f 7279 5061 7468     directoryPath
+0001f370: 203d 206f 732e 7061 7468 2e64 6972 6e61   = os.path.dirna
+0001f380: 6d65 285f 5f66 696c 655f 5f29 0a20 2020  me(__file__).   
+0001f390: 2070 6172 616d 6574 6572 7350 6174 6820   parametersPath 
+0001f3a0: 3d20 6f73 2e70 6174 682e 6a6f 696e 2864  = os.path.join(d
+0001f3b0: 6972 6563 746f 7279 5061 7468 2c20 2270  irectoryPath, "p
+0001f3c0: 6172 616d 6574 6572 732e 7478 7422 290a  arameters.txt").
+0001f3d0: 2020 2020 7769 7468 206f 7065 6e28 7061      with open(pa
+0001f3e0: 7261 6d65 7465 7273 5061 7468 2c20 6e65  rametersPath, ne
+0001f3f0: 776c 696e 653d 2222 2920 6173 2070 6172  wline="") as par
+0001f400: 616d 6574 6572 7346 696c 653a 2020 2320  ametersFile:  # 
+0001f410: 4f70 656e 2070 6172 616d 6574 6572 732e  Open parameters.
+0001f420: 7478 7420 6669 6c65 0a20 2020 2020 2020  txt file.       
+0001f430: 2072 6561 6465 7220 3d20 6373 762e 7265   reader = csv.re
+0001f440: 6164 6572 2870 6172 616d 6574 6572 7346  ader(parametersF
+0001f450: 696c 652c 2064 656c 696d 6974 6572 3d22  ile, delimiter="
+0001f460: 3d22 2920 2023 2044 6566 696e 6520 6373  =")  # Define cs
+0001f470: 7620 7265 6164 6572 0a20 2020 2020 2020  v reader.       
+0001f480: 2066 6f72 206c 696e 6520 696e 2072 6561   for line in rea
+0001f490: 6465 723a 2020 2320 466f 7220 6561 6368  der:  # For each
+0001f4a0: 206c 696e 6520 696e 2070 6172 616d 6574   line in paramet
+0001f4b0: 6572 732e 7478 740a 2020 2020 2020 2020  ers.txt.        
+0001f4c0: 2020 2020 6170 7050 6172 616d 6574 6572      appParameter
+0001f4d0: 735b 6c69 6e65 5b30 5d5d 203d 206c 696e  s[line[0]] = lin
+0001f4e0: 655b 315d 2020 2320 506f 7075 6c61 7465  e[1]  # Populate
+0001f4f0: 2061 7070 726f 7072 6961 7465 2065 6c65   appropriate ele
+0001f500: 6d65 6e74 206f 6620 7061 7261 6d65 7465  ment of paramete
+0001f510: 7273 2064 6963 7469 6f6e 6172 790a 2020  rs dictionary.  
+0001f520: 2020 6966 2028 6170 7050 6172 616d 6574    if (appParamet
+0001f530: 6572 735b 2277 6f72 6b69 6e67 4469 7222  ers["workingDir"
+0001f540: 5d20 3d3d 2022 2220 6f72 206e 6f74 2028  ] == "" or not (
+0001f550: 6f73 2e70 6174 682e 6578 6973 7473 2861  os.path.exists(a
+0001f560: 7070 5061 7261 6d65 7465 7273 5b22 776f  ppParameters["wo
+0001f570: 726b 696e 6744 6972 225d 2929 293a 2020  rkingDir"]))):  
+0001f580: 2320 4966 2061 2077 6f72 6b69 6e67 2064  # If a working d
+0001f590: 6972 6563 746f 7279 2069 7320 6e6f 7420  irectory is not 
+0001f5a0: 616c 7265 6164 7920 7370 6563 6966 6965  already specifie
+0001f5b0: 6420 696e 2070 6172 616d 6574 6572 732c  d in parameters,
+0001f5c0: 206f 7220 706f 696e 7473 2074 6f20 6120   or points to a 
+0001f5d0: 6e6f 6e65 7869 7374 656e 7420 6469 7265  nonexistent dire
+0001f5e0: 6374 6f72 790a 2020 2020 2020 2020 7365  ctory.        se
+0001f5f0: 7457 6f72 6b69 6e67 4469 7265 6374 6f72  tWorkingDirector
+0001f600: 7928 2920 2023 2050 726f 6d70 7420 7573  y()  # Prompt us
+0001f610: 6572 2074 6f20 7365 7420 6120 776f 726b  er to set a work
+0001f620: 696e 6720 6469 7265 6374 6f72 790a 2020  ing directory.  
+0001f630: 2020 656c 7365 3a20 2023 204f 7468 6572    else:  # Other
+0001f640: 7769 7365 0a20 2020 2020 2020 2077 6f72  wise.        wor
+0001f650: 6b69 6e67 4469 7220 3d20 6170 7050 6172  kingDir = appPar
+0001f660: 616d 6574 6572 735b 2277 6f72 6b69 6e67  ameters["working
+0001f670: 4469 7222 5d20 2023 2053 6574 2077 6f72  Dir"]  # Set wor
+0001f680: 6b69 6e67 2064 6972 6563 746f 7279 2074  king directory t
+0001f690: 6f20 6469 7265 6374 6f72 7920 7370 6563  o directory spec
+0001f6a0: 6966 6965 6420 696e 2070 6172 616d 6574  ified in paramet
+0001f6b0: 6572 7320 6469 6374 696f 6e61 7279 0a20  ers dictionary. 
+0001f6c0: 2020 2065 7870 6572 696d 656e 7454 6162     experimentTab
+0001f6d0: 4672 616d 652e 6869 6465 2829 2020 2320  Frame.hide()  # 
+0001f6e0: 4869 6465 2065 7870 6572 696d 656e 7420  Hide experiment 
+0001f6f0: 7461 620a 2020 2020 686f 6d65 5461 6246  tab.    homeTabF
+0001f700: 7261 6d65 2e73 686f 7728 2920 2023 2053  rame.show()  # S
+0001f710: 686f 7720 686f 6d65 2074 6162 0a0a 0a64  how home tab...d
+0001f720: 6566 206f 7065 6e41 6e64 5275 6e28 293a  ef openAndRun():
+0001f730: 0a20 2020 2073 6574 7570 5461 736b 734f  .    setupTasksO
+0001f740: 6e4f 7065 6e41 6e64 5275 6e28 290a 2020  nOpenAndRun().  
+0001f750: 2020 6170 702e 6469 7370 6c61 7928 290a    app.display().
+0001f760: 0a0a 0a23 2043 7265 6174 6520 6170 7020  ...# Create app 
+0001f770: 6f62 6a65 6374 0a61 7070 203d 2041 7070  object.app = App
+0001f780: 286c 6179 6f75 743d 2261 7574 6f22 2c20  (layout="auto", 
+0001f790: 7469 746c 653d 2252 6879 7468 6d69 6469  title="Rhythmidi
+0001f7a0: 6122 290a 6170 702e 7768 656e 5f63 6c6f  a").app.when_clo
+0001f7b0: 7365 6420 3d20 7379 732e 6578 6974 0a61  sed = sys.exit.a
+0001f7c0: 7070 2e77 6964 7468 203d 2073 6372 6565  pp.width = scree
+0001f7d0: 6e57 6964 7468 0a61 7070 2e68 6569 6768  nWidth.app.heigh
+0001f7e0: 7420 3d20 7363 7265 656e 4865 6967 6874  t = screenHeight
+0001f7f0: 0a61 7070 4865 6967 6874 203d 2061 7070  .appHeight = app
+0001f800: 2e68 6569 6768 740a 6170 7057 6964 7468  .height.appWidth
+0001f810: 203d 2061 7070 2e77 6964 7468 0a0a 2320   = app.width..# 
+0001f820: 4b65 7962 696e 6473 0a61 7070 2e77 6865  Keybinds.app.whe
+0001f830: 6e5f 6b65 795f 7072 6573 7365 6420 3d20  n_key_pressed = 
+0001f840: 6b65 7950 7265 7373 0a61 7070 2e77 6865  keyPress.app.whe
+0001f850: 6e5f 6b65 795f 7265 6c65 6173 6564 203d  n_key_released =
+0001f860: 206b 6579 5265 6c65 6173 650a 0a23 2053   keyRelease..# S
+0001f870: 6574 2075 7020 4f53 206d 656e 7520 6261  et up OS menu ba
+0001f880: 720a 6d65 6e75 6261 7220 3d20 4d65 6e75  r.menubar = Menu
+0001f890: 4261 7228 0a20 2020 2061 7070 2c0a 2020  Bar(.    app,.  
+0001f8a0: 2020 746f 706c 6576 656c 3d5b 2246 696c    toplevel=["Fil
+0001f8b0: 6522 2c20 2248 656c 7022 5d2c 0a20 2020  e", "Help"],.   
+0001f8c0: 206f 7074 696f 6e73 3d5b 0a20 2020 2020   options=[.     
+0001f8d0: 2020 205b 0a20 2020 2020 2020 2020 2020     [.           
+0001f8e0: 205b 224f 7065 6e20 4578 7065 7269 6d65   ["Open Experime
+0001f8f0: 6e74 2020 2020 2020 2020 2020 2020 2020  nt              
+0001f900: 2020 28e2 8c98 4f29 222c 206f 7065 6e45    (...O)", openE
+0001f910: 7870 6572 696d 656e 7446 696c 655d 2c0a  xperimentFile],.
+0001f920: 2020 2020 2020 2020 2020 2020 5b22 436c              ["Cl
+0001f930: 6f73 6520 4578 7065 7269 6d65 6e74 2046  ose Experiment F
+0001f940: 696c 6520 2020 2020 2020 2020 2028 e28c  ile          (..
+0001f950: 9843 2922 2c20 636c 6f73 6545 7870 6572  .C)", closeExper
+0001f960: 696d 656e 7446 696c 655d 2c0a 2020 2020  imentFile],.    
+0001f970: 2020 2020 2020 2020 5b22 5361 7665 2045          ["Save E
+0001f980: 7870 6572 696d 656e 7420 2020 2020 2020  xperiment       
+0001f990: 2020 2020 2020 2020 2028 e28c 9853 2922           (...S)"
+0001f9a0: 2c20 7361 7665 4578 7065 7269 6d65 6e74  , saveExperiment
+0001f9b0: 4669 6c65 5d2c 0a20 2020 2020 2020 2020  File],.         
+0001f9c0: 2020 205b 2253 6176 6520 4578 7065 7269     ["Save Experi
+0001f9d0: 6d65 6e74 2041 732e 2e2e 2020 2020 2020  ment As...      
+0001f9e0: 2020 2028 5c75 3231 3931 e28c 9853 2922     (\u2191...S)"
+0001f9f0: 2c20 7361 7665 4578 7065 7269 6d65 6e74  , saveExperiment
+0001fa00: 4669 6c65 4173 5d2c 0a20 2020 2020 2020  FileAs],.       
+0001fa10: 2020 2020 205b 2245 6469 7420 5061 636b       ["Edit Pack
+0001fa20: 7322 2c20 6469 7370 6c61 7945 6469 7444  s", displayEditD
+0001fa30: 6174 6150 6f70 7570 5d2c 0a20 2020 2020  ataPopup],.     
+0001fa40: 2020 2020 2020 205b 2253 6574 2057 6f72         ["Set Wor
+0001fa50: 6b69 6e67 2044 6972 6563 746f 7279 2020  king Directory  
+0001fa60: 2020 2020 2020 2020 28e2 8c98 4429 222c          (...D)",
+0001fa70: 2073 6574 576f 726b 696e 6744 6972 6563   setWorkingDirec
+0001fa80: 746f 7279 5d2c 0a20 2020 2020 2020 2020  tory],.         
+0001fa90: 2020 205b 2247 7261 7068 6963 7320 5072     ["Graphics Pr
+0001faa0: 6566 6572 656e 6365 7320 2020 2020 2020  eferences       
+0001fab0: 2020 2020 28e2 8c98 5029 222c 2067 7261      (...P)", gra
+0001fac0: 7068 6963 7350 7265 6665 7265 6e63 6573  phicsPreferences
+0001fad0: 5072 6f6d 7074 5d0a 2020 2020 2020 2020  Prompt].        
+0001fae0: 5d2c 0a20 2020 2020 2020 205b 5b22 446f  ],.        [["Do
+0001faf0: 6375 6d65 6e74 6174 696f 6e22 2c20 6865  cumentation", he
+0001fb00: 6c70 4d61 696e 5d5d 2c0a 2020 2020 5d0a  lpMain]],.    ].
+0001fb10: 2920 2023 2053 6574 2075 7020 6f73 206d  )  # Set up os m
+0001fb20: 656e 7520 6261 7220 666f 7220 6170 706c  enu bar for appl
+0001fb30: 6963 6174 696f 6e0a 0a23 2053 6574 2075  ication..# Set u
+0001fb40: 7020 6e61 7669 6761 7469 6f6e 2074 6162  p navigation tab
+0001fb50: 730a 6e61 7669 6761 7469 6f6e 5461 6273  s.navigationTabs
+0001fb60: 4672 616d 6520 3d20 426f 7828 0a20 2020  Frame = Box(.   
+0001fb70: 2061 7070 2c20 7769 6474 683d 2266 696c   app, width="fil
+0001fb80: 6c22 2c20 616c 6967 6e3d 2274 6f70 222c  l", align="top",
+0001fb90: 206c 6179 6f75 743d 2267 7269 6422 2c20   layout="grid", 
+0001fba0: 626f 7264 6572 3d22 3022 0a29 2020 2320  border="0".)  # 
+0001fbb0: 4672 616d 6520 666f 7220 486f 6d65 2c20  Frame for Home, 
+0001fbc0: 4578 7065 7269 6d65 6e74 2074 6162 730a  Experiment tabs.
+0001fbd0: 686f 6d65 5461 6220 3d20 426f 7828 6e61  homeTab = Box(na
+0001fbe0: 7669 6761 7469 6f6e 5461 6273 4672 616d  vigationTabsFram
+0001fbf0: 652c 2067 7269 643d 5b30 2c20 305d 2c20  e, grid=[0, 0], 
+0001fc00: 626f 7264 6572 3d22 3022 2c20 6865 6967  border="0", heig
+0001fc10: 6874 3d22 3330 2229 2020 2320 486f 6d65  ht="30")  # Home
+0001fc20: 2074 6162 2062 7574 746f 6e0a 686f 6d65   tab button.home
+0001fc30: 5461 6254 6578 7420 3d20 5465 7874 280a  TabText = Text(.
+0001fc40: 2020 2020 686f 6d65 5461 622c 2074 6578      homeTab, tex
+0001fc50: 743d 2248 6f6d 6522 2c20 7769 6474 683d  t="Home", width=
+0001fc60: 3230 2c20 7369 7a65 3d31 342c 2063 6f6c  20, size=14, col
+0001fc70: 6f72 3d22 626c 6163 6b22 2c20 666f 6e74  or="black", font
+0001fc80: 3d22 4172 6961 6c22 0a29 2020 2320 486f  ="Arial".)  # Ho
+0001fc90: 6d65 2074 6162 2062 7574 746f 6e20 7465  me tab button te
+0001fca0: 7874 0a65 7870 6572 696d 656e 7454 6162  xt.experimentTab
+0001fcb0: 203d 2042 6f78 280a 2020 2020 6e61 7669   = Box(.    navi
+0001fcc0: 6761 7469 6f6e 5461 6273 4672 616d 652c  gationTabsFrame,
+0001fcd0: 2067 7269 643d 5b33 2c20 305d 2c20 626f   grid=[3, 0], bo
+0001fce0: 7264 6572 3d22 3022 2c20 6865 6967 6874  rder="0", height
+0001fcf0: 3d22 3330 220a 2920 2023 2045 7870 6572  ="30".)  # Exper
+0001fd00: 696d 656e 7420 7461 6220 6275 7474 6f6e  iment tab button
+0001fd10: 0a65 7870 6572 696d 656e 7454 6162 5465  .experimentTabTe
+0001fd20: 7874 203d 2054 6578 7428 0a20 2020 2065  xt = Text(.    e
+0001fd30: 7870 6572 696d 656e 7454 6162 2c20 7465  xperimentTab, te
+0001fd40: 7874 3d22 4578 7065 7269 6d65 6e74 222c  xt="Experiment",
+0001fd50: 2077 6964 7468 3d32 302c 2073 697a 653d   width=20, size=
+0001fd60: 3134 2c20 636f 6c6f 723d 2262 6c61 636b  14, color="black
+0001fd70: 222c 2066 6f6e 743d 2241 7269 616c 220a  ", font="Arial".
+0001fd80: 2920 2023 2048 6f6d 6520 7461 6220 6275  )  # Home tab bu
+0001fd90: 7474 6f6e 2074 6578 740a 2320 5365 7420  tton text.# Set 
+0001fda0: 7570 2074 6162 2063 6f6c 6f72 730a 6e61  up tab colors.na
+0001fdb0: 7669 6761 7469 6f6e 5461 6273 4672 616d  vigationTabsFram
+0001fdc0: 652e 6267 203d 2022 2336 3736 3937 3522  e.bg = "#676975"
+0001fdd0: 2020 2320 4461 726b 2067 7265 7920 6e61    # Dark grey na
+0001fde0: 7620 6261 720a 686f 6d65 5461 622e 6267  v bar.homeTab.bg
+0001fdf0: 203d 2022 2365 6162 3437 6322 2020 2320   = "#eab47c"  # 
+0001fe00: 436f 6e69 6469 6120 6f72 616e 6765 2068  Conidia orange h
+0001fe10: 6f6d 6520 7461 620a 6578 7065 7269 6d65  ome tab.experime
+0001fe20: 6e74 5461 622e 6267 203d 2022 2339 6663  ntTab.bg = "#9fc
+0001fe30: 6465 6122 2020 2320 4261 6279 2062 6c75  dea"  # Baby blu
+0001fe40: 6520 6578 7065 7269 6d65 6e74 2074 6162  e experiment tab
+0001fe50: 0a23 2053 6574 2075 7020 7461 6220 6675  .# Set up tab fu
+0001fe60: 6e63 7469 6f6e 730a 686f 6d65 5461 6254  nctions.homeTabT
+0001fe70: 6578 742e 7768 656e 5f63 6c69 636b 6564  ext.when_clicked
+0001fe80: 203d 2073 656c 6563 7448 6f6d 6554 6162   = selectHomeTab
+0001fe90: 0a65 7870 6572 696d 656e 7454 6162 5465  .experimentTabTe
+0001fea0: 7874 2e77 6865 6e5f 636c 6963 6b65 6420  xt.when_clicked 
+0001feb0: 3d20 7365 6c65 6374 4578 7065 7254 6162  = selectExperTab
+0001fec0: 0a0a 6469 7265 6374 6f72 7950 6174 6820  ..directoryPath 
+0001fed0: 3d20 6f73 2e70 6174 682e 6469 726e 616d  = os.path.dirnam
+0001fee0: 6528 5f5f 6669 6c65 5f5f 290a 7268 7974  e(__file__).rhyt
+0001fef0: 686d 6964 6961 4c6f 676f 5061 7468 203d  hmidiaLogoPath =
+0001ff00: 206f 732e 7061 7468 2e6a 6f69 6e28 6469   os.path.join(di
+0001ff10: 7265 6374 6f72 7950 6174 682c 2022 2e2e  rectoryPath, "..
+0001ff20: 2f69 6d61 6765 732f 6963 6f6e 732f 7268  /images/icons/rh
+0001ff30: 7974 686d 6964 6961 4c6f 676f 4261 6e6e  ythmidiaLogoBann
+0001ff40: 6572 5465 7874 2e6a 7067 2229 0a70 656c  erText.jpg").pel
+0001ff50: 6861 6d4c 6f67 6f50 6174 6820 3d20 6f73  hamLogoPath = os
+0001ff60: 2e70 6174 682e 6a6f 696e 2864 6972 6563  .path.join(direc
+0001ff70: 746f 7279 5061 7468 2c20 222e 2e2f 696d  toryPath, "../im
+0001ff80: 6167 6573 2f69 636f 6e73 2f70 656c 6861  ages/icons/pelha
+0001ff90: 6d4c 6f67 6f53 7175 6172 652e 6a70 6722  mLogoSquare.jpg"
+0001ffa0: 290a 7268 7974 686d 6964 6961 436c 6f63  ).rhythmidiaCloc
+0001ffb0: 6b4c 6f67 6f50 6174 6820 3d20 6f73 2e70  kLogoPath = os.p
+0001ffc0: 6174 682e 6a6f 696e 2864 6972 6563 746f  ath.join(directo
+0001ffd0: 7279 5061 7468 2c20 222e 2e2f 696d 6167  ryPath, "../imag
+0001ffe0: 6573 2f69 636f 6e73 2f72 6879 7468 6d69  es/icons/rhythmi
+0001fff0: 6469 614c 6f67 6f53 7175 6172 652e 6a70  diaLogoSquare.jp
+00020000: 6722 290a 6c6f 676f 4672 616d 6520 3d20  g").logoFrame = 
+00020010: 426f 7828 6170 702c 2077 6964 7468 3d22  Box(app, width="
+00020020: 6669 6c6c 222c 2068 6569 6768 743d 3530  fill", height=50
+00020030: 2c20 616c 6967 6e3d 2262 6f74 746f 6d22  , align="bottom"
+00020040: 2c20 6c61 796f 7574 3d22 6175 746f 2229  , layout="auto")
+00020050: 0a6c 6f67 6f46 7261 6d65 2e62 6720 3d20  .logoFrame.bg = 
+00020060: 2267 7265 7939 3522 0a72 6879 7468 6d69  "grey95".rhythmi
+00020070: 6469 614c 6f67 6f20 3d20 5069 6374 7572  diaLogo = Pictur
+00020080: 6528 6c6f 676f 4672 616d 652c 2069 6d61  e(logoFrame, ima
+00020090: 6765 3d72 6879 7468 6d69 6469 614c 6f67  ge=rhythmidiaLog
+000200a0: 6f50 6174 682c 2077 6964 7468 3d31 3831  oPath, width=181
+000200b0: 2c20 6865 6967 6874 3d35 302c 2061 6c69  , height=50, ali
+000200c0: 676e 3d22 6c65 6674 2229 0a70 656c 6861  gn="left").pelha
+000200d0: 6d4c 6f67 6f20 3d20 5069 6374 7572 6528  mLogo = Picture(
+000200e0: 6c6f 676f 4672 616d 652c 2069 6d61 6765  logoFrame, image
+000200f0: 3d70 656c 6861 6d4c 6f67 6f50 6174 682c  =pelhamLogoPath,
+00020100: 2077 6964 7468 3d35 302c 2068 6569 6768   width=50, heigh
+00020110: 743d 3530 2c20 616c 6967 6e3d 2272 6967  t=50, align="rig
+00020120: 6874 2229 0a72 6879 7468 6d69 6469 6153  ht").rhythmidiaS
+00020130: 7175 6172 654c 6f67 6f20 3d20 5069 6374  quareLogo = Pict
+00020140: 7572 6528 6c6f 676f 4672 616d 652c 2069  ure(logoFrame, i
+00020150: 6d61 6765 3d72 6879 7468 6d69 6469 6143  mage=rhythmidiaC
+00020160: 6c6f 636b 4c6f 676f 5061 7468 2c20 7769  lockLogoPath, wi
+00020170: 6474 683d 3530 2c20 6865 6967 6874 3d35  dth=50, height=5
+00020180: 302c 2061 6c69 676e 3d22 7269 6768 7422  0, align="right"
+00020190: 290a 0a23 2053 6574 2075 7020 686f 6d65  )..# Set up home
+000201a0: 2074 6162 0a68 6f6d 6554 6162 4672 616d   tab.homeTabFram
+000201b0: 6520 3d20 426f 7828 6170 702c 2077 6964  e = Box(app, wid
+000201c0: 7468 3d22 6669 6c6c 222c 2068 6569 6768  th="fill", heigh
+000201d0: 743d 2266 696c 6c22 2c20 616c 6967 6e3d  t="fill", align=
+000201e0: 2274 6f70 222c 206c 6179 6f75 743d 2261  "top", layout="a
+000201f0: 7574 6f22 290a 686f 6d65 5461 6246 7261  uto").homeTabFra
+00020200: 6d65 2e62 6720 3d20 2267 7265 7939 3522  me.bg = "grey95"
+00020210: 0a68 6f6d 6554 6162 4672 616d 652e 7365  .homeTabFrame.se
+00020220: 745f 626f 7264 6572 2835 2c20 2223 6561  t_border(5, "#ea
+00020230: 6234 3763 2229 0a68 6f6d 6554 6162 4672  b47c").homeTabFr
+00020240: 616d 652e 7465 7874 5f63 6f6c 6f72 203d  ame.text_color =
+00020250: 2022 626c 6163 6b22 0a68 6f6d 6554 6162   "black".homeTab
+00020260: 5665 7274 6963 616c 5370 6163 6572 3120  VerticalSpacer1 
+00020270: 3d20 426f 7828 686f 6d65 5461 6246 7261  = Box(homeTabFra
+00020280: 6d65 2c20 6865 6967 6874 3d35 2c20 7769  me, height=5, wi
+00020290: 6474 683d 2266 696c 6c22 2c20 616c 6967  dth="fill", alig
+000202a0: 6e3d 2274 6f70 2229 0a23 2048 6f6d 6520  n="top").# Home 
+000202b0: 6275 7474 6f6e 730a 686f 6d65 5461 6254  buttons.homeTabT
+000202c0: 6f70 4275 7474 6f6e 526f 7746 7261 6d65  opButtonRowFrame
+000202d0: 203d 2042 6f78 280a 2020 2020 686f 6d65   = Box(.    home
+000202e0: 5461 6246 7261 6d65 2c20 7769 6474 683d  TabFrame, width=
+000202f0: 2266 696c 6c22 2c20 6865 6967 6874 3d22  "fill", height="
+00020300: 3230 222c 2061 6c69 676e 3d22 746f 7022  20", align="top"
+00020310: 2c20 6c61 796f 7574 3d22 6772 6964 222c  , layout="grid",
+00020320: 2062 6f72 6465 723d 2230 220a 290a 7570   border="0".).up
+00020330: 6c6f 6164 5261 6365 5475 6265 496d 6167  loadRaceTubeImag
+00020340: 6542 7574 746f 6e20 3d20 5075 7368 4275  eButton = PushBu
+00020350: 7474 6f6e 280a 2020 2020 686f 6d65 5461  tton(.    homeTa
+00020360: 6254 6f70 4275 7474 6f6e 526f 7746 7261  bTopButtonRowFra
+00020370: 6d65 2c20 6772 6964 3d5b 302c 2030 5d2c  me, grid=[0, 0],
+00020380: 2074 6578 743d 2255 706c 6f61 6420 5261   text="Upload Ra
+00020390: 6365 2054 7562 6520 496d 6167 6522 2c20  ce Tube Image", 
+000203a0: 636f 6d6d 616e 643d 7570 6c6f 6164 5261  command=uploadRa
+000203b0: 6365 5475 6265 496d 6167 650a 290a 7570  ceTubeImage.).up
+000203c0: 6c6f 6164 5261 6365 5475 6265 496d 6167  loadRaceTubeImag
+000203d0: 6542 7574 746f 6e2e 7465 7874 5f73 697a  eButton.text_siz
+000203e0: 6520 3d20 3133 0a75 706c 6f61 6452 6163  e = 13.uploadRac
+000203f0: 6554 7562 6549 6d61 6765 4275 7474 6f6e  eTubeImageButton
+00020400: 2e66 6f6e 7420 3d20 2241 7269 616c 2062  .font = "Arial b
+00020410: 6f6c 6422 0a68 6f6d 6554 6162 546f 7042  old".homeTabTopB
+00020420: 7574 746f 6e52 6f77 5370 6163 6572 3120  uttonRowSpacer1 
+00020430: 3d20 426f 7828 686f 6d65 5461 6254 6f70  = Box(homeTabTop
+00020440: 4275 7474 6f6e 526f 7746 7261 6d65 2c20  ButtonRowFrame, 
+00020450: 6772 6964 3d5b 312c 305d 2c20 6865 6967  grid=[1,0], heig
+00020460: 6874 3d22 6669 6c6c 222c 2077 6964 7468  ht="fill", width
+00020470: 3d35 290a 726f 7461 7465 5261 6365 5475  =5).rotateRaceTu
+00020480: 6265 496d 6167 6542 7574 746f 6e20 3d20  beImageButton = 
+00020490: 5075 7368 4275 7474 6f6e 280a 2020 2020  PushButton(.    
+000204a0: 686f 6d65 5461 6254 6f70 4275 7474 6f6e  homeTabTopButton
+000204b0: 526f 7746 7261 6d65 2c20 6772 6964 3d5b  RowFrame, grid=[
+000204c0: 322c 2030 5d2c 2074 6578 743d 2252 6f74  2, 0], text="Rot
+000204d0: 6174 6520 496d 6167 6522 2c20 636f 6d6d  ate Image", comm
+000204e0: 616e 643d 726f 7461 7465 5261 6365 5475  and=rotateRaceTu
+000204f0: 6265 496d 6167 650a 290a 726f 7461 7465  beImage.).rotate
+00020500: 5261 6365 5475 6265 496d 6167 6542 7574  RaceTubeImageBut
+00020510: 746f 6e2e 7465 7874 5f73 697a 6520 3d20  ton.text_size = 
+00020520: 3133 0a72 6f74 6174 6552 6163 6554 7562  13.rotateRaceTub
+00020530: 6549 6d61 6765 4275 7474 6f6e 2e66 6f6e  eImageButton.fon
+00020540: 7420 3d20 2241 7269 616c 2062 6f6c 6422  t = "Arial bold"
+00020550: 0a72 6f74 6174 6552 6163 6554 7562 6549  .rotateRaceTubeI
+00020560: 6d61 6765 4275 7474 6f6e 2e64 6973 6162  mageButton.disab
+00020570: 6c65 2829 0a72 6163 6554 7562 654c 656e  le().raceTubeLen
+00020580: 6774 6846 7261 6d65 203d 2042 6f78 2868  gthFrame = Box(h
+00020590: 6f6d 6554 6162 546f 7042 7574 746f 6e52  omeTabTopButtonR
+000205a0: 6f77 4672 616d 652c 2067 7269 643d 5b33  owFrame, grid=[3
+000205b0: 2c20 305d 2c20 626f 7264 6572 3d22 3022  , 0], border="0"
+000205c0: 2c20 6865 6967 6874 3d22 3230 222c 206c  , height="20", l
+000205d0: 6179 6f75 743d 2267 7269 6422 290a 7261  ayout="grid").ra
+000205e0: 6365 5475 6265 4c65 6e67 7468 4c61 6265  ceTubeLengthLabe
+000205f0: 6c20 3d20 5465 7874 280a 2020 2020 7261  l = Text(.    ra
+00020600: 6365 5475 6265 4c65 6e67 7468 4672 616d  ceTubeLengthFram
+00020610: 652c 0a20 2020 2063 6f6c 6f72 3d22 626c  e,.    color="bl
+00020620: 6163 6b22 2c0a 2020 2020 6772 6964 3d5b  ack",.    grid=[
+00020630: 302c 2030 5d2c 0a20 2020 2074 6578 743d  0, 0],.    text=
+00020640: 224c 656e 6774 6820 6672 6f6d 2066 6972  "Length from fir
+00020650: 7374 2074 6f20 6c61 7374 5c6e 7469 6d65  st to last\ntime
+00020660: 206d 6172 6b20 6f66 2031 7374 2074 7562   mark of 1st tub
+00020670: 6520 286d 6d29 222c 0a20 2020 2073 697a  e (mm)",.    siz
+00020680: 653d 3132 0a29 0a72 6163 6554 7562 654c  e=12.).raceTubeL
+00020690: 656e 6774 6854 6578 7442 6f78 203d 2054  engthTextBox = T
+000206a0: 6578 7442 6f78 2872 6163 6554 7562 654c  extBox(raceTubeL
+000206b0: 656e 6774 6846 7261 6d65 2c20 7465 7874  engthFrame, text
+000206c0: 3d22 222c 2067 7269 643d 5b31 2c20 305d  ="", grid=[1, 0]
+000206d0: 290a 7261 6365 5475 6265 4c65 6e67 7468  ).raceTubeLength
+000206e0: 5465 7874 426f 782e 7465 7874 5f73 697a  TextBox.text_siz
+000206f0: 6520 3d20 3133 0a68 6f6d 6554 6162 546f  e = 13.homeTabTo
+00020700: 7042 7574 746f 6e52 6f77 5370 6163 6572  pButtonRowSpacer
+00020710: 3220 3d20 426f 7828 686f 6d65 5461 6254  2 = Box(homeTabT
+00020720: 6f70 4275 7474 6f6e 526f 7746 7261 6d65  opButtonRowFrame
+00020730: 2c20 6772 6964 3d5b 342c 305d 2c20 6865  , grid=[4,0], he
+00020740: 6967 6874 3d22 6669 6c6c 222c 2077 6964  ight="fill", wid
+00020750: 7468 3d35 290a 6c6f 636b 416e 6441 6e61  th=5).lockAndAna
+00020760: 6c79 7a65 4275 7474 6f6e 203d 2050 7573  lyzeButton = Pus
+00020770: 6842 7574 746f 6e28 0a20 2020 2068 6f6d  hButton(.    hom
+00020780: 6554 6162 546f 7042 7574 746f 6e52 6f77  eTabTopButtonRow
+00020790: 4672 616d 652c 2067 7269 643d 5b35 2c20  Frame, grid=[5, 
+000207a0: 305d 2c20 7465 7874 3d22 4c6f 636b 2061  0], text="Lock a
+000207b0: 6e64 2041 6e61 6c79 7a65 222c 2063 6f6d  nd Analyze", com
+000207c0: 6d61 6e64 3d6c 6f63 6b41 6e64 416e 616c  mand=lockAndAnal
+000207d0: 797a 6552 6163 6554 7562 6549 6d61 6765  yzeRaceTubeImage
+000207e0: 0a29 0a6c 6f63 6b41 6e64 416e 616c 797a  .).lockAndAnalyz
+000207f0: 6542 7574 746f 6e2e 7465 7874 5f73 697a  eButton.text_siz
+00020800: 6520 3d20 3133 0a6c 6f63 6b41 6e64 416e  e = 13.lockAndAn
+00020810: 616c 797a 6542 7574 746f 6e2e 666f 6e74  alyzeButton.font
+00020820: 203d 2022 4172 6961 6c20 626f 6c64 220a   = "Arial bold".
+00020830: 6c6f 636b 416e 6441 6e61 6c79 7a65 4275  lockAndAnalyzeBu
+00020840: 7474 6f6e 2e64 6973 6162 6c65 2829 0a68  tton.disable().h
+00020850: 6f6d 6554 6162 5665 7274 6963 616c 5370  omeTabVerticalSp
+00020860: 6163 6572 3220 3d20 426f 7828 686f 6d65  acer2 = Box(home
+00020870: 5461 6246 7261 6d65 2c20 6865 6967 6874  TabFrame, height
+00020880: 3d35 2c20 7769 6474 683d 2266 696c 6c22  =5, width="fill"
+00020890: 2c20 616c 6967 6e3d 2274 6f70 2229 0a68  , align="top").h
+000208a0: 6f6d 6554 6162 4d69 6464 6c65 436f 6e74  omeTabMiddleCont
+000208b0: 656e 7446 7261 6d65 203d 2042 6f78 2868  entFrame = Box(h
+000208c0: 6f6d 6554 6162 4672 616d 652c 2061 6c69  omeTabFrame, ali
+000208d0: 676e 3d22 746f 7022 2c20 626f 7264 6572  gn="top", border
+000208e0: 3d22 3022 2c20 7769 6474 683d 2266 696c  ="0", width="fil
+000208f0: 6c22 290a 7469 6d65 4d61 726b 5461 626c  l").timeMarkTabl
+00020900: 6546 7261 6d65 203d 2042 6f78 2868 6f6d  eFrame = Box(hom
+00020910: 6554 6162 4d69 6464 6c65 436f 6e74 656e  eTabMiddleConten
+00020920: 7446 7261 6d65 2c20 7769 6474 683d 3138  tFrame, width=18
+00020930: 302c 2068 6569 6768 743d 3430 302c 2061  0, height=400, a
+00020940: 6c69 676e 3d22 6c65 6674 2229 0a74 696d  lign="left").tim
+00020950: 654d 6172 6b54 6162 6c65 526f 7773 203d  eMarkTableRows =
+00020960: 205b 426f 7828 7469 6d65 4d61 726b 5461   [Box(timeMarkTa
+00020970: 626c 6546 7261 6d65 2c20 616c 6967 6e3d  bleFrame, align=
+00020980: 2274 6f70 222c 206c 6179 6f75 743d 2267  "top", layout="g
+00020990: 7269 6422 2c20 7769 6474 683d 2266 696c  rid", width="fil
+000209a0: 6c22 295d 0a74 696d 654d 6172 6b54 6162  l")].timeMarkTab
+000209b0: 6c65 526f 7773 5b30 5d2e 6267 203d 2022  leRows[0].bg = "
+000209c0: 6772 6579 3735 220a 7469 6d65 4d61 726b  grey75".timeMark
+000209d0: 5461 626c 654c 6162 656c 7320 3d20 5b5d  TableLabels = []
+000209e0: 0a74 696d 654d 6172 6b54 6162 6c65 4461  .timeMarkTableDa
+000209f0: 7461 5465 7874 426f 7865 7320 3d20 5b5d  taTextBoxes = []
+00020a00: 0a74 696d 654d 6172 6b54 6162 6c65 4865  .timeMarkTableHe
+00020a10: 6164 6572 3120 3d20 5465 7874 2874 696d  ader1 = Text(tim
+00020a20: 654d 6172 6b54 6162 6c65 526f 7773 5b30  eMarkTableRows[0
+00020a30: 5d2c 2067 7269 643d 5b30 2c20 305d 2c20  ], grid=[0, 0], 
+00020a40: 7465 7874 3d22 4d61 726b 2022 2c20 666f  text="Mark ", fo
+00020a50: 6e74 3d22 436f 7572 6965 7222 2c20 7369  nt="Courier", si
+00020a60: 7a65 3d31 3429 0a74 696d 654d 6172 6b54  ze=14).timeMarkT
+00020a70: 6162 6c65 4865 6164 6572 3220 3d20 5465  ableHeader2 = Te
+00020a80: 7874 2874 696d 654d 6172 6b54 6162 6c65  xt(timeMarkTable
+00020a90: 526f 7773 5b30 5d2c 2067 7269 643d 5b31  Rows[0], grid=[1
+00020aa0: 2c20 305d 2c20 7465 7874 3d22 4461 7920  , 0], text="Day 
+00020ab0: 222c 2066 6f6e 743d 2243 6f75 7269 6572  ", font="Courier
+00020ac0: 222c 2073 697a 653d 3134 290a 7469 6d65  ", size=14).time
+00020ad0: 4d61 726b 5461 626c 6548 6561 6465 7233  MarkTableHeader3
+00020ae0: 203d 2054 6578 7428 7469 6d65 4d61 726b   = Text(timeMark
+00020af0: 5461 626c 6552 6f77 735b 305d 2c20 6772  TableRows[0], gr
+00020b00: 6964 3d5b 322c 2030 5d2c 2074 6578 743d  id=[2, 0], text=
+00020b10: 2248 6f75 7220 222c 2066 6f6e 743d 2243  "Hour ", font="C
+00020b20: 6f75 7269 6572 222c 2073 697a 653d 3134  ourier", size=14
+00020b30: 290a 7469 6d65 4d61 726b 5461 626c 6548  ).timeMarkTableH
+00020b40: 6561 6465 7234 203d 2054 6578 7428 7469  eader4 = Text(ti
+00020b50: 6d65 4d61 726b 5461 626c 6552 6f77 735b  meMarkTableRows[
+00020b60: 305d 2c20 6772 6964 3d5b 332c 2030 5d2c  0], grid=[3, 0],
+00020b70: 2074 6578 743d 224d 696e 222c 2066 6f6e   text="Min", fon
+00020b80: 743d 2243 6f75 7269 6572 222c 2073 697a  t="Courier", siz
+00020b90: 653d 3134 290a 7469 6d65 4d61 726b 5461  e=14).timeMarkTa
+00020ba0: 626c 6542 7574 746f 6e42 6f78 203d 2042  bleButtonBox = B
+00020bb0: 6f78 2874 696d 654d 6172 6b54 6162 6c65  ox(timeMarkTable
+00020bc0: 4672 616d 652c 2068 6569 6768 743d 3330  Frame, height=30
+00020bd0: 2c20 7769 6474 683d 2266 696c 6c22 2c20  , width="fill", 
+00020be0: 616c 6967 6e3d 2262 6f74 746f 6d22 290a  align="bottom").
+00020bf0: 7469 6d65 4d61 726b 5461 626c 6542 7574  timeMarkTableBut
+00020c00: 746f 6e44 6f77 6e20 3d20 5075 7368 4275  tonDown = PushBu
+00020c10: 7474 6f6e 2874 696d 654d 6172 6b54 6162  tton(timeMarkTab
+00020c20: 6c65 4275 7474 6f6e 426f 782c 2074 6578  leButtonBox, tex
+00020c30: 743d 2244 6f77 6e22 2c20 6865 6967 6874  t="Down", height
+00020c40: 3d30 2c20 7769 6474 683d 342c 2061 6c69  =0, width=4, ali
+00020c50: 676e 3d22 6c65 6674 222c 2063 6f6d 6d61  gn="left", comma
+00020c60: 6e64 3d74 696d 654d 6172 6b54 6162 6c65  nd=timeMarkTable
+00020c70: 5363 726f 6c6c 2c20 6172 6773 3d5b 2264  Scroll, args=["d
+00020c80: 6f77 6e22 5d29 0a74 696d 654d 6172 6b54  own"]).timeMarkT
+00020c90: 6162 6c65 4275 7474 6f6e 5570 203d 2050  ableButtonUp = P
+00020ca0: 7573 6842 7574 746f 6e28 7469 6d65 4d61  ushButton(timeMa
+00020cb0: 726b 5461 626c 6542 7574 746f 6e42 6f78  rkTableButtonBox
+00020cc0: 2c20 7465 7874 3d22 5570 222c 2068 6569  , text="Up", hei
+00020cd0: 6768 743d 302c 2077 6964 7468 3d34 2c20  ght=0, width=4, 
+00020ce0: 616c 6967 6e3d 2272 6967 6874 222c 2063  align="right", c
+00020cf0: 6f6d 6d61 6e64 3d74 696d 654d 6172 6b54  ommand=timeMarkT
+00020d00: 6162 6c65 5363 726f 6c6c 2c20 6172 6773  ableScroll, args
+00020d10: 3d5b 2275 7022 5d29 0a66 6f72 2072 6f77  =["up"]).for row
+00020d20: 2069 6e20 7261 6e67 6528 312c 2033 3129   in range(1, 31)
+00020d30: 3a0a 2020 2020 7469 6d65 4d61 726b 5461  :.    timeMarkTa
+00020d40: 626c 6552 6f77 732e 6170 7065 6e64 2842  bleRows.append(B
+00020d50: 6f78 2874 696d 654d 6172 6b54 6162 6c65  ox(timeMarkTable
+00020d60: 4672 616d 652c 2061 6c69 676e 3d22 746f  Frame, align="to
+00020d70: 7022 2c20 6c61 796f 7574 3d22 6772 6964  p", layout="grid
+00020d80: 222c 2077 6964 7468 3d22 6669 6c6c 2229  ", width="fill")
+00020d90: 290a 2020 2020 6966 2074 696d 654d 6172  ).    if timeMar
+00020da0: 6b54 6162 6c65 526f 7773 5b72 6f77 202d  kTableRows[row -
+00020db0: 2031 5d2e 6267 203d 3d20 2267 7265 7937   1].bg == "grey7
+00020dc0: 3522 3a0a 2020 2020 2020 2020 7469 6d65  5":.        time
+00020dd0: 4d61 726b 5461 626c 6552 6f77 735b 726f  MarkTableRows[ro
+00020de0: 775d 2e62 6720 3d20 2267 7265 7938 3522  w].bg = "grey85"
+00020df0: 0a20 2020 2065 6c73 653a 0a20 2020 2020  .    else:.     
+00020e00: 2020 2074 696d 654d 6172 6b54 6162 6c65     timeMarkTable
+00020e10: 526f 7773 5b72 6f77 5d2e 6267 203d 2022  Rows[row].bg = "
+00020e20: 6772 6579 3735 220a 2020 2020 7469 6d65  grey75".    time
+00020e30: 4d61 726b 5461 626c 654c 6162 656c 732e  MarkTableLabels.
+00020e40: 6170 7065 6e64 280a 2020 2020 2020 2020  append(.        
+00020e50: 5465 7874 280a 2020 2020 2020 2020 2020  Text(.          
+00020e60: 2020 7469 6d65 4d61 726b 5461 626c 6552    timeMarkTableR
+00020e70: 6f77 735b 726f 775d 2c0a 2020 2020 2020  ows[row],.      
+00020e80: 2020 2020 2020 6772 6964 3d5b 302c 2030        grid=[0, 0
+00020e90: 5d2c 0a20 2020 2020 2020 2020 2020 2074  ],.            t
+00020ea0: 6578 743d 7374 7228 726f 7729 202b 2022  ext=str(row) + "
+00020eb0: 2022 202a 2028 3520 2d20 6c65 6e28 7374   " * (5 - len(st
+00020ec0: 7228 726f 7729 2929 2c0a 2020 2020 2020  r(row))),.      
+00020ed0: 2020 2020 2020 666f 6e74 3d22 436f 7572        font="Cour
+00020ee0: 6965 7222 2c0a 2020 2020 2020 2020 2020  ier",.          
+00020ef0: 2020 7369 7a65 3d31 342c 0a20 2020 2020    size=14,.     
+00020f00: 2020 2029 0a20 2020 2029 0a20 2020 2074     ).    ).    t
+00020f10: 696d 654d 6172 6b54 6162 6c65 4461 7461  imeMarkTableData
+00020f20: 5465 7874 426f 7865 732e 6170 7065 6e64  TextBoxes.append
+00020f30: 280a 2020 2020 2020 2020 5465 7874 426f  (.        TextBo
+00020f40: 7828 7469 6d65 4d61 726b 5461 626c 6552  x(timeMarkTableR
+00020f50: 6f77 735b 726f 775d 2c20 6772 6964 3d5b  ows[row], grid=[
+00020f60: 312c 2030 5d2c 2074 6578 743d 7374 7228  1, 0], text=str(
+00020f70: 726f 7720 2d20 3129 2c20 7769 6474 683d  row - 1), width=
+00020f80: 3329 0a20 2020 2029 0a20 2020 2074 696d  3).    ).    tim
+00020f90: 654d 6172 6b54 6162 6c65 4461 7461 5465  eMarkTableDataTe
+00020fa0: 7874 426f 7865 732e 6170 7065 6e64 2854  xtBoxes.append(T
+00020fb0: 6578 7442 6f78 2874 696d 654d 6172 6b54  extBox(timeMarkT
+00020fc0: 6162 6c65 526f 7773 5b72 6f77 5d2c 2067  ableRows[row], g
+00020fd0: 7269 643d 5b32 2c20 305d 2c20 7465 7874  rid=[2, 0], text
+00020fe0: 3d22 3022 2c20 7769 6474 683d 3329 290a  ="0", width=3)).
+00020ff0: 2020 2020 7469 6d65 4d61 726b 5461 626c      timeMarkTabl
+00021000: 6544 6174 6154 6578 7442 6f78 6573 2e61  eDataTextBoxes.a
+00021010: 7070 656e 6428 5465 7874 426f 7828 7469  ppend(TextBox(ti
+00021020: 6d65 4d61 726b 5461 626c 6552 6f77 735b  meMarkTableRows[
+00021030: 726f 775d 2c20 6772 6964 3d5b 332c 2030  row], grid=[3, 0
+00021040: 5d2c 2074 6578 743d 2230 222c 2077 6964  ], text="0", wid
+00021050: 7468 3d33 2929 0a66 6f72 2072 6f77 2069  th=3)).for row i
+00021060: 6e20 7469 6d65 4d61 726b 5461 626c 6552  n timeMarkTableR
+00021070: 6f77 735b 3133 3a5d 3a0a 2020 2020 726f  ows[13:]:.    ro
+00021080: 772e 6869 6465 2829 0a68 6f6d 6554 6162  w.hide().homeTab
+00021090: 5261 6365 5475 6265 496d 6167 6546 7261  RaceTubeImageFra
+000210a0: 6d65 203d 2042 6f78 2868 6f6d 6554 6162  me = Box(homeTab
+000210b0: 4d69 6464 6c65 436f 6e74 656e 7446 7261  MiddleContentFra
+000210c0: 6d65 2c20 7769 6474 683d 3131 3630 2c20  me, width=1160, 
+000210d0: 6865 6967 6874 3d34 3030 2c20 616c 6967  height=400, alig
+000210e0: 6e3d 226c 6566 7422 290a 686f 6d65 5461  n="left").homeTa
+000210f0: 6252 6163 6554 7562 6549 6d61 6765 4f62  bRaceTubeImageOb
+00021100: 6a65 6374 203d 2044 7261 7769 6e67 2868  ject = Drawing(h
+00021110: 6f6d 6554 6162 5261 6365 5475 6265 496d  omeTabRaceTubeIm
+00021120: 6167 6546 7261 6d65 2c20 7769 6474 683d  ageFrame, width=
+00021130: 2266 696c 6c22 2c20 6865 6967 6874 3d22  "fill", height="
+00021140: 6669 6c6c 2229 0a68 6f6d 6554 6162 5665  fill").homeTabVe
+00021150: 7274 6963 616c 5370 6163 6572 3320 3d20  rticalSpacer3 = 
+00021160: 426f 7828 686f 6d65 5461 6246 7261 6d65  Box(homeTabFrame
+00021170: 2c20 6865 6967 6874 3d35 2c20 7769 6474  , height=5, widt
+00021180: 683d 2266 696c 6c22 2c20 616c 6967 6e3d  h="fill", align=
+00021190: 2274 6f70 2229 0a68 6f6d 6554 6162 426f  "top").homeTabBo
+000211a0: 7474 6f6d 4275 7474 6f6e 526f 7746 7261  ttomButtonRowFra
+000211b0: 6d65 203d 2042 6f78 2868 6f6d 6554 6162  me = Box(homeTab
+000211c0: 4672 616d 652c 2077 6964 7468 3d22 6669  Frame, width="fi
+000211d0: 6c6c 222c 2068 6569 6768 743d 3530 290a  ll", height=50).
+000211e0: 7072 6f63 6565 6442 7574 746f 6e20 3d20  proceedButton = 
+000211f0: 5075 7368 4275 7474 6f6e 2868 6f6d 6554  PushButton(homeT
+00021200: 6162 426f 7474 6f6d 4275 7474 6f6e 526f  abBottomButtonRo
+00021210: 7746 7261 6d65 2c20 7465 7874 3d22 5072  wFrame, text="Pr
+00021220: 6f63 6565 6422 2c20 636f 6d6d 616e 643d  oceed", command=
+00021230: 7072 6f63 6565 6448 616e 646c 6572 2c20  proceedHandler, 
+00021240: 616c 6967 6e3d 226c 6566 7422 290a 7072  align="left").pr
+00021250: 6f63 6565 6442 7574 746f 6e2e 7465 7874  oceedButton.text
+00021260: 5f73 697a 6520 3d20 3133 0a70 726f 6365  _size = 13.proce
+00021270: 6564 4275 7474 6f6e 2e66 6f6e 7420 3d20  edButton.font = 
+00021280: 2241 7269 616c 2062 6f6c 6422 0a70 726f  "Arial bold".pro
+00021290: 6365 6564 4275 7474 6f6e 2e64 6973 6162  ceedButton.disab
+000212a0: 6c65 2829 0a68 6f6d 6554 6162 426f 7474  le().homeTabBott
+000212b0: 6f6d 4275 7474 6f6e 526f 7746 7261 6d65  omButtonRowFrame
+000212c0: 5370 6163 6572 3120 3d20 426f 7828 686f  Spacer1 = Box(ho
+000212d0: 6d65 5461 6242 6f74 746f 6d42 7574 746f  meTabBottomButto
+000212e0: 6e52 6f77 4672 616d 652c 2068 6569 6768  nRowFrame, heigh
+000212f0: 743d 2266 696c 6c22 2c20 7769 6474 683d  t="fill", width=
+00021300: 352c 2061 6c69 676e 3d22 6c65 6674 2229  5, align="left")
+00021310: 0a68 6f6d 6554 6162 436f 6e73 6f6c 6554  .homeTabConsoleT
+00021320: 6578 7442 6f78 203d 2054 6578 7442 6f78  extBox = TextBox
+00021330: 2868 6f6d 6554 6162 426f 7474 6f6d 4275  (homeTabBottomBu
+00021340: 7474 6f6e 526f 7746 7261 6d65 2c20 7769  ttonRowFrame, wi
+00021350: 6474 683d 3830 2c20 6865 6967 6874 3d34  dth=80, height=4
+00021360: 2c20 6d75 6c74 696c 696e 653d 5472 7565  , multiline=True
+00021370: 2c20 616c 6967 6e3d 226c 6566 7422 290a  , align="left").
+00021380: 686f 6d65 5461 6243 6f6e 736f 6c65 5465  homeTabConsoleTe
+00021390: 7874 426f 782e 6469 7361 626c 6528 290a  xtBox.disable().
+000213a0: 686f 6d65 5461 6242 6f74 746f 6d42 7574  homeTabBottomBut
+000213b0: 746f 6e52 6f77 4672 616d 6553 7061 6365  tonRowFrameSpace
+000213c0: 7232 203d 2042 6f78 2868 6f6d 6554 6162  r2 = Box(homeTab
+000213d0: 426f 7474 6f6d 4275 7474 6f6e 526f 7746  BottomButtonRowF
+000213e0: 7261 6d65 2c20 6865 6967 6874 3d22 6669  rame, height="fi
+000213f0: 6c6c 222c 2077 6964 7468 3d35 2c20 616c  ll", width=5, al
+00021400: 6967 6e3d 226c 6566 7422 290a 7361 7665  ign="left").save
+00021410: 5475 6265 7354 6f46 696c 6542 7574 746f  TubesToFileButto
+00021420: 6e20 3d20 5075 7368 4275 7474 6f6e 2868  n = PushButton(h
+00021430: 6f6d 6554 6162 426f 7474 6f6d 4275 7474  omeTabBottomButt
+00021440: 6f6e 526f 7746 7261 6d65 2c20 7465 7874  onRowFrame, text
+00021450: 3d22 5361 7665 2054 7562 6573 2074 6f20  ="Save Tubes to 
+00021460: 4669 6c65 222c 2063 6f6d 6d61 6e64 3d73  File", command=s
+00021470: 6176 6554 7562 6573 546f 4669 6c65 5072  aveTubesToFilePr
+00021480: 6f6d 7074 2c20 616c 6967 6e3d 226c 6566  ompt, align="lef
+00021490: 7422 290a 7361 7665 5475 6265 7354 6f46  t").saveTubesToF
+000214a0: 696c 6542 7574 746f 6e2e 7465 7874 5f73  ileButton.text_s
+000214b0: 697a 6520 3d20 3133 0a73 6176 6554 7562  ize = 13.saveTub
+000214c0: 6573 546f 4669 6c65 4275 7474 6f6e 2e66  esToFileButton.f
+000214d0: 6f6e 7420 3d20 2241 7269 616c 2062 6f6c  ont = "Arial bol
+000214e0: 6422 0a73 6176 6554 7562 6573 546f 4669  d".saveTubesToFi
+000214f0: 6c65 4275 7474 6f6e 2e64 6973 6162 6c65  leButton.disable
+00021500: 2829 0a68 6f6d 6554 6162 426f 7474 6f6d  ().homeTabBottom
+00021510: 4275 7474 6f6e 526f 7746 7261 6d65 5370  ButtonRowFrameSp
+00021520: 6163 6572 3320 3d20 426f 7828 686f 6d65  acer3 = Box(home
+00021530: 5461 6242 6f74 746f 6d42 7574 746f 6e52  TabBottomButtonR
+00021540: 6f77 4672 616d 652c 2068 6569 6768 743d  owFrame, height=
+00021550: 2266 696c 6c22 2c20 7769 6474 683d 352c  "fill", width=5,
+00021560: 2061 6c69 676e 3d22 6c65 6674 2229 0a72   align="left").r
+00021570: 6573 6574 5261 6365 5475 6265 496d 6167  esetRaceTubeImag
+00021580: 6541 6e61 6c79 7369 7342 7574 746f 6e20  eAnalysisButton 
+00021590: 3d20 5075 7368 4275 7474 6f6e 2868 6f6d  = PushButton(hom
+000215a0: 6554 6162 426f 7474 6f6d 4275 7474 6f6e  eTabBottomButton
+000215b0: 526f 7746 7261 6d65 2c20 7465 7874 3d22  RowFrame, text="
+000215c0: 4361 6e63 656c 2069 6d61 6765 2061 6e61  Cancel image ana
+000215d0: 6c79 7369 7322 2c20 636f 6d6d 616e 643d  lysis", command=
+000215e0: 6361 6e63 656c 496d 6167 6541 6e61 6c79  cancelImageAnaly
+000215f0: 7369 732c 2061 6c69 676e 3d22 6c65 6674  sis, align="left
+00021600: 2229 0a72 6573 6574 5261 6365 5475 6265  ").resetRaceTube
+00021610: 496d 6167 6541 6e61 6c79 7369 7342 7574  ImageAnalysisBut
+00021620: 746f 6e2e 7465 7874 5f73 697a 6520 3d20  ton.text_size = 
+00021630: 3133 0a72 6573 6574 5261 6365 5475 6265  13.resetRaceTube
+00021640: 496d 6167 6541 6e61 6c79 7369 7342 7574  ImageAnalysisBut
+00021650: 746f 6e2e 666f 6e74 203d 2022 4172 6961  ton.font = "Aria
+00021660: 6c20 626f 6c64 220a 7265 7365 7452 6163  l bold".resetRac
+00021670: 6554 7562 6549 6d61 6765 416e 616c 7973  eTubeImageAnalys
+00021680: 6973 4275 7474 6f6e 2e64 6973 6162 6c65  isButton.disable
+00021690: 2829 0a68 6f6d 6554 6162 5072 656c 696d  ().homeTabPrelim
+000216a0: 696e 6172 7944 6174 6141 6e61 6c79 7369  inaryDataAnalysi
+000216b0: 7346 7261 6d65 203d 2042 6f78 2868 6f6d  sFrame = Box(hom
+000216c0: 6554 6162 4672 616d 652c 2077 6964 7468  eTabFrame, width
+000216d0: 3d22 6669 6c6c 222c 2068 6569 6768 743d  ="fill", height=
+000216e0: 3430 302c 2061 6c69 676e 3d22 746f 7022  400, align="top"
+000216f0: 2923 2c20 6c61 796f 7574 3d22 6772 6964  )#, layout="grid
+00021700: 220a 686f 6d65 5461 6250 7265 6c69 6d69  ".homeTabPrelimi
+00021710: 6e61 7279 4461 7461 416e 616c 7973 6973  naryDataAnalysis
+00021720: 5465 7874 426f 7820 3d20 5465 7874 2868  TextBox = Text(h
+00021730: 6f6d 6554 6162 5072 656c 696d 696e 6172  omeTabPreliminar
+00021740: 7944 6174 6141 6e61 6c79 7369 7346 7261  yDataAnalysisFra
+00021750: 6d65 2c20 666f 6e74 3d22 436f 7572 6965  me, font="Courie
+00021760: 7222 2c20 7369 7a65 3d31 342c 2061 6c69  r", size=14, ali
+00021770: 676e 3d22 746f 7022 290a 2320 5365 7420  gn="top").# Set 
+00021780: 7570 2068 6f6d 6520 7461 6220 636f 6c6f  up home tab colo
+00021790: 7273 0a72 6163 6554 7562 654c 656e 6774  rs.raceTubeLengt
+000217a0: 6846 7261 6d65 2e62 6720 3d20 2267 7261  hFrame.bg = "gra
+000217b0: 7939 3522 0a72 6163 6554 7562 654c 656e  y95".raceTubeLen
+000217c0: 6774 6854 6578 7442 6f78 2e74 6578 745f  gthTextBox.text_
+000217d0: 636f 6c6f 7220 3d20 2262 6c61 636b 220a  color = "black".
+000217e0: 686f 6d65 5461 6252 6163 6554 7562 6549  homeTabRaceTubeI
+000217f0: 6d61 6765 4672 616d 652e 6267 203d 2022  mageFrame.bg = "
+00021800: 2336 3736 3937 3522 0a68 6f6d 6554 6162  #676975".homeTab
+00021810: 436f 6e73 6f6c 6554 6578 7442 6f78 2e74  ConsoleTextBox.t
+00021820: 6578 745f 636f 6c6f 7220 3d20 2262 6c61  ext_color = "bla
+00021830: 636b 220a 2320 5365 7420 7570 2068 6f6d  ck".# Set up hom
+00021840: 6520 6675 6e63 7469 6f6e 730a 686f 6d65  e functions.home
+00021850: 5461 6252 6163 6554 7562 6549 6d61 6765  TabRaceTubeImage
+00021860: 4f62 6a65 6374 2e77 6865 6e5f 636c 6963  Object.when_clic
+00021870: 6b65 6420 3d20 696d 6167 6543 6c69 636b  ked = imageClick
+00021880: 4861 6e64 6c65 720a 0a0a 2320 5365 7420  Handler...# Set 
+00021890: 7570 2065 7870 6572 696d 656e 7473 2074  up experiments t
+000218a0: 6162 0a65 7870 6572 696d 656e 7454 6162  ab.experimentTab
+000218b0: 4672 616d 6520 3d20 426f 7828 6170 702c  Frame = Box(app,
+000218c0: 2077 6964 7468 3d22 6669 6c6c 222c 2068   width="fill", h
+000218d0: 6569 6768 743d 2266 696c 6c22 2c20 616c  eight="fill", al
+000218e0: 6967 6e3d 2274 6f70 2229 0a65 7870 6572  ign="top").exper
+000218f0: 696d 656e 7454 6162 4672 616d 652e 6267  imentTabFrame.bg
+00021900: 203d 2022 6772 6579 3935 220a 6578 7065   = "grey95".expe
+00021910: 7269 6d65 6e74 5461 6246 7261 6d65 2e74  rimentTabFrame.t
+00021920: 6578 745f 636f 6c6f 7220 3d20 2262 6c61  ext_color = "bla
+00021930: 636b 220a 6578 7065 7269 6d65 6e74 5461  ck".experimentTa
+00021940: 6246 7261 6d65 2e73 6574 5f62 6f72 6465  bFrame.set_borde
+00021950: 7228 352c 2022 2339 6663 6465 6122 290a  r(5, "#9fcdea").
+00021960: 6578 7065 7269 6d65 6e74 5461 6254 6f70  experimentTabTop
+00021970: 436f 6e74 656e 7452 6f77 203d 2042 6f78  ContentRow = Box
+00021980: 2865 7870 6572 696d 656e 7454 6162 4672  (experimentTabFr
+00021990: 616d 652c 2077 6964 7468 3d22 6669 6c6c  ame, width="fill
+000219a0: 222c 2068 6569 6768 743d 696e 7428 6170  ", height=int(ap
+000219b0: 7048 6569 6768 742a 302e 3429 2c20 616c  pHeight*0.4), al
+000219c0: 6967 6e3d 2274 6f70 2229 0a65 7870 6572  ign="top").exper
+000219d0: 696d 656e 7454 6162 546f 7043 6f6e 7465  imentTabTopConte
+000219e0: 6e74 526f 772e 7365 745f 626f 7264 6572  ntRow.set_border
+000219f0: 2832 2c20 2223 3966 6364 6561 2229 0a65  (2, "#9fcdea").e
+00021a00: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
+00021a10: 6546 7261 6d65 203d 2042 6f78 2865 7870  eFrame = Box(exp
+00021a20: 6572 696d 656e 7454 6162 546f 7043 6f6e  erimentTabTopCon
+00021a30: 7465 6e74 526f 772c 2077 6964 7468 3d69  tentRow, width=i
+00021a40: 6e74 2873 6372 6565 6e57 6964 7468 2a30  nt(screenWidth*0
+00021a50: 2e34 3529 2c20 6865 6967 6874 3d69 6e74  .45), height=int
+00021a60: 2861 7070 4865 6967 6874 2a30 2e34 292c  (appHeight*0.4),
+00021a70: 2061 6c69 676e 3d22 6c65 6674 2229 0a65   align="left").e
+00021a80: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
+00021a90: 6546 7261 6d65 5665 7274 6963 616c 5370  eFrameVerticalSp
+00021aa0: 6163 6572 3120 3d20 426f 7828 6578 7065  acer1 = Box(expe
+00021ab0: 7269 6d65 6e74 5461 6254 6162 6c65 4672  rimentTabTableFr
+00021ac0: 616d 652c 2068 6569 6768 743d 322c 2077  ame, height=2, w
+00021ad0: 6964 7468 3d22 6669 6c6c 222c 2061 6c69  idth="fill", ali
+00021ae0: 676e 3d22 626f 7474 6f6d 2229 0a65 7870  gn="bottom").exp
+00021af0: 6572 696d 656e 7454 6162 5461 626c 6550  erimentTabTableP
+00021b00: 6172 616d 7352 6f77 203d 2042 6f78 2865  aramsRow = Box(e
+00021b10: 7870 6572 696d 656e 7454 6162 5461 626c  xperimentTabTabl
+00021b20: 6546 7261 6d65 2c20 7769 6474 683d 2266  eFrame, width="f
+00021b30: 696c 6c22 2c20 6865 6967 6874 3d34 302c  ill", height=40,
+00021b40: 2061 6c69 676e 3d22 626f 7474 6f6d 2229   align="bottom")
+00021b50: 0a65 7870 6572 696d 656e 7454 6162 5461  .experimentTabTa
+00021b60: 626c 6550 6172 616d 7348 7273 4c6f 7754  bleParamsHrsLowT
+00021b70: 6578 7420 3d20 5465 7874 2865 7870 6572  ext = Text(exper
+00021b80: 696d 656e 7454 6162 5461 626c 6550 6172  imentTabTablePar
+00021b90: 616d 7352 6f77 2c20 7465 7874 3d22 486f  amsRow, text="Ho
+00021ba0: 7572 7320 2853 7461 7274 293a 2022 2c20  urs (Start): ", 
+00021bb0: 616c 6967 6e3d 226c 6566 7422 2c20 666f  align="left", fo
+00021bc0: 6e74 3d22 4172 6961 6c20 626f 6c64 2229  nt="Arial bold")
+00021bd0: 0a65 7870 6572 696d 656e 7454 6162 5461  .experimentTabTa
+00021be0: 626c 6550 6172 616d 7348 7273 4c6f 7744  bleParamsHrsLowD
+00021bf0: 726f 7064 6f77 6e20 3d20 436f 6d62 6f28  ropdown = Combo(
+00021c00: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
+00021c10: 6c65 5061 7261 6d73 526f 772c 2077 6964  leParamsRow, wid
+00021c20: 7468 3d34 2c20 616c 6967 6e3d 226c 6566  th=4, align="lef
+00021c30: 7422 2c20 6f70 7469 6f6e 733d 5b5d 290a  t", options=[]).
+00021c40: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
+00021c50: 6c65 5061 7261 6d73 4872 7348 6967 6854  leParamsHrsHighT
+00021c60: 6578 7420 3d20 5465 7874 2865 7870 6572  ext = Text(exper
+00021c70: 696d 656e 7454 6162 5461 626c 6550 6172  imentTabTablePar
+00021c80: 616d 7352 6f77 2c20 7465 7874 3d22 486f  amsRow, text="Ho
+00021c90: 7572 7320 2853 746f 7029 3a20 222c 2061  urs (Stop): ", a
+00021ca0: 6c69 676e 3d22 6c65 6674 222c 2066 6f6e  lign="left", fon
+00021cb0: 743d 2241 7269 616c 2062 6f6c 6422 290a  t="Arial bold").
+00021cc0: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
+00021cd0: 6c65 5061 7261 6d73 4872 7348 6967 6844  leParamsHrsHighD
+00021ce0: 726f 7064 6f77 6e20 3d20 436f 6d62 6f28  ropdown = Combo(
+00021cf0: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
+00021d00: 6c65 5061 7261 6d73 526f 772c 2077 6964  leParamsRow, wid
+00021d10: 7468 3d34 2c20 616c 6967 6e3d 226c 6566  th=4, align="lef
+00021d20: 7422 2c20 6f70 7469 6f6e 733d 5b5d 290a  t", options=[]).
+00021d30: 6578 7065 7269 6d65 6e74 5461 6254 6162  experimentTabTab
+00021d40: 6c65 5061 7261 6d73 526f 7753 7061 6365  leParamsRowSpace
+00021d50: 7220 3d20 426f 7828 6578 7065 7269 6d65  r = Box(experime
+00021d60: 6e74 5461 6254 6162 6c65 5061 7261 6d73  ntTabTableParams
+00021d70: 526f 772c 2068 6569 6768 743d 2266 696c  Row, height="fil
+00021d80: 6c22 2c20 7769 6474 683d 352c 2061 6c69  l", width=5, ali
+00021d90: 676e 3d22 6c65 6674 2229 0a65 7870 6572  gn="left").exper
+00021da0: 696d 656e 7454 6162 5461 626c 6550 6172  imentTabTablePar
+00021db0: 616d 7352 6563 616c 6342 7574 746f 6e20  amsRecalcButton 
+00021dc0: 3d20 5075 7368 4275 7474 6f6e 2865 7870  = PushButton(exp
+00021dd0: 6572 696d 656e 7454 6162 5461 626c 6550  erimentTabTableP
+00021de0: 6172 616d 7352 6f77 2c20 7465 7874 3d22  aramsRow, text="
+00021df0: 5265 6361 6c63 756c 6174 6520 5065 7269  Recalculate Peri
+00021e00: 6f64 7322 2c20 616c 6967 6e3d 226c 6566  ods", align="lef
+00021e10: 7422 2c20 636f 6d6d 616e 643d 706f 7075  t", command=popu
+00021e20: 6c61 7465 4578 7065 7269 6d65 6e74 4461  lateExperimentDa
+00021e30: 7461 5461 626c 6529 0a65 7870 6572 696d  taTable).experim
+00021e40: 656e 7454 6162 5461 626c 6550 6172 616d  entTabTableParam
+00021e50: 7352 6563 616c 6342 7574 746f 6e2e 7465  sRecalcButton.te
+00021e60: 7874 5f73 697a 6520 3d20 3133 0a65 7870  xt_size = 13.exp
+00021e70: 6572 696d 656e 7454 6162 5461 626c 6550  erimentTabTableP
+00021e80: 6172 616d 7352 6563 616c 6342 7574 746f  aramsRecalcButto
+00021e90: 6e2e 666f 6e74 203d 2022 4172 6961 6c20  n.font = "Arial 
+00021ea0: 626f 6c64 220a 2365 7870 6572 696d 656e  bold".#experimen
+00021eb0: 7454 6162 5461 626c 6546 7261 6d65 5370  tTabTableFrameSp
+00021ec0: 6163 6572 203d 2042 6f78 2865 7870 6572  acer = Box(exper
+00021ed0: 696d 656e 7454 6162 5461 626c 6550 6172  imentTabTablePar
+00021ee0: 616d 7352 6f77 2c20 6865 6967 6874 3d22  amsRow, height="
+00021ef0: 6669 6c6c 222c 2077 6964 7468 3d31 352c  fill", width=15,
+00021f00: 2061 6c69 676e 3d22 6c65 6674 2229 0a23   align="left").#
+00021f10: 6578 7065 7269 6d65 6e74 5461 6245 6469  experimentTabEdi
+00021f20: 7454 7562 6573 4275 7474 6f6e 203d 2050  tTubesButton = P
+00021f30: 7573 6842 7574 746f 6e28 6578 7065 7269  ushButton(experi
+00021f40: 6d65 6e74 5461 6254 6162 6c65 5061 7261  mentTabTablePara
+00021f50: 6d73 526f 772c 2074 6578 743d 2245 6469  msRow, text="Edi
+00021f60: 7420 5061 636b 7322 2c20 616c 6967 6e3d  t Packs", align=
+00021f70: 226c 6566 7422 2c20 636f 6d6d 616e 643d  "left", command=
+00021f80: 6469 7370 6c61 7945 6469 7444 6174 6150  displayEditDataP
+00021f90: 6f70 7570 290a 2365 7870 6572 696d 656e  opup).#experimen
+00021fa0: 7454 6162 4564 6974 5475 6265 7342 7574  tTabEditTubesBut
+00021fb0: 746f 6e2e 7465 7874 5f73 697a 6520 3d20  ton.text_size = 
+00021fc0: 3133 0a23 6578 7065 7269 6d65 6e74 5461  13.#experimentTa
+00021fd0: 6245 6469 7454 7562 6573 4275 7474 6f6e  bEditTubesButton
+00021fe0: 2e66 6f6e 7420 3d20 2241 7269 616c 2062  .font = "Arial b
+00021ff0: 6f6c 6422 0a23 6578 7065 7269 6d65 6e74  old".#experiment
+00022000: 5461 6254 6162 6c65 4672 616d 6556 6572  TabTableFrameVer
+00022010: 7469 6361 6c53 7061 6365 7232 203d 2042  ticalSpacer2 = B
+00022020: 6f78 2865 7870 6572 696d 656e 7454 6162  ox(experimentTab
+00022030: 5461 626c 6546 7261 6d65 2c20 6865 6967  TableFrame, heig
+00022040: 6874 3d32 2c20 7769 6474 683d 2266 696c  ht=2, width="fil
+00022050: 6c22 2c20 616c 6967 6e3d 2262 6f74 746f  l", align="botto
+00022060: 6d22 290a 0a0a 6578 7065 7269 6d65 6e74  m")...experiment
+00022070: 5461 6254 6162 6c65 5465 7874 426f 7820  TabTableTextBox 
+00022080: 3d20 5465 7874 426f 7828 6578 7065 7269  = TextBox(experi
+00022090: 6d65 6e74 5461 6254 6162 6c65 4672 616d  mentTabTableFram
+000220a0: 652c 206d 756c 7469 6c69 6e65 3d54 7275  e, multiline=Tru
+000220b0: 652c 2077 6964 7468 3d22 6669 6c6c 222c  e, width="fill",
+000220c0: 2068 6569 6768 743d 2266 696c 6c22 2c20   height="fill", 
+000220d0: 616c 6967 6e3d 2274 6f70 2229 0a65 7870  align="top").exp
+000220e0: 6572 696d 656e 7454 6162 5461 626c 6554  erimentTabTableT
+000220f0: 6578 7442 6f78 2e74 6578 745f 7369 7a65  extBox.text_size
+00022100: 203d 2031 320a 6578 7065 7269 6d65 6e74   = 12.experiment
+00022110: 5461 6254 6162 6c65 5465 7874 426f 782e  TabTableTextBox.
+00022120: 6469 7361 626c 6528 290a 6578 7065 7269  disable().experi
+00022130: 6d65 6e74 5461 6254 6162 6c65 5465 7874  mentTabTableText
+00022140: 426f 782e 7772 6170 203d 2046 616c 7365  Box.wrap = False
+00022150: 0a65 7870 6572 696d 656e 7454 6162 5461  .experimentTabTa
+00022160: 626c 6554 6578 7442 6f78 2e66 6f6e 7420  bleTextBox.font 
+00022170: 3d20 2243 6f75 7269 6572 220a 2365 7870  = "Courier".#exp
+00022180: 6572 696d 656e 7454 6162 5461 626c 6546  erimentTabTableF
+00022190: 7261 6d65 2e73 6574 5f62 6f72 6465 7228  rame.set_border(
+000221a0: 322c 2022 2339 6663 6465 6122 290a 6578  2, "#9fcdea").ex
+000221b0: 7065 7269 6d65 6e74 5461 6254 6162 6c65  perimentTabTable
+000221c0: 5465 7874 426f 782e 7465 7874 5f63 6f6c  TextBox.text_col
+000221d0: 6f72 203d 2022 626c 6163 6b22 0a65 7870  or = "black".exp
+000221e0: 6572 696d 656e 7454 6162 546f 7043 6f6e  erimentTabTopCon
+000221f0: 7465 6e74 526f 7753 7061 6365 7220 3d20  tentRowSpacer = 
+00022200: 426f 7828 6578 7065 7269 6d65 6e74 5461  Box(experimentTa
+00022210: 6254 6f70 436f 6e74 656e 7452 6f77 2c20  bTopContentRow, 
+00022220: 6865 6967 6874 3d22 6669 6c6c 222c 2077  height="fill", w
+00022230: 6964 7468 3d35 2c20 616c 6967 6e3d 226c  idth=5, align="l
+00022240: 6566 7422 290a 6578 7065 7269 6d65 6e74  eft").experiment
+00022250: 5461 6253 7461 7469 7374 6963 616c 416e  TabStatisticalAn
+00022260: 616c 7973 6973 4672 616d 6520 3d20 426f  alysisFrame = Bo
+00022270: 7828 6578 7065 7269 6d65 6e74 5461 6254  x(experimentTabT
+00022280: 6f70 436f 6e74 656e 7452 6f77 2c20 7769  opContentRow, wi
+00022290: 6474 683d 2266 696c 6c22 2c20 6865 6967  dth="fill", heig
+000222a0: 6874 3d22 6669 6c6c 222c 2061 6c69 676e  ht="fill", align
+000222b0: 3d22 6c65 6674 2229 0a23 6578 7065 7269  ="left").#experi
+000222c0: 6d65 6e74 5461 6253 7461 7469 7374 6963  mentTabStatistic
+000222d0: 616c 416e 616c 7973 6973 4672 616d 652e  alAnalysisFrame.
+000222e0: 7365 745f 626f 7264 6572 2832 2c20 2223  set_border(2, "#
+000222f0: 3966 6364 6561 2229 0a65 7870 6572 696d  9fcdea").experim
+00022300: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
+00022310: 6c41 6e61 6c79 7369 7353 6574 4c69 7374  lAnalysisSetList
+00022320: 4672 616d 6520 3d20 426f 7828 6578 7065  Frame = Box(expe
+00022330: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
+00022340: 6963 616c 416e 616c 7973 6973 4672 616d  icalAnalysisFram
+00022350: 652c 2077 6964 7468 3d31 3530 2c20 6865  e, width=150, he
+00022360: 6967 6874 3d22 6669 6c6c 222c 2061 6c69  ight="fill", ali
+00022370: 676e 3d22 6c65 6674 2229 0a65 7870 6572  gn="left").exper
+00022380: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
+00022390: 6361 6c41 6e61 6c79 7369 7353 6574 4c69  calAnalysisSetLi
+000223a0: 7374 5469 746c 6520 3d20 5465 7874 2865  stTitle = Text(e
+000223b0: 7870 6572 696d 656e 7454 6162 5374 6174  xperimentTabStat
+000223c0: 6973 7469 6361 6c41 6e61 6c79 7369 7353  isticalAnalysisS
+000223d0: 6574 4c69 7374 4672 616d 652c 2074 6578  etListFrame, tex
+000223e0: 743d 225c 6e5c 6e50 6163 6b73 3a22 2c20  t="\n\nPacks:", 
+000223f0: 616c 6967 6e3d 2274 6f70 222c 2066 6f6e  align="top", fon
+00022400: 743d 2241 7269 616c 2062 6f6c 6422 290a  t="Arial bold").
+00022410: 6578 7065 7269 6d65 6e74 5461 6253 7461  experimentTabSta
+00022420: 7469 7374 6963 616c 416e 616c 7973 6973  tisticalAnalysis
+00022430: 5365 744c 6973 7420 3d20 4c69 7374 426f  SetList = ListBo
+00022440: 7828 0a20 2020 2065 7870 6572 696d 656e  x(.    experimen
+00022450: 7454 6162 5374 6174 6973 7469 6361 6c41  tTabStatisticalA
+00022460: 6e61 6c79 7369 7353 6574 4c69 7374 4672  nalysisSetListFr
+00022470: 616d 652c 0a20 2020 206d 756c 7469 7365  ame,.    multise
+00022480: 6c65 6374 3d54 7275 652c 0a20 2020 2073  lect=True,.    s
+00022490: 6372 6f6c 6c62 6172 3d54 7275 652c 0a20  crollbar=True,. 
+000224a0: 2020 2061 6c69 676e 3d22 746f 7022 2c0a     align="top",.
+000224b0: 2020 2020 7769 6474 683d 3135 302c 0a20      width=150,. 
+000224c0: 2020 2068 6569 6768 743d 2266 696c 6c22     height="fill"
+000224d0: 2c0a 2020 2020 636f 6d6d 616e 643d 706f  ,.    command=po
+000224e0: 7075 6c61 7465 5374 6174 6973 7469 6361  pulateStatistica
+000224f0: 6c41 6e61 6c79 7369 734c 6973 7473 0a29  lAnalysisLists.)
+00022500: 0a65 7870 6572 696d 656e 7454 6162 5374  .experimentTabSt
+00022510: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
+00022520: 7354 7562 654c 6973 7446 7261 6d65 203d  sTubeListFrame =
+00022530: 2042 6f78 2865 7870 6572 696d 656e 7454   Box(experimentT
+00022540: 6162 5374 6174 6973 7469 6361 6c41 6e61  abStatisticalAna
+00022550: 6c79 7369 7346 7261 6d65 2c20 7769 6474  lysisFrame, widt
+00022560: 683d 3135 302c 2068 6569 6768 743d 2266  h=150, height="f
+00022570: 696c 6c22 2c20 616c 6967 6e3d 226c 6566  ill", align="lef
+00022580: 7422 290a 6578 7065 7269 6d65 6e74 5461  t").experimentTa
+00022590: 6253 7461 7469 7374 6963 616c 416e 616c  bStatisticalAnal
+000225a0: 7973 6973 5475 6265 4c69 7374 5469 746c  ysisTubeListTitl
+000225b0: 6520 3d20 5465 7874 2865 7870 6572 696d  e = Text(experim
+000225c0: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
+000225d0: 6c41 6e61 6c79 7369 7354 7562 654c 6973  lAnalysisTubeLis
+000225e0: 7446 7261 6d65 2c20 7465 7874 3d22 5c6e  tFrame, text="\n
+000225f0: 5c6e 5475 6265 733a 222c 2061 6c69 676e  \nTubes:", align
+00022600: 3d22 746f 7022 2c20 666f 6e74 3d22 4172  ="top", font="Ar
+00022610: 6961 6c20 626f 6c64 2229 0a65 7870 6572  ial bold").exper
+00022620: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
+00022630: 6361 6c41 6e61 6c79 7369 7354 7562 654c  calAnalysisTubeL
+00022640: 6973 7420 3d20 4c69 7374 426f 7828 0a20  ist = ListBox(. 
+00022650: 2020 2065 7870 6572 696d 656e 7454 6162     experimentTab
+00022660: 5374 6174 6973 7469 6361 6c41 6e61 6c79  StatisticalAnaly
+00022670: 7369 7354 7562 654c 6973 7446 7261 6d65  sisTubeListFrame
+00022680: 2c0a 2020 2020 6d75 6c74 6973 656c 6563  ,.    multiselec
+00022690: 743d 5472 7565 2c0a 2020 2020 7363 726f  t=True,.    scro
+000226a0: 6c6c 6261 723d 5472 7565 2c0a 2020 2020  llbar=True,.    
+000226b0: 616c 6967 6e3d 2274 6f70 222c 0a20 2020  align="top",.   
+000226c0: 2077 6964 7468 3d31 3530 2c0a 2020 2020   width=150,.    
+000226d0: 6865 6967 6874 3d22 6669 6c6c 220a 290a  height="fill".).
+000226e0: 6578 7065 7269 6d65 6e74 5461 6253 7461  experimentTabSta
+000226f0: 7469 7374 6963 616c 416e 616c 7973 6973  tisticalAnalysis
+00022700: 4d65 7468 6f64 4c69 7374 4672 616d 6520  MethodListFrame 
+00022710: 3d20 426f 7828 6578 7065 7269 6d65 6e74  = Box(experiment
+00022720: 5461 6253 7461 7469 7374 6963 616c 416e  TabStatisticalAn
+00022730: 616c 7973 6973 4672 616d 652c 2077 6964  alysisFrame, wid
+00022740: 7468 3d31 3530 2c20 6865 6967 6874 3d22  th=150, height="
+00022750: 6669 6c6c 222c 2061 6c69 676e 3d22 6c65  fill", align="le
+00022760: 6674 2229 0a65 7870 6572 696d 656e 7454  ft").experimentT
+00022770: 6162 5374 6174 6973 7469 6361 6c41 6e61  abStatisticalAna
+00022780: 6c79 7369 734d 6574 686f 644c 6973 7454  lysisMethodListT
+00022790: 6974 6c65 203d 2054 6578 7428 6578 7065  itle = Text(expe
+000227a0: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
+000227b0: 6963 616c 416e 616c 7973 6973 4d65 7468  icalAnalysisMeth
+000227c0: 6f64 4c69 7374 4672 616d 652c 2074 6578  odListFrame, tex
+000227d0: 743d 2253 7461 7469 7374 6963 616c 5c6e  t="Statistical\n
+000227e0: 5065 7269 6f64 2041 6e61 6c79 7369 735c  Period Analysis\
+000227f0: 6e4d 6574 686f 6473 3a22 2c20 616c 6967  nMethods:", alig
+00022800: 6e3d 2274 6f70 222c 2066 6f6e 743d 2241  n="top", font="A
+00022810: 7269 616c 2062 6f6c 6422 290a 6578 7065  rial bold").expe
+00022820: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
+00022830: 6963 616c 416e 616c 7973 6973 4d65 7468  icalAnalysisMeth
+00022840: 6f64 4c69 7374 203d 204c 6973 7442 6f78  odList = ListBox
+00022850: 280a 2020 2020 6578 7065 7269 6d65 6e74  (.    experiment
+00022860: 5461 6253 7461 7469 7374 6963 616c 416e  TabStatisticalAn
+00022870: 616c 7973 6973 4d65 7468 6f64 4c69 7374  alysisMethodList
+00022880: 4672 616d 652c 0a20 2020 2077 6964 7468  Frame,.    width
+00022890: 3d31 3230 2c0a 2020 2020 6865 6967 6874  =120,.    height
+000228a0: 3d22 6669 6c6c 222c 0a20 2020 2061 6c69  ="fill",.    ali
+000228b0: 676e 3d22 746f 7022 2c0a 2020 2020 6974  gn="top",.    it
+000228c0: 656d 733d 5b22 4c69 6e65 6172 2052 6567  ems=["Linear Reg
+000228d0: 7265 7373 696f 6e22 2c20 2253 6f6b 6f6c  ression", "Sokol
+000228e0: 6f76 652d 4275 7368 656c 6c22 2c20 224c  ove-Bushell", "L
+000228f0: 6f6d 622d 5363 6172 676c 6522 2c20 2257  omb-Scargle", "W
+00022900: 6176 656c 6574 2028 4357 5429 225d 2c0a  avelet (CWT)"],.
+00022910: 2020 2020 7365 6c65 6374 6564 3d22 4c69      selected="Li
+00022920: 6e65 6172 2052 6567 7265 7373 696f 6e22  near Regression"
+00022930: 2c0a 290a 6578 7065 7269 6d65 6e74 5461  ,.).experimentTa
+00022940: 6253 7461 7469 7374 6963 616c 416e 616c  bStatisticalAnal
+00022950: 7973 6973 4275 7474 6f6e 7346 7261 6d65  ysisButtonsFrame
+00022960: 203d 2042 6f78 2865 7870 6572 696d 656e   = Box(experimen
+00022970: 7454 6162 5374 6174 6973 7469 6361 6c41  tTabStatisticalA
+00022980: 6e61 6c79 7369 7346 7261 6d65 2c20 6865  nalysisFrame, he
+00022990: 6967 6874 3d22 6669 6c6c 222c 2061 6c69  ight="fill", ali
+000229a0: 676e 3d22 7269 6768 7422 290a 6578 7065  gn="right").expe
+000229b0: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
+000229c0: 6963 616c 416e 616c 7973 6973 4672 616d  icalAnalysisFram
+000229d0: 6553 7061 6365 7220 3d20 426f 7828 6578  eSpacer = Box(ex
+000229e0: 7065 7269 6d65 6e74 5461 6253 7461 7469  perimentTabStati
+000229f0: 7374 6963 616c 416e 616c 7973 6973 4672  sticalAnalysisFr
+00022a00: 616d 652c 2068 6569 6768 743d 2266 696c  ame, height="fil
+00022a10: 6c22 2c20 7769 6474 683d 352c 2061 6c69  l", width=5, ali
+00022a20: 676e 3d22 7269 6768 7422 290a 6578 7065  gn="right").expe
+00022a30: 7269 6d65 6e74 5461 6253 7461 7469 7374  rimentTabStatist
+00022a40: 6963 616c 416e 616c 7973 6973 416e 616c  icalAnalysisAnal
+00022a50: 797a 6542 7574 746f 6e20 3d20 5075 7368  yzeButton = Push
+00022a60: 4275 7474 6f6e 2865 7870 6572 696d 656e  Button(experimen
+00022a70: 7454 6162 5374 6174 6973 7469 6361 6c41  tTabStatisticalA
+00022a80: 6e61 6c79 7369 7342 7574 746f 6e73 4672  nalysisButtonsFr
+00022a90: 616d 652c 2074 6578 743d 2241 6e61 6c79  ame, text="Analy
+00022aa0: 7a65 222c 2077 6964 7468 3d22 6669 6c6c  ze", width="fill
+00022ab0: 222c 2063 6f6d 6d61 6e64 3d70 6572 666f  ", command=perfo
+00022ac0: 726d 5374 6174 6973 7469 6361 6c41 6e61  rmStatisticalAna
+00022ad0: 6c79 7369 732c 2061 6c69 676e 3d22 746f  lysis, align="to
+00022ae0: 7022 290a 6578 7065 7269 6d65 6e74 5461  p").experimentTa
+00022af0: 6253 7461 7469 7374 6963 616c 416e 616c  bStatisticalAnal
+00022b00: 7973 6973 416e 616c 797a 6542 7574 746f  ysisAnalyzeButto
+00022b10: 6e2e 7465 7874 5f73 697a 6520 3d20 3133  n.text_size = 13
+00022b20: 0a65 7870 6572 696d 656e 7454 6162 5374  .experimentTabSt
+00022b30: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
+00022b40: 7341 6e61 6c79 7a65 4275 7474 6f6e 2e66  sAnalyzeButton.f
+00022b50: 6f6e 7420 3d20 2241 7269 616c 2062 6f6c  ont = "Arial bol
+00022b60: 6422 0a65 7870 6572 696d 656e 7454 6162  d".experimentTab
+00022b70: 5374 6174 6973 7469 6361 6c41 6e61 6c79  StatisticalAnaly
+00022b80: 7369 7345 7870 6f72 7444 6174 6142 7574  sisExportDataBut
+00022b90: 746f 6e20 3d20 5075 7368 4275 7474 6f6e  ton = PushButton
+00022ba0: 2865 7870 6572 696d 656e 7454 6162 5374  (experimentTabSt
+00022bb0: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
+00022bc0: 7342 7574 746f 6e73 4672 616d 652c 2074  sButtonsFrame, t
+00022bd0: 6578 743d 2253 6176 655c 6e50 6572 696f  ext="Save\nPerio
+00022be0: 6473 2061 6e64 5c6e 416e 616c 7973 6973  ds and\nAnalysis
+00022bf0: 5c6e 4461 7461 222c 2077 6964 7468 3d22  \nData", width="
+00022c00: 6669 6c6c 222c 2070 6164 793d 322c 2063  fill", pady=2, c
+00022c10: 6f6d 6d61 6e64 3d73 6176 6553 7461 7469  ommand=saveStati
+00022c20: 7374 6963 616c 416e 616c 7973 6973 4461  sticalAnalysisDa
+00022c30: 7461 2c20 616c 6967 6e3d 2274 6f70 2229  ta, align="top")
+00022c40: 0a65 7870 6572 696d 656e 7454 6162 5374  .experimentTabSt
+00022c50: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
+00022c60: 7345 7870 6f72 7444 6174 6142 7574 746f  sExportDataButto
+00022c70: 6e2e 7465 7874 5f73 697a 6520 3d20 3133  n.text_size = 13
+00022c80: 0a65 7870 6572 696d 656e 7454 6162 5374  .experimentTabSt
+00022c90: 6174 6973 7469 6361 6c41 6e61 6c79 7369  atisticalAnalysi
+00022ca0: 7345 7870 6f72 7444 6174 6142 7574 746f  sExportDataButto
+00022cb0: 6e2e 666f 6e74 203d 2022 4172 6961 6c20  n.font = "Arial 
+00022cc0: 626f 6c64 220a 6578 7065 7269 6d65 6e74  bold".experiment
+00022cd0: 5461 6254 6162 6c65 4578 706f 7274 4461  TabTableExportDa
+00022ce0: 7461 4275 7474 6f6e 203d 2050 7573 6842  taButton = PushB
+00022cf0: 7574 746f 6e28 6578 7065 7269 6d65 6e74  utton(experiment
+00022d00: 5461 6253 7461 7469 7374 6963 616c 416e  TabStatisticalAn
+00022d10: 616c 7973 6973 4275 7474 6f6e 7346 7261  alysisButtonsFra
+00022d20: 6d65 2c20 7465 7874 3d22 5361 7665 5c6e  me, text="Save\n
+00022d30: 4578 7065 7269 6d65 6e74 5c6e 4461 7461  Experiment\nData
+00022d40: 222c 2077 6964 7468 3d22 6669 6c6c 222c  ", width="fill",
+00022d50: 2070 6164 793d 322c 2063 6f6d 6d61 6e64   pady=2, command
+00022d60: 3d73 6176 6545 7870 6572 696d 656e 7444  =saveExperimentD
+00022d70: 6174 612c 2061 6c69 676e 3d22 746f 7022  ata, align="top"
+00022d80: 290a 6578 7065 7269 6d65 6e74 5461 6254  ).experimentTabT
+00022d90: 6162 6c65 4578 706f 7274 4461 7461 4275  ableExportDataBu
+00022da0: 7474 6f6e 2e74 6578 745f 7369 7a65 203d  tton.text_size =
+00022db0: 2031 330a 6578 7065 7269 6d65 6e74 5461   13.experimentTa
+00022dc0: 6254 6162 6c65 4578 706f 7274 4461 7461  bTableExportData
+00022dd0: 4275 7474 6f6e 2e66 6f6e 7420 3d20 2241  Button.font = "A
+00022de0: 7269 616c 2062 6f6c 6422 0a65 7870 6572  rial bold".exper
+00022df0: 696d 656e 7454 6162 5374 6174 6973 7469  imentTabStatisti
+00022e00: 6361 6c41 6e61 6c79 7369 734f 7574 7075  calAnalysisOutpu
+00022e10: 7446 7261 6d65 203d 2042 6f78 2865 7870  tFrame = Box(exp
+00022e20: 6572 696d 656e 7454 6162 5374 6174 6973  erimentTabStatis
+00022e30: 7469 6361 6c41 6e61 6c79 7369 7346 7261  ticalAnalysisFra
+00022e40: 6d65 2c20 7769 6474 683d 2266 696c 6c22  me, width="fill"
+00022e50: 2c20 6865 6967 6874 3d22 6669 6c6c 222c  , height="fill",
+00022e60: 2061 6c69 676e 3d22 7269 6768 7422 290a   align="right").
+00022e70: 6578 7065 7269 6d65 6e74 5461 6253 7461  experimentTabSta
+00022e80: 7469 7374 6963 616c 416e 616c 7973 6973  tisticalAnalysis
+00022e90: 4f75 7470 7574 5469 746c 6520 3d20 5465  OutputTitle = Te
+00022ea0: 7874 2865 7870 6572 696d 656e 7454 6162  xt(experimentTab
+00022eb0: 5374 6174 6973 7469 6361 6c41 6e61 6c79  StatisticalAnaly
+00022ec0: 7369 734f 7574 7075 7446 7261 6d65 2c20  sisOutputFrame, 
+00022ed0: 7465 7874 3d22 5c6e 5c6e 5374 6174 6973  text="\n\nStatis
+00022ee0: 7469 6361 6c20 416e 616c 7973 6973 3a22  tical Analysis:"
+00022ef0: 2c20 616c 6967 6e3d 2274 6f70 222c 2066  , align="top", f
+00022f00: 6f6e 743d 2241 7269 616c 2062 6f6c 6422  ont="Arial bold"
+00022f10: 290a 6578 7065 7269 6d65 6e74 5461 6253  ).experimentTabS
+00022f20: 7461 7469 7374 6963 616c 416e 616c 7973  tatisticalAnalys
+00022f30: 6973 4f75 7470 7574 5465 7874 426f 7820  isOutputTextBox 
+00022f40: 3d20 5465 7874 426f 7828 6578 7065 7269  = TextBox(experi
+00022f50: 6d65 6e74 5461 6253 7461 7469 7374 6963  mentTabStatistic
+00022f60: 616c 416e 616c 7973 6973 4f75 7470 7574  alAnalysisOutput
+00022f70: 4672 616d 652c 206d 756c 7469 6c69 6e65  Frame, multiline
+00022f80: 3d54 7275 652c 2077 6964 7468 3d32 302c  =True, width=20,
+00022f90: 2068 6569 6768 743d 3138 2c20 616c 6967   height=18, alig
+00022fa0: 6e3d 2274 6f70 2229 0a65 7870 6572 696d  n="top").experim
+00022fb0: 656e 7454 6162 5374 6174 6973 7469 6361  entTabStatistica
+00022fc0: 6c41 6e61 6c79 7369 734f 7574 7075 7454  lAnalysisOutputT
+00022fd0: 6578 7442 6f78 2e74 6578 745f 7369 7a65  extBox.text_size
+00022fe0: 203d 2031 320a 0a65 7870 6572 696d 656e   = 12..experimen
+00022ff0: 7454 6162 426f 7474 6f6d 436f 6e74 656e  tTabBottomConten
+00023000: 7452 6f77 203d 2042 6f78 2865 7870 6572  tRow = Box(exper
+00023010: 696d 656e 7454 6162 4672 616d 652c 2077  imentTabFrame, w
+00023020: 6964 7468 3d22 6669 6c6c 222c 2068 6569  idth="fill", hei
+00023030: 6768 743d 696e 7428 6170 7048 6569 6768  ght=int(appHeigh
+00023040: 742a 302e 3429 2c20 616c 6967 6e3d 2274  t*0.4), align="t
+00023050: 6f70 2229 0a65 7870 6572 696d 656e 7454  op").experimentT
+00023060: 6162 426f 7474 6f6d 436f 6e74 656e 7452  abBottomContentR
+00023070: 6f77 2e73 6574 5f62 6f72 6465 7228 322c  ow.set_border(2,
+00023080: 2022 2339 6663 6465 6122 290a 6578 7065   "#9fcdea").expe
+00023090: 7269 6d65 6e74 5461 6250 6c6f 7454 7562  rimentTabPlotTub
+000230a0: 6553 656c 6563 7469 6f6e 4672 616d 6520  eSelectionFrame 
+000230b0: 3d20 426f 7828 6578 7065 7269 6d65 6e74  = Box(experiment
+000230c0: 5461 6242 6f74 746f 6d43 6f6e 7465 6e74  TabBottomContent
+000230d0: 526f 772c 2077 6964 7468 3d69 6e74 2873  Row, width=int(s
+000230e0: 6372 6565 6e57 6964 7468 2a30 2e34 3529  creenWidth*0.45)
+000230f0: 2c20 6865 6967 6874 3d22 6669 6c6c 222c  , height="fill",
+00023100: 2061 6c69 676e 3d22 6c65 6674 2229 0a65   align="left").e
+00023110: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
+00023120: 5475 6265 5365 6c65 6374 696f 6e53 6574  TubeSelectionSet
+00023130: 4c69 7374 4672 616d 6520 3d20 426f 7828  ListFrame = Box(
+00023140: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00023150: 7454 7562 6553 656c 6563 7469 6f6e 4672  tTubeSelectionFr
+00023160: 616d 652c 2077 6964 7468 3d31 3530 2c20  ame, width=150, 
+00023170: 6865 6967 6874 3d22 6669 6c6c 222c 2061  height="fill", a
+00023180: 6c69 676e 3d22 6c65 6674 2229 0a65 7870  lign="left").exp
+00023190: 6572 696d 656e 7454 6162 506c 6f74 5475  erimentTabPlotTu
+000231a0: 6265 5365 6c65 6374 696f 6e53 6574 4c69  beSelectionSetLi
+000231b0: 7374 5469 746c 6520 3d20 5465 7874 2865  stTitle = Text(e
+000231c0: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
+000231d0: 5475 6265 5365 6c65 6374 696f 6e53 6574  TubeSelectionSet
+000231e0: 4c69 7374 4672 616d 652c 2074 6578 743d  ListFrame, text=
+000231f0: 225c 6e5c 6e50 6163 6b73 3a22 2c20 616c  "\n\nPacks:", al
+00023200: 6967 6e3d 2274 6f70 222c 2066 6f6e 743d  ign="top", font=
+00023210: 2241 7269 616c 2062 6f6c 6422 290a 6578  "Arial bold").ex
+00023220: 7065 7269 6d65 6e74 5461 6250 6c6f 7454  perimentTabPlotT
+00023230: 7562 6553 656c 6563 7469 6f6e 5365 744c  ubeSelectionSetL
+00023240: 6973 7446 7261 6d65 5665 7274 6963 616c  istFrameVertical
+00023250: 5370 6163 6572 3120 3d20 426f 7828 6578  Spacer1 = Box(ex
+00023260: 7065 7269 6d65 6e74 5461 6250 6c6f 7454  perimentTabPlotT
+00023270: 7562 6553 656c 6563 7469 6f6e 5365 744c  ubeSelectionSetL
+00023280: 6973 7446 7261 6d65 2c20 7769 6474 683d  istFrame, width=
+00023290: 2266 696c 6c22 2c20 6865 6967 6874 3d35  "fill", height=5
+000232a0: 2c20 616c 6967 6e3d 2262 6f74 746f 6d22  , align="bottom"
+000232b0: 290a 6578 7065 7269 6d65 6e74 5461 6253  ).experimentTabS
+000232c0: 6574 496d 6167 6550 6f70 7570 4275 7474  etImagePopupButt
+000232d0: 6f6e 4672 616d 6520 3d20 426f 7828 6578  onFrame = Box(ex
+000232e0: 7065 7269 6d65 6e74 5461 6250 6c6f 7454  perimentTabPlotT
+000232f0: 7562 6553 656c 6563 7469 6f6e 5365 744c  ubeSelectionSetL
+00023300: 6973 7446 7261 6d65 2c20 7769 6474 683d  istFrame, width=
+00023310: 3135 302c 2068 6569 6768 743d 3435 2c20  150, height=45, 
+00023320: 616c 6967 6e3d 2262 6f74 746f 6d22 290a  align="bottom").
+00023330: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00023340: 7454 7562 6553 656c 6563 7469 6f6e 5365  tTubeSelectionSe
+00023350: 744c 6973 7446 7261 6d65 5665 7274 6963  tListFrameVertic
+00023360: 616c 5370 6163 6572 3220 3d20 426f 7828  alSpacer2 = Box(
+00023370: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00023380: 7454 7562 6553 656c 6563 7469 6f6e 5365  tTubeSelectionSe
+00023390: 744c 6973 7446 7261 6d65 2c20 7769 6474  tListFrame, widt
+000233a0: 683d 2266 696c 6c22 2c20 6865 6967 6874  h="fill", height
+000233b0: 3d35 2c20 616c 6967 6e3d 2262 6f74 746f  =5, align="botto
+000233c0: 6d22 290a 6578 7065 7269 6d65 6e74 5461  m").experimentTa
+000233d0: 6253 6574 496d 6167 6550 6f70 7570 4275  bSetImagePopupBu
+000233e0: 7474 6f6e 4672 616d 6553 7061 6365 7220  ttonFrameSpacer 
+000233f0: 3d20 426f 7828 6578 7065 7269 6d65 6e74  = Box(experiment
+00023400: 5461 6253 6574 496d 6167 6550 6f70 7570  TabSetImagePopup
+00023410: 4275 7474 6f6e 4672 616d 652c 2077 6964  ButtonFrame, wid
+00023420: 7468 3d31 342c 2068 6569 6768 743d 2266  th=14, height="f
+00023430: 696c 6c22 2c20 616c 6967 6e3d 2272 6967  ill", align="rig
+00023440: 6874 2229 0a65 7870 6572 696d 656e 7454  ht").experimentT
+00023450: 6162 5365 7449 6d61 6765 506f 7075 7042  abSetImagePopupB
+00023460: 7574 746f 6e20 3d20 5075 7368 4275 7474  utton = PushButt
+00023470: 6f6e 2865 7870 6572 696d 656e 7454 6162  on(experimentTab
+00023480: 5365 7449 6d61 6765 506f 7075 7042 7574  SetImagePopupBut
+00023490: 746f 6e46 7261 6d65 2c20 7465 7874 3d22  tonFrame, text="
+000234a0: 4469 7370 6c61 795c 6e70 6163 6b20 696d  Display\npack im
+000234b0: 6167 6522 2c20 616c 6967 6e3d 2272 6967  age", align="rig
+000234c0: 6874 222c 2077 6964 7468 3d22 6669 6c6c  ht", width="fill
+000234d0: 222c 2068 6569 6768 743d 312c 2063 6f6d  ", height=1, com
+000234e0: 6d61 6e64 3d64 6973 706c 6179 5365 7449  mand=displaySetI
+000234f0: 6d61 6765 506f 7075 7029 0a65 7870 6572  magePopup).exper
+00023500: 696d 656e 7454 6162 5365 7449 6d61 6765  imentTabSetImage
+00023510: 506f 7075 7042 7574 746f 6e2e 7465 7874  PopupButton.text
+00023520: 5f73 697a 6520 3d20 3133 0a65 7870 6572  _size = 13.exper
+00023530: 696d 656e 7454 6162 5365 7449 6d61 6765  imentTabSetImage
+00023540: 506f 7075 7042 7574 746f 6e2e 666f 6e74  PopupButton.font
+00023550: 203d 2022 4172 6961 6c20 626f 6c64 220a   = "Arial bold".
+00023560: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00023570: 7454 7562 6553 656c 6563 7469 6f6e 5365  tTubeSelectionSe
+00023580: 744c 6973 7420 3d20 4c69 7374 426f 7828  tList = ListBox(
+00023590: 0a20 2020 2065 7870 6572 696d 656e 7454  .    experimentT
+000235a0: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
+000235b0: 696f 6e53 6574 4c69 7374 4672 616d 652c  ionSetListFrame,
+000235c0: 0a20 2020 2073 6372 6f6c 6c62 6172 3d54  .    scrollbar=T
+000235d0: 7275 652c 0a20 2020 2077 6964 7468 3d31  rue,.    width=1
+000235e0: 3530 2c0a 2020 2020 6865 6967 6874 3d22  50,.    height="
+000235f0: 6669 6c6c 222c 0a20 2020 2061 6c69 676e  fill",.    align
+00023600: 3d22 746f 7022 2c0a 2020 2020 636f 6d6d  ="top",.    comm
+00023610: 616e 643d 706f 7075 6c61 7465 506c 6f74  and=populatePlot
+00023620: 5475 6265 5365 6c65 6374 696f 6e4c 6973  TubeSelectionLis
+00023630: 7473 2c0a 290a 6578 7065 7269 6d65 6e74  ts,.).experiment
+00023640: 5461 6250 6c6f 7454 7562 6553 656c 6563  TabPlotTubeSelec
+00023650: 7469 6f6e 5475 6265 4c69 7374 4672 616d  tionTubeListFram
+00023660: 6520 3d20 426f 7828 6578 7065 7269 6d65  e = Box(experime
+00023670: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
+00023680: 6563 7469 6f6e 4672 616d 652c 2077 6964  ectionFrame, wid
+00023690: 7468 3d31 3530 2c20 6865 6967 6874 3d22  th=150, height="
+000236a0: 6669 6c6c 222c 2061 6c69 676e 3d22 6c65  fill", align="le
+000236b0: 6674 2229 0a65 7870 6572 696d 656e 7454  ft").experimentT
+000236c0: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
+000236d0: 696f 6e54 7562 654c 6973 7454 6974 6c65  ionTubeListTitle
+000236e0: 203d 2054 6578 7428 6578 7065 7269 6d65   = Text(experime
+000236f0: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
+00023700: 6563 7469 6f6e 5475 6265 4c69 7374 4672  ectionTubeListFr
+00023710: 616d 652c 2074 6578 743d 225c 6e5c 6e54  ame, text="\n\nT
+00023720: 7562 6573 3a22 2c20 616c 6967 6e3d 2274  ubes:", align="t
+00023730: 6f70 222c 2066 6f6e 743d 2241 7269 616c  op", font="Arial
+00023740: 2062 6f6c 6422 290a 6578 7065 7269 6d65   bold").experime
+00023750: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
+00023760: 6563 7469 6f6e 5475 6265 4c69 7374 203d  ectionTubeList =
+00023770: 204c 6973 7442 6f78 280a 2020 2020 6578   ListBox(.    ex
+00023780: 7065 7269 6d65 6e74 5461 6250 6c6f 7454  perimentTabPlotT
+00023790: 7562 6553 656c 6563 7469 6f6e 5475 6265  ubeSelectionTube
+000237a0: 4c69 7374 4672 616d 652c 0a20 2020 2073  ListFrame,.    s
+000237b0: 6372 6f6c 6c62 6172 3d54 7275 652c 0a20  crollbar=True,. 
+000237c0: 2020 2077 6964 7468 3d31 3530 2c0a 2020     width=150,.  
+000237d0: 2020 6865 6967 6874 3d22 6669 6c6c 222c    height="fill",
+000237e0: 0a20 2020 2061 6c69 676e 3d22 746f 7022  .    align="top"
+000237f0: 0a29 0a65 7870 6572 696d 656e 7454 6162  .).experimentTab
+00023800: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
+00023810: 6e4d 6574 686f 644c 6973 7446 7261 6d65  nMethodListFrame
+00023820: 203d 2042 6f78 2865 7870 6572 696d 656e   = Box(experimen
+00023830: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
+00023840: 6374 696f 6e46 7261 6d65 2c20 7769 6474  ctionFrame, widt
+00023850: 683d 3135 302c 2068 6569 6768 743d 2266  h=150, height="f
+00023860: 696c 6c22 2c20 616c 6967 6e3d 226c 6566  ill", align="lef
+00023870: 7422 290a 6578 7065 7269 6d65 6e74 5461  t").experimentTa
+00023880: 6250 6c6f 7454 7562 6553 656c 6563 7469  bPlotTubeSelecti
+00023890: 6f6e 4d65 7468 6f64 4c69 7374 5469 746c  onMethodListTitl
+000238a0: 6520 3d20 5465 7874 2865 7870 6572 696d  e = Text(experim
+000238b0: 656e 7454 6162 506c 6f74 5475 6265 5365  entTabPlotTubeSe
+000238c0: 6c65 6374 696f 6e4d 6574 686f 644c 6973  lectionMethodLis
+000238d0: 7446 7261 6d65 2c20 7465 7874 3d22 506c  tFrame, text="Pl
+000238e0: 6f74 5c6e 5065 7269 6f64 2041 6e61 6c79  ot\nPeriod Analy
+000238f0: 7369 735c 6e4d 6574 686f 6473 3a22 2c20  sis\nMethods:", 
+00023900: 616c 6967 6e3d 2274 6f70 222c 2066 6f6e  align="top", fon
+00023910: 743d 2241 7269 616c 2062 6f6c 6422 290a  t="Arial bold").
+00023920: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00023930: 7454 7562 6553 656c 6563 7469 6f6e 4d65  tTubeSelectionMe
+00023940: 7468 6f64 4c69 7374 203d 204c 6973 7442  thodList = ListB
+00023950: 6f78 280a 2020 2020 6578 7065 7269 6d65  ox(.    experime
+00023960: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
+00023970: 6563 7469 6f6e 4d65 7468 6f64 4c69 7374  ectionMethodList
+00023980: 4672 616d 652c 0a20 2020 2077 6964 7468  Frame,.    width
+00023990: 3d31 3230 2c0a 2020 2020 6865 6967 6874  =120,.    height
+000239a0: 3d22 6669 6c6c 222c 0a20 2020 2061 6c69  ="fill",.    ali
+000239b0: 676e 3d22 746f 7022 2c0a 2020 2020 6974  gn="top",.    it
+000239c0: 656d 733d 5b22 536f 6b6f 6c6f 7665 2d42  ems=["Sokolove-B
+000239d0: 7573 6865 6c6c 222c 2022 4c6f 6d62 2d53  ushell", "Lomb-S
+000239e0: 6361 7267 6c65 222c 2022 5761 7665 6c65  cargle", "Wavele
+000239f0: 7420 2843 5754 2922 5d2c 0a20 2020 2073  t (CWT)"],.    s
+00023a00: 656c 6563 7465 643d 2253 6f6b 6f6c 6f76  elected="Sokolov
+00023a10: 652d 4275 7368 656c 6c22 0a29 0a65 7870  e-Bushell".).exp
+00023a20: 6572 696d 656e 7454 6162 506c 6f74 5475  erimentTabPlotTu
+00023a30: 6265 5365 6c65 6374 696f 6e42 7574 746f  beSelectionButto
+00023a40: 6e73 4672 616d 6520 3d20 426f 7828 6578  nsFrame = Box(ex
+00023a50: 7065 7269 6d65 6e74 5461 6250 6c6f 7454  perimentTabPlotT
+00023a60: 7562 6553 656c 6563 7469 6f6e 4672 616d  ubeSelectionFram
+00023a70: 652c 2061 6c69 676e 3d22 6c65 6674 2229  e, align="left")
+00023a80: 0a65 7870 6572 696d 656e 7454 6162 506c  .experimentTabPl
+00023a90: 6f74 5475 6265 5365 6c65 6374 696f 6e43  otTubeSelectionC
+00023aa0: 7265 6174 6550 6c6f 7473 4275 7474 6f6e  reatePlotsButton
+00023ab0: 203d 2050 7573 6842 7574 746f 6e28 0a20   = PushButton(. 
+00023ac0: 2020 2065 7870 6572 696d 656e 7454 6162     experimentTab
+00023ad0: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
+00023ae0: 6e42 7574 746f 6e73 4672 616d 652c 200a  nButtonsFrame, .
+00023af0: 2020 2020 7465 7874 3d22 5c6e 506c 6f74      text="\nPlot
+00023b00: 5c6e 222c 200a 2020 2020 7061 6479 3d32  \n", .    pady=2
+00023b10: 2c20 0a20 2020 2063 6f6d 6d61 6e64 3d70  , .    command=p
+00023b20: 6f70 756c 6174 6550 6c6f 7473 2c20 0a20  opulatePlots, . 
+00023b30: 2020 2077 6964 7468 3d22 6669 6c6c 2229     width="fill")
+00023b40: 0a65 7870 6572 696d 656e 7454 6162 506c  .experimentTabPl
+00023b50: 6f74 5475 6265 5365 6c65 6374 696f 6e43  otTubeSelectionC
+00023b60: 7265 6174 6550 6c6f 7473 4275 7474 6f6e  reatePlotsButton
+00023b70: 2e74 6578 745f 7369 7a65 203d 2031 330a  .text_size = 13.
+00023b80: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00023b90: 7454 7562 6553 656c 6563 7469 6f6e 4372  tTubeSelectionCr
+00023ba0: 6561 7465 506c 6f74 7342 7574 746f 6e2e  eatePlotsButton.
+00023bb0: 666f 6e74 203d 2022 4172 6961 6c20 626f  font = "Arial bo
+00023bc0: 6c64 220a 6578 7065 7269 6d65 6e74 5461  ld".experimentTa
+00023bd0: 6250 6c6f 7454 7562 6553 656c 6563 7469  bPlotTubeSelecti
+00023be0: 6f6e 5361 7665 506c 6f74 4275 7474 6f6e  onSavePlotButton
+00023bf0: 203d 2050 7573 6842 7574 746f 6e28 0a20   = PushButton(. 
+00023c00: 2020 2065 7870 6572 696d 656e 7454 6162     experimentTab
+00023c10: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
+00023c20: 6e42 7574 746f 6e73 4672 616d 652c 200a  nButtonsFrame, .
+00023c30: 2020 2020 7465 7874 3d22 5c6e 5361 7665      text="\nSave
+00023c40: 2050 6c6f 7473 5c6e 222c 200a 2020 2020   Plots\n", .    
+00023c50: 7061 6479 3d32 2c20 0a20 2020 2063 6f6d  pady=2, .    com
+00023c60: 6d61 6e64 3d73 6176 6550 6c6f 742c 200a  mand=savePlot, .
+00023c70: 2020 2020 7769 6474 683d 2266 696c 6c22      width="fill"
+00023c80: 0a29 0a65 7870 6572 696d 656e 7454 6162  .).experimentTab
+00023c90: 506c 6f74 5475 6265 5365 6c65 6374 696f  PlotTubeSelectio
+00023ca0: 6e53 6176 6550 6c6f 7442 7574 746f 6e2e  nSavePlotButton.
+00023cb0: 7465 7874 5f73 697a 6520 3d20 3133 0a65  text_size = 13.e
+00023cc0: 7870 6572 696d 656e 7454 6162 506c 6f74  xperimentTabPlot
+00023cd0: 5475 6265 5365 6c65 6374 696f 6e53 6176  TubeSelectionSav
+00023ce0: 6550 6c6f 7442 7574 746f 6e2e 666f 6e74  ePlotButton.font
+00023cf0: 203d 2022 4172 6961 6c20 626f 6c64 220a   = "Arial bold".
+00023d00: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00023d10: 7454 7562 6553 656c 6563 7469 6f6e 5361  tTubeSelectionSa
+00023d20: 7665 4465 6e73 6974 6f6d 6574 7279 4275  veDensitometryBu
+00023d30: 7474 6f6e 203d 2050 7573 6842 7574 746f  tton = PushButto
+00023d40: 6e28 0a20 2020 2065 7870 6572 696d 656e  n(.    experimen
+00023d50: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
+00023d60: 6374 696f 6e42 7574 746f 6e73 4672 616d  ctionButtonsFram
+00023d70: 652c 0a20 2020 2074 6578 743d 2253 6176  e,.    text="Sav
+00023d80: 655c 6e44 656e 7369 746f 6d65 7472 795c  e\nDensitometry\
+00023d90: 6e44 6174 6120 282e 6373 7629 222c 0a20  nData (.csv)",. 
+00023da0: 2020 2070 6164 793d 322c 0a20 2020 2063     pady=2,.    c
+00023db0: 6f6d 6d61 6e64 3d73 6176 6544 656e 7369  ommand=saveDensi
+00023dc0: 746f 6d65 7472 7944 6174 612c 0a20 2020  tometryData,.   
+00023dd0: 2077 6964 7468 3d22 6669 6c6c 222c 0a29   width="fill",.)
+00023de0: 0a65 7870 6572 696d 656e 7454 6162 506c  .experimentTabPl
+00023df0: 6f74 5475 6265 5365 6c65 6374 696f 6e53  otTubeSelectionS
+00023e00: 6176 6544 656e 7369 746f 6d65 7472 7942  aveDensitometryB
+00023e10: 7574 746f 6e2e 7465 7874 5f73 697a 6520  utton.text_size 
+00023e20: 3d20 3133 0a65 7870 6572 696d 656e 7454  = 13.experimentT
+00023e30: 6162 506c 6f74 5475 6265 5365 6c65 6374  abPlotTubeSelect
+00023e40: 696f 6e53 6176 6544 656e 7369 746f 6d65  ionSaveDensitome
+00023e50: 7472 7942 7574 746f 6e2e 666f 6e74 203d  tryButton.font =
+00023e60: 2022 4172 6961 6c20 626f 6c64 220a 6578   "Arial bold".ex
+00023e70: 7065 7269 6d65 6e74 5461 6250 6c6f 7454  perimentTabPlotT
+00023e80: 7562 6553 656c 6563 7469 6f6e 5361 7665  ubeSelectionSave
+00023e90: 5065 7269 6f64 6f67 7261 6d44 6174 6142  PeriodogramDataB
+00023ea0: 7574 746f 6e20 3d20 5075 7368 4275 7474  utton = PushButt
+00023eb0: 6f6e 280a 2020 2020 6578 7065 7269 6d65  on(.    experime
+00023ec0: 6e74 5461 6250 6c6f 7454 7562 6553 656c  ntTabPlotTubeSel
+00023ed0: 6563 7469 6f6e 4275 7474 6f6e 7346 7261  ectionButtonsFra
+00023ee0: 6d65 2c0a 2020 2020 7465 7874 3d22 5361  me,.    text="Sa
+00023ef0: 7665 5c6e 5065 7269 6f64 6f67 7261 6d5c  ve\nPeriodogram\
+00023f00: 6e44 6174 6120 282e 6373 7629 222c 0a20  nData (.csv)",. 
+00023f10: 2020 2070 6164 793d 322c 0a20 2020 2063     pady=2,.    c
+00023f20: 6f6d 6d61 6e64 3d73 6176 6550 6572 696f  ommand=savePerio
+00023f30: 646f 6772 616d 4461 7461 2c0a 2020 2020  dogramData,.    
+00023f40: 7769 6474 683d 2266 696c 6c22 2c0a 290a  width="fill",.).
+00023f50: 6578 7065 7269 6d65 6e74 5461 6250 6c6f  experimentTabPlo
+00023f60: 7454 7562 6553 656c 6563 7469 6f6e 5361  tTubeSelectionSa
+00023f70: 7665 5065 7269 6f64 6f67 7261 6d44 6174  vePeriodogramDat
+00023f80: 6142 7574 746f 6e2e 7465 7874 5f73 697a  aButton.text_siz
+00023f90: 6520 3d20 3133 0a65 7870 6572 696d 656e  e = 13.experimen
+00023fa0: 7454 6162 506c 6f74 5475 6265 5365 6c65  tTabPlotTubeSele
+00023fb0: 6374 696f 6e53 6176 6550 6572 696f 646f  ctionSavePeriodo
+00023fc0: 6772 616d 4461 7461 4275 7474 6f6e 2e66  gramDataButton.f
+00023fd0: 6f6e 7420 3d20 2241 7269 616c 2062 6f6c  ont = "Arial bol
+00023fe0: 6422 0a65 7870 6572 696d 656e 7454 6162  d".experimentTab
+00023ff0: 506c 6f74 4672 616d 6520 3d20 426f 7828  PlotFrame = Box(
+00024000: 6578 7065 7269 6d65 6e74 5461 6242 6f74  experimentTabBot
+00024010: 746f 6d43 6f6e 7465 6e74 526f 772c 2077  tomContentRow, w
+00024020: 6964 7468 3d69 6e74 2873 6372 6565 6e57  idth=int(screenW
+00024030: 6964 7468 2a30 2e35 292c 2068 6569 6768  idth*0.5), heigh
+00024040: 743d 696e 7428 6170 7048 6569 6768 742a  t=int(appHeight*
+00024050: 302e 3429 2c20 616c 6967 6e3d 226c 6566  0.4), align="lef
+00024060: 7422 290a 6578 7065 7269 6d65 6e74 5461  t").experimentTa
+00024070: 6250 6c6f 7443 616e 7661 7320 3d20 4361  bPlotCanvas = Ca
+00024080: 6e76 6173 2865 7870 6572 696d 656e 7454  nvas(experimentT
+00024090: 6162 506c 6f74 4672 616d 652e 746b 2c20  abPlotFrame.tk, 
+000240a0: 7769 6474 683d 696e 7428 7363 7265 656e  width=int(screen
+000240b0: 5769 6474 682a 302e 3529 2c20 6865 6967  Width*0.5), heig
+000240c0: 6874 3d69 6e74 2861 7070 4865 6967 6874  ht=int(appHeight
+000240d0: 2a30 2e34 2929 0a65 7870 6572 696d 656e  *0.4)).experimen
+000240e0: 7454 6162 506c 6f74 4672 616d 652e 6164  tTabPlotFrame.ad
+000240f0: 645f 746b 5f77 6964 6765 7428 6578 7065  d_tk_widget(expe
+00024100: 7269 6d65 6e74 5461 6250 6c6f 7443 616e  rimentTabPlotCan
+00024110: 7661 7329 0a0a 0a23 2069 6620 5f5f 6e61  vas)...# if __na
+00024120: 6d65 5f5f 203d 3d20 225f 5f6d 6169 6e5f  me__ == "__main_
+00024130: 5f22 3a0a 2320 2020 2020 6f70 656e 416e  _":.#     openAn
+00024140: 6452 756e 2829 2374 6869 7320 6a75 7374  dRun()#this just
+00024150: 2072 756e 7320 7468 6520 6775 6920 7768   runs the gui wh
+00024160: 656e 2079 6f75 2072 756e 2074 6865 2073  en you run the s
+00024170: 6372 6970 743b 2074 6869 7320 6973 2074  cript; this is t
+00024180: 6865 2066 756e 6374 696f 6e20 746f 2072  he function to r
+00024190: 756e 2066 726f 6d20 636f 6d6d 616e 6420  un from command 
+000241a0: 6c69 6e65 2077 6865 6e20 796f 7520 6861  line when you ha
+000241b0: 7665 2074 6865 2066 756c 6c20 7061 636b  ve the full pack
+000241c0: 6167 6520 696e 7374 616c 6c65 64         age installed
```

### Comparing `rhythmidia-0.0.1/rhythmidia/tests/test_rhythmidia.py` & `rhythmidia-0.0.2/rhythmidia/tests/test_rhythmidia.py`

 * *Files identical despite different names*

### Comparing `rhythmidia-0.0.1/rhythmidia.egg-info/PKG-INFO` & `rhythmidia-0.0.2/README.md`

 * *Files 17% similar despite different names*

```diff
@@ -1,52 +1,17 @@
-Metadata-Version: 2.1
-Name: rhythmidia
-Version: 0.0.1
-Summary: Race tube image analysis and period elucidation in Python.
-Author-email: Alex Keeley <alex.k@wustl.edu>
-License: MIT
-Classifier: License :: OSI Approved :: MIT License
-Classifier: Programming Language :: Python :: 3
-Requires-Python: >=3.10
-Description-Content-Type: text/markdown
-License-File: LICENSE
-Requires-Dist: importlib-resources; python_version >= "3.11"
-Requires-Dist: numpy
-Requires-Dist: matplotlib
-Requires-Dist: scipy
-Requires-Dist: pyautogui
-Requires-Dist: scikit-image
-Requires-Dist: guizero
-Requires-Dist: pytest
-Requires-Dist: PyWavelets
-Provides-Extra: test
-Requires-Dist: pytest>=6.1.2; extra == "test"
-Requires-Dist: pytest-runner; extra == "test"
-
 <img src="images/icons/rhythmidiaLogoBanner.jpg" width=50% margin-left=25%></img>
 
 Rhythmidia
 ---
-<!--[//]: # (Badges)
-[![GitHub Actions Build Status](https://github.com/REPLACE_WITH_OWNER_ACCOUNT/rhythmidia/workflows/CI/badge.svg)](https://github.com/REPLACE_WITH_OWNER_ACCOUNT/rhythmidia/actions?query=workflow%3ACI)
-[![codecov](https://codecov.io/gh/REPLACE_WITH_OWNER_ACCOUNT/Rhythmidia/branch/main/graph/badge.svg)](https://codecov.io/gh/REPLACE_WITH_OWNER_ACCOUNT/Rhythmidia/branch/main)-->
-
 ### Race tube image analysis for circadian period elucidation in Python.
 ---
 ## Installation and Program Launch
-<!--1. Download the rhythmidia-main.zip file and move it to your Documents folder (or location of choice)
-2. Unzip rhythmidia-main.zip
-    <br />a. This will create the folder rhythmidia-main
-3. Open the Terminal application on Mac
-4. Navigate to the rhythmidia-main folder in Terminal
-5. Run the command pip install .
-6. To run Rhythmidia, run the command -->
-1. In a conda environment running Python >=3.11, run the command 
+1. Rhythmidia must be installed in a Python environment running Python 3.11 or higher using pip. Rhythmidia runs on Unix-like operating systems including macOS and Linux. In order to install Rhythmidia, simply run the command: 
 ```console
-pip install git+https://github.com/Pelham-Lab/rhythmidia.git
+pip install rhythmidia
 ```
 2. To run Rhythmidia run the command 
 ```console
 rhythmidia
 ```
 <br />  NOTE: The terminal window used to launch Rhythmidia must remain open while the program is in use.
 
@@ -76,30 +41,32 @@
     a. Your image will appear in the center of the screen<br />
     ![Image Analysis](images/screenshots/ImageAnal1.png)
     b. Uploading an image enables the options to rotate and to lock & analyze your image<br />
     ![Image Adjustment Buttons](images/screenshots/ImageChangeButtons.png)
 3. Rotate your image so that the growth direction of the tubes is from left to right across your screen<br />
     a. To rotate your image 90 degrees clockwise, click the button labeled “Rotate”<br />
 4. When you are satisfied with your image’s orientation, click the button labeled “Lock & Analyze Image”
-5. Rhythmidia will try to identify horizontal lines corresponding to the horizontal boundaries of the tubes in your image, including the lower and upper bounds below and above the final and first tubes.
-    a. One line between each two tubes.
+5. Rhythmidia will try to identify horizontal lines corresponding to the horizontal boundaries of the tubes in your image, including the lower and upper bounds below and above the final and first tubes
+    a. One line between each two tubes
 ![Horizontal Line Identification](images/screenshots/ImageAnal2.png)
 6. You will be directed to verify these lines:<br />
     a. To remove an incorrect line, simply click on the line<br />
     b. To add a missing line, simply click in an unoccupied position on the image<br />
 7. When you are satisfied with the positions of all tube demarcation lines, click the button labeled “Proceed”
 8. Repeat steps 6-8 for time marks (red) and for bands (orange)<br />
 ![Time Mark Identification](images/screenshots/ImageAnal3.png)
-![Banding Identification](images/screenshots/ImageAnal5.png)
+![Banding Identification](images/screenshots/ImageAnal4.png)
+![Time Marks and Banding Identification](images/screenshots/ImageAnal5.png)
     NOTE: At any time before saving tubes to the file, you may click the button labeled “Cancel image analysis”, which will reset the image analysis process and remove your uploaded image, while leaving open any open experiment file<br />
-    NOTE: Be certain to record any differences in marking times in the mark sheet (left) before proceeding further. If tubes were marked at the same time every day, leave as the default setting (0 for all).<br />
-    NOTE: The time marks will temporarily disappear while marking conidial peaks. 
-10. After you are satisfied with the positions of the bands and click “Proceed”, you will be able to see a preliminary calculation of the period of each tube below
+    NOTE: Be certain to record any differences in marking times in the mark sheet (left) before proceeding further. If tubes were marked at the same time every day, leave as the default setting (0 for all)<br />
+    NOTE: The time marks will temporarily disappear while marking conidial peaks.
+9. After you are satisfied with the positions of the bands and click “Proceed”, you will be able to see a preliminary calculation of the period of each tube below<br />
+    NOTE: if there is an issue at this stage (i.e. a missed or duplicated identifier) cancel image analysis and reload the image
 ![Preliminary Data](images/screenshots/ImageAnal6.png)
-11. You will now have the option to click the button labeled “Save Tubes to File”<br />
+10. You will now have the option to click the button labeled “Save Tubes to File”<br />
     a.  This will bring up a popup asking for a name for the pack of tubes in the current image before it saves them to file<br />
     ![Pack Name Prompt](images/screenshots/PackName.png)
     <br />b. If you are working within an existing experiment file, this will simply add this pack to the file and update it<br />
     c. Otherwise, you will be prompted to Save As a new experiment file for these tubes<br />
 
 ## The Experiment Tab
 1. Whether opening an existing experiment file or working from a new pack image, granular experiment data, plots, and statistical analysis data are located on the Experiment tab
@@ -120,28 +87,29 @@
 ![Lomb-Scargle Periodogram](images/screenshots/LombScarglePlot.png)
 ![CWT Heatmap](images/screenshots/WaveletPlot.png)
     a. Select pack, tube, and type of periodogram in the 3 lists<br />
     b. Click the button labeled “Plot” to generate a densitometry plot and periodogram of the selected data<br />
     c. Click the button labeled “Save Plot” to save an image of the dual plot in file format of choice<br />
     d. Click the button labeled “Save Densitometry” to save a .csv of the densitometry data<br />
     e. Click the button labeled “Save Periodogrammetry” to save a .csv of the periodogrammetry data<br />
-5. At the bottom left is a button labeled "Display Pack Image". This button will display a popup window containing the greyscale version of the image corresponding to whichever pack is selected in the bottom left list that was the exact image used for analysis.
+5. At the bottom left is a button labeled "Display Pack Image"
+    a. This button will display a popup window containing the greyscale version of the image corresponding to whichever pack is selected in the bottom left list that was the exact image used for analysis<br />
 ![Image Popup](images/screenshots/PackImagePopup.png)
 
 ## Functions Overview
 Open Experiment File      (⌘O)<br />
 Close Experiment File     (⌘C)<br />
 Save File                 (⌘S)<br />
 Save as…                 (↑⌘S)<br />
 Set working directory     (⌘D)<br />
 Open graphics preferences (⌘P)<br />
 
 ---
 ## Changelog
-V0.01: 
+V0.0.1: First public, stable release concurrent with upload to PyPI.
 
 
 ---
 
 ### Copyright
 
 Copyright (c) 2024, Pelham Lab - Washington University School of Medicine
```

### Comparing `rhythmidia-0.0.1/rhythmidia.egg-info/SOURCES.txt` & `rhythmidia-0.0.2/rhythmidia.egg-info/SOURCES.txt`

 * *Files identical despite different names*

